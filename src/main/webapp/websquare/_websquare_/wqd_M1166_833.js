"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[833],{4833:(t,e,i)=>{i.r(e),i.d(e,{spinPicker:()=>a});var o=i(582),s=i(2710),r=i(9107),l=i(1263),n=i(7249),h=i(5386),c=i(5805),a=function(t,e,i){n.q.call(this,t,e,i)};o.q.extend(a.prototype,n.q.prototype),a.prototype.defaultOptions={pluginType:"uiplugin.spinPicker",pluginName:"spinPicker",userEvents:["onchange"],delimiter:" ",scrollDuration:-1},a.prototype.getNewItem=function(t,e){var i=this.id+"_item_"+t,s=function(t,e,i){c.scrollView.call(this,t,e,i)};o.q.extend(s.prototype,c.scrollView.prototype),o.q.extend(s.prototype,h.t.prototype);e=o.q.extendKeepingType({verticalScroll:!0,horizontalScroll:!1,verticalPaging:!1,horizontalPaging:!1,bounce:!0,showVerticalScroll:!1,showHorizontalScroll:!1,ref:e.choices?e.choices.getAttribute("ref"):""},e);s.prototype.getSlideFactor=function(t,e){var i=c.scrollView.prototype.getSlideFactor.call(s,t,e),o=this.getScrollTop()+i,r=this.getItemHeight();return(o=parseInt((o+r/2)/r,10)*r)-this.getScrollTop()},s.prototype.handleTouchEnd=function(t){if(c.scrollView.prototype.handleTouchEnd.call(this,t),!this.isSliding){var e=this.getItemHeight(),i=parseInt((this.getScrollTop()+e/2)/e,10);0<=i&&i<this.itemArr.length&&this.getScrollTop()!=i*e&&this.scrollTo(null,i*e,-1!=this.options.scrollDuration?{duration:this.options.scrollDuration}:null)}},s.prototype.componentRedraw=function(){var t=[],e=this.dom.container;if(e){t.push("<div class='w2spinPicker_topPadding'></div>"),t.push("<div class='w2spinPicker_itembox'>");for(var i=0;i<this.itemArr.length;i++)t.push("<div class='w2spinPicker_item'>"+this.itemArr[i].label+"</div>");t.push("</div>"),t.push("<div class='w2spinPicker_bottomPadding'></div>"),e.innerHTML=t.join(""),this.dom.topPadding=e.childNodes[0],this.dom.itembox=e.childNodes[1],this.dom.bottomPadding=e.childNodes[2];var o=this.getItemHeight(),s=parseInt((this.render.offsetHeight-o)/2,10),r=this.render.offsetHeight-s-o;this.dom.topPadding.style.height=s+"px",this.dom.bottomPadding.style.height=r+"px",this._scrollTo(null,o*this.selectedIndex)}},s.prototype.refreshItemset=function(){this.modelControl.isItemsetBinded()&&(this.refreshItemArr(),this.componentRedraw())},s.prototype.addItem=function(t,e,i){return i=parseInt(i,10),(isNaN(i)||i<0||i>=this.itemArr.length)&&(i=this.itemArr.length),this.itemArr.splice(i,0,{value:t,label:e}),this.componentRedraw(),i},s.prototype.deleteItem=function(t){t=parseInt(t,10),isNaN(t)&&(t=this.itemArr.length-1);var e=null;t>=0&&t<this.itemArr.length&&(e=this.itemArr.splice(t,1)[0]),this.componentRedraw();var i=this.getItemHeight();return(t<this.selectedIndex||t==this.selectedIndex&&t==this.itemArr.length)&&(this.selectedIndex--,this.scrollTo(null,i*this.selectedIndex,-1!=this.options.scrollDuration?{duration:this.options.scrollDuration}:null)),e},s.prototype.getItemHeight=function(){var t=this.dom.itembox.firstChild;return t?t.offsetHeight:0};var r,l=new s(i,e);return l.stopSlide=(r=this,function(t){if(this.isSliding&&(c.scrollView.prototype.stopSlide.call(this,t),!this.isTouched)){for(var e=!1,i=[],o=this.getItemHeight(),s=0;s<r.childControlList.length;s++){if(r.childControlList[s].isSliding){e=!0;break}i[s]=parseInt((r.childControlList[s].getScrollTop()+1)/o,10)}if(!e){var l=r.getSelectedIndex(),n=i.join(r.options.delimiter);l!=n&&(r.setSelectedIndex1(n),this.parentControl._setAriaAndSetFocus(l,this))}}}),l},a.prototype.initialize=function(t){if(t.getElementsByTagNameNS)var e=t.getElementsByTagNameNS("*","choices");else e=t.getElementsByTagName("w2:choices");for(var i=0;i<e.length;i++){var o=this.getNewItem(i,e[i]);o.initializeItemArr(e[i]),o.selectedIndex=0,this.addControl(o)}},a.prototype.toHTML=function(){try{var t=[],e=""==this.options.style?"":"style='"+this.options.style+"'";t.push("<div id='"+this.id+"' "+e+" class='w2spinPicker "+this.options.className+"'>"),t.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>"),
t.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>"),t.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");for(var i=0;i<this.childControlList.length;i++)t.push(this.childControlList[i].toHTML());return t.push("</div>"),t.join("")}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.setAction=function(){if(this.setLayout(),this.modelControl.isBinded()){var t=this.modelControl.getData();this.setValueNM(t)}},a.prototype.setLayout=function(){for(var t=0;t<this.childControlList.length;t++)this.childControlList[t].componentRedraw()},a.prototype.refresh=function(){if(this.modelControl.isBinded()){var t=this.getValue(),e=this.modelControl.getData();1==this.setValueNM(e)&&(t!=this.getValue()&&r.f.fireEvent(this,"onchange"),null!=this.getValue()&&e!=this.getValue()&&this.modelControl.setData(this.getValue()))}},a.prototype.getValue=function(t){try{t=t||this.options.delimiter;for(var e=[],i=0;i<this.childControlList.length;i++){var o=this.childControlList[i];e.push(o.itemArr[o.selectedIndex].value)}return e.join(t).wq_trim()}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.setValueNM=function(t){try{if(l.Z.isNull(t))return!1;for(var e=t.split(this.options.delimiter),i=[],o=0;o<this.childControlList.length;o++){for(var r=this.childControlList[o],n=0;n<r.itemArr.length;n++)if(e[o]==r.itemArr[n].value){i[o]=n;break}if(null==i[o]){i=null;break}}return!!i&&(this.setSelectedIndexNM(i.join(this.options.delimiter)),!0)}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.setValue=function(t){try{if(l.Z.isNull(t))return;var e=this.getValue();1==this.setValueNM(t)&&(this.modelControl.setData(t),e!=this.getValue()&&r.f.fireEvent(this,"onchange"))}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.getText=function(t){try{t=t||this.options.delimiter;for(var e=[],i=0;i<this.childControlList.length;i++){var o=this.childControlList[i];e.push(o.itemArr[o.selectedIndex].label)}return e.join(t).wq_trim()}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.setText=function(t){try{if(l.Z.isNull(t))return;for(var e=t.split(this.options.delimiter),i=[],o=0;o<this.childControlList.length;o++)for(var r=this.childControlList[o],n=0;n<r.itemArr.length;n++)if(e[o]==r.itemArr[n].label){i[o]=r.itemArr[n].value;break}this.setValue(i.join(this.options.delimiter))}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.getSelectedIndex=function(){try{for(var t=[],e=0;e<this.childControlList.length;e++)t.push(this.childControlList[e].selectedIndex);return t.join(this.options.delimiter)}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.setSelectedIndexNM=function(t){try{for(var e=t.split(this.options.delimiter),i=0;i<this.childControlList.length;i++)if(isNaN(e[i])||e[i]<0||e[i]>=this.childControlList[i].itemArr.length)return!1;for(i=0;i<this.childControlList.length;i++){this.childControlList[i].selectedIndex=parseInt(e[i],10);var o=this.childControlList[i].getItemHeight();this.childControlList[i].getScrollTop()!=e[i]*o&&this.childControlList[i].scrollTo(null,e[i]*o,-1!=this.options.scrollDuration?{duration:this.options.scrollDuration}:null)}return!0}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.setSelectedIndex=function(t){try{var e=this.getSelectedIndex();this.setSelectedIndexNM(t),this.modelControl.setData(this.getValue()),e!=t&&r.f.fireEvent(this,"onchange")}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.setSelectedIndex1=function(t){try{var e=this.getSelectedIndex(),i=this.getValue();this.setSelectedIndex(t);var o=this.getSelectedIndex(),l=this.getValue();if(e!=o){var n={oldValue:i,newValue:l,oldSelectedIndex:e,newSelectedIndex:o};r.f.fireEvent(this,"onviewchange",n)}}catch(t){s.Y.printStackTrace(t,null,this)}},a.prototype.setRef=function(t){try{this.modelControl.isBinded()||(this.modelControl.useRef=!0),this.options.ref=t,this.modelControl.setRef(t),this.refresh()}catch(t){s.Y.printStackTrace(t)}},a.prototype.unbindRef=function(){try{
this.modelControl.isBinded()&&(this.options.ref="",this.modelControl.unbindRef(),this.refresh())}catch(t){s.Y.printStackTrace(t)}}}}]);