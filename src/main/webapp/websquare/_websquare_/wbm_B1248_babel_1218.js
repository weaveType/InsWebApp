"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[1218],{1218:function(t,e,n){n.r(e),n.d(e,{pageFrame:function(){return h}});var r=n(467),a=n(4756),i=n.n(a),s=n(5461),o=n(5375),p=n(8971),c=(n(2338),n(1204),n(8926)),u=(n(2256),n(2406)),l=n(8736),h=function(t,e,n){u.q.call(this,t,e,n)};s.q.extend(h.prototype,l.wframe.prototype),h.prototype.defaultOptions=c.r.cloneNode(l.wframe.prototype.defaultOptions,!0,[],[],0,!0),h.prototype.defaultOptions.pluginType="uiplugin.pageFrame",h.prototype.defaultOptions.pluginName="pageFrame",h.prototype.defaultOptions.userEvents=["onpageframeload","onbeforepageframeunload","onpageframeunload"],h.prototype.initialize=function(t){try{this._initializeOptions(),l.wframe.prototype.initialize.call(this,t),this._udcFuncList=[]}catch(t){p.Y.printStackTrace(t,null,this)}},h.prototype._initializeOptions=function(){try{this.options.tagname="div",this.options.mode="async",this.options.scope=!0,this.options.preload=!0}catch(t){p.Y.printStackTrace(t,null,this)}},h.prototype.makeFrame=function(){var t=(0,r.A)(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.wframe.prototype.makeFrame.call(this,e,n);case 3:this.frameDoc&&this._pageFrameMapping(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),p.Y.printStackTrace(t.t0,null,this);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),h.prototype._pageFrameMapping=(0,r.A)(i().mark((function t(){var e,n,r,a,s,c,u,l,h,f,m;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,e=this.options.cloneVariable.split(","),n={},r=0;r<e.length;r++)n[e[r]]=!0;if(a=WebSquare.Elem.api.getElementsByTagName(this.frameDoc.getPageInfo(),"publicInfo",o.I._XML_NAMESPACE.W2)[0])for(u in c=WebSquare.Parser.parseAttribute(a),s={method:{},submission:{},component:{}},c)for(l=c[u].split(","),r=0;r<l.length;r++)s[u][l[r].wq_trim()]=!0;t.t0=i().keys(this.scopeVariable);case 7:if((t.t1=t.t0()).done){t.next=22;break}if(u=t.t1.value,!0!==n[u]){t.next=11;break}return t.abrupt("continue",7);case 11:h=this.scopeVariable[u],t.t2=i().keys(h);case 13:if((t.t3=t.t2()).done){t.next=20;break}if((f=t.t3.value)!==this.options.scopeFunction&&void 0===this[f]){t.next=17;break}return t.abrupt("continue",13);case 17:s&&!0!==s.method[u+"."+f]||(this[f]=h[f],this._udcFuncList.push(f)),t.next=13;break;case 20:t.next=7;break;case 22:t.t4=i().keys(this.scope);case 23:if((t.t5=t.t4()).done){t.next=31;break}if(u=t.t5.value,null!=(m=this.scope[u])){t.next=28;break}return t.abrupt("continue",23);case 28:s?(!0===s.component[u]&&m.uuid&&WebSquare.idCache[m.uuid]===m&&m.id!==m.uuid&&m.org_id!==m.uuid||!0===s.submission[u]&&"submission"===m._pluginName)&&(this[u]=m):this[u]=m,t.next=23;break;case 31:t.next=36;break;case 33:t.prev=33,t.t6=t.catch(0),p.Y.printStackTrace(t.t6,null,this);case 36:case"end":return t.stop()}}),t,this,[[0,33]])}))),h.prototype.setSrc=function(){var t=(0,r.A)(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.wframe.prototype.setSrc.call(this,e,n);case 3:this._pageFrameMapping(),t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),p.Y.printStackTrace(t.t0,null,this),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),h.prototype.finalize=function(t,e){try{l.wframe.prototype.finalize.call(this,t,e);for(var n=0;n<this._udcFuncList.length;n++){var r=this._udcFuncList[n];try{delete this[r]}catch(t){this[r]=void 0}}this._udcFuncList=[]}catch(t){return p.Y.printStackTrace(t,null,this),!1}}}}]);