"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[8507],{8507:(e,t,n)=>{n.r(t),n.d(t,{accordion:()=>h,panels:()=>d});var i=n(1570),s=n(8548),o=n(866),l=n(2847),a=n(6323),r=n(4171),p=n(3885),h=function(e,t,n){p.q.call(this,e,t,n)};i.q.extend(h.prototype,p.q.prototype),h.prototype.defaultOptions={pluginType:"uiplugin.accordion",pluginName:"accordion",userEvents:["onclick","onpanelload","onpanelunload"],tabIndex:"",useConfig:!0,cols:1,selectedPanel:"",collapsible:!1,collapseAll:!1,unCollapseAll:!1,titleDivTag:!1,enterKeyPanelToggle:!0,panelMoveSpeed:500,senseReader:!1,independentPanel:!1,accessibility:!1},h.prototype.initialize=function(e){this.panelIdCount=0,this.colArr=[],this.options.accessibility&&(this.options.senseReader=!0),this.panelInfoArr=this.makePanelArr(e,this.options),this.panelTitleArr=this.makePanelTitleArr(e,this.options,this.panelInfoArr),this.panelContentArr=this.makePanelContentArr(e,this.options,this.panelInfoArr),this.panelObjArr=this.makePanelObjArr(),this.panelArr=[],this.panelTitle=[],this.panelContent=[],this.options.panelMoveSpeed=parseInt(this.options.panelMoveSpeed,10),this.options.panelMoveSpeed<1?this.options.panelMoveSpeed=1:this.options.panelMoveSpeed>1e4&&(this.options.panelMoveSpeed=1e4)},h.prototype.toHTML=function(){var e=[],t=""==this.options.style?"":"style='"+this.options.style+"'",n=""==this.options.tabIndex?"":"tabIndex='"+this.options.tabIndex+"'";e.push("<div id='"+this.id+"' "+t+" class='w2accordion "+this.options.className+"' "+n+">");for(var i=0;i<this.options.cols;i++)e.push("<div id='"+this.id+"_col_"+i+"' class=''></div>");return e.push("</div>"),e.join("")},h.prototype.setAction=function(){for(var e=0;e<this.render.childNodes.length;e++)this.colArr.push(this.render.childNodes[e]);this.initAllpanel()},h.prototype.makePanelArr=function(e,t){try{if(null==e)return[];for(var n=[],i=0,s=e.getChildNodes(),l=0;l<s.length;l++){var a=s[l];if(a.nodeType==WebSquare.Elem.type.element&&"w2:panels"==a.getTagName()){i++;var r,p=a.getAttribute("id"),h=this.options&&null!=this.options._scope_obj_org_id?this.options._scope_obj_org_id:null;null==p?(r=this.id+"_panel_"+this.panelIdCount,null!=h&&(h=h+"_panel_"+this.panelIdCount),this.panelIdCount++):(r=this.id+"_panel_"+p,null!=h&&(h=h+"_panel_"+p));var d=WebSquare.WebSquareparser.parseAttribute(a);void 0===d.title&&(d.title=""),void 0!==d.disabledPanels&&"true"===d.disabledPanels||(d.disabledPanels=!1),"true"===d.disabledPanels&&(d.disabledPanels=!0),!0===this.options.unCollapseAll?!0===d.disabledPanels?d.isOpen=!1:d.isOpen=!0:""!=this.options.selectedPanel&&-1!=this.options.selectedPanel||1!=i||!0===d.disabledPanels?this.options.selectedPanel==p&&!0!==d.disabledPanels?d.isOpen=!0:d.isOpen=!1:d.isOpen=!0;var c={id:r,org_id:h,col:0,isOpen:d.isOpen,userID:p,element:a,senseReader:this.options.senseReader,disabledPanels:d.disabledPanels};n.push(c)}}return n}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.makePanelTitleArr=function(e,t,n){try{if(null==e)return[];for(var i=[],l=0,a=e.getChildNodes(),r=0;r<a.length;r++)if(a[r].nodeType==WebSquare.Elem.type.element&&"w2:panels"==a[r].getTagName()){var p=WebSquare.Elem.api.getElementsByTagName(a[r],"panelTitle",s.I._XML_NAMESPACE.W2);p=p[0];var h=WebSquare.WebSquareparser.parseAttribute(p);void 0===h.label&&(h.label="");var d=h.id,c={id:n[l].id+"_panelTitle_"+d,label:h.label,style:h.style,className:h.className,element:p};i.push(c),l++}return i}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.makePanelContentArr=function(e,t,n){try{if(null==e)return[];for(var i=[],l=0,a=e.getChildNodes(),r=0;r<a.length;r++)if(a[r].nodeType==WebSquare.Elem.type.element&&"w2:panels"==a[r].getTagName()){var p=WebSquare.Elem.api.getElementsByTagName(a[r],"panelContent",s.I._XML_NAMESPACE.W2);if(p){p=p[0];var h=WebSquare.WebSquareparser.parseAttribute(p),d=h.id,c={id:n[l].id+"_panelContent_"+d,org_id:null==n[l].org_id?null:n[l].org_id+"_panelContent_"+d,title:h.title,
style:h.style,className:h.className,xml:p};i.push(c),l++}}return i}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.initPanel=function(e){return this.scope_obj&&(e._scope_obj_uuid=this.scope_obj.uuid,e._scope_obj_org_id=e.org_id,e._scope_obj_runtime_id=e.id),new WebSquare.uiplugin.panels(e.id,e,e.element)},h.prototype.initPanelTitle=function(e){return e.className||(e.className="w2panel_title_text"),this.options.senseReader?e.tagname="strong":this.options.titleDivTag?e.tagname="div":e.tagname="span",new WebSquare.uiplugin.group(e.id,e,e.element)},h.prototype.makePanelObjArr=function(){try{for(var e=[],t=0;t<this.panelInfoArr.length;t++)e.push({panel:this.initPanel(this.panelInfoArr[t]).uuid,content:this.initPanelContent(this.panelContentArr[t]).uuid});return e}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.initPanelContent=function(e){var t=e.org_id||e.id,n="w2panels_content_closed";return e.className&&(n+=" "+e.className),WebSquare.controlFactory.createByJSON(t,{className:n},e.xml._element,this.scope_obj,this.parentFrame)},h.prototype.initAllpanel=function(){try{for(var e,t,n,i=0;i<this.panelInfoArr.length;i++){var s=this.panelObjArr[i];e=WebSquare.idCache[s.panel],t=this.initPanelTitle(this.panelTitleArr[i]),(n=WebSquare.idCache[s.content]).activate(),this.addControl(e),e.appendTo(this.colArr[0]),e.activate(),e.addControl(t),e.addControl(n),t.appendTo(e.render.childNodes[0]),n.appendTo(e.render),n.addClass("w2panels_content_closed"),t.activate(),n.activate(),t.render.innerHTML=t.options.label,t.removeClass("w2group"),e.panelTitle=t,e.panelContent=n,this.panelArr.push(e),this.panelTitle.push(t),this.panelContent.push(n),this.options.collapseAll?e.options.isOpen&&this._closePanel(this.getOpenPanelInfo().id):e.options.isOpen&&(n.addClass("w2panels_content_open"),t.render.parentNode.setAttribute("aria-expanded","true"))}}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.getPanelById=function(e){for(var t=0;t<this.childControlList.length;t++){var n=this.childControlList[t];if(n.id==e)return n}},h.prototype.getPanelInfo=function(){for(var e=[],t=0;t<this.options.cols;t++){for(var n=this.render.childNodes[t],i=[],s=0;s<n.childNodes.length;s++)for(var o=n.childNodes[s],l=0;l<this.childControlList.length;l++){var a=this.childControlList[l];if(a.render==o){i.push({id:a.id,style:a.options.style,className:a.options.className});break}}e.push(i)}return e},h.prototype.getOpenPanelInfo=function(e){try{var t;t=null==e||null==e?0:e;var n=this.getOpenPanelListInfo();return t<n.length?n[t]:[]}catch(e){o.Y.printStackTrace(e)}},h.prototype.getOpenPanelListInfo=function(){try{for(var e=[],t=0;t<this.childControlList.length;t++){1==this.childControlList[t].options.isOpen&&e.push(this.panelInfoArr[t])}return e}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.getPanelInfoById=function(e){for(var t=this.getPanelInfo(),n=0;n<t.length;n++)for(var i=t[n],s=0;s<i.length;s++){var o=i[s];if(o.id==this.id+"_panel_"+e)return o}},h.prototype.setPanelTitle=function(e,t){try{var n=this.getPanelById(this.id+"_panel_"+e);n?(n.options.title=t,n.render.childNodes[0].childNodes[1].innerHTML=t):r.v.printLog("error : cannot find panel with id["+e+"] at ["+this.id+"]")}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.setDisabledPanel=function(e,t){try{var n=this.getPanelById(this.id+"_panel_"+e);n?!0===(t=void 0===t||t)?(!0===n.options.isOpen&&(this._closePanel(n.id),n.options.isOpen=!1),n.options.disabledPanels=!0):n.options.disabledPanels=!1:r.v.printLog("error : cannot find panel with id["+e+"] at ["+this.id+"]")}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.openPanel=function(e){try{this._openPanel(e,!0)}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype._openPanel=function(e,t){try{var n=this.getPanelById(e)||this.getPanelById(this.id+"_panel_"+e),i=n.panelContent,s=n.panelTitle,a=!0;if(t&&!this.options.collapsible&&(a=!1),
a)for(var r=0;r<this.childControlList.length;r++)this.panelArr[r].options.id!=this.id+"_panel_"+e&&1==this.childControlList[r].options.isOpen&&!0!==this.options.independentPanel&&(this._closePanel(this.childControlList[r].options.id),this.childControlList[r].options.isOpen=!1);n.options.isOpen||!0===n.options.disabledPanels||this.slide(i.render,this.options.panelMoveSpeed,"slideDown",(function(){i.addClass("w2panels_content_open"),n.addClass(n.dom.Img,"w2panels_title_image_open"),n.options.isOpen=!0,s.render.parentNode.setAttribute("aria-expanded","true"),l.f.fireEvent(n.parentControl,"onpanelload",n.id,n.options.userID)}))}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.closePanel=function(e){try{this._closePanel(e)}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype._closePanel=function(e){try{var t=this.getPanelById(e)||this.getPanelById(this.id+"_panel_"+e);if(t){var n=t.panelContent,i=t.panelTitle;t.options.isOpen&&!0!==t.options.disabledPanels&&this.slide(n.render,this.options.panelMoveSpeed,"slideUp",(function(){n.removeClass("w2panels_content_open"),t.removeClass(t.dom.Img,"w2panels_title_image_open"),t.options.isOpen=!1,i.render.parentNode.setAttribute("aria-expanded","false"),l.f.fireEvent(t.parentControl,"onpanelunload",t.id,t.options.userID)}))}else r.v.printLog("error : cannot find panel with id["+e+"] at ["+this.id+"]")}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.setColor=function(e){try{var t=this.getElementById(this.id);if(e.borderColor&&(t.style.borderColor=e.borderColor),e.panelColor)for(var n=0;n<this.panelArr.length;n++)this.getElementById(this.panelArr[n].id+"_title").style.background=e.panelColor}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.finalize=function(){try{for(var e=0;e<this.panelObjArr.length;e++){var t=this.panelObjArr[e];for(var n in t){var i=WebSquare.idCache[t[n]];i&&"function"==typeof i.remove&&i.remove()}}}catch(e){o.Y.printStackTrace(e,null,this)}},h.prototype.slide=function(e,t,n,i){try{var s,l=n;"slideDown"==l&&(e.style.display="block");var r=e.scrollHeight;s="slideDown"==l?0:r,e.style.height=s+"px",e.style.overflow="hidden";var p=null;function h(n){p||(p=n);var o=n-p,d=Math.min(o/t,1);s="slideDown"==l?Math.floor(r*d):Math.floor(r*(1-d)),e.style.height=s+"px",d<1?a.Z.requestAnimationFrame(h):("slideUp"==l&&(e.style.display="none"),i&&i())}a.Z.requestAnimationFrame(h)}catch(d){o.Y.printStackTrace(d,null,this)}};var d=function(e,t,n){p.q.call(this,e,t,n)};i.q.extend(d.prototype,p.q.prototype),d.prototype.defaultOptions={pluginType:"uiplugin.panels",pluginName:"panels",title:"",src:"",scope:!1,isOpen:!1,disabledPanels:!1,userEvents:["onpanelsopen","onpanelsclose","onpanelsmouseover","onpanelsmouseout"]},d.prototype.initialize=function(e){},d.prototype.toHTML=function(){var e=[],t=""==this.options.style?"":"style='"+this.options.style+"'";return e.push("<div id='"+this.id+"' "+t+" class='w2panels"+this.options.className+"'>"),this.options.senseReader?(e.push("<a id='"+this.id+"_title' class='w2panels_title' role='button' aria-expanded='false' href='javascript:void(null)'>"),e.push("<span id='"+this.id+"_title_image' class='w2panels_title_image'></span>"),e.push("</a>")):(e.push("<div id='"+this.id+"_title' class='w2panels_title' role='button' aria-expanded='false'>"),e.push("<div id='"+this.id+"_title_image' class='w2panels_title_image'></div>"),e.push("</div>")),e.push("</div>"),e.join("")},d.prototype.setAction=function(){this.dom.title=this.getElementById(this.id+"_title"),this.dom.Img=this.getElementById(this.id+"_title_image"),this.event.addListener(this.dom.title,"onclick",this.event.bindAsEventListener(this,this.handleTitleClick)),this.event.addListener(this.dom.title,"onmouseover",this.event.bindAsEventListener(this,this.handleTitleOver)),this.event.addListener(this.dom.title,"onmouseout",this.event.bindAsEventListener(this,this.handleTitleOut)),
this.parentControl.options.accessibility?this.event.addListener(this.dom.title,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent)):this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent)),this.options.isOpen&&this.addClass(this.dom.Img,"w2panels_title_image_open")},d.prototype.handleTitleClick=function(e){try{if(!this.parentControl.options.collapsible)for(var t=0;t<this.parentControl.childControlList.length;t++)this.parentControl.panelArr[t].options.id!=this.id&&1==this.parentControl.childControlList[t].options.isOpen?!0!==this.parentControl.options.independentPanel&&(this.parentControl._closePanel(this.parentControl.childControlList[t].options.id),this.parentControl.childControlList[t].options.isOpen=!1,l.f.fireEvent(this,"onpanelsclose",e)):this.parentControl.panelArr[t].options.id==this.id&&this.parentControl.options.accessibility&&this.parentControl.childControlList[t].options.isOpen&&(this.parentControl._closePanel(this.parentControl.childControlList[t].options.id),l.f.fireEvent(this,"onpanelsclose",e));!0!==this.options.disabledPanels&&(this.options.isOpen?this.parentControl.options.collapsible&&(this.parentControl._closePanel(this.id),this.options.isOpen=!1,l.f.fireEvent(this,"onpanelsclose",e)):(this.parentControl._openPanel(this.id),this.options.isOpen=!0,l.f.fireEvent(this,"onpanelsopen",e)),l.f.fireEvent(this.parentControl,"onclick",this,this.options.isOpen))}catch(e){o.Y.printStackTrace(e,null,this)}},d.prototype.handleTitleOver=function(e){try{this.addClass(this.getElementById(this.id+"_title"),"w2panels_title_over"),l.f.fireEvent(this,"onpanelsmouseover",e)}catch(e){o.Y.printStackTrace(e,null,this)}},d.prototype.handleTitleOut=function(e){try{this.removeClass(this.getElementById(this.id+"_title"),"w2panels_title_over"),l.f.fireEvent(this,"onpanelsmouseout",e)}catch(e){o.Y.printStackTrace(e,null,this)}},d.prototype.handleKeydownEvent=function(e){try{if(13==(e.charCode?e.charCode:e.keyCode)&&this.parentControl.options.enterKeyPanelToggle)return l.f.preventDefault(e),void this.handleTitleClick(e)}catch(e){o.Y.printStackTrace(e,null,this)}}}}]);