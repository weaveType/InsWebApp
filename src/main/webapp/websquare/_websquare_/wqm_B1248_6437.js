"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[6437],{6437:(e,t,r)=>{r.r(t),r.d(t,{wframe:()=>l});var i=r(1570),a=r(8548),o=r(866),s=r(2847),n=r(6323),c=r(4171),p=r(3885),l=function(e,t,r){p.q.call(this,e,t,r)};i.q.extend(l.prototype,p.q.prototype),l.prototype.defaultOptions={pluginType:"uiplugin.wframe",pluginName:"wframe",userEvents:["onload","onwframeload","onwframeunload","onbeforewframeunload","onresize"],useConfig:!0,src:"",tagname:"div",mode:"async",scope:!1,initScript:"",postScript:"",scopeVariable:"",cloneVariable:"",linkVariable:"",scopeFunction:"$w",scopeExternal:!1,scopeValue:"",isWidget:!1,params:"",popupParam:"",initStyle:!1,preload:!1,strictFrame:!1,processMsgFrame:!1,frameModal:!1,udc2Name:"",popupAutoClose:!1,popupAutoCloseSkip:!1,msaName:"",scopeInherit:"",resizeEvent:!1,adaptiveFrame:!1},l.prototype.initialize=function(e){this.options.mode="async",this.createFlag=!1,(e&&"w2:wframe"===e.getTagName()||!0===this.options.preload)&&(this.createFlag=!0),this.frameDoc=null,this.wframeScript=[],this.lazyImportsArr=[],this.childAllControlList=[],this.userComponentList=[],this.userPluginList=[],this.scope={},this.scopeLazyList=[],this.scopeVariable={};var t=this.options.pluginName;"true"===this.options.initScript&&"true"===a.I.getConfiguration("/WebSquare/"+t+"/initScript/@value")&&(this.options.initScript=a.I.getConfigurationJSON("/WebSquare/"+t+"/initScript",{type:"json"}),this.options.initScript["#cdata"]&&(this.options.initScript=this.options.initScript["#cdata"],"function"==typeof this.options.initScript&&(this.options.initScript="("+this.options.initScript.toString()+")()"))),"true"===this.options.postScript&&"true"===a.I.getConfiguration("/WebSquare/"+t+"/postScript/@value")&&(this.options.postScript=a.I.getConfigurationJSON("/WebSquare/"+t+"/postScript",{type:"json"}),this.options.postScript["#cdata"]&&(this.options.postScript=this.options.postScript["#cdata"],"function"==typeof this.options.postScript&&(this.options.postScript="("+this.options.postScript.toString()+")()"))),this.options.scope&&(""==this.options.scopeVariable&&(this.options.scopeVariable=a.I.getConfiguration("/WebSquare/spa/variable/@value")||""),""==this.options.cloneVariable&&(this.options.cloneVariable=a.I.getConfiguration("/WebSquare/spa/variable/@clone")||""),""==this.options.linkVariable&&(this.options.linkVariable=a.I.getConfiguration("/WebSquare/spa/variable/@link")||""),this.options.initScript&&(this.options.initScript=n.Z.scopingFuncBody(this.options.initScript,this.id,!0)),this.options.postScript&&(this.options.postScript=n.Z.scopingFuncBody(this.options.postScript,this.id,!0))),this.makeScopeVariable(),this.options.params&&this.parseParameter(),this.options.dataObject&&this.setDataObject(this.options.dataObject),this._isWframePopup=!1,this._scriptLazy=!1,this._clearExecuteStatus(),this._processMsgComp=null,this._processMsgModal=null,this._processMsgQueue=[],this._wframePopupModal=null,this._wframeModelStack=[],this._processMsgAjaxCnt=0,this.udc2Parent=null,this._isUDC2=!1,this._bSkipAsync=!1,this._pCount=0,this._onsetSrc=!1,this._onsetSrcAfter=null,this._pageCommonArr=[],this._cssCacheArr=[],this.options.adaptiveFrame&&(this.options.resizeEvent=!0,this._resizeChildComp=[]),this._childFrameArr=[],this._addFrameRelation()},l.prototype.toHTML=function(){try{var e={footer:"div",header:"div",nav:"div",section:"div"},t=[],r=this.options.tagname,i=""==this.options.style?"":"style='"+this.options.style+"'",s=""==this.options.tabIndex?"":"tabIndex='"+this.options.tabIndex+"'";if(a.I.browserCheck.ie){var n=a.I.browserVersion();"6"!=n&&"7"!=n&&"8"!=n||e[r]&&(r=e[r])}if(t.push("<"+r+" id='"+this.id+"' "+i+" class='w2"+this.options.pluginName+" "+this.options.className+"' "+s+">"),this.createFlag)for(var c=this.getChildren(),p=0;p<c.length;p++)t.push(c[p].toHTML());return t.push("</"+r+">"),t.join("")}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.setChildAction=function(e){try{e=e||{}
;var t=this.childControlList[0];if(!t)return;this._parseBodyCss(),this._markStart2(),!0!==(e&&!0===e.skipPreActivate)&&"stop"===t.activeStatus&&t.preActivate(),this.makeInheritScopeCommon();var r=[];for(var i in WebSquare.DataCollection.activated=!0,WebSquare.DataCollection.comp){var n=WebSquare.DataCollection.comp[i];n&&n.parentFrame===this.uuid&&(n.activate(),r.push(n.uuid))}WebSquare.uiplugin.wframe._increasePendingWframeCount(),WebSquare.uiplugin.wframe._addWframePreorder(this.uuid);var c=t.activate();WebSquare.uiplugin.wframe._decreasePendingWframeCount(),WebSquare.uiplugin.wframe._addWframePostorder(this.uuid),t.render=null,t.onComplete();for(var p=0;p<r.length;p++)WebSquare.idCache[r[p]].completed||WebSquare.idCache[r[p]].onComplete();var l=this.getSrc(),u=!0===this._scriptLazy&&!0!==a.I.scriptPrecedence&&"preExecuted"===WebSquare.scriptSectionExcuteFlag;if("executed"===WebSquare.scriptSectionExcuteFlag||u)if(!0===a.I.scriptPrecedence){if(c&&c.length>0){var h=this.uuid;return Promise.allSettled(c).then((function(e){var t=WebSquare.idCache[h];t._setChildActionAfter1(),t._setChildActionAfter2()})).catch((function(e){o.Y.printStackTrace(e)}))}this._setChildActionAfter1()}else{var d=e&&!0===e.preExecuted,m=!0===this._scriptLazy&&this.parentControl&&this.parentControl.parentControl&&this.parentControl.parentControl.options&&("wframe"===this.parentControl.parentControl.options.pluginName||"pageFrame"===this.parentControl.parentControl.options.pluginName),f={order:"postorder",reverse:!0};if(u&&(f.preExecuted=!0),m||!0===this.options.preload||!0===d)WebSquare.uiplugin.wframe._execute("script",f),WebSquare.uiplugin.wframe._execute("onpageload",{order:"postorder"});else{if(this.frameDoc&&"string"==typeof this.frameDoc.scriptSection&&this.frameDoc.scriptSection){var S=WebSquare.scriptIdentifier+this.getURL(this.getSrc())+'";';S+=this.frameDoc.scriptSection,WebSquare.BootLoader.globalEval(S),this.frameDoc.scriptSection=""}for(p=0;p<this.childControlList.length;p++)s.f.fireEvent(this.childControlList[p],"onpageload",l);this._executeStatus.onpageload=!0}WebSquare.uiplugin.wframe._execute("lazyscript"),WebSquare.uiplugin.wframe._isPending()||WebSquare.uiplugin.wframe._clearPending()}else if(!0!==a.I.scriptPrecedence){var g=e&&!0===e.preExecuted&&"preExecuted"===WebSquare.scriptSectionExcuteFlag;g&&WebSquare.uiplugin.wframe._execute("script",{order:"postorder",reverse:!0,preExecuted:!0});for(p=0;p<this.childControlList.length;p++)s.f.fireEvent(this.childControlList[p],"onpageload",l);g&&(WebSquare.uiplugin.wframe._execute("lazyscript"),WebSquare.uiplugin.wframe._isPending()||WebSquare.uiplugin.wframe._clearPending())}this._setChildActionAfter2()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._setChildActionAfter1=function(e){try{e=e||{},WebSquare.uiplugin.wframe._execute("script"),e._isProcessMsgFrame?WebSquare.uiplugin.wframe._execute("onpageload",e):WebSquare.uiplugin.wframe._execute("onpageload"),WebSquare.uiplugin.wframe._execute("postscript",{order:"postorder"}),WebSquare.uiplugin.wframe._execute("onwframeload"),WebSquare.uiplugin.wframe._execute("lazyscript"),WebSquare.uiplugin.wframe._isPending()||WebSquare.uiplugin.wframe._clearPending()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._setChildActionAfter2=function(){try{var e=this.getSrc(),t=this.childControlList[0];s.f.fireEvent(t,"onwframeload",e),s.f.fireEvent(t,"oncreated",t.options),s.f.fireEvent(this,"onload",e),!0!==a.I.scriptPrecedence&&s.f.fireEvent(this,"onwframeload",e),this._markEnd2()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.setAction=function(){try{if(this.options.initStyle){var e=document.getElementById(this.id).style.cssText,t=document.getElementById(this.id).getAttribute("class");WebSquare.initStyle[this.id]={style:e,className:t}}if(this.options.isWidget)return;if(this.createFlag){var r;if(this._isProcessMsgFrame&&(r={_isProcessMsgFrame:!0,_processMsgCompId:this.uuid}),
("preExecuted"===WebSquare.scriptSectionExcuteFlag||"executed"===WebSquare.scriptSectionExcuteFlag)&&WebSquare.externalScriptArr&&WebSquare.externalScriptArr.length>0){if("sync"!==this.options.mode){var i=this.uuid;return WebSquare.externalScriptArr.push((function(){try{var e,t=WebSquare.idCache[i];t._isProcessMsgFrame&&(e={_isProcessMsgFrame:!0,_processMsgCompId:t.uuid}),t.setChildAction(e)}catch(e){o.Y.printStackTrace(e)}})),n.Z.js.apply(null,WebSquare.externalScriptArr),void(WebSquare.externalScriptArr=[])}for(var s=0;s<WebSquare.externalScriptArr.length;s++)WebSquare.BootLoader.globalEval(a.I.load(WebSquare.externalScriptArr[s]));WebSquare.externalScriptArr=[]}this.setChildAction(r)}else{var c;this._dataObject&&(c={dataObject:this._dataObject}),this.setSrc(this.options.src,c)}this.options.resizeEvent&&p.q.addCheckResize(this.uuid,"checkResize")}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.setSrc=async function(e,t){try{t=t||{};var r=this.getSrc();return!(!e||""==e)&&(this.options.src=e,e=this.getSrc(),this._bSkipAsync=!0,!("active"!==this.activeStatus&&!this.createFlag)&&(this._markStart(),!0===this._onsetSrc?(this._onsetSrcAfter=[e,t],await this._onsetSrcPromise):(this._onsetSrc=!0,this._onsetSrcPromise=this._setSrcAfter(e,r,t),await this._onsetSrcPromise)))}catch(e){return o.Y.printStackTrace(e,null,this),this._onsetSrc=!1,this._onsetSrcAfter=null,this._onsetSrcPromise=Promise.resolve(!1),!1}},l.prototype._setSrcAfter=async function(e,t,r){try{var i=await WebSquare.jsLoader._loadObj(this.getURL(e,r),{msaName:r.msaName||this._getMsaName()});if(i){for(var c=0;c<this.childControlList.length;c++)s.f.fireEvent(this.childControlList[c],"onwframeunload",t);var p;if(n.Z.emptySelection(),r.removeAll&&(r.appendModel="replace"),"replace"==r.appendModel)this.removeFrame_old();else(""==t||!t||t===e&&!0===r.reload)&&(r.reload=!1,p={keepDataObject:!0}),this.finalize(t,p);"object"==typeof r.dataObject&&this.setDataObject(r.dataObject),this.makeScopeVariable(),this._addFrameRelation();var l=WebSquare.jsLoader.getPageType(e);this.frameDoc=WebSquare.jsLoader.getPageInfo(i,l),this.frameDoc.renderStartTime=new Date,this.makeParameter(),await this.frameDoc.parsingUDC(!0,this),await this.frameDoc.parsingWFrame(!0,this),null==r.appendModel&&(this.options.scope?r.appendModel="scope":r.appendModel=!0),this.appendModels(this.frameDoc.models,null,r);var u=WebSquare.uiplugin.wframe._clearPending({keepStatus:!0});await this.renderBody(!0),"executed"===WebSquare.scriptSectionExcuteFlag||!0!==a.I.scriptPrecedence&&"preExecuted"===WebSquare.scriptSectionExcuteFlag||(u.pendingWframePreOrderList=u.pendingWframePreOrderList.concat(WebSquare.uiplugin.wframe.__pendingWframePreOrderList),u.pendingWframePostOrderList=WebSquare.uiplugin.wframe.__pendingWframePostOrderList.concat(u.pendingWframePostOrderList)),WebSquare.uiplugin.wframe._setPending(u)}if(this._onsetSrc=!1,this._onsetSrcAfter){var h=this._onsetSrcAfter[0],d=this._onsetSrcAfter[1];return this._onsetSrcAfter=null,await this.setSrc(h,d)}return!!i}catch(e){return o.Y.printStackTrace(e,null,this),this._onsetSrc=!1,this._onsetSrcAfter=null,this._onsetSrcPromise=Promise.resolve(!1),!1}},l.prototype.msaLoad=function(e,t,r,i){try{r=r||{},this._oldMsaName=this._getMsaName();var a=t||this._oldMsaName;r.msaName=a,this.options.msaName=r.msaName;var s=this.setSrc(e,r),n=this.uuid;return s.then((function(e,t){return WebSquare.idCache[n]._oldMsaName=a,e})),s}catch(e){return o.Y.printStackTrace(e,null,this),!1}},l.prototype.makeFrame=async function(e,t){try{if(this.options.strictFrame)return;var r;this._markStart();var i,s="string"==typeof t&&null!=a.I.udcObj[t];if(s)r=a.I.udcObj[t];else{var n=this.getSrc();n&&(r=await WebSquare.jsLoader._loadObj(this.getURL(n),{msaName:this._getMsaName()}))}if(r)n&&(i=WebSquare.jsLoader.getPageType(n)),this.frameDoc=WebSquare.jsLoader.getPageInfo(r,i),this.frameDoc.renderStartTime=new Date,this.makeParameter(),await this.frameDoc.parsingUDC(!0,this),
await this.frameDoc.parsingWFrame(!0,this,void 0,s),this.appendModels(this.frameDoc.models,null,{appendModel:!this.options.scope||"scope"}),await this.renderBody(e)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.initAsync=async function(){if(!0!==this._bSkipAsync)return await this.makeFrame()},l.prototype.makeFrameUDC2=async function(e){try{this.udc2Parent=e,await this.makeFrame(null,this.options.udc2Name),this._udc2Mapping()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.makeFrameSync=function(e,t,r){try{if(this.options.strictFrame)return;var i;this._markStart();var s,n="string"==typeof t&&null!=a.I.udcObj[t];if(n)i=a.I.udcObj[t];else if(t&&t.constructor===WebSquare.pageInfo)i=t.getPageInfo();else{var c=this.getSrc();c&&(i=WebSquare.jsLoader._loadObj(this.getURL(c),{msaName:this._getMsaName()}))}if(i)c&&(s=WebSquare.jsLoader.getPageType(c)),this.frameDoc=WebSquare.jsLoader.getPageInfo(i,s),this.frameDoc.renderStartTime=new Date,this.makeParameter(),this.frameDoc.parsingUDC(!0,this),n?this.frameDoc.parsingUDC2Sync(!0,this):this.frameDoc.parsingWFrame(!0,this,!0),this.appendModels(this.frameDoc.models,null,{appendModel:!this.options.scope||"scope"}),this.renderBody(e,r)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.makeFrameUDC2Sync=function(e,t,r){try{this.udc2Parent=e,this.makeFrameSync(t,this.options.udc2Name,r),this._udc2Mapping()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.getSrc=function(){try{return this._getMsaSrc()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._getMsaSrc=function(e){try{e=e||{};var t=this.options.src;if(""==t)return"";var r=a.I.getPageURL(t,{skipURL:!0,skipUri:!0,msaName:e.msaName||this._getMsaName()});if(!0===e.msaSrc)"string"!=typeof r||r.startsWith("/")||r.startsWith("\\")||r.indexOf("://")>=0||(r=this._getMsaHome()+r);return r}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.getMsaSrc=function(e,t){try{return(t=t||{}).msaSrc=!0,e&&(t.msaName=e),this._getMsaSrc(t)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._getMsaName=function(){try{if(this.options.msaName)return this.options.msaName;if(this.scope_obj)return this.scope_obj._getMsaName()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._getMsaHome=function(){try{var e=this.options.src,t=i.q.w2xHome;if("string"!=typeof e)return t;var r=a.I._msaServerHash[this.options.msaName];if(r){var s=e.lastIndexOf("/");return s>=0?e.slice(0,s)+"/":r.w2xHome||t}return this.scope_obj?this.scope_obj._getMsaHome():t}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.appendModels=function(e,t,r){try{if("replace"==(r=r||{}).appendModel)return void this.replaceModels(e);if("scope"==r.appendModel)return void this.scopeModels(e,t,r);var i=WebSquare.ModelUtil.getModelByID(t);if(i)for(var a=0;a<e.length;a++){if(r.appendModel)for(var s=i.instances[0].document,n=e[a].instances[0].document.childNodes,c=0;c<n.length;c++)s.appendChild(n[c].cloneNode(!0));i.binds=i.binds.concat(e[a].binds);for(var p=0;p<e[a].submissions.length;p++){var l=e[a].submissions[p];l.parentElement=i.element,i.submissions.push(l)}for(var u=0;u<e[a].workflows.length;u++){var h=e[a].workflows[u];h.parentElement=i.element,i.workflows.push(h)}}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.replaceModels=function(e){try{WebSquare.WebSquaredoc.models.splice(0,WebSquare.WebSquaredoc.models.length),WebSquare.WebSquaredoc.models=WebSquare.WebSquaredoc.models.concat(e)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.scopeModels=function(e,t,r){try{var i=WebSquare.ModelUtil.getModelByID(t);if(i&&"scope"==r.appendModel)for(var a=0;a<e.length;a++){if(e[a].instances&&e[a].instances.length>0){var s;i.instances&&i.instances.length>0&&(s=i.instances[0].xmlNode.parentNode);for(var n=e[a].instances,c=0,p=n.length;c<p;c++){for(var l=n[c].xmlNode.cloneNode(!0),u=l.firstChild;null!=u&&1!=u.nodeType;u=u.nextSibling);var h=new WebSquare.Model.Instance(l,u,null);h.scope_id=this.id;var d=h.xmlNode;d.setAttribute("scopeId",this.id),
i.instances.push(h),s&&s.appendChild(d)}}i.binds=i.binds.concat(e[a].binds);for(var m=0;m<e[a].submissions.length;m++){var f=e[a].submissions[m];f.parentElement=i.element,i.submissions.push(f)}for(var S=0;S<e[a].workflows.length;S++){var g=e[a].workflows[S];g.parentElement=i.element,i.workflows.push(g)}}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.remove=function(){try{if(!0===this._removed)return;if(this.options.strictFrame){for(var e in window[this.id]&&(window[this.id]=null),this)delete this[e];return}for(var t in this.finalize(),this.activeStatus="finalize",null!=this.render&&WebSquare.removeNode(this.render),this.parentControl&&this.parentControl.removeControl(this),WebSquare.getBody().childControlList)WebSquare.getBody().childControlList[t]==this&&WebSquare.getBody().childControlList.splice(t,1);this.destroy(),n.Z.emptySelection()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.finalize=function(e,t){try{var r=new Date;if(!0!==a.I.scriptPrecedence)for(var i=0;i<this.childControlList.length;i++)s.f.fireEvent(this.childControlList[i],"onpageunload");for(i=0;i<this.childControlList.length;i++)s.f.fireEvent(this.childControlList[i],"onbeforepageunload");var p=e||this.getSrc(),l=this.options.pluginName.toLowerCase();if(s.f.fireEvent(this,"onbefore"+l+"unload",p),this.popupList)for(i=this.popupList.length-1;i>=0;i--){var u=this.popupList[i];if(u){if(!0===this.options.popupAutoCloseSkip)continue;var h=WebSquare.getBody();if(this._parentFrameUUID)h=WebSquare.idCache[this._parentFrameUUID];var d=u.id;if(h){if(null!=h.stackComponents)for(var m in h.stackComponents){var f=h.stackComponents[m];if(d)for(var S=h.stackComponents[m].length-1;S>=0;S--)if(f[S].id===d){f.splice(S,1),h.modalStack.pop();break}}h.modalStack.pop()}u.close(),WebSquare.uiplugin.popup.removeFromPopupList(d)}}this.hideProcessMessage(),null!=this._processMsgComp&&(this._processMsgComp.remove(),this._processMsgComp=null),null!=this._processMsgModal&&(this._processMsgModal.remove(),this._processMsgModal=null),null!=this._wframePopupModal&&(this._wframePopupModal.remove(),this._wframePopupModal=null),this._removeFrameRelation();for(var g=[];this.childAllControlList.length>0;){var b;if(b=!0===a.I.scriptPrecedence?this.childAllControlList.shift():this.childAllControlList.pop(),(q=WebSquare.idCache[b])&&(!0!==q._isWframePopup||!0===this.options.popupAutoClose&&!0!==this.options.popupAutoCloseSkip||this.options.frameModal))if(null==WebSquare.DataCollection.comp[q.id]){WebSquare.isPrintLog=!1,"function"==typeof q.finalize&&q.finalize(),WebSquare.isPrintLog=!0,"function"==typeof q.unbind&&q.unbind(),q.event&&q.event.clearCache(),q.modelControl&&(q.modelControl.unbindRef(),q.modelControl.unbindItemset()),WebSquare.getBody().getLayerListener().remove(q.id),q.childControlList=[];if(q.options){var _={secret:"input",selectbox:"select1",radio:"select1",multiselect:"select",checkbox:"select",checkcombobox:"select",switch:"Switch"}[q.options.pluginName]||q.options.pluginName;delete(WebSquare.componentsCache[_]||WebSquare.componentsCache[q._wTagName]||{})[q.uuid],a.I.memoryLeakComponent[_]&&(a.I.memoryLeakComponentCount+=a.I.memoryLeakComponent[_])}if(window[WebSquare.noConflict].comp[q.id]=null,delete window[WebSquare.noConflict].comp[q.id],window[WebSquare.noConflict].data[q.id]=null,delete window[WebSquare.noConflict].data[q.id],window[q.id])try{window[q.id]=null,(!n.Z.isIE()||parseInt(a.I.browserVersion(),10)>8)&&delete window[q.id]}catch(e){window[q.id]=null}if(null!=q.render){if(q._closed&&q.frame&&q._isWframePopup){var y=q.frame.paramObj.popupID;y&&WebSquare.uiplugin.popup.removeFromPopupList(y);var v=q._targetFrameObjUUID,W=WebSquare.strictModeFrame?WebSquare.strictModeFrame.uuid:"";if(q.options.frameModal&&v&&v!==W){var C=WebSquare.idCache[v];C&&C.hideFrameModal(y)}}WebSquare.removeNode(q.render)}WebSquare.idToUUID[q.id]=null,delete WebSquare.idToUUID[q.id],a.I._removeObject(q,{directKey:"setValue,setDisabled,setLabel,toHTML,setAction,remove,finalize"}),
q._removed=!0,q=null,WebSquare.idCache[b]=null,delete WebSquare.idCache[b]}else g.push(b)}for(i=g.length-1;i>=0;i--){var q;null!=(q=WebSquare.idCache[g[i]])&&WebSquare.DataCollection.api.remove(q.id,{uuid:q.uuid})}this.childAllControlList=[];for(i=0;i<this.childControlList.length;i++){var w=this.childControlList[i];for(!0===a.I.scriptPrecedence&&s.f.fireEvent(w,"onpageunload");w.childControlList&&w.childControlList.length>0;){var k=w.childControlList.pop();null!=k.uuid&&k.remove()}w.render=null,w.remove()}for(var P in this.childControlList=[],this.scopeVariable)null!=window[this.id+"_"+P]&&(window[this.id+"_"+P]=null,!n.Z.isIE()||parseInt(a.I.browserVersion(),10)>8?delete window[this.id+"_"+P]:window[this.id+"_"+P]=null);this.scope={},this.scopeVariable={},this.scopeLazyList=[];for(i=0;i<this.userComponentList.length;i++)n.Z.loadedUserComponent[this.userComponentList[i]]=null,delete n.Z.loadedUserComponent[this.userComponentList[i]];this.userComponentList=[];for(i=0;i<this.userPluginList.length;i++)n.Z.loadedUserComponentPluginName[this.userPluginList[i]]=null,delete n.Z.loadedUserComponentPluginName[this.userPluginList[i]];this.userPluginList=[],null!=this.render&&WebSquare.removeChildren(this.render),this.removeCommon(t);var M=new Date;c.v.printLog(this.options.pluginName+" unloading["+this.id+"]. Time:"+(M-r)+"ms");var T=null==e?this.getSrc():e;s.f.fireEvent(this,"on"+l+"unload",T),WebSquare.uiplugin.dateHelper&&null!=WebSquare.uiplugin.dateHelper._currentDate&&delete WebSquare.uiplugin.dateHelper._currentDate[this.id],this.wframeSubPopup&&(this.wframeSubPopup=[]),this.stackComponents={},this.modalStack=[]}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.removeFrame=function(){try{this.finalize()}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.removeFrame_old=function(){try{c.v.printLog("Wframe unloading start.["+this.id+"]");for(var e=0;e<this.childControlList.length;e++)s.f.fireEvent(this.childControlList[e],"onpageunload");WebSquare.DataCollection.stopBroadCast=!0,WebSquare.dragdrop2={droppable:{},scrollable:{},scrollByDragDelay:300,scrollByDragSpeed:50};var t=WebSquare.getBody();for(var r in WebSquare.idCache){var i=WebSquare.idCache[r];i!==t&&i!==this&&("function"!=typeof i.remove||i.remove==p.q.prototype.remove||i.options&&("wframe"==i.options.pluginName||"pageFrame"==i.options.pluginName||"pageInherit"==i.options.pluginName)?(WebSquare.isPrintLog=!1,"function"==typeof i.finalize&&i.finalize(),WebSquare.isPrintLog=!0,"function"==typeof i.unbind&&i.unbind(),i.event&&i.event.clearCache(),WebSquare.useVisibleHelper&&i.render&&i.render.parentNode&&i!=WebSquare.body&&i.render.parentNode.removeChild(i.render),i.childControlList=[],window[i.id]&&(window[i.id]=null)):i.remove())}t.getLayerListener().removeAll(),WebSquare.idCache={},WebSquare.idCache[t.uuid]=t,WebSquare.idCache[this.uuid]=this,window[WebSquare.noConflict].comp={},window[WebSquare.noConflict].comp[this.id]=this,WebSquare.idToUUID={},WebSquare.idToUUID[t.id]=t.uuid,WebSquare.idToUUID[this.id]=this.uuid,WebSquare.WebSquaredoc.itemsetElement=[],WebSquare.WebSquaredoc.refElement=[],WebSquare.componentsCache={},WebSquare.componentsCache[t.options.pluginName]={},WebSquare.componentsCache[t.options.pluginName][t.uuid]=!0,WebSquare.componentsCache[this.options.pluginName]={},WebSquare.componentsCache[this.options.pluginName][this.uuid]=!0,this.childAllControlList=[],this.childControlList=[],this.scope={},this.scopeVariable={},this.userComponentList=[],this.userPluginList=[],null!=this.render&&WebSquare.removeChildren(this.render),this.removeCommon(),a.I.clearCommon(),WebSquare&&WebSquare.strictModeFrame&&(WebSquare.strictModeFrame.remove(),WebSquare.strictModeFrame=null),c.v.printLog("Wframe unloading finished.["+this.id+"]")}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.removeCommon=function(e){try{if(void 0!==e&&null!=e||(e={}),this.wframeScript=[],null!=this.frameDoc){for(;this.frameDoc.cssList.length>0;){
var t=this.frameDoc.cssList.shift(),r=t&&t.href&&t.href.toString();r=r||"";var i=n.Z._getAbsolutePath(r);WebSquare.skin._decreaseCache(i,t)}this.frameDoc.cssList=[];for(var s=0;s<this._cssCacheArr.length;s++){var c=this._cssCacheArr[s];WebSquare.skin._decreaseCache(c)}if(this.frameDoc.models&&this.frameDoc.models.length>0){var p=this.frameDoc.models[0].submissions,l=WebSquare.WebSquaredoc.models[0].submissions;for(s=0;s<p.length;s++){for(var u=0;u<WebSquare.layer.submissionIDQueue.length;u++)WebSquare.layer.submissionIDQueue[u]==p[s].id&&(WebSquare.layer.submissionIDQueue.splice(u,1),WebSquare.layer.submissionMessageQueue.splice(u,1));for(var h=0;h<l.length;h++)if(p[s].id===l[h].id&&p[s].ref===l[h].ref){l[h].dead=!0,a.I.useSubmissionGlobal&&(window[l[h].id]=null),l[h].parentElement=null,l.splice(h,1);break}}var d=this.frameDoc.models[0].workflows;for(l=WebSquare.WebSquaredoc.models[0].workflows,s=0;s<d.length;s++)for(h=0;h<l.length;h++)if(d[s].id===l[h].id&&d[s].ref===l[h].ref){l[h].promiseStatus="REJECT",a.I.useWorkflowGlobal&&(window[l[h].id]=null),l[h].parentElement=null,l.splice(h,1);break}}for(var m in this.frameDoc)this.frameDoc[m]=null,delete this.frameDoc[m]}!0!==e.keepDataObject&&this._removeDataObject(),this.frameDoc=null}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.onPropertyChange=function(e,t){try{if("disabled"===e)for(var r=0;r<this.childControlList.length;r++){var i={componentId:this.childControlList[r].id,disabled:t};n.Z.setDisabled(i)}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.onComplete=function(){try{if(null!=this.frame_dc_list){for(var e=0;e<this.frame_dc_list.length;e++)WebSquare.idCache[this.frame_dc_list[e]].completed||WebSquare.idCache[this.frame_dc_list[e]].onComplete();delete this.frame_dc_list}p.q.prototype.onComplete.call(this)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.getObj=function(e){try{return this.scope[e]}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.getObjList=function(){try{var e=[];for(var t in this.scope)e.push(t);return e}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.getWindow=function(){try{return this.options.scope?this.scope:window}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.makeScopeVariable=function(e){try{var t=0;if(this.options.scope&&this.options.scopeVariable)for(var r=this.options.scopeVariable.split(","),i=0;i<r.length;i++){var a=r[i].wq_trim(),s=t>0?String(t):"";t++,this._makeScopeVariable(a,WebSquare.noConflictFunction+s,e)}if(this.options.scope&&this.options.cloneVariable)for(r=this.options.cloneVariable.split(","),i=0;i<r.length;i++){var n=r[i].wq_trim();s=t>0?String(t):"";t++,this._makeCloneVariable(n)}if(this.options.scope&&this.options.linkVariable)for(r=this.options.linkVariable.split(","),i=0;i<r.length;i++){var c=r[i].wq_trim();s=t>0?String(t):"";t++,this._makeLinkVariable(c)}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._makeScopeVariable=function(e,t,r){try{if(this.scopeVariable[e]={},this.scope[e]=this.scopeVariable[e],!0!==r&&(window[this.id+"_"+e]=this.scopeVariable[e]),this.options.scopeFunction){this.scopeVariable[e][this.options.scopeFunction]=new WebSquare.uiplugin.wframe.scope(this.uuid);var a=this.scopeVariable[e][this.options.scopeFunction];for(var s in WebSquare.api)"data"!==s&&"comp"!==s&&null==a[s]&&(a[s]=WebSquare.api[s]);for(var n in a.data=new WebSquare.uiplugin.wframe.scope.data(this.id),a.model=new WebSquare.uiplugin.wframe.scope.model(this.id),a.bigDecimal=new WebSquare.uiplugin.wframe.scope.bigDecimal(this.id),a.bigDecimal._scopeId=this.id,a.id=this.id+"_",WebSquare.api.data)null==a.data[n]&&"function"==typeof WebSquare.api.data&&(a.data[n]=WebSquare.api.data[n]);this.options.scopeFunction!==WebSquare.noConflict&&null!=window[e]&&null==window[e][this.options.scopeFunction]&&i.q.extend(window[e][this.options.scopeFunction],WebSquare.api),t&&(this.scope[t]=this.scopeVariable[e][this.options.scopeFunction])}}catch(e){o.Y.printStackTrace(e,null,this)}},
l.prototype._makeCloneVariable=function(e){try{this.scopeVariable[e]={},"object"==typeof window[e]&&null!=window[e]&&(this._isUDC2,this.scopeVariable[e]=a.I._copyCommon(e,this)),this.scope[e]=this.scopeVariable[e],window[this.id+"_"+e]=this.scopeVariable[e]}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._makeLinkVariable=function(e){try{if("object"!=typeof window[e]||null==window[e])return;this.scopeVariable[e]=WebSquare.jsonUtil.cloneNode(window[e],!0,[],[],0,!0),this.scope[e]=this.scopeVariable[e],window[this.id+"_"+e]=this.scopeVariable[e]}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.makeLazyScopeVariable=function(){try{if(this.options.scope&&this.options.scopeVariable){var e=this.options.scopeVariable;this.options.cloneVariable&&(e+=","+this.options.cloneVariable);for(var t=e.split(","),r=0;r<t.length;r++)for(var i=t[r].wq_trim(),a=r>0?String(r):"",s=WebSquare.noConflictFunction+a,n=0;n<this.scopeLazyList.length;n++)WebSquare.idCache[this.scopeLazyList[n]].scope[i]=this.scopeVariable[i],WebSquare.idCache[this.scopeLazyList[n]].scope[s]=this.scopeVariable[i][this.options.scopeFunction]}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.makeInheritScopeVariable=function(){try{for(var e=this.scope_obj;e instanceof l&&e!==e.scope_obj;e=e.scope_obj)if(e.options.scope&&e.options.scopeVariable){var t=e.options.scopeInherit;if("component"===t||"all"===t||"recursive"===t){var r=e;for(var i in r.scope)this.scope.hasOwnProperty(i)||(this.scope[i]=r.scope[i]);if("recursive"!==t&&"all"!==t)break}}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.makeInheritScopeCommon=function(){try{for(var e=this.scope_obj;e instanceof l&&e!==e.scope_obj;e=e.scope_obj)if(e.options.scope&&e.options.scopeVariable){var t=e.options.scopeInherit;"recursive"!==t&&"all"!==t||this._makeInheritScopeCommon(e)}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.refreshInheritScopeCommon=function(){try{for(var e=this.getAllChildFrame({inherit:!0}),t=0;t<e.length;t++)e[t]._makeInheritScopeCommon(this)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.getAllChildFrame=function(e){try{void 0!==e&&null!=e||(e={});for(var t=[],r=this._childFrameArr.slice(0),i=!0===e.inherit;r.length>0;){var a=r.pop(),s=WebSquare.idCache[a];t.push(s);var n=s.options&&s.options.scopeInherit;if(!i||"all"===n||"recursive"===n)for(var c=0;c<s._childFrameArr.length;c++)r.push(s._childFrameArr[c])}return t}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._makeInheritScopeCommon=function(e){try{var t=e.options.scopeVariable;e.options.cloneVariable&&(t+=","+e.options.cloneVariable);for(var r=t.split(","),i=0;i<r.length;i++){var s=r[i].wq_trim();this.scope.hasOwnProperty(s)?a.I._linkProperties(e.scope[s],this.scope[s]):this.scope[s]=e.scope[s]}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._getInheritFrame=function(e){try{for(var t,r=this.scope_obj;r instanceof l&&r!==r.scope_obj;r=r.scope_obj)if("all"===r.options.scopeInherit||r.options.scopeInherit===e){t=r;break}return t}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._addScopeVariable=function(e){try{if(this.options.scope&&this.options.scopeVariable){var t=this.options.scopeVariable;this.options.cloneVariable&&(t+=","+this.options.cloneVariable);for(var r=t.split(","),i=0;i<r.length;i++){var a=r[i].wq_trim(),s=i>0?String(i):"",n=WebSquare.noConflictFunction+s;WebSquare.idCache[e].scope[a]=this.scopeVariable[a],WebSquare.idCache[e].scope[n]=this.scopeVariable[a][this.options.scopeFunction]}}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._udc2Mapping=function(){try{var e=this.udc2Parent;if(!e)return;var t={};for(var r in e._reservedName)for(var i=0;i<e._reservedName[r].length;i++)t[e._reservedName[r][i]]=!0;var s=this.options.cloneVariable.split(","),n={};for(i=0;i<s.length;i++)n[s[i]]=!0;var c,p=WebSquare.Elem.api.getElementsByTagName(this.frameDoc.getPageInfo(),"publicInfo",a.I._XML_NAMESPACE.W2)[0];if(p){var l=WebSquare.Parser.parseAttribute(p);for(var r in c={
method:{},submission:{},component:{}},l){var u=l[r].split(",");for(i=0;i<u.length;i++)c[r][u[i].wq_trim()]=!0}}for(var r in this.scopeVariable)if(!0!==n[r]){var h=this.scopeVariable[r];for(var d in h)d!==this.options.scopeFunction&&!0!==t[d]&&(c&&!0!==c.method[r+"."+d]||(e[d]=h[d]))}for(var r in this.scope){var m=this.scope[r];null!=m&&(c?(!0===c.component[r]&&m.uuid&&WebSquare.idCache[m.uuid]===m&&m.id!==m.uuid&&m.org_id!==m.uuid||!0===c.submission[r]&&"submission"===m._pluginName)&&(e[r]=m):e[r]=m)}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.setMode=function(e){try{this.options.mode=e}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.start=function(e){},l.prototype.renderBody=async function(e,t){var r,i=[],o=this.frameDoc.getType();return i="json"===o?WebSquare.jsonUtil.getNodesByTagName(this.frameDoc.getPageInfo(),"body"):WebSquare.xml.getElementsByTagName(this.frameDoc.getPageInfo(),"body",a.I._XML_NAMESPACE.XHTML),WebSquare.cssManager.startCache(),r="json"===o?WebSquare.controlFactory.createByJSON(null,null,i[0],this.options.scope?this:null,this.uuid):WebSquare.controlFactory.create(null,null,i[0],this.options.scope?this:null,this.uuid),WebSquare.cssManager.endCache(),!0!==t&&await WebSquare.controlFactory.initAsync(),this.childControlList.push(r),this.render&&(r.domStatus="new"),r&&(r.parentControl=this,r.options&&r.options.firstTabID&&!this.options.firstTabID&&(this.options.firstTabID=r.options.firstTabID)),this.options.scope&&(this.makeScope(this),this.makeLazyScopeVariable(),this.makeInheritScopeVariable()),this._pageCommonArr.length>0&&(!0===t?this._parsePageCommons():await this._parsePageCommons()),r&&e?this._lazyActivation():!0===WebSquare._async&&(a.I.executePointScript(4),this._markEnd()),!!r},l.prototype.lazyActivation=function(){try{if(!this.render)return;var e=this.childControlList[0];this.render.innerHTML=e.toHTML(),"sync"===this.options.mode?(this._markEnd(),this.setChildAction({preExecuted:!0})):(e.preActivate(),this._markEnd(),n.Z.setTimeout(this.setChildAction,{key:this.id+"_setChildAction",caller:this,delay:1,args:[{preExecuted:!0,skipPreActivate:!0}]}))}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._lazyActivation=function(){try{if(a.I.executePointScript(4),WebSquare.externalScriptArr.length>0)if("sync"!==this.options.mode){var e=this.uuid;WebSquare.externalScriptArr.push((function(){try{WebSquare.idCache[e].lazyActivation()}catch(e){o.Y.printStackTrace(e)}})),n.Z.js.apply(null,WebSquare.externalScriptArr)}else{for(var t=0;t<WebSquare.externalScriptArr.length;t++)WebSquare.BootLoader.globalEval(a.I.load(WebSquare.externalScriptArr[t]));this.lazyActivation()}else this.lazyActivation();WebSquare.externalScriptArr=[]}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.parseParameter=function(){try{if(!this.options.params||"string"!=typeof this.options.params)return;for(var e in this.paramObj=JSON.parse(this.options.params),this.paramObj){var t=this.paramObj[e].charAt(0),r=this.paramObj[e].slice(1);switch(t){case"j":case"a":this.paramObj[e]=JSON.parse(r);break;case"x":this.paramObj[e]=WebSquare.xml.parse(r);break;default:this.paramObj[e]=r}}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.makeParameter=function(){try{if("object"!=typeof this.paramObj&&(this.paramObj={}),this.options.isWidget){var e=this.parentControl.getParams();"object"==typeof e&&(this.paramObj.params=e)}var t=this.getSrc();if(!t)return;for(var r=t.substring(t.indexOf("?")+1).split("&"),i=0;i<r.length;i++){2==(a=r[i].split("=")).length&&(this.paramObj[a[0].wq_trim()]=a[1].wq_trim())}if(location.hash.length>0)for(r=t.substring(t.indexOf("#")+1).split(/[\&\?\#]/),i=0;i<r.length;i++){var a;2==(a=r[i].split("=")).length&&(this.paramObj[a[0].wq_trim()]=a[1].wq_trim())}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.setDataObject=function(e){try{if("string"==typeof e&&(e=JSON.parse(e)),null==e||"string"!=typeof e.name||0===e.name.length)return;var t=e.type||"string";t=t.toLowerCase()
;var r,i=e.data,a=e.name;switch(t){case"string":r=i;break;case"json":r="string"==typeof i?JSON.parse(i):n.Z.cloneObject(i,{scope:this.scope_id,skipFunction:!0});break;case"xml":r="string"==typeof i?WebSquare.xml.parse(i):WebSquare.xml.parse(WebSquare.xml.serialize(i));break;case"array":r="string"==typeof i?JSON.parse(i):i.slice(0)}this._dataObject={type:t,name:a,data:r}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._getDataObject=function(e){try{var t;return this._dataObject&&"string"==typeof this._dataObject.name&&this._dataObject.name.length>0&&this._dataObject.data&&(t=null==e?this._dataObject:this._dataObject[e]),t}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._removeDataObject=function(){try{this._dataObject&&(delete this._dataObject.data,this._dataObject=null,delete this._dataObject)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.setFirstTabID=function(e){try{if(null!=e&&e!==this.options.firstTabID&&null!=WebSquare.tabOrder[this.id]&&null!=WebSquare.tabOrder[this.id].preTabID){var t=WebSquare.tabOrder[this.id].preTabID,r=WebSquare.tabOrder[t].nextTabID,i=n.Z.getComponentById(e,this.id).id,a=WebSquare.tabOrder[t].nextTabID;WebSquare.tabOrder[t].nextTabID=i,WebSquare.tabOrder[i]={},WebSquare.tabOrder[i].preTabID=t,a!==this.id&&delete WebSquare.tabOrder[r],this.options.firstTabID=e}}catch(e){o.Y.printStackTrace(e)}},l.prototype.getParentFrame=function(){try{return this.scope_obj&&WebSquare.idCache[this.scope_obj.uuid]===this.scope_obj?this.scope_obj:null}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._getRenderedParentFrame=function(){try{return this.scope_obj&&WebSquare.strictModeFrame.id!==this.scope_obj.id&&WebSquare.idCache[this.scope_obj.uuid]===this.scope_obj?this.scope_obj:null}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.reload=function(e){try{var t;if(this.options.strictFrame)n.Z.reinitialize(e);else this._dataObject&&(t={dataObject:this._dataObject,reload:!0}),this.setSrc(this.options.src,t)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._clearExecuteStatus=function(){try{this._executeStatus={script:!1,onpageload:!1,postscript:!1,lazyscript:!1,onwframeload:!1}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._getVersion=function(){try{var e=this.options.pluginName,t=a.I.getConfiguration("/WebSquare/"+e+"/version/@value");return t||(t=WebSquare.strictMode?3:"sync"===this.options.mode?2:1),Number(t)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.getURL=function(e,t){try{if(void 0!==t&&null!=t||(t={}),"string"!=typeof e||e.indexOf("://")>-1||!0===t.skipFullUrl)return e;if(this.options.msaName&&(t.msaName=this.options.msaName),t.msaName)return a.I.getURL(e,t);var r=this._getMsaName();if(r)return e=this.getMsaSrc(e),t.msaName=r,a.I.getURL(e,t);var i="",s=this.getParentFrame();if(s){var n,c=s.getSrc(),p=c.indexOf("://");if(p>=0)i=(n=e.startsWith("/")||e.startsWith("\\")?c.indexOf("/",p+3):c.lastIndexOf("/"))>0?c.slice(0,n)+"/":c.slice(0)+"/"}return i?i+e:a.I.getURL(e,{tempHome:this.getUdcRoot()})}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.showProcessMessage=async function(e,t){try{return l._showProcessMessage(this,e,t)}catch(e){o.Y.printStackTrace(e,null,this),this.hideProcessMessage()}},l.prototype.hideProcessMessage=function(){try{return l._hideProcessMessage(this)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._handleProcessEvent=function(e){try{s.f.stopEvent(e)}catch(e){o.Y.printStackTrace(e,null,this),this.hideProcessMessage()}},l.prototype.addSubmissionMessage=async function(e,t){try{await this.showProcessMessage(t,{submissionId:e})}catch(e){o.Y.printStackTrace(e,null,this),this.hideProcessMessage()}},l.prototype.deleteSubmissionMessage=function(e){try{return this._deleteSubmissionMessage(e)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._deleteSubmissionMessage=function(e){try{for(var t=this._processMsgQueue.length-1;t>=0;t--)if(this._processMsgQueue[t].id==e){
if(null!=this._processMsgComp&&"promise"!=this._processMsgComp&&t>0){var r=this._processMsgComp.getObj("text_msg");r&&r.setValue(this._processMsgQueue[t-1].msg)}this._processMsgQueue.splice(t,1)}if(e){var i=WebSquare.ModelUtil.getSubmission(e);0===this._processMsgQueue.length&&i&&!1!==i.hideProcessMsg?this.hideProcessMessage():this._processMessageShowCnt>0&&this._processMessageShowCnt--}}catch(e){o.Y.printStackTrace(e,null,this),this.hideProcessMessage()}},l.prototype.deleteAjaxMessage=function(){try{this._processMsgAjaxCnt--,this._processMsgAjaxCnt<=0&&this.hideProcessMessage()}catch(e){o.Y.printStackTrace(e,null,this),this.hideProcessMessage()}},l.prototype.showFrameModal=function(e){try{var t=e.className||"",r=(e.popupComponents,e.stackComponents||void 0),i=e.popupModal||!1;null==this.modalStack&&(this.modalStack=[]);var a=WebSquare.style.getStyle(this.render,"position");if(null==this._wframePopupModal){var s=WebSquare.controlFactory.create(this.id+"_wq_frameModal",{className:"w2_wframe_modal",pluginName:"group",parseChild:!1},null,this,this,!0);s.writeTo(this),s.activate(),s.render.style.width="100%",s.render.style.height="100%",this.addControl(s),this._wframePopupModal=s}else"static"!=a&&(this._wframePopupModal.render.style.height=this.render.offsetlHeight+"px",this._wframePopupModal.render.style.width=this.render.offsetWidth+"px");if("static"==(a=WebSquare.style.getStyle(this.render,"position"))){var c=this.render.offsetLeft,p=this.render.offsetTop;this._wframePopupModal.render.style.height=this.render.offsetHeight+"px",this._wframePopupModal.render.style.width=this.render.offsetWidth+"px",this._wframePopupModal.setPosition(c,p)}if(t?(this.modalStack[this.modalStack.length]=t,!0===i&&(this._wframePopupModal.className=t)):(this.modalStack[this.modalStack.length]="w2modal",!0===i&&(this._wframePopupModal.className="w2modal")),r)for(var l in null==this.stackComponents&&(this.stackComponents={}),r)if(null==this.stackComponents[l])this.stackComponents[l]=[r[l]];else{var u=this.stackComponents[l].length-1;if(u>=0)for(var h=u;h>=0;h--){var d=WebSquare.idCache[this.stackComponents[l][h].id];if(!d&&this.stackComponents[l][h].id){var m=n.Z.getPopup(this.stackComponents[l][h].id);m&&(d=m.popupWin)}if(d&&d.render&&!0===i){var f=parseInt(d.getStyleProperty("z-index"),10),S=parseInt(n.Z.getStyleProperty(this._wframePopupModal.render,"z-index"),10)-1;if(f==S)break;d.zIndex=f,d.setStyle("z-index",S)}}this.stackComponents[l].push(r[l])}!0===i&&(this._renderScrollLeft=this.render.scrollLeft,this._renderScrollTop=this.render.scrollTop,this._wframePopupModal.show(),n.Z.isMobile()||this.addClass("w2modalopened_wframepopup"))}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.hideFrameModal=function(e){try{if(null!=this._wframePopupModal){var t=!1,r=!1;if(null!=this.stackComponents)for(var i in this.stackComponents){var a=this.stackComponents[i];if(e){for(var s=this.stackComponents[i].length-1;s>=0;s--)if(a[s].id===e){a.splice(s,1),r=!0;break}}else a.pop(),r=!0;for(s=a.length-1;s>=0;s--){0!=s||0!==a.length&&!1!==a[s].modal||(t=!0);var c=WebSquare.idCache[a[s].id];if(c||(c=n.Z.getComponentById(a[s].id)),c&&c.render){var p=c.zIndex;isNaN(p)&&(p=""),c.zIndex=void 0;var l=WebSquare.getBody();l.modal&&"block"===l.modal.style.display?(c.zIndex=n.Z.getStyleProperty(l.modal,"z-index")-2,c.setStyle("z-index",c.zIndex)):c.setStyle("z-index",p)}if("popup"!=i||!0===a[s].modal)break}}if(r&&this.modalStack.pop(),0==this.modalStack.length||!0===t){var u=this._modal;this._modal=!1,0==this.modalStack.length&&null!=this._wframePopupModal?(this._wframePopupModal.remove(),this._wframePopupModal=null):!0===t&&this._wframePopupModal.hide(),u&&(this.render.scrollLeft=this._renderScrollLeft,this.render.scrollTop=this._renderScrollTop,this._renderScrollLeft=this._renderScrollTop=0,this.removeClass("w2modalopened_wframepopup"))}else{var h=this.modalStack[this.modalStack.length-1];this._wframePopupModal.className=h}}}catch(e){o.Y.printStackTrace(e,null,this)}},
l.prototype.modalEvent=function(e){try{this._wframePopupModal&&e&&(s.f.addListener(this._wframePopupModal.render,"onclick",(function(){var t=WebSquare.uiplugin.popup.getPopupWindow(e);t&&t.focus()})),s.f.addListener(this._wframePopupModal.render,"ondblclick",(function(){var t=WebSquare.uiplugin.popup.getPopupWindow(e);t&&t.focus()})))}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._cloneRecursive=function(e){try{if(!e)return;var t=this._clone(e);return t.initAsync=async function(){},t.makeFrameSync(!0,this.frameDoc,!0),t}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._getPerfStr=function(e){try{return e+"."+this.id}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._makeDetail=function(e){try{return{src:this.getURL(this.getSrc()||WebSquare.w2xPath),id:this.id,orgId:this.getOriginalID(),scopeId:this.scope_id,log:e||""}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._markStart=function(){try{this._pCount++;var e={detail:this._makeDetail()};WebSquare._performance.mark(this._getPerfStr("wframe.start"),e)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._markEnd=function(){try{WebSquare._performance.mark(this._getPerfStr("wframe.step1"));var e=WebSquare.language.getMessage("Performance_wframe_step1");WebSquare._performance.measure(this._getPerfStr("wframe.step1"),this._getPerfStr("wframe.start"),this._makeDetail(e))}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._markStart2=function(){try{var e={detail:this._makeDetail()};WebSquare._performance.mark(this._getPerfStr("wframe.step2"),e)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._markEnd2=function(){try{WebSquare._performance.mark(this._getPerfStr("wframe.end"));var e=WebSquare.language.getMessage("Performance_wframe_step2");WebSquare._performance.measure(this._getPerfStr("wframe.end"),this._getPerfStr("wframe.step2"),this._makeDetail(e))}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._addPageCommon=function(e,t){try{this._pageCommonArr.push({src:e,id:t})}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._parsePageCommons=async function(){try{for(var e=[];this._pageCommonArr.length>0;){var t=this._pageCommonArr.shift(),r=this._parsePageCommon(t);e.push(r)}return this._parsePageCommonsAfter(e)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._parsePageCommonsAfter=async function(e){try{await Promise.allSettled(e).then((async function(e){for(var t=0;t<e.length;t++)if("fulfilled"===e[t].status){var r=await e[t].value;r&&"function"==typeof r.func&&(!0===r.onpageloadNow&&await r.func(),r.arr instanceof Array&&r.arr.push(r.func))}})).catch((function(e){o.Y.printStackTrace(e)}))}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._parsePageCommon=async function(e,t){try{void 0!==t&&null!=t||(t={});var r=e.src,s=e.id,n=await WebSquare.jsLoader._loadObj(this.getURL(r),{msaName:this._getMsaName()}),c=WebSquare.jsonUtil.getNodesByTagName(n,"script"),p=i.q.extend({},this.scope),l=this.options.scopeVariable.split(",")[0]||"scwin",u={};null!=this.scope[s]&&(u=this.scope[s]),p[l]=u;for(var h=0;h<c.length;h++){var d=c[h],m=WebSquare.jsonUtil.getCDataNodeValue(d);"function"==typeof m&&m(p)}var f,S=WebSquare.Elem.api.getElementsByTagName(n,"publicInfo",a.I._XML_NAMESPACE.W2)[0];if(S){var g=S.getAttribute("method");if("string"==typeof g&&g){var b=g.split(","),_={};for(h=0;h<b.length;h++){var y=b[h].wq_trim("").replace(l+".","");_[y]=u[y]}u=_}}this.scope[s]=u;var v=WebSquare.Elem.api.getElementsByTagName(n,"body",a.I._XML_NAMESPACE.XHTML)[0];if(v){var W=(v.getAttribute("ev:onpageload")||"").replace(l+".","");f=p[l][W]}if("function"==typeof f)return!0===t.onpageloadNow?{onpageloadNow:t.onpageloadNow,func:p[l][W]}:(this._executeStatus.onloadPageCommon||(this._executeStatus.onloadPageCommon=[]),{arr:this._executeStatus.onloadPageCommon,func:p[l][W]})}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._addCssCache=function(e){try{this._cssCacheArr.push(e)}catch(e){o.Y.printStackTrace(e,null,this)}},
l.prototype._parseBodyCss=function(){try{var e=this._getMsaName()||"";e&&(e+=" ");var t,r=[];if("json"===this.frameDoc.getType())r=WebSquare.jsonUtil.getNodesByTagName(this.frameDoc.getPageInfo(),"body"),(t=WebSquare.jsonUtil.getAttribute(r[0],"class"))&&(e+=t);else(t=(r=WebSquare.xml.getElementsByTagName(this.frameDoc.getPageInfo(),"body",a.I._XML_NAMESPACE.XHTML))[0].getAttribute("class"))&&(e+=t);this.render&&e&&this.addClass(e)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype.checkResize=function(){try{if(!(this.render instanceof HTMLElement))return;var e=this.render.clientWidth,t=this.render.clientHeight;if(this.resizeObj&&e>0&&t>0&&(e!==this.resizeObj.width||t!==this.resizeObj.height)){var r={oldWidth:this.resizeObj.width,oldHeight:this.resizeObj.height,newWidth:e,newHeight:t};if(s.f.fireEvent(this,"onresize",r),1==this.options.adaptiveFrame&&this._resizeChildComp)for(let e=0;e<this._resizeChildComp.length;e++){var i=this._resizeChildComp[e];WebSquare.idCache[i].setAdaptiveFrame(r)}for(var a=0;a<this.childControlList.length;a++)s.f.fireEvent(this.childControlList[a],"onresize",r)}this.resizeObj={width:e,height:t}}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._addFrameRelation=function(){try{this._childFrameArr=[],this.scope_obj&&this.scope_obj instanceof l&&this!==this.scope_obj&&this.scope_obj._childFrameArr.push(this.uuid)}catch(e){o.Y.printStackTrace(e,null,this)}},l.prototype._removeFrameRelation=function(){try{if(this.scope_obj&&this.scope_obj instanceof l&&this!==this.scope_obj)for(var e=this.scope_obj._childFrameArr,t=e.length-1;t>=0;t--)e[t]===this.uuid&&e.splice(t,1)}catch(e){o.Y.printStackTrace(e,null,this)}},l._increasePendingWframeCount=function(){try{WebSquare.uiplugin.wframe.__pendingWframeCount<0&&(WebSquare.uiplugin.wframe.__pendingWframeCount=0),WebSquare.uiplugin.wframe.__pendingWframeCount++}catch(e){o.Y.printStackTrace(e,null,this)}},l._decreasePendingWframeCount=function(){try{WebSquare.uiplugin.wframe.__pendingWframeCount--,WebSquare.uiplugin.wframe.__pendingWframeCount<=0&&(WebSquare.uiplugin.wframe.__pendingWframeCount=0)}catch(e){o.Y.printStackTrace(e,null,this)}},l._isPending=function(){return WebSquare.uiplugin.wframe.__pendingWframeCount>0},l._addWframePreorder=function(e){try{WebSquare.uiplugin.wframe.__pendingWframePreOrderList.push(e)}catch(e){o.Y.printStackTrace(e,null,this)}},l._addWframePostorder=function(e){try{WebSquare.uiplugin.wframe.__pendingWframePostOrderList.push(e)}catch(e){o.Y.printStackTrace(e,null,this)}},l._execute=function(e,t){try{if(void 0!==t&&null!=t||(t={}),WebSquare.uiplugin.wframe._isPending())return;var r="postorder"===t.order?WebSquare.uiplugin.wframe.__pendingWframePostOrderList.slice(0):WebSquare.uiplugin.wframe.__pendingWframePreOrderList.slice(0);if(r.length<=0)return;switch(!0===t.reverse&&r.reverse(),e){case"script":for(var i="",a=0;a<r.length;a++){!0!==(h=WebSquare.idCache[r[a]])._executeStatus.script&&(h._executeStatus.script=!0,h.frameDoc&&"string"==typeof h.frameDoc.scriptSection&&h.frameDoc.scriptSection&&(i+=WebSquare.scriptIdentifier+h.getURL(h.getSrc())+'";',i+=h.frameDoc.scriptSection))}"executed"===WebSquare.scriptSectionExcuteFlag||!0===t.preExecuted?WebSquare.BootLoader.globalEval(i):WebSquare.scriptSection+=i;break;case"onpageload":for(a=0;a<r.length;a++){if(!0!==(h=WebSquare.idCache[r[a]])._executeStatus.onpageload&&(!t._isProcessMsgFrame||h.uuid===t._processMsgCompId)){h._executeStatus.onpageload=!0;var c=h._executeStatus.onloadPageCommon;if(c instanceof Array)for(;c.length>0;){var p=c.shift();"function"==typeof p&&p()}for(var l=0;l<h.childControlList.length;l++)s.f.fireEvent(h.childControlList[l],"onpageload",h.getSrc())}}break;case"postscript":for(i="",a=0;a<r.length;a++){!0!==(h=WebSquare.idCache[r[a]])._executeStatus.postscript&&(h._executeStatus.postscript=!0,h.frameDoc&&"string"==typeof h.options.postScript&&h.options.postScript&&(i+=WebSquare.scriptIdentifier+h.getURL(h.getSrc())+'";',i+=h.options.postScript))}
WebSquare.BootLoader.globalEval(i);break;case"lazyscript":var u=[];for(a=0;a<r.length;a++){!0!==(h=WebSquare.idCache[r[a]])._executeStatus.lazyscript&&(h._executeStatus.lazyscript=!0,h.frameDoc&&h.lazyImportsArr&&h.lazyImportsArr.length>0&&(u=u.concat(h.lazyImportsArr),h.lazyImportsArr=[]))}u.length>0&&"executed"===WebSquare.scriptSectionExcuteFlag&&n.Z.js.apply(null,u);break;case"onwframeload":for(a=0;a<r.length;a++){var h;if(!0!==(h=WebSquare.idCache[r[a]])._executeStatus.onwframeload){h._executeStatus.onwframeload=!0;var d=h.options.pluginName.toLowerCase();s.f.fireEvent(h,"on"+d+"load",h.getSrc())}}}}catch(e){o.Y.printStackTrace(e,null,this)}},l._clearPending=function(e){try{void 0!==e&&null!=e||(e={});for(var t={pendingWframeCount:WebSquare.uiplugin.wframe.__pendingWframeCount,pendingWframePreOrderList:WebSquare.uiplugin.wframe.__pendingWframePreOrderList.slice(0),pendingWframePostOrderList:WebSquare.uiplugin.wframe.__pendingWframePostOrderList.slice(0)};WebSquare.uiplugin.wframe.__pendingWframePreOrderList.length>0;){(r=WebSquare.idCache[WebSquare.uiplugin.wframe.__pendingWframePreOrderList.pop()])&&!0!==e.keepStatus&&r._clearExecuteStatus()}for(;WebSquare.uiplugin.wframe.__pendingWframePostOrderList.length>0;){var r;(r=WebSquare.idCache[WebSquare.uiplugin.wframe.__pendingWframePostOrderList.pop()])&&!0!==e.keepStatus&&r._clearExecuteStatus()}return WebSquare.uiplugin.wframe.__pendingWframeCount=0,t}catch(e){o.Y.printStackTrace(e,null,this)}},l._setPending=function(e){try{WebSquare.uiplugin.wframe.__pendingWframeCount=e.pendingWframeCount,WebSquare.uiplugin.wframe.__pendingWframePreOrderList=e.pendingWframePreOrderList.slice(0),WebSquare.uiplugin.wframe.__pendingWframePostOrderList=e.pendingWframePostOrderList.slice(0)}catch(e){o.Y.printStackTrace(e,null,this)}},l._showProcessMessage=async function(e,t,r){try{if("$blank"==t||!t||!e)return;var s,c=a.I.getConfiguration("processMsgFrameURL");c||(c=i.q._resourceURI+"message/processMsg.js");var p={};if(r&&r.submissionId&&("string"==typeof r.submissionId?(s=r.submissionId,p=WebSquare.ModelUtil.getSubmission(s)):s=(p=r.submissionId).id,!1!==p.hideProcessMsg&&e._processMsgQueue.push({scope_id:p.scope_id,org_id:p.org_id,id:s,msg:t})),r&&!0===r.ajax&&e._processMsgAjaxCnt++,null==e._processMsgComp){e._processMessageShowCnt=1;var u,h=e;e.scope_obj&&(!e.options||"wframe"!==e.options.pluginName&&"pageFrame"!==e.options.pluginName)&&(h=e.scope_obj),h&&(u=h.uuid);var d=WebSquare.controlFactory.create(e.id+"_wq_processMsgComp",{src:c,className:"w2_proc",scope:!0,pluginName:"wframe",preload:!0},null,h,u,!0);if(e._processMsgComp="promise",await WebSquare.controlFactory.initAsync(),e._processMsgComp=d,d.writeTo(e),d._isProcessMsgFrame=!0,d.activate(),e.addControl(d),!(e._processMessageShowCnt>0))return l._hideProcessMessage(e),void(e._processMessageShowCnt=0)}else if("promise"===e._processMsgComp)return void(isNaN(e._processMessageShowCnt)?e._processMessageShowCnt=1:e._processMessageShowCnt++);e._processMsgComp.show();var m=e._processMsgComp.getObj("btn_hide");m&&(p.hideTrigger?m.show():m.hide());var f=e._processMsgComp.getObj("btn_cancel");f&&(p.abortTrigger?f.show():f.hide());var S=e._processMsgComp.getObj("text_msg");S&&S.setValue(t);var g=WebSquare.style.getStyle(e.render,"position"),b=0,_=0,y="";if("static"==g){y="static";for(var v=e.render.parentElement;v&&"BODY"!=v.tagName;){var W=WebSquare.style.getStyle(v,"position");if("relative"==W||"absolute"==W){y=W;break}v=v.parentElement}}var C=e.render.offsetLeft,q=e.render.offsetTop,w=e.render.offsetHeight,k=e.render.offsetWidth,P=e.render.scrollLeft,M=e.render.scrollTop;"relative"==g?(b=P,_=M):"static"==g&&"absolute"!=y&&(b=C,_=q);var T=b+(e.getSize("outerWidth")-e._processMsgComp.getSize("outerWidth"))/2,I=_+(e.getSize("outerheight")-e._processMsgComp.getSize("outerheight"))/2;if(e._processMsgComp.setPosition(T,I),e.bind("onkeydown",e._handleProcessEvent),null==e._processMsgModal){
var j=WebSquare.controlFactory.create(e.id+"_wq_proessMsgModal",{className:"w2_proc_modal",pluginName:"group",parseChild:!1},null,e,e,!0);j.writeTo(e),j.activate(),e.addControl(j),e._processMsgModal=j}e._processMsgModal.render.style.height=w+"px",e._processMsgModal.render.style.width=k+"px",e._processMsgModal.setPosition(b,_),e._processMsgModal.show(),n.Z.isMobile()||e.addClass("w2modalopened_wframe")}catch(t){o.Y.printStackTrace(t,null,e),l._hideProcessMessage(e)}},l._hideProcessMessage=function(e){try{if(e._processMsgQueue=[],e._processMsgAjaxCnt=0,null!=e._processMsgComp&&"promise"!==e._processMsgComp)e._processMsgComp.hide(),e.unbind("onkeydown",e._handleProcessEvent);else if(e._processMessageShowCnt>0)return void e._processMessageShowCnt--;null!=e._processMsgModal&&e._processMsgModal.hide(),e.removeClass("w2modalopened_wframe")}catch(t){o.Y.printStackTrace(t,null,e)}},l._createEmptyFrame=function(e){try{"function"!=typeof l._emptyConstructor&&(l._emptyConstructor=new Function,WebSquare.extend(l._emptyConstructor.prototype,l.prototype));var t=new l._emptyConstructor,r=["pluginName","pluginType","strictFrame","scope","scopeVariable","scopeFunction","mode"];if(t.id=e,t.uuid=e,t.options={id:e},WebSquare.strictModeFrame&&WebSquare.strictModeFrame.options)for(var i=0;i<r.length;i++){var a=r[i];t.options[a]=WebSquare.strictModeFrame.options[a]}return t.childControlList=[],t.childAllControlList=[],t.lazyImportsArr=[],t.scope={},t.scopeVariable={},t.executeStatus={},t._pageCommonArr=[],t._processMsgQueue=[],t._wframeModelStack=[],t._pCount=0,t._processMsgAjaxCnt=0,WebSquare.idCache[t.uuid]=t,WebSquare.idToUUID[t.id]=t.uuid,t.makeScopeVariable(!0),t.finalize=new Function(""),t.remove=new Function(""),t.destroy=new Function(""),t.setSrc=new Function(""),t}catch(e){o.Y.printStackTrace(e)}},l.__pendingWframeCount=0,l.__pendingWframePreOrderList=[],l.__pendingWframePostOrderList=[],l._cacheObj={},l.scope=function(e){this._parent_uuid=e,this._identifier="wframe_scope"},l.scope.prototype.getRuntimeId=function(e,t){try{for(var r=this._parent_uuid,i="",a=WebSquare.idCache[this._parent_uuid].options.scopeVariable.split(","),s={},n=0;n<a.length;n++)s[a[n].wq_trim()]=!0;if("string"==typeof t){var c=t.split("parent").length-1;for(n=0;n<c&&null!=r&&null!=WebSquare.idCache[r];n++)r=WebSquare.idCache[r].parentFrame}return!0===s[e]?i=null!=r?WebSquare.idCache[r].id+"_"+e:e:null!=r&&null!=WebSquare.idCache[r].scope[e]?i=WebSquare.idCache[r].scope[e].id||"":WebSquare.idToUUID[e]&&WebSquare.idCache[WebSquare.idToUUID[e]]&&(i=WebSquare.strictMode&&null!=WebSquare.idCache[r]&&WebSquare.idCache[WebSquare.idToUUID[e]].scope_id!==WebSquare.idCache[r].id?"":e),i}catch(e){return o.Y.printStackTrace(e,null,this),""}},l.scope.prototype.getSubmission=function(e,t){try{for(var r=WebSquare.ModelUtil.getModelByID(t),i=null,a=WebSquare.idCache[this._parent_uuid].id,s=WebSquare.idCache[this._parent_uuid].scope[e],n=0;n<r.submissions.length;n++){var c=r.submissions[n];if(s===c||c.scope_id===a&&c.id===e){i=c;break}}return i}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getSubmissionList=function(e){try{return void 0!==e&&null!=e||(e={}),!0!==e.all&&(e.scopeId=WebSquare.idCache[this._parent_uuid].id),WebSquare.ModelUtil.getSubmissionList(e)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.executeSubmission=function(e,t,r,i,a){try{var s;if("string"==typeof e)s=this.getSubmission(e);else if(s=e,WebSquare.strictMode&&s.scope_id!==WebSquare.idCache[this._parent_uuid].id)return;return WebSquare.ModelUtil.executeSubmission(s,t,r,i,a)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.createSubmission=function(e,t){try{var r,i=e.id,a=this.getFrame(),s=a.id,n=s+"_";return e.id=n+i,e.scope_id=s,e.org_id=i,r=WebSquare.ModelUtil.createSubmission(e,t),a.scope[i]=WebSquare.ModelUtil.getSubmission(e.id,null,{scope_id:s}),null!=a.frameDoc&&(this._deleteSubmissionDoc(i),a.frameDoc.models[0].submissions.push(a.scope[i])),r}catch(e){o.Y.printStackTrace(e)}},
l.scope.prototype.deleteSubmission=function(e,t){try{var r=this.getSubmission(e);this._deleteSubmissionDoc(e);var i=WebSquare.ModelUtil.deleteSubmission(r.id,t,{scope_id:this.getFrameId()});return delete WebSquare.idCache[this._parent_uuid].scope[e],i}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype._deleteSubmissionDoc=function(e){try{var t=this.getSubmission(e),r=this.getFrame();if(null!=r.frameDoc)for(var i=r.frameDoc.models[0].submissions,a=i.length-1;a>=0;a--)i[a].id===t.id&&(i[a].parentElement=null,i.splice(a,1))}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.createWorkflow=function(e,t){try{var r,i=e.id,a=this.getFrame(),s=a.id,n=s+"_";return e.id=n+i,e.scope_id=s,r=WebSquare.ModelUtil.createWorkflow(e,t),a.scope[i]=WebSquare.ModelUtil.getWorkflow(e.id,null,{scope_id:s}),r}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.deleteWorkflow=function(e,t){try{var r=this.getWorkflow(e),i=WebSquare.ModelUtil.deleteWorkflow(r.id,t,{scope_id:this.getFrameId()});return delete WebSquare.idCache[this._parent_uuid].scope[e],i}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getWorkflow=function(e,t){try{for(var r=WebSquare.ModelUtil.getModelByID(t),i=null,a=WebSquare.idCache[this._parent_uuid].id,s=WebSquare.idCache[this._parent_uuid].scope[e],n=0;n<r.workflows.length;n++){var c=r.workflows[n];if(s===c||c.scope_id===a&&c.id===e){i=c;break}}return i}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getRunningWorkflow=function(e,t){try{var r=null;if(e)null!=(n=this.getWorkflow(e,t))&&n.promiseStatus&&""!=n.promiseStatus&&(r=n);else for(var i=WebSquare.idCache[this._parent_uuid].id,a=WebSquare.ModelUtil.getModelByID(t),s=0;s<a.workflows.length;s++){var n;if((n=a.workflows[s]).scope_id===i&&n.promiseStatus&&""!=n.promiseStatus){r=n;break}}return r}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.isRunningWorkflow=function(e,t){try{return null!=this.getRunningWorkflow(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getRunningWorkflowID=function(e){try{var t=this.getRunningWorkflow(null,e),r=null;return null!=t&&(r=t.id),r}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.rejectWorkflow=function(e,t,r){try{var i=this.getRunningWorkflow(t,r),a=null;return null!=i&&(i.promiseStatus="REJECT",i.promiseValue=e||"REJECT",a=i),a}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.executeWorkflow=function(e){try{return WebSquare.ModelUtil.executeWorkflow(e,{scope_function:this})}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.executeSerial=function(e,t,r,i,a,s){try{return WebSquare.ModelUtil.executeSerial(e,t,r,i,a,s,{scope_function:this})}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.executeParallel=function(e,t,r,i,a,s){try{return WebSquare.ModelUtil.executeParallel(e,t,r,i,a,s,{scope_function:this})}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.executeWhilst=function(e,t,r,i,a,s,n){try{return WebSquare.ModelUtil.executeWhilst(e,t,r,i,a,s,n,{scope_id:this.getFrameId()})}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.ajax=function(e){try{if(e){var t=this.getFrame();t&&(e.scope=t.id),WebSquare.net.ajax(e)}}catch(e){o.Y.printStackTrace(e),this.hideProcessMessage()}},l.scope.prototype.dynamicCreate=function(e,t,r,i,a,s){try{return n.Z.dynamicCreate(e,t,r,i,a,s,this.getFrame())}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getFrameId=function(){try{return WebSquare.idCache[this._parent_uuid]&&WebSquare.idCache[this._parent_uuid].id||null}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getFrame=function(){try{return WebSquare.idCache[this._parent_uuid]}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype._getProcessMsgTargetFrame=function(){try{return WebSquare.idCache[this._parent_uuid].parentControl}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getParentWindow=function(){try{var e=WebSquare.idCache[this._parent_uuid].getParentFrame();return null==e?this.getFrame().options.strictFrame?n.Z.getParentWindow():window:e.scope}catch(e){o.Y.printStackTrace(e)}},
l.scope.prototype.getTopWindow=function(){try{return top}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.top=function(){try{return n.Z.getTopWindow()}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.parent=function(){try{return this.getParentWindow()}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.main=function(){try{var e,t=this.getFrame();return t&&(e=t._getInheritFrame("api")),e?e.scope:n.Z.getMainFrame()}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.self=function(){try{return this.getFrame().scope}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getComponentById=function(e){try{return n.Z.getComponentById(e,this.getFrameId())}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getPopupParam=function(e){try{void 0!==e&&null!=e||(e={});var t="",r=WebSquare.idCache[this._parent_uuid],i=null!=r._dataObject&&""!=r.options.popupParam&&r._dataObject.name===r.options.popupParam.slice(1);i=i||!0===e.dataObject;var a=null!=r.paramObj&&""!=r.options.popupParam;if(i||a){var s=i?r._dataObject.type.charAt(0):r.options.popupParam.charAt(0),c=i?r._dataObject.data:r.paramObj[r.options.popupParam.slice(1)];switch(s){case"j":t=JSON.stringify(c);break;case"x":t=WebSquare.xml.serialize(c);break;case"a":t=n.Z.parseArray(c);break;default:t=c}}return t}catch(e){return o.Y.printStackTrace(e),""}},l.scope.prototype.getParameter=function(e){try{var t,r=this.getFrame();if(r._dataObject&&r._dataObject.name===e)null==(t=r._dataObject.data)&&r.options.strictFrame&&(t=WebSquare.net.getParameter(e));else{var i=WebSquare.idCache[this._parent_uuid].paramObj;null!=i&&(t=i[e]),WebSquare.strictMode&&!r.options.strictFrame||null!=t||(t=WebSquare.net.getParameter(e))}return t}catch(e){return o.Y.printStackTrace(e),""}},l.scope.prototype.getAllParameter=function(){try{var e=JSON.parse(WebSquare.idCache[this._parent_uuid].options.params||null);for(var t in e)e[t]=e[t].slice(1);var r=this.getFrame(),i=r._getDataObject();return null!=i&&(null==e&&(e={}),r._getVersion()>=3?e[i.name]=i.data:e[i.name]=this.getPopupParam({dataObject:!0})),WebSquare.strictMode&&!this.getFrame().options.strictFrame||null!=e||(e=WebSquare.net.getAllParameter()),e}catch(e){return o.Y.printStackTrace(e),null}},l.scope.prototype.getOptions=function(e){try{var t,r=this.getFrame(),s=a.I._getParentObj();if(r.options.strictFrame){if(WebSquare.isWebSquarePopup&&null!=s&&null!=s.WebSquare){var n=WebSquare.net.getParameter("popupID");t=s.WebSquare.dataObject[n].data}}else t="pageFrame"===r.options.pluginName?WebSquare.WebSquareparser.parseAttribute(r.element):r._getDataObject("data");return i.q.extendKeepingType(e||{},t)||{}}catch(e){return o.Y.printStackTrace(e),""}},l.scope.prototype.setPopupParam=function(e,t){},l.scope.prototype.getPopupUrl=function(){try{var e=null;if(this.isWFramePopup()||this.getFrame()._getVersion()<3){var t=WebSquare.idCache[this._parent_uuid].getSrc();e=WebSquare.idCache[this._parent_uuid].getURL(t)}return e}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getPopupId=function(){try{var e=null;return this.isWFramePopup()&&(e=WebSquare.idCache[this._parent_uuid].paramObj.popupID),e}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.isWFramePopup=function(e,t){try{if(!e)return WebSquare.idCache[this._parent_uuid]._isWframePopup;for(var r=WebSquare.idCache[this._parent_uuid];r;){if(r.options.strictFrame)return!!t&&n.Z.isPopup();if(r._isWframePopup)return r._isWframePopup;r=r.getParentFrame()}}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.isPopup=function(e){try{return this.getFrame().options.strictFrame?n.Z.isPopup2():this.isWFramePopup(e,!0)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getPopup=function(e){try{return n.Z.getPopup(e,this._parent_uuid)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getPopupList=function(e){try{return n.Z.getPopupList(e,this._parent_uuid)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getPopupWindow=function(e){try{return n.Z.getPopupWindow(e,this._parent_uuid)}catch(e){o.Y.printStackTrace(e)}},
l.scope.prototype.getPopupWindowList=function(e){try{return n.Z.getPopupWindowList(e,this._parent_uuid)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.openPopup=function(e,t,r,i){try{void 0!==t&&null!=t||(t={}),t.scope_uuid||(t.scope_uuid=this._parent_uuid),n.Z.openPopup(e,t,r,i)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.closePopup=function(e,t){try{var r=e;void 0===e&&(r=this.getParameter("popupID"));var i=this.getPopup(r);if(i){var a=i.id;i.close(r,t),WebSquare.uiplugin.popup.startChkModalClosed(),!0===i.useWindowPopup()&&WebSquare.uiplugin.popup.removeFromPopupList(a)}else this.getFrame().options.strictFrame&&n.Z.closePopup(r,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.reinitialize=function(e){try{this.getFrame().reload(e)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getMetaValue=function(e){try{if(this.getFrame().options.strictFrame)return n.Z.getMetaValue(e);var t="",r=WebSquare.Elem.api.getElementsByTagName(this.getFrame().frameDoc.getPageInfo(),"head")[0];return r&&(t=WebSquare.Elem.api.getAttribute(r,e)),t}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.multipleExcelUpload=function(e){try{e.scopeId=this.id,n.Z.multipleExcelUpload(e)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.multipleExcelDownload=function(e){try{e.scopeId=this.id,n.Z.multipleExcelDownload(e)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.$=function(e){try{for(var t,r=e.split("#"),i=0;i<r.length;i++){var a=r[i].search(/[\W]/);if(0!==a){var s,c="";a<0?s=r[i]:(s=r[i].slice(0,a),c=r[i].slice(a));var p=this.getComponentById(s);null!=p&&(r[i]=p.id+c)}}t=r.join("#");var l="";return this.getFrame().options.strictFrame||(l="#"+this.getFrameId()+" "),n.Z.jQuerySelector(l+t)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.watermark=function(e,t){try{void 0!==t&&null!=t||(t={});var r=this.getFrame(),i=r.id;t.canvasId||(t.canvasId=i+"_watermarkCanvas"),t.target||(t.target=r),n.Z.watermark(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.emit=function(e){try{var t=[].slice.apply(arguments,[0]);return t.shift(),this.getFrame().trigger(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.updateSuffix=function(e){try{void 0!==e&&null!=e||(e={});var t=this.getFrame().id;e.scopeId=t,n.Z.updateSuffix(e)}catch(e){o.Y.printStackTrace(e)}},l.scope.bigDecimal=function(e){try{var t=function(e){return WebSquare.bigDecimal(e)};return t.calc=(r=e,function(e,t){return WebSquare.bigDecimal.calc(e,t,r)}),t}catch(e){o.Y.printStackTrace(e)}var r},l.scope.prototype.updateServerTime=function(e,t,r){try{var i,a=this.getFrame()._getMsaName();return i=!a||void 0!==r&&""!=r?a||void 0!==r&&""!=r?r:"":a,WebSquare.date.updateServerTime(e,t,i)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.getCurrentServerDate=function(e,t){try{var r,i=this.getFrame()._getMsaName();return r=!i||void 0!==t&&""!=t?i||void 0!==t&&""!=t?t:void 0:i,WebSquare.date.getCurrentServerDate(e,r)}catch(e){o.Y.printStackTrace(e)}},l.scope.data=function(e){this._parent_id=e,this._identifier="wframe_scope_data"},l.scope.data.prototype.get=function(e,t,r){try{return r||(r={}),r.scope_obj||(r.scope_obj=this._parent_id),WebSquare.DataCollection.api.get(e,t,r)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.set=function(e,t,r,i){try{return i||(i={}),i.scope_obj||(i.scope_obj=this._parent_id),WebSquare.DataCollection.api.set(e,t,r,i)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.create=function(e,t){try{return void 0!==t&&null!=t||(t={}),t.scope_obj||(t.scope_obj=this._parent_id),WebSquare.DataCollection.api.create(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.remove=function(e,t){try{return void 0!==t&&null!=t||(t={}),t.scope_obj||(t.scope_obj=this._parent_id),WebSquare.DataCollection.api.remove(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.bindPath=function(e){try{var t=e.split("."),r={};return r.collectionId=t[0].replace(/^data:/,""),t>1&&(r.columnId=t[1]),r}catch(e){o.Y.printStackTrace(e)}},
l.scope.data.prototype.getAllDataCollection=function(e,t){try{return void 0!==t&&null!=t||(t={}),t.scope_obj||(t.scope_obj=this._parent_id),WebSquare.DataCollection.api.getAllDataCollection(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.getBroadcast=function(e){try{return void 0!==e&&null!=e||(e={}),e.scope_obj||(e.scope_obj=this._parent_id),WebSquare.DataCollection.api.getBroadcast(e)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.getInfo=function(e,t,r,i){try{return void 0!==i&&null!=i||(i={}),i.scope_obj||(i.scope_obj=this._parent_id),WebSquare.DataCollection.api.getInfo(e,t,r,i)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.getOption=function(e,t){try{return void 0!==t&&null!=t||(t={}),t.scope_obj||(t.scope_obj=this._parent_id),WebSquare.DataCollection.api.getOption(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.setBroadcast=function(e,t){try{return void 0!==t&&null!=t||(t={}),t.scope_obj||(t.scope_obj=this._parent_id),WebSquare.DataCollection.api.setBroadcast(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.data.prototype.setOption=function(e,t,r){try{return void 0!==r&&null!=r||(r={}),r.scope_obj||(r.scope_obj=this._parent_id),WebSquare.DataCollection.api.setOption(e,t,r)}catch(e){o.Y.printStackTrace(e)}},l.scope.model=function(e){this.scope_id=e},l.scope.model.prototype.setInstanceValue=function(e,t,r){return WebSquare.ModelUtil.setInstanceValue(e,t,r,this.scope_id)},l.scope.model.prototype.getInstanceValue=function(e,t){return WebSquare.ModelUtil.getInstanceValue(e,t,this.scope_id)},l.scope.model.prototype.findInstanceNode=function(e,t){return WebSquare.ModelUtil.findInstanceNode(e,t,this.scope_id)},l.scope.model.prototype.findInstanceNodes=function(e,t){return WebSquare.ModelUtil.findInstanceNodes(e,t,this.scope_id)},l.scope.model.prototype.findSerializedNode=function(e,t){return WebSquare.ModelUtil.findSerializedNode(e,t,this.scope_id)},l.scope.model.prototype.removeInstanceNode=function(e){return WebSquare.ModelUtil.removeInstanceNode(e,this.scope_id)},l.scope.model.prototype.removeInstanceNodes=function(e){return WebSquare.ModelUtil.removeInstanceNodes(e,this.scope_id)},l.scope.model.prototype.removeChildNodes=function(e){return WebSquare.ModelUtil.removeChildNodes(e,this.scope_id)},l.scope.model.prototype.copyNode=function(e,t,r,i){return WebSquare.ModelUtil.copyNode(e,t,r,i,this.scope_id)},l.scope.prototype.updateSuffix=function(e){try{void 0!==e&&null!=e||(e={});var t=this.getFrame().id;e.scopeId=t,n.Z.updateSuffix(e)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.showProcessMessage=function(e,t){try{void 0!==t&&null!=t||(t={});var r=WebSquare.idCache[this._parent_uuid].id;return t.scope||(t.scope=r),WebSquare.layer.showProcessMessage(e,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.hideProcessMessage=function(e){try{void 0!==e&&null!=e||(e={});var t=WebSquare.idCache[this._parent_uuid].id;return e.scope||(e.scope=t),WebSquare.layer.hideProcessMessage(e)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.js=function(...e){try{if(0===e.length)return;var t=e.slice(0),r=t[t.length-1];return"string"==typeof r&&a.I._msaServerHash[r]&&t.length>=2||"string"==typeof(r=this.getFrame()._getMsaName())&&a.I._msaServerHash[r]&&t.push(r),WebSquare.util.js.apply(this,t)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.jsAsync=async function(e,t){try{if("string"==typeof e&&(e=e.split(",")),!(e instanceof Array))return;void 0!==t&&null!=t||(t={});var r=[],i=this.getFrame(),s={frameObj:i,msaName:t.msaName,wpack:t.wpack};if(t.scopeVariable){var c=t.scopeVariable;if("string"==typeof t.scopeVariable&&(c=t.scopeVariable.split(",")),c instanceof Array)for(var p=0;p<c.length;p++){var u=c[p];u&&null==i.scope[u]&&(i.scope[u]={})}}for(p=0;p<e.length;p++){var h,d=e[p],m=a.I._getMsaSrc(d,s);if("function"==typeof l._cacheObj[m]){var f={func:l._cacheObj[m],cached:!0,scopeId:i.id};h=Promise.resolve(f)}else{var S={skipError:!0,noPostfix:!0,useInfo:!0,infoObj:{url:m,scopeId:i.id,
noCache:t.noCache}};h=a.I.loadAsync(m,S)}h instanceof window.Promise&&r.push(h)}i.id;if(!0===t.await)for(p=0;p<r.length;p++){var g,b=await r[p];if(!0===b.cached)g=b.func;else if(b.data){var _=n.Z.scopingFuncBody(b.data,"scopeComp","scopeObj",{async:!0});g=new Function("scopeComp",_),"string"==typeof b.url&&b.url&&!0!==b.noCache&&(l._cacheObj[b.url]=g)}if("function"==typeof g){var y=n.Z.getComponentById(b.scopeId);await g(y),y.refreshInheritScopeCommon()}}else await Promise.allSettled(r).then((function(e){for(var t=0;t<e.length;t++)if("fulfilled"===e[t].status){var r,i=e[t].value;if(i&&"object"==typeof i){if(!0===i.cached)r=i.func;else if(i.data){var a=n.Z.scopingFuncBody(i.data,"scopeComp","scopeObj");r=new Function("scopeComp",a),"string"==typeof i.url&&i.url&&!0!==i.noCache&&(l._cacheObj[i.url]=r)}if("function"==typeof r){var o=n.Z.getComponentById(i.scopeId);r(o)}o.refreshInheritScopeCommon()}}}))}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.loadPageCommon=function(e){try{if(!(e instanceof Array))throw new Error("$p.loadPageCommon error : invalid parameter. The infoArray must be of array type.");for(var t=[],r=this.getFrame(),i={onpageloadNow:!0},a=0;a<e.length;a++){var s=e[a];if(s.src&&s.id&&"string"==typeof s.src&&"string"==typeof s.id)t.push(r._parsePageCommon(s,i));else{var n="$p.loadPageCommon partial error : invalid info. src : "+s.src+", id : "+s.id;c.v.printLog(n),t.push(Promise.reject(new Error(n)))}}return r._parsePageCommonsAfter(t)}catch(e){o.Y.printStackTrace(e)}},l.scope.prototype.loadMSACommon=async function(e){try{if(!(e instanceof Array))throw new Error("$p.loadMSACommon error : invalid parameter. The infoArray must be of array type.");var t=a.I.projectCommonVariable;window[t]||(window[t]={});for(var r=[],i=[],s=this.getFrame()._getMsaName(),n=0;n<e.length;n++){var p=e[n],l=p.src,u=p.name,h=p.msaServerName,d=p.spaCache,m=p.reload;if("string"==typeof l&&"string"==typeof u&&l&&u){u=u.replace(t+".",""),!0!==m&&(a.I._msaHash[u]||a.I._projectCommonHash[u]);var f=l;if(h&&"string"==typeof h||(h=s),h&&"string"==typeof h){var S={msaName:h};f=a.I.getURL(l,S)}var g=WebSquare.jsLoader._loadObj(f,S);if(g instanceof window.Promise){r.push(g);var b={name:u,src:l,spaCache:d};i.push(b)}}else{var _="$p.loadMSACommon partial error : invalid info. src : "+l+", name : "+u;c.v.printLog(_),r.push(Promise.reject(new Error(_)))}}await a.I._loadWebSquareCommon("msa",r,i)}catch(e){o.Y.printStackTrace(e)}}}}]);