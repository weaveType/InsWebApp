"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[9370],{9370:function(t,e,a){a.r(e),a.d(e,{scheduleCalendar:function(){return p}});var i=a(2284),o=a(467),n=a(4756),s=a.n(n),r=a(6789),l=a(1599),d=a(7819),h=a(6722),u=a(6484),c=a(2918),f=a(2702),p=function(t,e,a){c.q.call(this,t,e,a)};r.q.extend(p.prototype,c.q.prototype),p.prototype.defaultOptions={useConfig:!0,pluginType:"uiplugin.scheduleCalendar",pluginName:"scheduleCalendar",userEvents:["onclick","onmoveschedule","onaddschedule","onbeforeaddschedule","onheaderbtnclick"],dataList:"",titleColumn:"",startColumn:"",endColumn:"",idColumn:"",themeColumn:"",ioFormat:"yyyyMMdd",dateFormat:"yyyyMMdd",defaultDate:"",editable:!1,escape:!0,eventLimit:!0,dayMaxEvents:!0,selectable:!1,scheduleClickPopup:!0,lang:"ko",locale:"ko",headerLeftBtn:!0,headerRightBtn:!0,headerTitle:!0,serverSync:!1,version:"",cssRenderOrder:!1,tooltipDisplay:!1,defaultView:"month",initialView:"dayGridMonth",viewIcon:"",headerToolbarStart:"prev,next today",headerToolbarCenter:"title",headerToolbarEnd:"dayGridMonth,dayGridWeek,dayGridDay",useHeaderToolbar:!0,useFooterToolbar:!1,footerToolbarStart:"",footerToolbarCenter:"",footerToolbarEnd:"",customButtonText:"",customButtonClickFunction:"",dayNames:"",weekday:"",nextDayThreshold:"09:00:00",weekNumbers:!1,navLinks:!1,timeFormat:"",useDefaultDayNameStyle:!0,noUsePrompt:!1,headerTableSummary:"",headerTableCaptionStr:"",headerTableCaptionClass:"",weekStartsOn:0},p.prototype.initialize=function(t){this.options.idColumn||(this.options.idColumn="title"),this.scheduleEvent=[],this.dragItem={rowIndex:""},"$blank"===this.options.headerToolbarStart&&(this.options.headerToolbarStart=""),"$blank"===this.options.headerToolbarCenter&&(this.options.headerToolbarCenter=""),"$blank"===this.options.headerToolbarEnd&&(this.options.headerToolbarEnd=""),this.todayHelper=new WebSquare.uiplugin.dateHelper(this.options.serverSync,this.scope_id),this.selectable=u.Z.getBoolean(this.options.selectable),this.options.initialDate=this.options.initialDate||this.options.defaultDate,this.options.nowClass=this.options.nowClass||this.options.defaultDateClass,this.options.version&&(this._version=parseFloat(this.options.version))},p.prototype.initAsync=(0,o.A)(s().mark((function t(){var e,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,p.isImported){t.next=34;break}if("6.1.11"!==this.options.version){t.next=9;break}return t.next=5,inquires("externalJS/fullcalendar6.1.11/fullcalendar.js");case 5:return t.next=7,inquires("externalJS/fullcalendar6.1.11/lang-all.js");case 7:t.next=30;break;case 9:if("3.6"!==this.options.version){t.next=23;break}return WebSquare.skin.addImport(r.q._resourceURI+"externalJS/fullcalendar3.6.2/fullcalendar.css",!0,{noClear:!0}),t.next=13,inquires("externalJS/fullcalendar3.6.2/lib/jquery.min.js");case 13:return t.next=15,inquires("externalJS/fullcalendar3.6.2/lib/jquery-ui.min.js");case 15:return t.next=17,inquires("externalJS/fullcalendar3.6.2/lib/moment.min.js");case 17:return t.next=19,inquires("externalJS/fullcalendar3.6.2/fullcalendar.js");case 19:return t.next=21,inquires("externalJS/fullcalendar3.6.2/locale-all.js");case 21:t.next=30;break;case 23:return WebSquare.skin.addImport(r.q._resourceURI+"externalJS/fullCalendar/fullcalendar.css",!0,{noClear:!0}),t.next=26,inquires("externalJS/fullCalendar/lib/moment.min.js");case 26:return t.next=28,inquires("externalJS/fullCalendar/fullcalendar.min.js");case 28:return t.next=30,inquires("externalJS/fullCalendar/lang-all.js");case 30:e=[],this.options.cssRenderOrder&&(a=document.getElementsByTagName("head")[0])&&a.getElementsByTagName("link")[1]&&(e[0]=a.getElementsByTagName("link")[1]),WebSquare.WebSquaredoc.cssList=WebSquare.WebSquaredoc.cssList.concat(WebSquare.cssManager.executeImport(e[0])),p.isImported=!0;case 34:t.next=39;break;case 36:t.prev=36,t.t0=t.catch(0),d.Y.printStackTrace(t.t0,null,this);case 39:case"end":return t.stop()}}),t,this,[[0,36]])}))),
p.prototype.toHTML=function(){try{var t=[],e=""==this.options.style?"":"style='"+this.options.style+"'",a=""==this.options.tabIndex?"":"tabIndex='"+this.options.tabIndex+"'";return t.push("<div id='"+this.id+"' "+e+" class='w2scheduleCalendar "+this.options.className+"' "+a+">"),t.push("</div>"),t.join("")}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.setAction=function(){try{var t,e;this.options.eventTitleFormatter=this.options.titleFormatter||this.options.eventTitleFormatter,this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMouseDownEvent));var a=!1,i={},o=[];if(this._version>6)t={start:this.options.headerToolbarStart,center:this.options.headerToolbarCenter,end:this.options.headerToolbarEnd},this.options.useFooterToolbar&&(this.options.footerToolbarStart||this.options.footerToolbarStart||this.options.footerToolbarStart)&&(a=!0,e={start:this.options.footerToolbarStart,center:this.options.footerToolbarCenter,end:this.options.footerToolbarEnd});else if(t={left:"prev,next,today",center:"title",right:"month,"},this.options.viewIcon){this.options.viewIcon=this.options.viewIcon.replaceAll(" ","");for(var n=this.options.viewIcon.split(","),s=0;s<n.length;s++)switch(n[s]){case"month":case"basicWeek":case"agendaWeek":case"basicDay":case"agendaDay":o.push(n[s])}o.length>0&&(t.right=o.join(","))}else"agendaWeek"==this.options.defaultView?t.right+="agendaWeek,":t.right+="basicWeek,","agendaDay"==this.options.defaultView?t.right+="agendaDay":t.right+="basicDay";var r=this,c=WebSquare.idCache[this.uuid];this.defaultData={},this.defaultData.firstDay=this.options.weekStartsOn,this.options.ioFormat=this.options.ioFormat?this.options.ioFormat:"yyyyMMdd",this.headerBtnInfo={headerLeftBtn:this.options.headerLeftBtn,headerRightBtn:this.options.headerRightBtn,headerTitle:this.options.headerTitle},this.dayNameStyle={};var f=WebSquare.date.getFormattedDate(new Date,"yyyy-MM-dd");if(this._version>6){if(this.options.useDefaultDayNameStyle&&(this.defaultDayNameStyle={defaultOption:!0,sun:{header:{color:"#ff0000"},body:{background:{"background-color":"#fae8e8"},num:{color:"#d02121"}}},sat:{header:{color:"#0000ff"},body:{background:{"background-color":"#eef2fa"},num:{color:"#5a82cf"}}}}),this.defaultData.buttonText={},this.options.todayButtonText&&(this.defaultData.buttonText.toDay=this.options.todayButtonText),this.options.dayGridMonthButtonText&&(this.defaultData.buttonText.dayGridMonth=this.options.dayGridMonthButtonText),this.options.dayGridWeekButtonText&&(this.defaultData.buttonText.dayGridWeek=this.options.dayGridWeekButtonText),this.options.dayGridDayButtonText&&(this.defaultData.buttonText.dayGridDay=this.options.dayGridDayButtonText),this.options.timeGridWeekButtonText&&(this.defaultData.buttonText.timeGridWeek=this.options.timeGridWeekButtonText),this.options.timeGridDayButtonText&&(this.defaultData.buttonText.timeGridDay=this.options.timeGridDayButtonText),this.options.listMonthButtonText&&(this.defaultData.buttonText.listMonth=this.options.listMonthButtonText),this.options.listWeekButtonText&&(this.defaultData.buttonText.listWeek=this.options.listWeekButtonText),this.options.listDayButtonText&&(this.defaultData.buttonText.listDay=this.options.listDayButtonText),(this.options.titleFormatMonth||this.options.titleFormatDay)&&(this.defaultData.titleFormat={year:"numeric"},this.options.titleFormatMonth&&(this.defaultData.titleFormat.month=this.options.titleFormatMonth),this.options.titleFormatDay&&(this.defaultData.titleFormat.day=this.options.titleFormatDay)),"long"===this.options.weekday){var p=this.options.weekday;this.defaultData.views={dayGridMonth:{dayHeaderFormat:{weekday:p}},dayGridWeek:{dayHeaderFormat:{weekday:p,month:"numeric",day:"numeric",omitCommas:!0}},timeGridMonth:{dayHeaderFormat:{weekday:p}},timeGridWeek:{dayHeaderFormat:{weekday:p,month:"numeric",day:"numeric",omitCommas:!0}}}}var y,m
;!1===this.options.useHeaderToolbar?this.defaultData.headerToolbar=!1:this.defaultData.headerToolbar=t,a&&(this.defaultData.footerToolbar=e),Object.keys(i).length>0&&(this.defaultData.customButtons=i),this.defaultData.dayMaxEvents=this.options.dayMaxEvents||!1,this.defaultData.initialView=this.options.initialView||"dayGridMonth",this.defaultData.selectMirror=!0,this.defaultData.initialDate=WebSquare.text.formatDate(this.options.defaultDate,"yyyy-MM-dd",this.options.ioFormat)||f,this.options.now&&(this.defaultData.now=WebSquare.text.formatDate(this.options.now,"yyyy-MM-dd",this.options.ioFormat)),this.defaultData.timeZone=this.options.timeZone,this.defaultData.eventMouseEnter=function(t){try{if(r.options.tooltipDisplay){if(!t.event._def.title)return;if(!t.el)return;m=t.el,y||((y=document.createElement("div")).style.zIndex=10001,y.style.position="absolute",y.className="w2scheduleCalendar_tooltip w2w2scheduleCalendar_fadeIn"),y.style.display="",y.innerHTML=t.event._def.title,document.body.appendChild(y),h.f.addListener(t.el,"onmouseover",(function(){m.style.zIndex=1e4})),h.f.addListener(t.el,"onmousemove",(function(t){y.style.top=t.clientY+10+"px",y.style.left=t.clientX+20+"px"}))}}catch(t){d.Y.printStackTrace(t,null,c)}},this.defaultData.eventMouseLeave=function(t){try{m&&(m.style.zIndex=8),y&&(y.style.display="none")}catch(t){d.Y.printStackTrace(t,null,c)}},this.defaultData.datesSet=function(t){try{r.defaultDayNameStyle&&r.setDayNameStyle(r.defaultDayNameStyle),r.dayNameStyle&&r.setDayNameStyle(r.dayNameStyle),r.removeUnValidAttribute();for(var e,a=r.render.querySelectorAll("colgroup"),i=0;i<a.length;i++)a[i].innerHTML||(a[i].innerHTML="<col/><col/><col/><col/><col/><col/><col/>");if(r.options.headerTableSummary)(e=r.render.querySelector(".fc-col-header"))&&!e.hasAttribute("summary")&&e.setAttribute("summary",r.options.headerTableSummary);if(r.options.headerTableCaptionStr)if(e=r.render.querySelector(".fc-col-header")){var o=document.createElement("caption"),n=document.createTextNode(r.options.headerTableCaptionStr);o.appendChild(n),o.className=r.options.headerTableCaptionClass,e.insertBefore(o,e.children[0])}}catch(t){d.Y.printStackTrace(t,null,c)}},this.defaultData.moreLinkDidMount=function(t){try{var e=t.el;e&&(e.getAttribute("aria-controls")||e.removeAttribute("aria-controls"),e.hasAttribute("href")||e.setAttribute("href","javascript:void(null);"))}catch(t){d.Y.printStackTrace(t,null,c)}},this.options.eventTitleFormatter&&(this.defaultData.eventContent=function(t){try{if(c.options.eventTitleFormatter&&t.event){var e=t.event._def.title;if("function"!=typeof c.eventTitleFormatter){var a=u.Z.getGlobalFunction(c.options.eventTitleFormatter,c.scope_id);null!=a&&(c.options.eventTitleFormatter=a,e=a.call(c,{title:e}))}else e=c.options.eventTitleFormatter.call(c,{title:e});return c.options.escape&&(e=WebSquare.xml._encode(e)),{html:e}}}catch(t){d.Y.printStackTrace(t,null,c)}}),this.defaultData.eventTimeFormat=this.options.eventTimeFormat,this.options.weekText&&(this.defaultData.weekText=this.options.weekText),this.options.weekNumberFormat&&(this.defaultData.weekNumberFormat={week:this.options.weekNumberFormat})}else this.defaultDayNameStyle={defaultOption:!0,sun:{header:{color:"#ff0000"},body:{background:{"background-color":"#d02121",opacity:"0.1"},num:{color:"#d02121"}}},sat:{header:{color:"#0000ff"},body:{background:{"background-color":"#5a82cf",opacity:"0.1"},num:{color:"#5a82cf"}}}},this.defaultData.header=t,this.defaultData.defaultDate=WebSquare.text.formatDate(this.options.defaultDate,"yyyy-MM-dd",this.options.ioFormat)||f,this.defaultData.eventLimit=this.options.eventLimit||!1,this.defaultData.headerTableSummary=this.options.headerTableSummary||"",this.defaultData.headerTableCaptionStr=this.options.headerTableCaptionStr||"",this.defaultData.headerTableCaptionClass=this.options.headerTableCaptionClass||"",
o.length>0&&-1===o.indexOf(this.options.defaultView)?this.defaultData.defaultView=o[0]||"month":this.defaultData.defaultView=this.options.defaultView||"month",this.defaultData.selectHelper=!0,this.defaultData.eventMouseover=function(t,e){if(r.options.tooltipDisplay){if(!t.title)return;var a='<div class="w2scheduleCalendar_tooltip" style="position:absolute;z-index:10001;">'+t.title+"</div>",i=$(a).appendTo("body");$(this).mouseover((function(t){$(this).css("z-index",1e4),i.fadeIn("500"),i.fadeTo("10",1.9)})).mousemove((function(t){i.css("top",t.pageY+10),i.css("left",t.pageX+20)}))}},this.defaultData.eventMouseout=function(t,e){$(this).css("z-index",8),$(".w2scheduleCalendar_tooltip").remove()},this.defaultData.eventAfterRender=function(){},this.defaultData.eventAfterAllRender=function(t,e){r.setHeaderBtn(r.headerBtnInfo),r.setDayNameStyle(r.defaultDayNameStyle),r.setDayNameStyle(r.dayNameStyle),c.handleEventAfterAllRender(c.defaultData.events),$(".fc-day").hasClass(c.options.defaultDateClass)&&$(".fc-today").removeClass("fc-today")},this.defaultData.eventRender=function(t,e){var a=e.find(".fc-title");if(a.length>0){var i=a.text();if(c.options.eventTitleFormatter)try{if("function"!=typeof c.options.eventTitleFormatter){var o=u.Z.getGlobalFunction(c.options.eventTitleFormatter,c.scope_id);null!=o&&(c.options.eventTitleFormatter=o,i=o.call(c,{title:i}))}else i=c.options.eventTitleFormatter.call(c,{title:i})}catch(t){d.Y.printStackTrace(t,null,c)}i=c.options.escape?WebSquare.xml._encode(i):i,a[0].innerHTML=i}},this.defaultData.dayRender=function(t,e){var a=t._d.getDate()+"",i=t._d.getMonth()+1+"",o=t._d.getFullYear()+"";1==i.length&&(i="0"+i),1==a.length&&(a="0"+a);var n=o+i+a;c.options.defaultDate===n&&c.options.defaultDateClass&&!e.hasClass("fc-other-month")&&e.addClass(c.options.defaultDateClass)},this.defaultData.timeFormat=this.options.timeFormat,this.defaultData.width=this.render.offsetWidth||"100%";if(this.options.hiddenDays){var v=[],b=this.options.hiddenDays.split(",");for(s=0;s<b.length;s++)isNaN(parseInt(b[s]))||v.push(parseInt(b[s]));this.defaultData.hiddenDays=v}if(this.defaultData.weekends=this.options.weekends,this.defaultData.navLinks=this.options.navLinks,this.defaultData.editable=this.options.editable||!1,this.defaultData.height=this.render.offsetHeight||"100%",this.defaultData.longPressDelay=this.options.longPressDelay||"",this.defaultData.eventLongPressDelay=this.options.eventLongPressDelay||"",this.defaultData.selectLongPressDelay=this.options.selectLongPressDelay||"",this._version>3?this.defaultData.locale=this.options.locale:this.defaultData.lang=this.options.lang||"ko",this.options.nextDayThreshold&&("00:00:00"==this.options.nextDayThreshold?this.defaultData.nextDayThreshold="00:00:01":this.defaultData.nextDayThreshold=this.options.nextDayThreshold),this.defaultData.weekNumbers=this.options.weekNumbers,this.defaultData.weekNumberCalculation="ISO",this._version>6?this.defaultData.selectable=this.selectable:this.defaultData.selectable=!0,this.defaultData.select=(x=this,function(t,e){x.__removed_object__||x.getDisabled&&1==x.getDisabled()||(x._version>6?(x.handleClickEvent(t.start,t.end,null,{allDay:t.allDay}),"timeGridWeek"!==this.currentData.currentViewType&&"timeGridDay"!==this.currentData.currentViewType||this.unselect()):x.handleClickEvent(t,e))}),this.options.dataList&&this.refreshItemset(),this.defaultData.eventClick=function(t,e,a){var i;c._version>6?(i=c.getScheduleInfo(t.event._def.publicId),c.handleClickEvent(t.event._instance.range.start,t.event._instance.range.end,i)):(i=c.getScheduleInfo(t.id),c.handleClickEvent(t.start,t.end||t.start,i))},this.options.eventOrderColumn&&(this.defaultData.eventOrder=function(t,e){var a=c._version>6?t[c.options.eventOrderColumn]:t.miscProps[c.options.eventOrderColumn],i=c._version>6?e[c.options.eventOrderColumn]:e.miscProps[c.options.eventOrderColumn];return parseInt(a)&&parseInt(i)?parseInt(a)<parseInt(i)?-1:1:a<i?-1:1}),this.options.dataList){
var g=function(t,e,a,i){var o=t.id||t.title;c._version>6&&(o=t.event._def.publicId||t.event._def.title),c.dragItem=c.getScheduleInfo(o),c.dragItem.rowIndex=c.getScheduleIndex(o)};this.defaultData.eventDragStart=g,this.defaultData.eventDrop=function(t,e,a,i,o,n){c._version>6&&(e=t.delta);var s=c.dragItem,r={};if(r[c.options.idColumn]=s[c.options.idColumn],r[c.options.titleColumn]=s[c.options.titleColumn],s[c.options.startColumn].substring(0,8)){var l=c._version>6?e.days:e._days;r[c.options.startColumn]=WebSquare.date.dateAdd(s[c.options.startColumn].substring(0,8),l)+s[c.options.startColumn].substring(8,s[c.options.startColumn].length),r[c.options.endColumn]=WebSquare.date.dateAdd(s[c.options.endColumn].substring(0,8),l)+s[c.options.endColumn].substring(8,s[c.options.endColumn].length)}c.options.eventOrderColumn&&(r[c.options.eventOrderColumn]=s[c.options.eventOrderColumn]);var d=s.rowIndex,h=c._dataList.getRowJSON(d);c._dataList.setRowJSON(d,r,!0),c._scheduleListener(h,d),c.dragItem={}},this.options.editable&&(this.defaultData.eventResizeStart=g,this.defaultData.eventResize=function(t,e,a,i,o,n){try{c._version>6&&(e=t.endDelta);var s=c.dragItem,r={};if(r[c.options.idColumn]=s[c.options.idColumn],r[c.options.titleColumn]=s[c.options.titleColumn],s[c.options.startColumn].substring(0,8)){var l=c._version>6?e.days:e._days;r[c.options.startColumn]=WebSquare.date.dateAdd(s[c.options.startColumn].substring(0,8),0)+s[c.options.startColumn].substring(8,s[c.options.startColumn].length),r[c.options.endColumn]=WebSquare.date.dateAdd(s[c.options.endColumn].substring(0,8),l)+s[c.options.endColumn].substring(8,s[c.options.endColumn].length)}c.options.eventOrderColumn&&(r[c.options.eventOrderColumn]=s[c.options.eventOrderColumn]);var h=s.rowIndex,u=c._dataList.getRowJSON(h);c._dataList.setRowJSON(h,r,!0),c._scheduleListener(u,h),c.dragItem={}}catch(t){d.Y.printStackTrace(t,null,c)}})}if(this._version>6){var D=document.getElementById(this.id);this.calendar=new FullCalendar.Calendar(D,this.defaultData),this.calendar.render();var C=this.render.getElementsByClassName("fc-header-toolbar")[0];C&&this.event.addListener(C,"onclick",this.event.bindAsEventListener(this,this.handleToolbarClickEvent))}else{if("synchronous"===(l.I.getConfiguration("/WebSquare/postDrawMode/@value")||"asynchronous")?setTimeout((function(){$("#"+r.id).fullCalendar(r.defaultData)}),0):$("#"+this.id).fullCalendar(this.defaultData),this.options.serverSync){var S=new Date(this.todayHelper.getYear(),this.todayHelper.getMonth()-1,this.todayHelper.getDate());$("#"+this.id).fullCalendar("gotoDate",S.toISOString())}if("3.6"==this.options.version||"2.3"==this.options.version){var T=this.uuid;$("#"+r.id).on("click","button.fc-prev-button",(function(){var t=r._getViewType(c.id,"prev",!0);h.f.fireEvent(WebSquare.idCache[T],"onheaderbtnclick",t)})),$("#"+r.id).on("click","button.fc-next-button",(function(){var t=r._getViewType(c.id,"next",!0);h.f.fireEvent(WebSquare.idCache[T],"onheaderbtnclick",t)})),$("#"+r.id).on("click","button.fc-today-button",(function(){var t=r._getViewType(c.id,"today",!0);h.f.fireEvent(WebSquare.idCache[T],"onheaderbtnclick",t)})),$("#"+r.id).on("click","button.fc-month-button",(function(){var t=r._getViewType(c.id,"month",!1);h.f.fireEvent(WebSquare.idCache[T],"onheaderbtnclick",t)})),$("#"+r.id).on("click","button.fc-basicWeek-button",(function(){var t=r._getViewType(c.id,"basicWeek",!1);h.f.fireEvent(WebSquare.idCache[T],"onheaderbtnclick",t)})),$("#"+r.id).on("click","button.fc-basicDay-button",(function(){var t=r._getViewType(c.id,"basicDay",!1);h.f.fireEvent(WebSquare.idCache[T],"onheaderbtnclick",t)}))}}}catch(t){d.Y.printStackTrace(t,null,this)}var x},p.prototype._getViewType=function(t,e,a){try{var i={buttonType:e,viewType:$("#"+t).fullCalendar("getView").type};if(a){
var o=new Date($("#"+t).fullCalendar("getDate")._d),n=WebSquare.text.fillZero(o.getUTCFullYear()+"",4)+WebSquare.text.fillZero(o.getUTCMonth()+1+"",2)+WebSquare.text.fillZero(o.getUTCDate()+"",2);i.date=n}return i}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.refreshItemset=function(){try{var t=this.options.dataList.replace(/^data:/,""),e=this.modelControl.getDataComp(t);if(null==this._dataList&&null!=e){this._dataList=e,this._dataList.addChild(this),this.modelControl.isDataCollectionItemsetBinded=!0,this.modelControl.useItemset=!0;var a=this.getscheduleCalendarData(this.options.titleColumn,this.options.startColumn,this.options.endColumn,this.options.idColumn,this.options.themeColumn,this.options.eventOrderColumn);this.defaultData.events=a}else{a=this.getscheduleCalendarData(this.options.titleColumn,this.options.startColumn,this.options.endColumn,this.options.idColumn,this.options.themeColumn,this.options.eventOrderColumn);this.defaultData.events=a,this._version>6?(this.calendar.removeAllEvents(),this.calendar.addEventSource(this.defaultData.events),this.calendar.refetchEvents()):($("#"+this.id).fullCalendar("removeEvents"),$("#"+this.id).fullCalendar("addEventSource",this.defaultData.events),$("#"+this.id).fullCalendar("refetchEvents"))}}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype._scheduleListener=function(t,e){try{var a=this._dataList.getRowJSON(e),i="",o={};for(var n in i=null==t?"onaddschedule":"onmoveschedule",t)a.hasOwnProperty(n)||delete t[n];o.rowIndex=e,o.newObj=a,"onmoveschedule"==i&&(o.oldObj=t),h.f.fireEvent(this,i,o)}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.addSchedule=function(t){try{if(t.length){for(var e=0;e<t.length;e++)if(u.Z.getBoolean(this.options.includeScheduleEnd)&&t[e].end){var a=WebSquare.text.formatDate(t[e].end,"yyyyMMdd",this.options.ioFormat);t[e].end=WebSquare.date.dateAdd(a,1),t[e].end=WebSquare.text.formatDate(t[e].end,"yyyy-MM-dd","yyyyMMdd")}this.defaultData.events=t,this._version>6?(this.calendar.removeAllEvents(),this.calendar.addEventSource(this.defaultData.events),this.calendar.refetchEvents()):($("#"+this.id).fullCalendar("removeEvents"),$("#"+this.id).fullCalendar("addEventSource",this.defaultData.events),$("#"+this.id).fullCalendar("refetchEvents"))}else this.options.dataList?(this._dataList.setRowJSON(this._dataList.getTotalRow(),t),this._scheduleListener(null,this._dataList.getTotalRow()-1)):(t.start=WebSquare.text.formatDate(t.start,"yyyy-MM-dd",this.options.ioFormat),u.Z.getBoolean(this.options.includeScheduleEnd)&&(t.end=WebSquare.text.formatDate(t.end,"yyyyMMdd",this.options.ioFormat),t.end=WebSquare.date.dateAdd(t.end,1),t.end=WebSquare.text.formatDate(t.end,"yyyy-MM-dd","yyyyMMdd")),t.end=WebSquare.text.formatDate(t.end,"yyyy-MM-dd",this.options.ioFormat),this._version>6?this.calendar.addEvent(t,!0):$("#"+this.id).fullCalendar("renderEvent",t,!0))}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.removeschedule=function(t){try{if(this._version>6)this.calendar.getEventById(t).remove();else $("#"+this.id).fullCalendar("removeEvents",t);if(this.options.dataList){var e=this.getScheduleIndex(t);this._dataList.removeRow(e)}}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.gotoDate=function(t,e){this.gotoCalendar(t,e)},p.prototype.gotoCalendar=function(t,e){try{var a="";e=e||{},a=t.length==this.options.ioFormat.length+6?WebSquare.text.formatDate(t,"yyyy-MM-ddTHH:mm:SS",this.options.ioFormat+"HHmmSS"):WebSquare.text.formatDate(t,"yyyy-MM-dd",this.options.ioFormat),this._version>6?this.calendar.gotoDate(a):$("#"+this.id).fullCalendar("gotoDate",a),this.selectable&&e.noSelectable?(this.selectable=!1,this._version>6?this.calendar.select(a):$("#"+this.id).fullCalendar("select",a),this.selectable=!0):this._version>6?this.calendar.select(a):$("#"+this.id).fullCalendar("select",a)}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.getScheduleInfo=function(t){try{var e={};if(this.options.dataList){var a=this.getScheduleIndex(t)
;if(e=this._dataList.getRowJSON(a)){if(!e.id){var i=e.title;e.id=i}e.rowIndex=a}}return e}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.getScheduleIndex=function(t){try{if(t)for(var e=this._dataList.getAllJSON(),a=e.length,i=0;i<a;i++)if(e[i][this.options.idColumn].toString()===t.toString())return i}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.getscheduleCalendarData=function(t,e,a,o,n,s){try{this.scheduleEvent=[];var r,l=this._dataList.getRowCount(),h=this._dataList.getColumnIndex(t),c=this._dataList.getColumnIndex(e),f=this._dataList.getColumnIndex(a),p=this._dataList.getColumnIndex(o),y=this._dataList.getColumnIndex(n);s&&(r=this._dataList.getColumnIndex(s));var m,v=this._dataList.getColData(h),b=this._dataList.getColData(c),g=this._dataList.getColData(f),D=this._dataList.getColData(p),C=this._dataList.getColData(y);r>=0&&(m=this._dataList.getColData(r));for(var S=0;S<l;S++){var T,x={};if(x.title=v[S],b[S].length==this.options.ioFormat.length+6?x.start=WebSquare.text.formatDate(b[S],"yyyy-MM-ddTHH:mm:SS",this.options.ioFormat+"HHmmSS"):x.start=WebSquare.text.formatDate(b[S],"yyyy-MM-dd",this.options.ioFormat),g[S].length==this.options.ioFormat.length+6)(T=g[S])&&"00:00:00"==this.options.nextDayThreshold&&"000000"==T.substring(8)&&(T=WebSquare.date.dateAdd(T.substring(0,8),1)+"000000"),x.end=WebSquare.text.formatDate(T,"yyyy-MM-ddTHH:mm:SS",this.options.ioFormat+"HHmmSS");else(T=g[S])&&u.Z.getBoolean(this.options.includeScheduleEnd)&&(T=WebSquare.text.formatDate(T,"yyyyMMdd",this.options.ioFormat),T=WebSquare.date.dateAdd(T,1),T=WebSquare.text.formatDate(T,this.options.ioFormat,"yyyyMMdd")),x.end=WebSquare.text.formatDate(T,"yyyy-MM-dd",this.options.ioFormat);if(D[S]?x.id=D[S]:v[S]&&(x.id=v[S]),m&&(x[s]=m[S]),C[S]){var k="string"==typeof C[S]?JSON.parse(C[S]):"object"===(0,i.A)(C[S])?C[S]:{};k.hasOwnProperty("rendering")&&(x.rendering=k.rendering),(k.hasOwnProperty("class")||k.hasOwnProperty("className"))&&(x.className=k.class||k.className),k.hasOwnProperty("color")&&(x.color=k.color),k.hasOwnProperty("backgroundColor")&&(x.backgroundColor=k.backgroundColor),k.hasOwnProperty("borderColor")&&(x.borderColor=k.borderColor),k.hasOwnProperty("textColor")&&(x.textColor=k.textColor)}x.title&&this.scheduleEvent.push(x)}return this.scheduleEvent}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.setDayNameStyle=function(t){try{if(this._version>6){var e=u.Z.cloneObject(t);for(var a in t)for(var i in t[a])if("header"===i)for(var o in t[a][i])"color"!==o&&"background-color"!==o&&delete e[a][i][o];else if("body"===i)if(t[a][i].background)for(var n in t[a][i].background)"color"!==n&&"background-color"!==n&&delete e[a][i].background[n];else if(t[a][i].num)for(var s in t[a][i].num)"color"!==s&&"background-color"!==s&&delete e[a][i].num[s];if(t.defaultOption||(this.dayNameStyle=e),e)for(var r in e)if("defaultOption"!=r){if(e[r].header)for(var l=this.render.getElementsByClassName("fc-col-header-cell"),h=0;h<l.length;h++)l[h].className.indexOf("fc-day-"+r)>-1&&Object.assign(l[h].style,e[r].header);if(e[r].body&&e[r].body.background)for(var c=this.render.getElementsByClassName("fc-day"),f=0;f<c.length;f++)c[f].className.indexOf("fc-day-"+r)>-1&&-1===c[f].className.indexOf("fc-col-header-cell")&&Object.assign(c[f].style,e[r].body.background);if(e[r].body&&e[r].body.num)for(var p=this.render.getElementsByClassName("fc-day"),y=0;y<p.length;y++)p[y].className.indexOf("fc-day-"+r)>-1&&-1===p[y].className.indexOf("fc-col-header-cell")&&Object.assign(p[y].style,e[r].body.num)}}else if(t.defaultOption||(this.dayNameStyle=t),t)for(var m in t)"defaultOption"!=m&&(t[m].header&&$(".fc-day-header.fc-widget-header.fc-"+m).css(t[m].header),t[m].body.background&&$(".fc-day.fc-widget-content.fc-"+m).not("."+this.options.defaultDateClass).css(t[m].body.background),t[m].body.num&&$(".fc-day-number.fc-"+m).css(t[m].body.num))}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.setHeaderBtn=function(t){try{if(t&&"object"==(0,i.A)(t)){
for(var e in t.headerLeftBtn="string"==typeof t.headerLeftBtn?u.Z.getBoolean(t.headerLeftBtn):t.headerLeftBtn,t.headerRightBtn="string"==typeof t.headerRightBtn?u.Z.getBoolean(t.headerRightBtn):t.headerRightBtn,t.headerTitle="string"==typeof t.headerTitle?u.Z.getBoolean(t.headerTitle):t.headerTitle,t)this.headerBtnInfo[e]=t[e];if(this._version>6){var a,o=this.render.getElementsByClassName("fc-toolbar-chunk");if(void 0===t.headerLeftBtn||t.headerLeftBtn){if(t.headerLeftBtn){o[0].style.opacity=1,a=o[0].getElementsByTagName("button");for(e=0;e<a.length;e++){if(a[e].className.indexOf("fc-today-button")>-1){var n=new Date;this.calendar.currentData.currentDate.getMonth()===n.getMonth()&&this.calendar.currentData.currentDate.getYear()===n.getYear()||a[e].removeAttribute("disabled")}else a[e].removeAttribute("disabled");a[e].style.cursor="pointer"}}}else{o[0].style.opacity=0,a=o[0].getElementsByTagName("button");for(var e=0;e<a.length;e++)a[e].setAttribute("disabled",""),a[e].style.cursor="default"}if(void 0===t.headerTitle||t.headerTitle?t.headerTitle&&(o[1].style.opacity=1,o[1].getElementsByClassName("fc-toolbar-title")[0].style.cursor="auto"):(o[1].style.opacity=0,o[1].getElementsByClassName("fc-toolbar-title")[0].style.cursor="default"),void 0===t.headerRightBtn||t.headerRightBtn){if(t.headerRightBtn){o[2].style.opacity=1,a=o[2].getElementsByTagName("button");for(e=0;e<a.length;e++)a[e].removeAttribute("disabled"),a[e].style.cursor="pointer"}}else{o[2].style.opacity=0,a=o[2].getElementsByTagName("button");for(e=0;e<a.length;e++)a[e].setAttribute("disabled",""),a[e].style.cursor="default"}}else{var s="#"+this.id+" ";void 0===t.headerLeftBtn||t.headerLeftBtn?t.headerLeftBtn&&($(s+".fc-left").css({opacity:100,filter:"alpha(opacity=100)"}),$(s+".fc-left").find("button").removeAttr("disabled"),$(s+".fc-left").find("button").css("cursor","pointer")):($(s+".fc-left").css({opacity:0,filter:"alpha(opacity=0)"}),$(s+".fc-left").find("button").attr("disabled","true"),$(s+".fc-left").find("button").css("cursor","default")),void 0===t.headerRightBtn||t.headerRightBtn?t.headerRightBtn&&($(s+".fc-right").css({opacity:100,filter:"alpha(opacity=100)"}),$(s+".fc-right").find("button").removeAttr("disabled"),$(s+".fc-left").find("button").css("cursor","pointer")):($(s+".fc-right").css({opacity:0,filter:"alpha(opacity=0)"}),$(s+".fc-right").find("button").attr("disabled","true"),$(s+".fc-right").find("button").css("cursor","default")),void 0===t.headerTitle||t.headerTitle?t.headerTitle&&$(s+".fc-center").css({opacity:100,filter:"alpha(opacity=100)"}):$(s+".fc-center").css({opacity:0,filter:"alpha(opacity=0)"})}}}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.getDataListInfo=function(){try{if(this.modelControl.isDataCollectionItemsetBinded){var t={};return t.id=this.options.dataList,t.titleColumn=this.options.titleColumn,t.startColumn=this.options.startColumn,t.endColumn=this.options.endColumn,t.themeColumn=this.options.themeColumn,this.options.eventOrderColumn&&(t.eventOrderColumn=this.options.eventOrderColumn),t}return null}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.getView=function(){try{var t,e;return this._version>6?(this.calendar&&this.calendar.currentData&&(t={name:(e=this.calendar.currentData).currentViewType,type:e.currentViewType,title:e.viewTitle,intervalStart:e.dateProfile.currentRange.start,intervalEnd:e.dateProfile.currentRange.end}),e?t:{}):(t=$("#"+this.id).fullCalendar("getView"))?{name:t.name||"",type:t.type||"",title:t.title||"",intervalStart:t.intervalStart||"",intervalEnd:t.intervalEnd||""}:{}}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.changeView=function(t,e){try{var a;this._version>6?(a=["dayGridMonth","dayGridWeek","dayGridDay","timeGridWeek","timeGridDay","listMonth","listWeek","listDay"].indexOf(t)>-1?t:"dayGridMonth",this.calendar.changeView(a,e)):(a=["month","basicWeek","basicDay","agendaWeek","agendaDay"].indexOf(t)>-1?t:"month",$("#"+this.id).fullCalendar("changeView",a,e||{}))}catch(t){
d.Y.printStackTrace(t,null,this)}},p.prototype.handleClickEvent=function(t,e,a,i){try{var o=!1;!i||!1!==i.allDay||"timeGridDay"!==this.calendar.currentData.currentViewType&&"timeGridWeek"!==this.calendar.currentData.currentViewType||(o=!0);var n=this._version>6?new Date(t):new Date(t._d),s=this._version>6?new Date(e):new Date(e._d);if("yyyyMMddHHmmss"===this.options.dateFormat)var r=WebSquare.text.fillZero(n.getUTCFullYear()+"",4)+WebSquare.text.fillZero(n.getUTCMonth()+1+"",2)+WebSquare.text.fillZero(n.getUTCDate()+"",2)+WebSquare.text.fillZero(n.getUTCHours()+"",2)+WebSquare.text.fillZero(n.getUTCMinutes()+"",2)+WebSquare.text.fillZero(n.getUTCSeconds()+"",2),l=WebSquare.text.fillZero(s.getUTCFullYear()+"",4)+WebSquare.text.fillZero(s.getUTCMonth()+1+"",2)+WebSquare.text.fillZero(s.getUTCDate()+"",2)+WebSquare.text.fillZero(s.getUTCHours()+"",2)+WebSquare.text.fillZero(s.getUTCMinutes()+"",2)+WebSquare.text.fillZero(s.getUTCSeconds()+"",2);else r=WebSquare.text.fillZero(n.getUTCFullYear()+"",4)+WebSquare.text.fillZero(n.getUTCMonth()+1+"",2)+WebSquare.text.fillZero(n.getUTCDate()+"",2),l=WebSquare.text.fillZero(s.getUTCFullYear()+"",4)+WebSquare.text.fillZero(s.getUTCMonth()+1+"",2)+WebSquare.text.fillZero(s.getUTCDate()+"",2);o&&(r=r+WebSquare.text.fillZero(n.getUTCHours()+"",2)+WebSquare.text.fillZero(n.getUTCMinutes()+"",2)+WebSquare.text.fillZero(n.getSeconds()+"",2),l=l+WebSquare.text.fillZero(s.getUTCHours()+"",2)+WebSquare.text.fillZero(s.getUTCMinutes()+"",2)+WebSquare.text.fillZero(s.getSeconds()+"",2));var u=!0;if(!1===this.options.scheduleClickPopup&&a&&(u=!1),this.options.selectable&&this.selectable&&u)if(!1!==h.f.fireEvent(this,"onbeforeaddschedule",{startDate:r,endDate:l})&&!1===this.options.noUsePrompt){var c=f.B.getMessage("scheduleCalendar_schedule")||"schedule",p=prompt(c+" :");if(p){var y={start:""===this.options.startColumn?"start":this.options.startColumn,end:""===this.options.endColumn?"end":this.options.endColumn,id:""===this.options.idColumn?"id":this.options.idColumn,title:""===this.options.titleColumn?"title":this.options.titleColumn},m={title:p,start:r,end:l,id:p};if(m[y.title]=m.title,m[y.start]=m.start,m[y.end]=m.end,m[y.id]=m.id,this.options.eventOrderColumn){var v=0;this.defaultData.events&&this.defaultData.events.length>0&&(v=this.defaultData.events[this.defaultData.events.length-1][this.options.eventOrderColumn]),m[this.options.eventOrderColumn]=v}this.addSchedule(m)}}var b={start:this._version>6?t:t._d,end:this._version>6?e:e._d};a&&(b.title=a[this.options.titleColumn],b.id=a[this.options.idColumn]),h.f.fireEvent(this,"onclick",b)}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.handleToolbarClickEvent=function(t){try{for(var e=this.event.getTargetIterator(t,this.render),a={},i="";e.next();){if(e.match("fc-prev-button")?i="prev":e.match("fc-next-button")?i="next":e.match("fc-today-button")?i="today":e.match("fc-dayGridMonth-button")?i="dayGridMonth":e.match("fc-dayGridWeek-button")?i="dayGridWeek":e.match("fc-dayGridDay-button")?i="dayGridDay":e.match("fc-timeGridWeek-button")?i="timeGridWeek":e.match("fc-timeGridDay-button")?i="timeGridDay":e.match("fc-listMonth-button")?i="listMonth":e.match("fc-listWeek-button")?i="listWeek":e.match("fc-listDay-button")&&(i="listDay"),i)a={buttonType:i,viewType:undefined},h.f.fireEvent(this,"onheaderbtnclick",a),e.stop()}e=null}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.handleEventAfterAllRender=function(t){try{h.f.fireEvent(this,"oneventafterallrender",t)}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.handleMouseDownEvent=function(t){try{h.f.stopPropagation(t)}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.setDefaultDate=function(t){try{if(this._version>6)this.setNow(t);else{var e=WebSquare.text.formatDate(this.options.defaultDate,"yyyy-MM-dd");$('.fc-day[data-date="'+e+'"]').removeClass(this.options.defaultDateClass),$(".fc-today").removeClass("fc-today"),this.options.defaultDate=t
;var a=WebSquare.text.formatDate(t,"yyyy-MM-dd",this.options.ioFormat),i=WebSquare.text.formatDate(t,"yyyy-MM-dd");this.defaultData.defaultDate=a,$("#"+this.id).fullCalendar("rerenderEvents"),$("#"+this.id).fullCalendar("gotoDate",a),$('.fc-day[data-date="'+i+'"]').addClass(this.options.defaultDateClass)}}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.setNow=function(t,e){try{if(this._version>6&&this.options.dataList){this.defaultData.now=this.options.now=t,this.calendar.destroy();var a=document.getElementById(this.id);this.calendar=new FullCalendar.Calendar(a,this.defaultData),this.calendar.render();var i=this.render.getElementsByClassName("fc-header-toolbar")[0];i&&this.event.addListener(i,"onclick",this.event.bindAsEventListener(this,this.handleToolbarClickEvent))}}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.setEditable=function(t){try{this._version>6&&(this.options.editable=u.Z.getBoolean(t),this.calendar.setOption("editable",t),this.calendar.render())}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.setSelectable=function(t){try{this._version>6&&(this.options.selectable=this.selectable=u.Z.getBoolean(t),this.calendar.setOption("selectable",t),this.calendar.render())}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.onComplete=function(){try{if(this.options.customButtonText){var t=this.options.customButtonText.split(","),e=this.options.customButtonClickFunction.split(",");if(t.length>0&&t.length===e.length){for(var a={},i=0;i<t.length;i++){var o=u.Z.getGlobalFunction(e[i],this.scope_id),n=t[i];a[t[i]]={text:n,click:o}}this.calendar.setOption("customButtons",a)}}c.q.prototype.onComplete.call(this)}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.removeUnValidAttribute=function(){try{this.render&&(this.removeAttribute("table","role"),this.removeAttribute("thead","role"),this.removeAttribute("tbody","role"),this.removeAttribute("table","role"),this.removeAttribute("tr","role"),this.removeAttribute("th","role"),this.removeAttribute("td","role"))}catch(t){d.Y.printStackTrace(t,null,this)}},p.prototype.removeAttribute=function(t,e){try{for(var a=this.render.querySelectorAll(t),i=0;i<a.length;i++)a[i].removeAttribute(e)}catch(t){d.Y.printStackTrace(t,null,this)}}}}]);