"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[5735],{5735:(t,s,i)=>{i.r(s),i.d(s,{fwGanttChart:()=>h});var e=i(582),o=i(2536),a=i(2710),r=i(2327),n=i(7249),h=function(t,s,i){n.q.call(this,t,s,i)};e.q.extend(h.prototype,n.q.prototype),h.prototype.defaultOptions={pluginType:"uiplugin.fwGanttChart",pluginName:"fwGanttChart",useConfig:!0,accessibility:!1,displayData:!1,autoCategory:!0,multiTasks:!1,quarterNames:"",monthNames:"",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85",version:"3.7",dataColumns:"",resizeLastMonth:!1,accessibility:!1,title:""},h.prototype.initialize=function(t){this.fcObj=null,this.chartObj={},this.taskColorObj={},this.attributeObj=null,this.categories=null,this.processes=null,this.datatable=null,this.tasks=null,this.legends=null,this.trendlines=null,this.milestones=null,this.connectors=null,this.options.quarterNames=this.options.quarterNames||WebSquare.language.getMessage("fwGanttChart_quarterNames")||"Q1,Q2,Q3,Q4",this.options.monthNames=this.options.monthNames||WebSquare.language.getMessage("fwGanttChart_monthNames")||"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",!t.getAttribute("version")&&o.I.getConfiguration("/WebSquare/fusionchart/version/@value")&&(this.options.version=o.I.getConfiguration("/WebSquare/fusionchart/version/@value"))},h.prototype.initAsync=async function(){"undefined"==typeof FusionCharts&&("4.0"===this.options.version||!this.options.version&&"4.0"===o.I.getConfiguration("/WebSquare/fusionchart/version/@value")?(this.options.version="4.0",await inquires("externalJS/FusionCharts4.0/FusionCharts_all.js")):"3.23"===this.options.version||!this.options.version&&"3.23"===o.I.getConfiguration("/WebSquare/fusionchart/version/@value")?(this.options.version="3.23",await inquires("externalJS/FusionCharts3.23/FusionCharts_all.js")):"3.19"===this.options.version||!this.options.version&&"3.19"==o.I.getConfiguration("/WebSquare/fusionchart/version/@value")?(this.options.version="3.19",await inquires("externalJS/FusionCharts3.19/FusionCharts_all.js")):"3.15"===this.options.version||!this.options.version&&"3.15"==o.I.getConfiguration("/WebSquare/fusionchart/version/@value")?(this.options.version="3.15",await inquires("externalJS/FusionCharts3.15.2/FusionCharts_all.js")):"3.13"===this.options.version||!this.options.version&&"3.13"==o.I.getConfiguration("/WebSquare/fusionchart/version/@value")?(this.options.version="3.13",await inquires("externalJS/FusionCharts3.13/js/FusionCharts_all.js")):"3.11"==this.options.version||!this.options.version&&"3.11"==o.I.getConfiguration("/WebSquare/fusionchart/version/@value")?(this.options.version="3.11",await inquires("externalJS/FusionCharts3.11.0/FusionCharts_all.js")):await inquires("externalJS/FusionCharts3.7/FusionCharts_all.js"))},h.prototype.toHTML=function(){var t=[],s=""==this.options.style?"":"style='"+this.options.style+"'";return t.push("<div id='"+this.id+"' "+s+" class='w2fwGanttChart "+this.options.className+"'>"),t.push("</div>"),t.join("")},h.prototype.setAction=function(){try{if(("3.19"===this.options.version||"3.23"===this.options.version||"4.0"===this.options.version)&&"function"==typeof FusionCharts.options._setActivate){var t,s=WebSquare.core.getConfiguration("/WebSquare/fusionchart/license/@value");s&&(t={key:s,creditLabel:!1}),FusionCharts.options._setActivate(t)}if(this.fcObj=new FusionCharts("gantt","fw_gantt_"+this.id,"100%",this.render.offsetHeight||"100%"),this.setDefaultOption(),this.modelControl.isDataCollectionRefBinded){var i=this.modelControl.dataCollectionRefInfo.dataComp,e={};e.dateformat=this.options.dateformat,e.timeBase=this.options.timeBase,e.monthNames=this.options.monthNames,e.timeGap=this.options.timeGap,e.plotColor=this.options.plotColor,e.processNode=this.options.processNode,e.dataColumns=this.options.dataColumns,e.taskNode=this.options.taskNode,e.startDateNode=this.options.startDateNode,e.endDateNode=this.options.endDateNode,
e.autoCategory=this.options.autoCategory,e.categoryDepth=this.options.categoryDepth,e.multiTasks=this.options.multiTasks,e.quarterNames=this.options.quarterNames,e.resizeLastMonth=this.options.resizeLastMonth,e.processIdNode=this.options.processIdNode||null,e.taskIdNode=this.options.taskIdNode||null,e.version=this.options.version,i.getRowCount()>0&&this.setJSONData(i.getfwGanttChartData(e))}}catch(t){a.Y.printStackTrace(t)}},h.prototype.refresh=function(){try{if(this.modelControl.isDataCollectionRefBinded){var t=this.modelControl.dataCollectionRefInfo.dataComp,s={};if(s.dateformat=this.options.dateformat,s.timeBase=this.options.timeBase,s.monthNames=this.options.monthNames,s.timeGap=this.options.timeGap,s.plotColor=this.options.plotColor,s.processNode=this.options.processNode,s.dataColumns=this.options.dataColumns,s.taskNode=this.options.taskNode,s.startDateNode=this.options.startDateNode,s.endDateNode=this.options.endDateNode,s.autoCategory=this.options.autoCategory,s.categoryDepth=this.options.categoryDepth,s.multiTasks=this.options.multiTasks,s.quarterNames=this.options.quarterNames,s.resizeLastMonth=this.options.resizeLastMonth,s.taskIdNode=this.options.taskIdNode||null,t.getRowCount()>0){var i=t.getfwGanttChartData(s);this.categories=i.categories,this.setJSONData(i)}}}catch(t){a.Y.printStackTrace(t)}},h.prototype.setJSONData=function(t){try{this.chartObj=t,this.draw()}catch(t){a.Y.printStackTrace(t)}},h.prototype.getJSONData=function(){try{return FusionCharts.items["fw_gantt_"+this.id].getJSONData()}catch(t){a.Y.printStackTrace(t)}},h.prototype.fc=function(){try{return FusionCharts.items["fw_gantt_"+this.id]}catch(t){a.Y.printStackTrace(t)}},h.prototype.draw=function(){try{if(null!=this.attributeObj)for(var t in this.attributeObj){if(!this.chartObj.chart){this.chartObj.chart=this.attributeObj;break}this.chartObj.chart[t]=this.attributeObj[t]}if(this.categories){this.chartObj.categories=[];for(var s=0;s<this.categories.length;s++)this.chartObj.categories.push(this.categories[s])}if(this.processes&&(this.chartObj.processes||(this.chartObj.processes={}),this.chartObj.processes))for(var t in this.processes)this.chartObj.processes[t]=this.processes[t];if(this.datatable&&(this.chartObj.datatable||(this.chartObj.datatable={}),this.chartObj.datatable))for(var t in this.datatable)if("datacolumn"===t)for(s=0;s<this.datatable.datacolumn.length;s++)for(var i in this.datatable.datacolumn[s])this.chartObj.datatable.datacolumn[s][i]=this.datatable.datacolumn[s][i];else this.chartObj.datatable[t]=this.datatable[t];if(this.tasks&&(this.chartObj.tasks||(this.chartObj.tasks={}),this.chartObj.tasks))for(var t in this.tasks)this.chartObj.tasks[t]=this.tasks[t];if(this.taskColorObj)for(t in this.taskColorObj)for(s=0;s<this.chartObj.tasks.task.length;s++)t===this.chartObj.tasks.task[s].id&&(this.chartObj.tasks.task[s].color=this.taskColorObj[t]);this.trendlines&&(this.chartObj.trendlines||(this.chartObj.trendlines=[]),this.chartObj.trendlines.push(this.trendlines)),this.milestones&&(this.chartObj.milestones||(this.chartObj.milestones={},this.chartObj.milestones.milestone=[]),this.chartObj.milestones.milestone.push(this.milestones)),this.connectors&&(this.chartObj.connectors||(this.chartObj.connectors=[]),this.chartObj.connectors.push({connector:[]}),this.chartObj.connectors[0].connector.push(this.connectors)),this.legends&&(this.chartObj.legend||(this.chartObj.legend=[]),this.chartObj.legend=this.legends);var e=this.fc();if(e.setJSONData(this.chartObj),e.isActive()||e.render(this.id),1==this.options.accessibility){var o=document.getElementById("fw_gantt_"+this.id);o&&o.setAttribute("aria-hidden",!0),this.setAccessibility(!0)}}catch(t){a.Y.printStackTrace(t)}},h.prototype.setAccessibility=function(t){try{var s=document.getElementById("accessibility_"+this.id);if(0==t)return void(s&&s.remove());var i=this.getDataListInfo(),e=WebSquare.util.getComponentById(i.id,this.scope_id);if(e){if(null==s){var o=document.createElement("table")
;o.id="accessibility_"+this.id,WebSquare.style.addClass(o,"w2fusionchart_accessibility"),1==this.options.displayData&&(WebSquare.style.removeClass(o,"w2fusionchart_accessibility"),WebSquare.style.addClass(o,"w2tb"),WebSquare.style.addClass(o,"w2fusionchart_accessibility_table")),this.render.appendChild(o,this.render.lastChild),s=document.getElementById("accessibility_"+this.id)}s.innerHTML="";var a="",r=(this.chartObj,this.attributeObj.caption);r&&(a="<caption>"+r+"</caption>"),a+="<thead><tr>";for(var n=e.getColCnt(),h=0;h<n;h++){a+="<th scope='col' class='w2tb_th'>"+e.getColumnInfo(h,0).name+"</th>"}a+="</tr></thead>",a+="<tbody>";for(h=0;h<e.getRowCount();h++){a+="<tr>";for(var c=e.getRowData(h),l=0;l<c.length;l++)a+="<td class='w2tb_td'>"+c[l]+"</td>";a+="</tr>"}a+="</tbody>",s.innerHTML=a}}catch(t){WebSquare.exception.printStackTrace(t)}},h.prototype.setDefaultOption=function(){try{this.attributeObj={chartLeftMargin:"0",chartRightMargin:"0",chartTopMargin:"0",chartBottomMargin:"0",toolTipColor:"#ffffff",toolTipBorderThickness:"0",toolTipBgColor:"#000000",toolTipBgAlpha:"70",toolTipBorderRadius:"2",toolTipPadding:"5",dateformat:"yyyyMMdd"==this.options.dateformat?"yyyy/mm/dd":this.options.dateformat,caption:this.options.title}}catch(t){a.Y.printStackTrace(t)}},h.prototype.setChartAttribute=function(t){try{for(var s in null==this.attributeObj&&(this.attributeObj={}),t)t.hasOwnProperty(s)&&(this.attributeObj[s.toLowerCase()]=t[s])}catch(t){a.Y.printStackTrace(t)}},h.prototype.getChartAttribute=function(t){try{return this.fcObj.getChartAttribute(t)}catch(t){a.Y.printStackTrace(t)}},h.prototype.setCategories=function(t){try{this.categories=[],this.categories.push(t)}catch(t){a.Y.printStackTrace(t)}},h.prototype.addCategories=function(t){try{null==this.categories&&(this.categories=[]),this.categories.unshift(t)}catch(t){a.Y.printStackTrace(t)}},h.prototype.setProcessesAttribute=function(t){try{this.processes=t}catch(t){a.Y.printStackTrace(t)}},h.prototype.setDatatableAttribute=function(t){try{this.datatable=t}catch(t){a.Y.printStackTrace(t)}},h.prototype.setTasksAttribute=function(t){try{this.tasks=t}catch(t){a.Y.printStackTrace(t)}},h.prototype.setTasksColor=function(t,s){try{this.taskColorObj[t]=s,this.draw()}catch(t){a.Y.printStackTrace(t)}},h.prototype.setTrendLine=function(t){try{this.trendlines=t}catch(t){a.Y.printStackTrace(t)}},h.prototype.setMilestone=function(t){try{this.milestones=t}catch(t){a.Y.printStackTrace(t)}},h.prototype.setConnector=function(t){try{this.connectors=t}catch(t){a.Y.printStackTrace(t)}},h.prototype.exportJSChart=function(t){try{t||(t="jpg");var s=this.options.id||"fusionChart",i=this.getSVGString();if(i){var r=encodeURI(i+"ExportType="+t+"ExportFileName="+s),n=e.q._resourceURI+"engine/servlet/exportFusionChart.jsp";o.I.download(n,r,"post")}}catch(t){a.Y.printStackTrace(t)}},h.prototype.getSVGString=function(){try{var t=this.fc().getSVGString();if(t)return t=(t=(t=(t=(t=t.wq_replaceAll('shape-rendering="default"',"shape-rendering='auto'")).wq_replaceAll('visibility=""',"visibility='inherit'")).wq_replaceAll('text-anchor="undefined"',"text-anchor='start'")).wq_replaceAll("1e-006","0.000001")).wq_replaceAll('font-family="15"','font-family="Verdana"');r.v.printLog("not found svg object")}catch(t){a.Y.printStackTrace(t)}},h.prototype.getDataListInfo=function(){try{if(this.modelControl.isDataCollectionRefBinded){var t={};return t.ref=this.options.ref,t.id=this.modelControl.dataCollectionRefInfo.dataComp.id,t.taskNode=this.options.taskNode,t.taskIdNode=this.options.taskIdNode,t.startDateNode=this.options.startDateNode,t.endDateNode=this.options.endDateNode,t.processNode=this.options.processNode,t}return null}catch(t){a.Y.printStackTrace(t)}}}}]);