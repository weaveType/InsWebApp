"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[994],{3994:function(t,e,i){i.r(e),i.d(e,{fliptoggle:function(){return r}});var s=i(5461),n=i(5375),o=i(8971),l=i(2338),h=i(1204),a=i(2406),r=function(t,e,i){a.q.call(this,t,e,i)};s.q.extend(r.prototype,a.q.prototype),r.prototype.defaultOptions={pluginType:"uiplugin.fliptoggle",pluginName:"fliptoggle",userEvents:["ontogglechange"],useClickToggle:"true",label:"Label",accessibility:!1,escape:!0,ariaLabel:""},r.prototype.initialize=function(t){try{this.selectedIndex=0,this.onLabel="On",this.onValue="on",this.offLabel="Off",this.offValue="off";var e=WebSquare.Elem.api.getElementsByTagName(t,"on",n.I._XML_NAMESPACE.W2),i=WebSquare.Elem.api.getElementsByTagName(t,"off",n.I._XML_NAMESPACE.W2);if(e[0]&&(this.onLabel=WebSquare.Elem.api.getAttribute(e[0],"label"),this.onValue=WebSquare.Elem.api.getAttribute(e[0],"value"),this.onLocaleRef=WebSquare.Elem.api.getAttribute(e[0],"localeRef")),i[0]&&(this.offLabel=WebSquare.Elem.api.getAttribute(i[0],"label"),this.offValue=WebSquare.Elem.api.getAttribute(i[0],"value"),this.offLocaleRef=WebSquare.Elem.api.getAttribute(i[0],"localeRef")),this.options.useLocale){if(this.onLocaleRef||this.options.onLocaleRef){var s=this.getLocaleValue(this.onLocaleRef||this.options.onLocaleRef);s&&(this.onLabel=s)}if(this.offLocaleRef||this.options.offLocaleRef){var l=this.getLocaleValue(this.offLocaleRef||this.options.offLocaleRef);l&&(this.offLabel=l)}}this.leftPosition,this.startEventLayer={},this.lastEventLayer={}}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.toHTML=function(){var t=[],e=""==this.options.style?"":"style='"+this.options.style+"'",i=""==this.options.tabIndex?"":"tabIndex='"+this.options.tabIndex+"'";t.push("<div id='"+this.id+"' "+e+" class='w2fliptoggle "+this.options.className+"' "+i+">"),t.push("<label for='"+this.id+"_select' id='"+this.id+"_label' class='w2fliptoggle_select'>"),t.push(this.options.label),t.push("</label>");var s="",n="";return this.options.accessibility?n="role='switch' tabIndex='0' aria-checked='false' aria-label='"+this.options.ariaLabel+"'":s="tabindex='0'",t.push("<select id='"+this.id+"_select' class='w2fliptoggle_select' "+s+">"),t.push("<option value='"+this.offValue+"'>"+this.offLabel+"</option>"),t.push("<option value='"+this.onValue+"'>"+this.onLabel+"</option>"),t.push("</select>"),t.push("<div id='"+this.id+"_mask' class='w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_mask' "+n+">"),t.push("<span id='"+this.id+"_left' class='w2fliptoggle_left_bg w2fliptoggle_conner_left w2fliptoggle_left'>"),t.push("</span>"),t.push("<span id='"+this.id+"_left_label' class='w2fliptoggle_left_label' style='visibility:hidden;' aria-hidden='true'>"),t.push(this.onLabel),t.push("</span>"),this.options.accessibility&&t.push("<a id='"+this.id+"_a_button' href='#' tabindex='-1' aria-hidden='true'>"),t.push("<span id='"+this.id+"_button' class='w2fliptoggle_button_bg w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_button'>"),t.push("</span>"),this.options.accessibility&&t.push("</a>"),t.push("<span id='"+this.id+"_right_label' class='w2fliptoggle_right_label' aria-hidden='true'>"),t.push(this.offLabel),t.push("</span>"),t.push("<span id='"+this.id+"_right' class='w2fliptoggle_conner_right w2fliptoggle_right_bg w2fliptoggle_right'>"),t.push("</span>"),t.push("</div>"),t.push("</div>"),t.join("")},r.prototype.setAction=function(){try{this.isMobile=h.Z.isMobile(),this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase()),this.dom.mask=document.getElementById(this.id+"_mask"),this.dom.left=document.getElementById(this.id+"_left"),this.dom.button=document.getElementById(this.id+"_button"),this.dom.right=document.getElementById(this.id+"_right"),this.dom.left_label=document.getElementById(this.id+"_left_label"),this.dom.right_label=document.getElementById(this.id+"_right_label"),this.dom.select=document.getElementById(this.id+"_select"),
this.setVerticalAlign(this.dom.left_label),this.setVerticalAlign(this.dom.right_label),this.leftPosition=WebSquare.style.getAbsoluteLeft(this.render),h.Z.isIE(6)&&this.__addClass(this.dom.button," "),WebSquare.util.isTouchDevice()&&(this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart)),this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove)),this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd))),this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart)),this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove)),this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd)),this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,(function(t){l.f.preventDefault(t)}))),this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut)),this.options.accessibility&&this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyDown))}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.displayLocaleValue=function(){if(this.offLocaleRef&&this.onLocaleRef){var t=this.getLocaleValue(this.offLocaleRef),e=this.getLocaleValue(this.onLocaleRef);this.setLabel(e,t)}},r.prototype.setLabel=function(t,e){try{var i=document.getElementById(this.id+"_left_label"),s=document.getElementById(this.id+"_right_label"),n=document.getElementById(this.id+"_select"),l=this.options.escape?WebSquare.xml._encode(t+""):t,h=this.options.escape?WebSquare.xml._encode(e+""):e;i.innerHTML=l,s.innerHTML=h,n.options[0].innerHTML=h,n.options[1].innerHTML=l}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.refreshItemset=function(){},r.prototype.refresh=function(){},r.prototype.getElementWidth=function(t){var e;t&&(e=(e=t.offsetWidth)-(parseInt(h.Z.getStyleProperty(t,"border-left-width"),10)||0)-(parseInt(h.Z.getStyleProperty(t,"border-right-width"),10)||0)-(parseInt(h.Z.getStyleProperty(t,"padding-left"),10)||0)-(parseInt(h.Z.getStyleProperty(t,"padding-right"),10)||0));return e},r.prototype.setElementWidth=function(t,e){if(t){var i=parseInt(h.Z.getStyleProperty(t,"border-left-width"),10)||0,s=parseInt(h.Z.getStyleProperty(t,"border-right-width"),10)||0;t.style.width=e-i-s+"px"}},r.prototype.setButtonPosition=function(t){try{if("number"!=typeof t)return;var e=this.getElementWidth(this.dom.left),i=this.getElementWidth(this.dom.right),s=this.getElementWidth(this.dom.button),n=this.getElementWidth(this.dom.mask),l=this.dom.mask.offsetLeft;t<0&&(t=0),t>l+n-s&&(t=l+n-s);var h=t-this.dom.button.offsetLeft;if(0==t){if(this.dom.left_label.style.visibility="hidden",this.dom.right_label.style.visibility="visible",this.selectedIndex=0,this.dom.select.selectedIndex=0,this.options.accessibility)document.getElementById(this.id+"_mask").setAttribute("aria-checked","false")}else if(t==l+n-s){if(this.dom.left_label.style.visibility="visible",this.dom.right_label.style.visibility="hidden",this.selectedIndex=1,this.dom.select.selectedIndex=1,this.options.accessibility)document.getElementById(this.id+"_mask").setAttribute("aria-checked","true")}this.dom.right.style.width=parseInt(i-h,10)+"px",this.dom.left.style.width=parseInt(e+h,10)+"px",this.dom.button.style.left=parseInt(t,10)+"px"}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.setVerticalAlign=function(t){try{var e=h.Z.getStyleProperty(t,"vertical-align")||"middle";if("top"==e);else{var i=this.render.offsetHeight||parseInt(this.getStyle("height"),10);if(i>0){var s=parseInt(h.Z.getStyleProperty(t,"padding-top"),10)||0,n=parseInt(h.Z.getStyleProperty(t,"font-size"),10)||0,l=0;"middle"==e?l=Math.floor((i-n)/2):"bottom"==e&&(l=Math.floor(i-n)),l+s>0&&i-l>0&&(t.style.paddingTop=l+s+"px",t.style.height=i-l+"px")}}}catch(t){
o.Y.printStackTrace(t,null,this)}},r.prototype.getValue=function(){try{return this.dom.select[this.selectedIndex]?this.dom.select[this.selectedIndex].value:null}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.toggle=function(t){try{var e=this.selectedIndex;return void 0===t&&(t=0==this.selectedIndex?1:0),0==t?this.setButtonPosition(0):this.setButtonPosition(this.getElementWidth(this.dom.mask)),e!=this.selectedIndex&&l.f.fireEvent(this,"ontogglechange"),this.getValue()}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.setValue=function(t){try{if(h.Z.isNull(t))return;for(var e=0;e<this.dom.select.length;e++)if(t==this.dom.select[e].value)return this.toggle(e)}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.handleClickEvent=function(t){try{this.isSliding||this.toggle(),l.f.stopPropagation(t)}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.handleChangeEvent=function(t){},r.prototype.handleTouchStart=function(t){if(l.f.stopPropagation(t),2!=t.button){var e=this.event.getTargetIterator(t,this.render);for(this.startEventLayer.x=l.f.getMouseX(t),this.startEventLayer.y=l.f.getMouseY(t),this.lastEventLayer.x=l.f.getMouseX(t),this.lastEventLayer.y=l.f.getMouseY(t);e.next();)e.match("w2fliptoggle_button")&&(this.isSliding=!0)}},r.prototype.handleTouchEnd=function(t,e){try{this.isSliding=!1;var i=this.getElementWidth(this.dom.mask),s=this.getElementWidth(this.dom.left);this.startEventLayer.x-this.lastEventLayer.x==0&&this.startEventLayer.y-this.lastEventLayer.y==0?h.Z.getBoolean(this.options.useClickToggle)&&this.toggle():s<.7*i?this.toggle(0):this.toggle(1),l.f.stopPropagation(t)}catch(t){o.Y.printStackTrace(t,null,this)}},r.prototype.handleTouchMove=function(t){if(this.lastEventLayer.x=l.f.getMouseX(t),this.lastEventLayer.y=l.f.getMouseY(t),this.isSliding){var e=this.lastEventLayer.x-(this.leftPosition||0),i=0,s=this.getElementWidth(this.dom.button),n=this.getElementWidth(this.dom.mask),o=s/2,a=(i=e-o)+o;a>n-o?a=n-o:a<o&&(a=o-1),this.setElementWidth(this.dom.left,a);var r=n-a-1;this.setElementWidth(this.dom.right,r),i<0?i=0:i>n-s&&(i=n-s),this.dom.button.style.left=i+"px",h.Z.isIE(6)&&(this.dom.left.style.height=this.render.offsetHeight+"px",this.dom.right.style.height=this.render.offsetHeight+"px",this.dom.button.style.height=this.render.offsetHeight+"px"),this.isMobile&&l.f.preventDefault(t)}},r.prototype.handleMouseOut=function(t){if(this.isSliding){if(!l.f.getRelatedTarget(t))return;l.f.getRelatedTarget(t).getAttribute("id")?l.f.getRelatedTarget(t).getAttribute("id").indexOf(this.id)<0&&this.handleTouchEnd(t):l.f.getRelatedTarget(t).getAttribute("id")||this.handleTouchEnd(t)}},r.prototype.handleKeyDown=function(t){try{var e=t.charCode?t.charCode:t.keyCode;if(32!=e&&13!=e)return;l.f.stopPropagation(t),this.event.getTargetIterator(t,this.render)&&this.toggle()}catch(t){o.Y.printStackTrace(t,null,this)}}}}]);