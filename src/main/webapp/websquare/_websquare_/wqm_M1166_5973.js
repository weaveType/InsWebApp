"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[5973],{5973:(t,e,i)=>{i.r(e),i.d(e,{content:()=>p,tabControl:()=>b});var s=i(582),a=i(2536),r=i(2710),n=i(9107),o=i(1263),l=i(2327),h=i(7249),d=i(4885),c=i(813),b=function(t,e,i){h.q.call(this,t,e,i)};s.q.extend(b.prototype,h.q.prototype),b.prototype.defaultOptions={pluginType:"uiplugin.tabControl",pluginName:"tabControl",userEvents:["ontabclick","onchange","ontabclose","onbeforeselect","onbeforetabclose","onbeforetabmove","onaftertabmove","ondrawcomplete","ontabload","ontabsplit","onscrollleftbtnclick","onscrollrightbtnclick","onsubmenubtnclick"],useConfig:!0,selectedIndex:0,containerClass:"w2tabcontrol_container",hostClass:"w2tabcontrol_tabhost",tabPosition:"",tabClass:"",tabStyle:"",activeTabClass:"w2tabcontrol_active",overTabClass:"w2tabcontrol_over",disabledTabClass:"w2tabcontrol_disabled",contentsClass:"w2tabcontrol_contents",selectedClass:"w2tabcontrol_selected",alwaysDraw:!1,useTabKeyOnly:!1,useMoveNextTabFocus:!1,useBackbridge:!1,useH3Bridge:!1,useConfirmMessage:!1,confirmTrueAction:"exist",confirmFalseAction:"new",confirmMessage:"",confirmMessageLocaleRef:"",tabScroll:!1,mobileTabScroll:!1,adjustTabScroll:!1,visibleRowNum:5,closable:!1,alwaysShowCloseBtn:!1,useBridgeHelper:!0,spa:!1,spaIframeMaxSize:0,spaIframeMinSize:0,spaInitCount:0,windowMaxNum:-1,tabScrollAuto:!1,focusOnStart:!0,useDrag:!1,preventTabClickEvent:!1,useLocale:!1,localeRef:"",hiddenTab:!1,useATagBtn:!1,tabMove:!1,tabSplit:!1,initStyle:!1,useAccessibilityMenu:!1,forceChildCompEnabled:!1,tableRender:"",removeBridge:!1,spaAuto:!1,spaAutoDelay:3e3,onTabLoadCheckTime:100,closeAllBtn:!1,processMsgFrame:!1,frameModal:!1,changeActiveTab:!1,keepDisabledTab:!1,senseReader:!1,tabRole:!0,tabLiRole:"",changeActiveTabBeforeselect:!1,tooltipClass:"",noUseTitle:!1,useTitleTooltip:!1,useTabTitleSelected:!1,accessibility:!1,tabScrollDiv:!1,useBridge:!1,escape:!1};var p=function(){};p.prototype.defaultOptions={alwaysDraw:!1,src:"",style:"",frameMode:"",name:"",title:"",scope:!1,tabHTML:"",initScript:"",postScript:"",frameModal:"",processMsgFrame:"",msaName:""},b.prototype.initialize=function(t){try{this.selectedIndex=0,this.tabArr=[],this.contentsArr=[],this.tabContentOptions=WebSquare.uiplugin.content.prototype.defaultOptions,this.focusedIndex=-1,this.activeFirstTime=!1,this.increaseKey=0,this.visibleTabIndex=0,this.itemTable=null,this.isOpen=!1,this.itemTableTdMargin=null,this.senseReaderMode=!0,this.bridgeIdArr=[],this.backbridgeIdArr=[],this.lastEventType="",this.storedFrame=[],this.autoNum=0;var e=a.I.getConfiguration("/WebSquare/tabControl/escape/@value");if(t.getAttribute("escape")?this.options.escape="true"===t.getAttribute("escape"):this.options.escape="true"===e,this.options.iframeStorageCount&&!this.options.spaIframeMaxSize&&(this.options.spaIframeMaxSize=this.options.iframeStorageCount),this.options.iframeMaxSize&&!this.options.spaIframeMaxSize&&(this.options.spaIframeMaxSize=this.options.iframeMaxSize),this.options.iframeMinSize&&!this.options.spaIframeMinSize&&(this.options.spaIframeMinSize=this.options.iframeMinSize),this.options.spaIframeMinSize>this.options.spaIframeMaxSize&&(this.options.spaIframeMaxSize=this.options.spaIframeMinSize),this.options.spaInitCount>0&&(this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount),("true"==a.I.getConfiguration("/WebSquare/spa/@value")||this.options.spaIframeMaxSize>0)&&(this.options.spa=!0),this.options.spaAuto&&(this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount=0,this.options.spa=!0),o.Z.getBoolean(this.options.useATagBtn)&&o.Z.getBoolean(this.options.closable)?this.options.useATagBtn=!0:this.options.useATagBtn=!1,0==this.options.forceChildCompEnabled&&(this.options.forceChildCompEnabled=a.I.getConfiguration("/WebSquare/tabControl/forceChildCompEnabled/@value")||!1),null==t)return;this._initializeIScroll(),this.disabledTabStack=[],this.disabledComponents={},
this.tabArr=this.makeTabArray(t,this.options),this.contentsArr=this.makeTabContentsArray(t,this.tabContentOptions,this.tabArr),this.initAllContents(),this.options.changeActiveTab&&(this.options.tabScroll=!0),!this.options.tabScroll||"left"!==this.options.tabPosition&&"right"!==this.options.tabPosition||(this.options.tabScroll=!1),this.tooltip=null,!0!==this.options.useTabKeyOnly&&"layout"!=this.options.adaptive||(this.options.useBridge=!0),!0===this.options.accessibility&&(this.options.useAccessibilityMenu=!0,this.options.senseReader=!0,this.options.useTabKeyOnly=!1,this.options.tableRender="ul",this.options.tabScrollDiv=!0,this.options.useBridge=!0,this.options.useMoveNextTabFocus=!1,this.options.changeActiveTab=!0,this.options.useATagBtn=!0,this.options.tabScroll=!0),this._splitInfo={}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.initContents=function(t){try{var e,i,s=this.options._scope_obj_uuid,n=null==s?null:WebSquare.idCache[s],l=t.contentsID;null!=n&&(l=this.options._scope_obj_org_id+t.contentsID.slice(this.id.length));var h,c=!0,b=o.Z.getBoolean(t.scope)||o.Z.getBoolean(a.I.getConfiguration("/WebSquare/wframe/scope/@value"));switch(t.frameMode){case"iframe":e={className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",name:t.name,title:t.title,spa:this.options.spa,pluginName:"iframe",msaName:t.msaName};break;case"wframe":e={className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",scope:b,pluginName:"wframe",processMsgFrame:t.processMsgFrame||!1!==t.processMsgFrame&&this.options.processMsgFrame||!1,frameModal:t.frameModal||!1!==t.frameModal&&this.options.frameModal||!1,msaName:t.msaName},t.initScript&&(e.initScript=t.initScript),t.postScript&&(e.postScript=t.postScript);break;case"wframePreload":e={className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",scope:b,pluginName:"wframe",src:t.src,preload:!0,processMsgFrame:t.processMsgFrame||!1!==t.processMsgFrame&&this.options.processMsgFrame||!1,frameModal:t.frameModal||!1!==t.frameModal&&this.options.frameModal||!1,msaName:t.msaName},t.initScript&&(e.initScript=t.initScript),t.postScript&&(e.postScript=t.postScript);break;case"pageFrame":e={className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",scope:b,pluginName:"pageFrame",src:t.src,preload:!0,processMsgFrame:t.processMsgFrame||!1!==t.processMsgFrame&&this.options.processMsgFrame||!1,frameModal:t.frameModal||!1!==t.frameModal&&this.options.frameModal||!1,msaName:t.msaName},t.initScript&&(e.initScript=t.initScript),t.postScript&&(e.postScript=t.postScript);break;default:c=!1,(i=t.xml).setAttribute("className","w2tabcontrol_contents_wrapper")}return h=i&&"json"===i._elementType?d.o.createByJSON(l+"_body",null,i._element,n,s,c):d.o.create(l+"_body",e,i,n,s,c),t.dataObject&&h.setDataObject(t.dataObject),h}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.initAllContents=function(){try{for(var t,e,i=0;i<this.contentsArr.length;i++)t=this.contentsArr[i],e=this.initContents(t),this.addControl(e)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.makeTabContentsArray=function(t,e,i){try{if(null==i||i.length<1)return[];for(var a=[],n={},l=t.getChildNodes(),h=[],d=0;d<l.length;d++)"w2:content"===l[d].getTagName()&&h.push(l[d]);for(d=0;d<i.length;d++){var c=d<h.length?h[d]:null;null==c||1!=c.getNodeType()||"w2:content"!=c.getTagName()?(c=null,n={}):n=WebSquare.WebSquareparser.parseAttribute(c);var b=null==c||null==c.getAttribute("id")?this.id+"_contents_"+d:this.id+"_contents_"+c.getAttribute("id");i[d].contentsID=b,n.alwaysDraw?n.alwaysDraw=o.Z.getBoolean(n.alwaysDraw):0==n.alwaysDraw||(n.alwaysDraw=this.options.alwaysDraw);var p=s.q.extend({contentsID:b,contentsClass:n.contentsClass||this.options.contentsClass,src:n.src||e.src,frameMode:null!=n.src&&""!=n.src?n.frameMode||e.frameMode:"",alwaysDraw:n.alwaysDraw,render:null,xml:c,name:n.name||"",title:n.title,scope:n.scope||e.scope},n||{})
;null!=p.src&&""!=p.src&&""==p.frameMode&&(p.frameMode="wframe"),a.push(p)}return a}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.makeTabArray=function(t,e){try{if(null==t)return[];for(var i=[],s=!1,a=0,n=t.getChildNodes(),l=0;l<n.length;l++){var h=n[l];if(1==h.getNodeType()&&"w2:tabs"==h.getTagName()){if(a++,-1!=this.options.windowMaxNum&&a>this.options.windowMaxNum){alert(WebSquare.language.getMessage("TabControl_maxNum_warning",this.options.windowMaxNum));break}var d=h.getAttribute("id"),c=this.id+"_tab_"+(null==d?l:d),b=WebSquare.WebSquareparser.parseAttribute(h);if(void 0===b.label&&(b.label=""),("true"==b.useLocale||this.options.useLocale&&"false"!=b.useLocale)&&b.localeRef){var p=this.getLocaleValue(b.localeRef);p&&(b.label=p)}1==this.options.useATagBtn&&(s=!0);var u={tabID:c,userTabID:d,contentsID:"",tabLabel:b.label,disabled:"true"==b.disabled,render:null,tabWidth:parseInt(b.tabWidth,10)>0?parseInt(b.tabWidth,10):this.options.tabWidth,tabGap:parseInt(b.tabGap,10)>0?parseInt(b.tabGap,10):this.options.tabGap,tabHeight:parseInt(b.tabHeight,10)>0?parseInt(b.tabHeight,10):this.options.tabHeight,tabClass:b.className||this.options.tabClass,tabStyle:b.style||this.options.tabStyle,activeTabClass:b.activeTabClass||this.options.activeTabClass,disabledTabClass:b.disabledTabClass||this.options.disabledTabClass,selectedClass:b.selectedClass||this.options.selectedClass,selectedImage:b.selectedImage?"url("+b.selectedImage+")":"",defaultImage:b.defaultImage?"url("+b.defaultImage+")":"",hoverImage:b.hoverImage?"url("+b.hoverImage+")":"",tabType:"image"==b.tabType?"image":"text",defaultClass:b.defaultClass||"",hoverClass:b.hoverClass||"",closable:null!=b.closable?o.Z.getBoolean(b.closable):this.options.closable,hiddenTab:1==o.Z.getBoolean(b.hiddenTab),closeBtn:null,label:b.label,value:c,title:b.title||b.label,tabHTML:b.tabHTML,useATagBtn:1==o.Z.getBoolean(b.useATagBtn)||s};"left"!==this.options.tabPosition&&"right"!==this.options.tabPosition||"string"==typeof u.tabStyle&&u.tabStyle.indexOf("width")<0&&(u.tabStyle="width:"+15*u.label.length+"px;"+u.tabStyle),i.push(u)}}return i}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.toHTML=function(){try{var t=[],e=""==this.options.style?"":"style='"+this.options.style+"'",i="";switch(this.options.tabPosition){case"top":i="w2tabcontrol_top ";break;case"bottom":i="w2tabcontrol_bottom ";break;case"left":i="w2tabcontrol_left ";break;case"right":i="w2tabcontrol_right "}var s="";this.options.tabScrollDiv&&(s="w2tabcontrol_tabscrolldiv "),t.push("<div id='"+this.id+"' "+e+" class='w2tabcontrol "+i+s+this.options.className+"'>"),"bottom"==this.options.tabPosition&&t.push(this.makeAllContentsHTML());var a="",n="",l="";!0!==this.options.noUseTitle&&(a="title='"+WebSquare.language.getMessage("TabControl_previous_tab")+"'",n="title='"+WebSquare.language.getMessage("TabControl_next_tab")+"'",l="title='"+WebSquare.language.getMessage("TabControl_tab_list")+"'");var h="",d="",c="";return c=this.options.useAccessibilityMenu?"<button type='button' id='"+this.id+"_btn_submenu' "+l+" class='w2tabcontrol_control btn_submenu' aria-controls='"+this.id+"_itemTable' aria-expanded='false'></button>":"<div id='"+this.id+"_btn_submenu' class='w2tabcontrol_control btn_submenu' "+l+" tabindex='-1'></div>",this.options.tabScroll&&!o.Z.isMobile()||this.options.tabScroll&&!this.options.mobileTabScroll?(t.push("<div id='"+this.id+"_control' class='w2tabcontrol_control'>"),h=this.options.useAccessibilityMenu?"<button type='button' "+a+" id='"+this.id+"_btn_scrollLeft' class='w2tabcontrol_control btn_scrollLeft'></button>":"<div id='"+this.id+"_btn_scrollLeft' class='w2tabcontrol_control btn_scrollLeft' "+a+" tabindex='-1'></div>",!0!==this.options.tabScrollDiv&&t.push(h),t.push("<div id='"+this.id+"_mask' class='"+s+"w2tabcontrol_control mask'>"),
t.push("<div id='"+this.id+"_scroll' class='w2tabcontrol_control scroll'>")):o.Z.isMobile()&&this.options.mobileTabScroll&&t.push("<div id='"+this.id+"_mobiletabscroll' class='w2tabcontrol_mobiletabscroll'>"),t.push(this.makeAllTabHTML()),this.options.tabScroll&&!o.Z.isMobile()||this.options.tabScroll&&!this.options.mobileTabScroll?(t.push("</div>"),t.push("</div>"),d=this.options.useAccessibilityMenu?"<button type='button' id='"+this.id+"_btn_scrollRight' "+n+" class='w2tabcontrol_control btn_scrollRight'></button>":"<div id='"+this.id+"_btn_scrollRight' class='w2tabcontrol_control btn_scrollRight' "+n+" tabindex='-1'></div>",!0!==this.options.tabScrollDiv&&(t.push(d),t.push(c)),t.push("</div>")):o.Z.isMobile()&&this.options.mobileTabScroll&&t.push("</div>"),"bottom"!=this.options.tabPosition&&t.push(this.makeAllContentsHTML()),!0===this.options.tabScrollDiv&&(t.push("<div class='w2tabcontrol_control_right' id='"+this.id+"_control_right'>"),t.push(h),t.push(d),t.push(c),t.push("</div>")),t.push("</div>"),t.join("")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.makeTextTabHTML=function(t,e,i){try{var s=WebSquare.language.getMessage("TabControl_close")||"Close",a="";switch(this.options.tabPosition){case"top":a=" w2tabcontrol_tabhost_top";break;case"bottom":a=" w2tabcontrol_tabhost_bottom";break;case"left":a=" w2tabcontrol_tabhost_left";break;case"right":a=" w2tabcontrol_tabhost_right"}var n=this.options.alwaysShowCloseBtn?"style='display: block;' ":"",l=""==s||this.options.noUseTitle?"":'title="'+s+'"',h=["<li id='",null,"'  class='w2tabcontrol_li ",null,"' ",null," "+o.Z.getDataPrefix("index")+"='",null,"' ><div class='w2tabcontrol_tab_center"+a+"' ><a role='tab' id='"+t.tabID+"_tabHTML'",null,null,null,"' ",null," "+(0==this.options.useTabKeyOnly?"tabindex='-1'":"")+" >",null,"</a></div><div class='w2tabcontrol_tab_left"+a+"'></div><div class='w2tabcontrol_tab_right"+a+"' >","<div id='",null,"' class='w2tabcontrol_tab_close' "+n+l+"></div></div></li>"],d=(t.tabWidth>0?"width:"+t.tabWidth+"px;":"")+(t.tabHeight>0?"height:"+t.tabHeight+"px;line-height:"+(t.tabHeight-1)+"px;":"")+(t.tabGap>0?"margin-right:"+t.tabGap+"px;":"")+(t.tabStyle?t.tabStyle:"");h[1]=t.tabID,h[3]=" w2tabcontrol_li_"+e+(t.disabled?" "+t.disabledTabClass:"")+(t.tabClass?" "+t.tabClass:""),i||e!==this.options.selectedIndex+1?h[3]+=t.defaultClass?" "+t.defaultClass:"":h[3]+=" "+t.activeTabClass+(t.selectClass?" "+t.selectClass:" "+t.selectedClass),h[5]=""==d?"":'style="'+d+'"',h[7]=e,""!=this.options.tabLiRole&&(h[4]+=' role="'+this.options.tabLiRole+'"'),!1===this.options.tabRole&&(h[8]="' ><div class='w2tabcontrol_tab_center"+a+"' ><a  id='"+t.tabID+"_tabHTML'"),h[9]=" aria-controls='"+t.contentsID+"'",!0===this.options.tabRole&&(h[9]+=" aria-selected='"+(e===this.options.selectedIndex+1?"true":"false")),0==t.disabled&&(!0===this.options.tabRole?h[10]="' href='":h[10]=" href='",this.options.removeBridge?h[11]="javascript:void(null);":h[11]="#"+t.contentsID+"_bridge");var c=t.title;this.options.useTabTitleSelected&&e===this.options.selectedIndex+1&&(c=WebSquare.language.getMessage("TabControl_selected",c)),h[13]=""==c||this.options.noUseTitle?"":'title="'+c+'"';var b;return b=this.options.escape?WebSquare.xml._encode(t.tabLabel):t.tabLabel,h[15]=b,o.Z.getBoolean(this.options.useATagBtn)&&(h[17]="<a id='",h[19]="' class='w2tabcontrol_tab_close_atag' href='javascript:void(null);' "+n+l+"></a></div></li>"),h[18]=t.tabID+"_close",h.join("")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.makeImageTabHTML=function(t,e,i){try{
var s=this.options.alwaysShowCloseBtn?"style='display: block;' ":"",a=WebSquare.language.getMessage("TabControl_close")||"Close",n=o.Z.getDataPrefix("index"),l=""==a||this.options.noUseTitle?"":'title="'+a+'"',h=["<li id='",null,"' class='w2tabcontrol_li ",null,"' ",null," "+n+"='",null,"'><div  id='"+t.tabID+"_tabHTML' class='w2tabcontrol_tab_center2' ",null," ",null," role='tab' ",null," "+(0==this.options.useTabKeyOnly?"tabindex='-1'":"")+" ></div><div class='w2tabcontrol_tab_left2'></div><div class='w2tabcontrol_tab_right2' >","<div id='",null,"' class='w2tabcontrol_tab_close2' "+s+l+"></div>","</div></li>"],d=(t.tabWidth>0?"width:"+t.tabWidth+"px;":"")+(t.tabHeight>0?"height:"+t.tabHeight+"px;line-height:"+(t.tabHeight-1)+"px;":"")+(t.tabGap>0?"margin-right:"+t.tabGap+"px;":"")+(t.tabStyle?t.tabStyle:"");h[1]=t.tabID,h[3]=" w2tabcontrol_li_"+e+(t.disabled?" "+t.disabledTabClass:"")+(t.tabClass?" "+t.tabClass:""),i||e!==this.options.selectedIndex+1?(h[3]+=t.defaultClass?" "+t.defaultClass:"",h[9]=t.defaultImage?"style='background-image:"+t.defaultImage+";":""):(h[3]+=" "+t.activeTabClass+(t.selectClass?" "+t.selectClass:" "+t.selectedClass),h[9]=t.selectedImage?"style='background-image:"+t.selectedImage+";'":""),h[5]=""==d?"":'style="'+d+'"',h[7]=e;var c=t.title;return this.options.useTabTitleSelected&&e===this.options.selectedIndex+1&&(c=WebSquare.language.getMessage("TabControl_selected",c)),h[11]=""==c||this.options.noUseTitle?"":'title="'+c+'"',h[13]=""==t.contentsID?"":'aria-controls="'+t.contentsID+'"',h[13]+=" aria-selected='"+(e===this.options.selectedIndex+1?"true":"false")+"'",h[16]=t.tabID+"_close",o.Z.getBoolean(this.options.useATagBtn)&&(h[15]="<a id='",h[17]="' class='w2tabcontrol_tab_close2_atag' href='javascript:void(null);' "+s+l+"></a>"),h.join("")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.makeAllTabHTML=function(){try{var t="";switch(this.options.tabPosition){case"top":t="w2tabcontrol_tabhost_top";break;case"bottom":t="w2tabcontrol_tabhost_bottom";break;case"left":t="w2tabcontrol_tabhost_left";break;case"right":t="w2tabcontrol_tabhost_right"}var e=[];e.push("<ul id='"+this.id+"_tabhost' class='"+this.options.hostClass+" "+t+"' role='tablist' >");for(var i=0;i<this.tabArr.length;i++){var s=this.tabArr[i];this.tabArr[i].hiddenTab&&(s.tabStyle=s.tabStyle+"; display:none; visibility:hidden;");var a="make"+s.tabType.capitalize()+"TabHTML";e.push(this[a](s,i+1))}return e.push("</ul>"),e.join("")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.makeContentsHTML=function(t,e,i,s,a){try{var n=["<div id='",null,"' class='",null,"' role='tabpanel",null,null,null,"</div>"],l=this.getChild(t.contentsID+"_body"),h="";h=this.contentsArr[this.options.selectedIndex]!==t?"' aria-hidden='true' style='display:none'>":"' aria-hidden='false'>";var d="",c="",b="";if(this.options.useBridge){var p,u=t.title||e;if(this.options.useH3Bridge)d="<h3 id='"+t.contentsID+"_bridge' style='' class='w2tabcontrol_contents_bridge_h3'>"+u+"</h3>",s>=0?this.bridgeIdArr.splice(s,0,t.contentsID+"_bridge"):this.bridgeIdArr.push(t.contentsID+"_bridge");else!0===this.options.removeBridge?(p=this.options.useBridgeHelper?"<h3 id='"+t.contentsID+"_bridge_helper' style='position:absolute;text-indent : -10000px;height:0px;' class='w2tabcontrol_contents_bridge_helper'>"+u+"</h3>":"",b="' tabIndex='0'",d=p):("string"==typeof u&&(u=u.wq_replaceAll("<br/>"," ").wq_replaceAll("<br>"," ")),p=this.options.useBridgeHelper?"<h3 id='"+t.contentsID+"_bridge_helper' style='position:absolute;text-indent : -10000px;background:none;height:0px;' class='w2tabcontrol_contents_bridge_helper'>"+u+"</h3>":"",d="<a id='"+t.contentsID+"_bridge' class='w2tabcontrol_bridge' href='javascript:void(null);'>"+p+"</a>"),s>=0?this.bridgeIdArr.splice(s,0,t.contentsID+"_bridge"):this.bridgeIdArr.push(t.contentsID+"_bridge")}return this.options.useBackbridge&&(c="<a id='"+t.contentsID+"_backbridge' tabindex='0' title='go back' class='w2tabcontrol_bridge'></a>",
s>=0?this.backbridgeIdArr.splice(s,0,t.contentsID+"_backbridge"):this.backbridgeIdArr.push(t.contentsID+"_backbridge")),n[1]=t.contentsID,n[3]=t.contentsClass,n[5]=o.Z.getBoolean(this.options.removeAriaLabelledby)?"":"' aria-labelledby='"+a,n[5]+=b,n[6]=h,n[7]=d,n[7]+=t.alwaysDraw&&!i?l.toHTML():"",n[7]+=c,n.join("")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.makeAllContentsHTML=function(){try{var t=[];t.push("<div id='"+this.id+"_container' class='"+this.options.containerClass+"'>");for(var e=0;e<this.contentsArr.length;e++){var i=this.contentsArr[e],s=this.tabArr[e],a=this.tabArr[e].tabID+"_tabHTML";t.push(this.makeContentsHTML(i,s.tabLabel,void 0,void 0,a))}return t.push("</div>"),t.join("")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setAdaptive=function(){try{var t,e=this.options.adaptive,i=parseInt(this.options.adaptiveThreshold)||480;"layout"==e&&(t="w2tab_adaptive_layout"),o.Z.isIE()&&parseInt(a.I.browserVersion(),10)<10||(o.Z._getBrowserWidth()<=i?this.hasClass(t)||this.addAdaptive():this.hasClass(t)&&this.removeAdaptive())}catch(t){r.Y.printStackTrace(t)}},b.prototype.addAdaptive=function(){try{var t,e=this.options.adaptive,i=document.getElementById(this.id+"_container");if("layout"==e){t="w2tab_adaptive_layout";var s=i.style.height||i.offsetHeight+"px";if(i.style.height="auto",i.setAttribute("data-oldHeight",s),"right"===this.options.tabPosition){var a=this.render.offsetWidth-i.offsetLeft-i.offsetWidth||0,n=i.style.right||a+"px";i.setAttribute("data-oldRight",n),i.style.right="0px"}else if("left"===this.options.tabPosition){var o=i.style.left||i.offsetLeft+"px";i.setAttribute("data-oldLeft",o),i.style.left="0px"}else if("top"===this.options.tabPosition){var l=i.style.top||i.offsetTop+"px";i.setAttribute("data-oldTop",l),i.style.top="0px"}}if(this.addClass(t),this.options.tabScroll)document.getElementById(this.id+"_control").style.display="none"}catch(t){r.Y.printStackTrace(t)}},b.prototype.removeAdaptive=function(){try{var t,e=this.options.adaptive,i=document.getElementById(this.id+"_container");if("layout"==e&&(t="w2tab_adaptive_layout",i.style.height=i.getAttribute("data-oldHeight"),i.removeAttribute("data-oldHeight"),"right"===this.options.tabPosition?(i.style.right=i.getAttribute("data-oldRight"),i.removeAttribute("data-oldRight")):"left"===this.options.tabPosition?(i.style.left=i.getAttribute("data-oldLeft"),i.removeAttribute("data-oldLeft")):"top"===this.options.tabPosition&&(i.style.top=i.getAttribute("data-oldTop"),i.removeAttribute("data-oldTop"))),this.removeClass(t),this.options.tabScroll)document.getElementById(this.id+"_control").style.display="block"}catch(t){r.Y.printStackTrace(t)}},b.prototype.setAction=function(){try{if(this.options.initStyle){var t=document.getElementById(this.id).style.cssText,e=document.getElementById(this.id).getAttribute("class");WebSquare.initStyle[this.id]={style:t,className:e}}for(var i=WebSquare.BootLoader.fullViewed||!1,s=o.Z.fullViewed||!1,a=this.getTabHostAndContainer(),l=0;l<this.tabArr.length;l++){var h=this.tabArr[l];h.render=document.getElementById(h.tabID),h.closeBtn=document.getElementById(h.tabID+"_close"),h.contentsRender=document.getElementById(h.contentsID),this.contentsArr[l].render=h.contentsRender;var d=this.contentsArr[l].frameMode;if(1==this.contentsArr[l].alwaysDraw&&("iframe"===d||"wframe"===d||"wframePreload"===d||"pageFrame"===d)){var c=this.getChild(h.contentsID+"_body");c.options&&"wframe"===c.options.pluginName&&(c.options.mode="sync"),this._addTabEvent({uuid:c.uuid,tabID:h.tabID,idx:l,userTabID:h.userTabID}),"wframePreload"!==d&&"pageFrame"!==d&&c.setSrc(this.contentsArr[l].src,this.contentsArr[l].forceReload),"iframe"===d&&o.Z.isIEAllVersion()&&o.Z.setInterval(this.checkLoadEvent,{key:c.id+"_checkLoadEvent",caller:this,args:[c],delay:70})}h.tabHTML&&this.setTabHTML(h.userTabID,h.tabHTML)}if(this.options.tabScroll){WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,
fnHide:this._closeSubLayer,paramHide:{documentClick:!0},event:{}});var b=document.getElementById(this.id+"_btn_submenu");b&&(o.Z.isTouchDevice()&&n.f.addListener(b,"ontouchstart",(function(t){n.f.stopPropagation(t)})),n.f.addListener(b,"onmousedown",(function(t){n.f.stopPropagation(t)})))}o.Z.isTouchDevice()&&this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleMouseoverEvent)),this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleTabClickEvent)),this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleTabDblClickEvent)),this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent)),this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent)),o.Z.isIE(6)&&this.event.addListener(this.render,"onresize",this.event.bindAsEventListener(this,this.handleResizeEvent));var p=this;if(!0===this.options.accessibility?(this.event.addListener(a.tabhost,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEventAccessibility)),this.event.addListener(a.container,"onkeydown",this.event.bindAsEventListener(this,(function(t){if(9===(t.charCode||t.keyCode)&&!0===t.shiftKey)for(var e=p.event.getTargetIterator(t,p.render);e.next();)e.match("w2tabcontrol_bridge")&&e.stop()}))),!0===this.options.tabScroll&&this.event.addListener(document.getElementById(this.id+"_btn_submenu"),"onkeydown",(function(t){9===(t.charCode||t.keyCode)&&t.shiftKey}))):this.options.useTabKeyOnly?(this.event.addListener(a.tabhost,"onfocusin",(function(t){p.lastEventType=t.type})),this.event.addListener(a.tabhost,"onkeydown",(function(t){var e=t.charCode||t.keyCode;9!==e&&13!==e||(p.lastEventType=t.type)})),this.event.addListener(a.tabhost,"onmousedown",(function(t){p.senseReaderMode=!1}))):(this.event.addListener(a.tabhost,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent)),this.event.addListener(a.container,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent)),1==this.options.useMoveNextTabFocus&&this.event.addListener(a.container,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusInEvent))),o.Z.isTouchDevice()&&(this.event.addListener(a.tabhost,"ontouchstart",this.event.bindAsEventListener(this,this.handleTabMove)),this.event.addListener(a.tabhost,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove))),this.event.addListener(a.tabhost,"onmousedown",this.event.bindAsEventListener(this,this.handleTabMove)),this.options.useBackbridge)for(l=0;l<this.backbridgeIdArr.length;l++){var u=this.getElementById(this.backbridgeIdArr[l]);if(u){!function(t){n.f.addListener(u,"onkeydown",(function(e){13===(e.charCode||e.keyCode)&&p.setFocusedTab(t)}))}(l)}}var g=this.setActiveTab(this.options.selectedIndex);return this.adjustContentsHeight(),i||s||"layout"==this.options.adaptive&&(this.setAdaptive(),this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive))),this.options.tabScroll&&this.options.adjustTabScroll&&this.checkScrollBtnVisibility(),g}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.onComplete=function(){this._makeIframeBackground(),h.q.prototype.onComplete.call(this)},b.prototype._makeIframeBackground=function(){try{a.I.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:10}),this.options.spaAuto&&a.I.setTimer(this.createFrame,{key:this.id+"_createFrame",caller:this,delay:this.options.spaAutoDelay,args:[{maxFrame:1}]})}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.makeIframe=function(){if(WebSquare.uiplugin.iframe){for(var t,e=this.storedFrame.length,i=0;i<this.contentsArr.length;i++)"iframe"==this.contentsArr[i].frameMode&&e++;this.options.spaIframeMinSize>e&&(this._makeIframe(),a.I.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:50}))}else{requires("uiplugin.iframe").then((t=this,function(e,i){
t.makeIframe()}))}},b.prototype._makeIframe=function(){try{var t=document.getElementById(this.id+"_container"),e=["<div id='",null,"' class='",this.options.contentsClass,"' role='tabpanel","","' aria-hidden='true' style='display:none'>",null,"</div>"],i=this.uuid+"_iframe_"+this.autoNum++,s=new WebSquare.uiplugin.iframe(i,{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",spa:this.options.spa,src:WebSquare.net.getBlankXML()});e[1]=i,e[5]=o.Z.getBoolean(this.options.removeAriaLabelledby)?"":"' aria-labelledby='",e[7]=s.toHTML();var a=document.createElement("div");a.innerHTML=e.join("");var n=a.removeChild(a.firstChild);t.appendChild(n),s.render=n.firstChild,this.storedFrame.push(s.id),s.activeStatus="active"}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.createFrame=function(t){try{if(-1!=this.options.windowMaxNum&&this.options.windowMaxNum<=this.getTabCount()+this.storedFrame.length)return void l.v.printLog("["+this.id+"] createFrame error : frames are full ("+this.options.windowMaxNum+")");void 0!==t&&null!=t||(t={}),(isNaN(t.maxFrame)||t.maxFrame>this.storedFrame.length)&&this._makeIframe()}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.addRoundedCornerForIE=function(){try{for(var t=WebSquare.language.getMessage("TabControl_right_corner")||"Right-corner Image",e=WebSquare.language.getMessage("TabControl_left_corner")||"Left-corner Image",i=0;i<this.tabArr.length;i++){var a=this.tabArr[i];if("img"!=a.render.firstChild.nodeName.toLowerCase()){var n=document.createElement("img");n.src=s.q._resourceURI+"uiplugin/tabControl/images/right-top.png",n.className="w2tabcontrol_righttop",n.setAttribute("alt",t),a.render.insertBefore(n,a.render.firstChild),(n=document.createElement("img")).src=s.q._resourceURI+"uiplugin/tabControl/images/left-top.png",n.className="w2tabcontrol_lefttop",n.setAttribute("alt",e),a.render.insertBefore(n,a.render.firstChild),n=null}}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getTabHostAndContainer=function(){try{var t=document.getElementById(this.id+"_tabhost");return{container:document.getElementById(this.id+"_container"),tabhost:t}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.adjustContentsHeight=function(){try{var t=this.getTabHostAndContainer(),e=t.container,i=t.tabhost,s=o.Z.getStyleProperty(this.render,"height");if(this.options.tabScroll&&"auto"!=s&&"0px"!=s){var a=document.getElementById(this.id+"_control");if(parseInt(s,10)==parseInt(o.Z.getStyleProperty(a,"height"),10))return}if(null==s||""==s||"auto"==s||"0px"==s)return;if("%"==(s+"").charAt((s+"").length-1))return;if(!this.options.tabPosition)return;var n=(parseInt(s,10)||0)-(parseInt(o.Z.getStyleProperty(this.render,"padding-top"),10)||0)-(parseInt(o.Z.getStyleProperty(this.render,"padding-bottom"),10)||0),l=(parseInt(o.Z.getStyleProperty(i,"height"),10)||0)+(parseInt(o.Z.getStyleProperty(i,"border-top-width"),10)||0)+(parseInt(o.Z.getStyleProperty(i,"border-bottom-width"),10)||0)+(parseInt(o.Z.getStyleProperty(i,"margin-top"),10)||0)+(parseInt(o.Z.getStyleProperty(i,"margin-bottom"),10)||0);switch(this.options.tabPosition&&(e.style.position="absolute"),this.options.tabPosition){case"top":e.style.height=n-l+"px",e.style.top=i.offsetTop+i.scrollHeight+"px";break;case"bottom":if(e.style.height=n-l+"px",this.options.tabScroll)(a=document.getElementById(this.id+"_control")).style.top=e.offsetTop+e.offsetHeight+"px";else i.style.top=e.offsetTop+e.offsetHeight+"px";break;case"left":for(var h=0,d=[],c=0;c<this.tabArr.length;c++)if(this.tabArr[c].render){var b=WebSquare.style.getSize(this.tabArr[c].render,"width");d.push(b),h=Math.max(b,h)}else d.push(-1);i.style.width=h+"px",i.style.left="0px",e.style.height=n+"px",e.style.left=h+"px",e.style.width="auto",e.style.right="0px";for(c=0;c<d.length;c++)d[c]<h&&(this.tabArr[c].render.style.left=h-d[c]+"px");break;case"right":for(h=0,
c=0;c<this.tabArr.length;c++)this.tabArr[c].render&&(h=Math.max(WebSquare.style.getSize(this.tabArr[c].render,"width"),h));i.style.width=h+"px",i.style.right="0px",e.style.height=n+"px",e.style.left="0px",e.style.width="auto",e.style.right=h+"px"}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setClosable=function(t,e){try{if(t=parseInt(t,10),e=e||!1,t<0||t>=this.tabArr.length)return!1;this.tabArr[t].closable=e}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setActiveTab=async function(t,e){try{if(e=e||{},(t=parseInt(t,10))<0||t>=this.tabArr.length)return!1;var i;if(this.tabArr[t].disabled||this.tabArr[t].hidden)return(b=this.tabArr[t]).render=document.getElementById(b.tabID),this.removeClass(b.render,b.activeTabClass),!1;if(this.changeTabhostAccessibility(t),!0===e.showCloseBtn&&this.tabArr[t].closable)(i=document.getElementById(this.tabArr[t].tabID+"_close"))&&(i.style.display="block");if("number"==typeof e.hideCloseBtn&&this.tabArr[e.hideCloseBtn].closable)(i=document.getElementById(this.tabArr[e.hideCloseBtn].tabID+"_close"))&&(i.style.display="none");for(var s=0;s<this.tabArr.length;s++){if((b=this.tabArr[s]).render=document.getElementById(b.tabID),s!=t){if(this.removeClass(b.render,b.activeTabClass),b.selectedClass&&this.removeClass(b.render,b.selectedClass),b.defaultClass&&this.addClass(b.render,b.defaultClass),b.contentsRender.style.display="none",b.contentsRender.style.visibility="hidden",b.contentsRender.setAttribute("aria-hidden","true"),this.addClass(b.contentsRender," "),"image"==b.tabType)(c=b.render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=b.defaultImage||c.style[WebSquare.style.camelize("background-image")];try{var a=this.getChild(b.contentsID+"_body");if(null!=a&&a.removeClass("w2tabcontrol_contents_wrapper_selected"),this.options.useBridge)null!=(g=!0===this.options.removeBridge?document.getElementById(this.bridgeIdArr[s]+"_helper"):document.getElementById(this.bridgeIdArr[s]))&&this.removeClass(g,"w2tabcontrol_contents_bridge_selected");try{null!=a&&"active"===a.activeStatus&&"iframe"===a.options.pluginName&&a.getWindow()&&a.getWindow().WebSquare&&a.getWindow().WebSquare.getBody()&&a.getWindow().WebSquare.getBody().getLayerListener().hideAll()}catch(t){r.Y.crossOrigin({message:t.message,name:"setActiveTab"})}}catch(t){r.Y.printStackTrace(t,null,this)}}if(0==this.options.useTabKeyOnly){var l="image"==b.tabType?b.render.getElementsByTagName("div")[0]:b.render.getElementsByTagName("a")[0];s!=t?"a"==l.nodeName.toLowerCase()&&""==l.innerHTML?l.parentNode.setAttribute("tabIndex","-1"):l.setAttribute("tabIndex","-1"):"a"==l.nodeName.toLowerCase()&&""==l.innerHTML?l.parentNode.setAttribute("tabIndex","0"):l.setAttribute("tabIndex","0")}}var c,b=this.tabArr[t],p=this.contentsArr[t];if(this.addClass(b.render,b.activeTabClass),b.defaultClass&&this.removeClass(b.render,b.defaultClass),b.selectedClass&&this.addClass(b.render,b.selectedClass),"image"==b.tabType)(c=b.render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=b.selectedImage||c.style[WebSquare.style.camelize("background-image")];p.render.style.display="block",p.render.style.visibility="visible",p.render.setAttribute("aria-hidden","false"),this.addClass(p.render," ");var u=this.getChild(b.contentsID+"_body");if(this.options.useBridge)null!=(g=!0===this.options.removeBridge?document.getElementById(this.bridgeIdArr[t]+"_helper"):document.getElementById(this.bridgeIdArr[t]))&&this.addClass(g,"w2tabcontrol_contents_bridge_selected");var g,f=WebSquare.BootLoader.fullViewed||!1,m=o.Z.fullViewed||!1,y=this.selectedIndex;if(this.selectedIndex=t,this.focusedIndex=t,0==p.alwaysDraw&&u.reuseFrame&&!u.loaded&&(u.loaded=!0,this._addTabEvent({uuid:u.uuid,tabID:b.tabID,idx:t,userTabID:b.userTabID}),u.setSrc(p.src,p.forceReload)),0!=p.alwaysDraw||u.reuseFrame){if(1==p.alwaysDraw){if(!this.options.useTabKeyOnly&&1==this.options.useMoveNextTabFocus&&t<this.tabArr.length-1){var v=!1
;for(s=0;s<p.render.firstChild.childNodes.length;s++)if("dummyDivForNextTabFocus"==p.render.firstChild.childNodes[s].id){v=!0;break}0==v&&(p.render.firstChild.innerHTML+="<div id='dummyDivForNextTabFocus' tabIndex=0></div>")}f||m||u.refreshAdaptive(),"wframe"!==u.options.pluginName&&"pageFrame"!==u.options.pluginName||t===this.selectedIndex||n.f.fireEvent(u,"onsetsize")}}else u.render?f||m||u.refreshAdaptive():(await d.o.initAsync(),null===u.render&&await this._setActiveTabAsync(t),"iframe"===p.frameMode&&o.Z.setInterval(this.checkLoadEvent,{key:u.id+"_checkLoadEvent",caller:this,args:[u,"setActiveTab",b.userTabID],delay:this.options.onTabLoadCheckTime}));if("iframe"==p.frameMode&&"src"in p&&""!=p.src&&1==p.alwaysDraw){var T=u.render.getAttribute("src");("about:blank"==T||WebSquare.net.isSSLBlankPage(T))&&(this._addTabEvent({uuid:u.uuid,tabID:b.tabID,idx:t,userTabID:b.userTabID}),u.setSrc(p.src,p.forceReload),o.Z.isIEAllVersion()&&o.Z.setInterval(this.checkLoadEvent,{key:u.id+"_checkLoadEvent",caller:this,args:[u],delay:70}))}if(u.addClass("w2tabcontrol_contents_wrapper_selected"),y!=t&&n.f.fireEvent(this,"onchange",b.tabID,t,b.userTabID),this.options.useBridge&&!1!==e.focus)(g=document.getElementById(this.bridgeIdArr[t]))&&this.activeFirstTime&&this.options.focusOnStart&&g.focus();if(1!=this.activeFirstTime&&(this.activeFirstTime=!0),this.options.tabScroll)if(this.visibleTabIndex>this.selectedIndex)this.scrollTab(this.selectedIndex);else this.getVisibleTab()[this.selectedIndex]||this.scrollTab(this.selectedIndex,"right");if(WebSquare.getBody().getLayerListener().hideAll(),e&&!0===e.focus)document.getElementById(this.tabArr[t].tabID+"_tabHTML").focus();return h.q.checkResize(),!0}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._setActiveTabAsync=async function(t){try{var e,i=this.tabArr[t],s=this.contentsArr[t],a=this.getChild(i.contentsID+"_body");if(this.options.useBridge)e=!0===this.options.removeBridge?document.getElementById(this.bridgeIdArr[t]+"_helper"):document.getElementById(this.bridgeIdArr[t]),s.render.innerHTML=e.outerHTML+a.toHTML();else if(s.render.innerHTML=a.toHTML(),1==this.options.useMoveNextTabFocus&&t<this.tabArr.length-1){for(var o=!1,l=0;l<s.render.firstChild.childNodes.length;l++)if("dummyDivForNextTabFocus"==s.render.firstChild.childNodes[l].id){o=!0;break}0==o&&(s.render.firstChild.innerHTML+="<div id='dummyDivForNextTabFocus' tabIndex=0></div>")}var h="wframe"===s.frameMode||"wframePreload"===s.frameMode||"iframe"===s.frameMode||"pageFrame"===s.frameMode;h&&this._addTabEvent({uuid:a.uuid,tabID:i.tabID,idx:t,userTabID:i.userTabID}),a.render&&null==a.render.parentNode&&(a.render=document.getElementById(a.id)),a.activate(),s.render.clientHeight>a.render.clientHeight&&(a.render.style.height=s.render.clientHeight+"px"),a.onComplete(),"iframe"===s.frameMode?a.setSrc(s.src,s.forceReload):"wframe"===s.frameMode&&await a.setSrc(s.src,s.forceReload),h||(n.f.fireEvent(this,"ondrawcomplete",i.tabID,t,i.userTabID),n.f.fireEvent(this,"ontabload",i.tabID,t,i.userTabID))}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.activateTab=function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return!1;if(this.tabArr[t].disabled)return!1;var e=this.tabArr[t],i=this.contentsArr[t],s=this.getChild(e.contentsID+"_body");0==i.alwaysDraw&&s.reuseFrame&&!s.loaded&&(s.loaded=!0,s.setSrc(i.src,i.forceReload));var a=Promise.resolve();if(0==i.alwaysDraw&&!s.reuseFrame&&!s.render){var n=this.uuid;d.o._awaitObj.key.length>0||d.o._asyncList.length>0?a=d.o.initAsync().then((function(e,i){WebSquare.idCache[n]._activateTabAsync(t)})):this._activateTabAsync(t)}return a}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._activateTabAsync=function(t){try{var e,i=this.tabArr[t],s=this.contentsArr[t],a=this.getChild(i.contentsID+"_body");if(this.options.useBridge)e=!0===this.options.removeBridge?document.getElementById(this.bridgeIdArr[t]+"_helper"):document.getElementById(this.bridgeIdArr[t]),
s.render.innerHTML=e.outerHTML+a.toHTML();else s.render.innerHTML=a.toHTML();a.activate(),a.onComplete(),"wframePreload"===s.frameMode||"pageFrame"===s.frameMode||"wframe"!==s.frameMode&&"iframe"!==s.frameMode||!s.src||a.setSrc(s.src,s.forceReload)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.scrollTab=function(t,e,i){try{if(!this.options.tabScroll||t>=this.tabArr.length||t<0)return;if(e=void 0===e?"left":e,t=parseInt(t,10),"btn_scrollLeft"==i){for(;this.tabArr[t].render&&"none"==this.tabArr[t].render.style.display;)if(--t<0)return}else if("btn_scrollRight"==i)for(;this.tabArr[t].render&&"none"==this.tabArr[t].render.style.display;)t++;if("right"==e){var s=document.getElementById(this.id+"_mask"),a=WebSquare.style._getSize(s,"innerWidth"),n=WebSquare.style._getSize(this.tabArr[t].render,"outerMarginWidth");do{var o=t-1;if(o<0)break;if("none"!=this.tabArr[t].render.style.display&&(n+=WebSquare.style._getSize(this.tabArr[o].render,"outerMarginWidth")),n>a)break}while(t-- >0)}for(var l=document.getElementById(this.id+"_scroll"),h=0,d=0;d<t;d++)"none"!=this.tabArr[d].render.style.display&&(h-=WebSquare.style._getSize(this.tabArr[d].render,"outerMarginWidth"));WebSquare.style.setStyle(l,"left",h+"px"),this.visibleTabIndex=t}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.changeActiveTab=async function(t){try{if(!this.options.tabScroll)return;var e=this.selectedIndex;if("btn_scrollLeft"==t&&e>0){for(e--;e>0&&this.tabArr[e].render&&("none"==this.tabArr[e].render.style.display||this.tabArr[e].disabled);)if(--e<0)return}else if("btn_scrollRight"==t&&e<this.tabArr.length-1)for(e++;e<this.tabArr.length-1&&this.tabArr[e].render&&("none"==this.tabArr[e].render.style.display||this.tabArr[e].disabled);)if(e++,this.tabArr.length-1<e)return;e!=this.selectedIndex&&(!0===this.options.changeActiveTabBeforeselect?await this.setSelectedTabIndex(e):await this.setActiveTab(e))}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getVisibleTab=function(){try{var t={};if(this.options.tabScroll)for(var e=document.getElementById(this.id+"_mask"),i=WebSquare.style.getSize(e,"innerWidth"),s=0,a=this.visibleTabIndex;a<this.tabArr.length;a++)(s+=WebSquare.style.getSize(this.tabArr[a].render,"outerMarginWidth"))<=i&&(t[a]=!0);return t}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getHiddenTab=function(){try{for(var t=[],e=0;e<this.tabArr.length;e++)this.tabArr[e].hidden&&t.push(e);return t}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getRealTabIndex=function(t){try{for(var e=0,i=0,s=0;s<this.tabArr.length;s++)if(!this.tabArr[s].hidden&&"none"!=this.tabArr[s].render.style.display&&"hidden"!=this.tabArr[s].render.style.visibility){if(e>=t){i=s;break}e++}return i}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setFocusedTab=function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return!1;var e=this.tabArr[t];if(e.disabled)return!1;e.render=document.getElementById(e.tabID);var i="image"==e.tabType?e.render.getElementsByTagName("div")[0]:e.render.getElementsByTagName("a")[0];"a"==i.nodeName.toLowerCase()&&""==i.innerHTML?i.parentNode.focus():i.focus()}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.checkScrollBtnVisibility=function(){try{if(this.options.tabScroll){for(var t=document.getElementById(this.id+"_control"),e=document.getElementById(this.id+"_mask"),i=document.getElementById(this.id+"_btn_scrollLeft"),s=document.getElementById(this.id+"_btn_scrollRight"),a=document.getElementById(this.id+"_btn_submenu"),n=document.getElementById(this.id+"_scroll"),o=WebSquare.style.getSize(t,"innerWidth"),l=0,h=0;h<this.tabArr.length;h++)if((l+=WebSquare.style.getSize(this.tabArr[h].render,"outerMarginWidth"))>o)return void(this.hasClass(e,"mask")||(this.addClass(e,"mask"),i.style.display="",s.style.display="",a.style.display="",i.style.visibility="",s.style.visibility="",a.style.visibility=""));this.hasClass(e,"mask")&&(WebSquare.style.setStyle(n,"left","0px"),this.removeClass(e,"mask"),
i.style.display="none",s.style.display="none",a.style.display="none",i.style.visibility="hidden",s.style.visibility="hidden",a.style.visibility="hidden",this.visibleTabIndex=0)}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleTabClickEvent=function(t){try{for(var e,i=this.event.getTargetIterator(t,this.render,this._eventBubbling),s="none";i.next();){var a=i.getElement(),l="w2tabcontrol_tab_close",h="w2tabcontrol_tab_close2",d=o.Z.getBoolean(this.options.useATagBtn);if(d&&(l="w2tabcontrol_tab_close_atag",h="w2tabcontrol_tab_close2_atag"),this.__hasClass(a,l)||this.__hasClass(a,h)){s="ontabclose",e=(d?a.parentNode.parentNode.getElementsByTagName("a").length>1?a.parentNode.parentNode.getElementsByTagName("a")[0]:a.parentNode.parentNode.getElementsByTagName("div")[0]:a.parentNode.parentNode.getElementsByTagName("a").length>0?a.parentNode.parentNode.getElementsByTagName("a")[0]:a.parentNode.parentNode.getElementsByTagName("div")[0]).getAttribute("aria-controls");break}if(i.match("w2tabcontrol_li",null,null,this.id+"_tab_")){s="ontabclick",e=(d?a.getElementsByTagName("a").length>1?a.getElementsByTagName("a")[0]:a.getElementsByTagName("div")[0]:a.getElementsByTagName("a").length>0?a.getElementsByTagName("a")[0]:a.getElementsByTagName("div")[0]).getAttribute("aria-controls");break}if(i.match("btn_scrollLeft",null,null,this.id+"_btn_scrollLeft")){this._eventBubbling||n.f.stopPropagation(t),this.options.changeActiveTab?this.changeActiveTab("btn_scrollLeft"):this.scrollTab(this.visibleTabIndex-1,null,"btn_scrollLeft"),n.f.fireEvent(this,"onscrollleftbtnclick");break}if(i.match("btn_scrollRight",null,null,this.id+"_btn_scrollRight")){if(this._eventBubbling||n.f.stopPropagation(t),this.options.changeActiveTab)this.changeActiveTab("btn_scrollRight");else{for(var c=document.getElementById(this.id+"_mask"),b=WebSquare.style.getSize(c,"outerMarginWidth"),p=0,u=this.visibleTabIndex;u<this.tabArr.length;u++)"none"!=this.tabArr[u].render.style.display&&(p+=WebSquare.style.getSize(this.tabArr[u].render,"outerMarginWidth"));if(p>b){this.scrollTab(this.visibleTabIndex+1,null,"btn_scrollRight"),n.f.fireEvent(this,"onscrollrightbtnclick");break}}n.f.fireEvent(this,"onscrollrightbtnclick")}else{if(i.match("btn_submenu",null,null,this.id+"_btn_submenu")){this._eventBubbling||n.f.stopPropagation(t),this.toggle(),n.f.fireEvent(this,"onsubmenubtnclick");break}if(this.hasClass("w2tab_adaptive_layout")&&(this.__hasClass(a,"w2tabcontrol_contents_bridge_helper")||this.options.useH3Bridge&&this.__hasClass(a,"w2tabcontrol_contents_bridge_h3"))){s="ontabclick",e=this.options.useH3Bridge||this.options.removeBridge&&"layout"===this.options.adaptive&&this.hasClass("w2tab_adaptive_layout")?a.parentNode.id:a.parentNode.parentNode.id;break}if(i.match("btn_close_all",null,null,this.id)){this._eventBubbling||n.f.stopPropagation(t),this.deleteAllTabs();break}if(i.match("w2tab_adaptive_closebtn",null,null,this.id)){s="ontabclose",e=a.id.replaceAll("_mclose","");break}}}if(i=null,"none"==s)return;this.senseReaderMode&&"focusin"===this.lastEventType||this.hasClass("w2tab_adaptive_layout")||(this._eventBubbling&&"ontabclick"==s?n.f.preventDefault(t):n.f.stopEvent(t));var g,f=-1;for(u=0;u<this.tabArr.length;u++)if((g=this.tabArr[u]).contentsID==e){f=u;break}if("ontabclick"==s){if(f>=0&&(1!=this.tabArr[f].disabled||1!=this.options.preventTabClickEvent)){var m=Promise.resolve();this.selectedIndex==f&&1!=this.options.useTabKeyOnly||(m=this.setSelectedTabIndex(f)),m.then(function(t,e,i,s){return function(a,r){WebSquare.util.isMobile()||1!=t.options.removeBridge||t.tabArr[s].contentsRender.focus(),n.f.fireEvent(t,e,i,s)}}(this,s,g.tabID,f))}}else this.deleteTab(f)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleTabDblClickEvent=function(t){try{n.f.fireEvent(this,"ontabdblclick",t)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleMouseoverEvent=function(t){try{var e,i,s=this.event.getTargetIterator(t,this.render)
;if(o.Z.isTouchDevice()&&"mouseover"!==t.type&&(i=this.iScroll.bTouchMove,this._initializeIScroll(),!0===i))return;for(;s.next();){if(s.match("w2tabcontrol_li")){for(var a=s.getElement(),n=0;n<this.tabArr.length;n++)if(this.tabArr[n].render)if(this.tabArr[n].render!=a)this.removeClass(this.tabArr[n].render,this.options.overTabClass),this.tabArr[n].hoverClass&&this.removeClass(this.tabArr[n].render,this.tabArr[n].hoverClass),this.tabArr[n].closeBtn&&!this.options.alwaysShowCloseBtn&&(this.tabArr[n].closeBtn.style.display="none"),"image"==this.tabArr[n].tabType&&((e=this.tabArr[n].render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==n?this.tabArr[n].selectedImage:this.tabArr[n].defaultImage)||e.style[WebSquare.style.camelize("background-image")]);else{if(this.tabArr[n].disabled)continue;this.addClass(a,this.options.overTabClass),this.tabArr[n].hoverClass&&this.addClass(this.tabArr[n].render,this.tabArr[n].hoverClass),this.tabArr[n].closable&&this.tabArr[n].closeBtn&&(this.tabArr[n].closeBtn.style.display="block"),"image"==this.tabArr[n].tabType&&((e=this.tabArr[n].render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=this.tabArr[n].hoverImage||this.tabArr[n].selectedImage||e.style[WebSquare.style.camelize("background-image")])}return void(o.Z.isTouchDevice()&&"mouseover"!==t.type&&this.handleTabClickEvent(t))}if(s.match("btn_scrollLeft"))this._showTabTooltip(s.getElement(),WebSquare.language.getMessage("TabControl_previous_tab")),this.addClass(s.getElement(),"btn_scrollLeft_over");else if(s.match("btn_scrollRight"))this._showTabTooltip(s.getElement(),WebSquare.language.getMessage("TabControl_next_tab")),this.addClass(s.getElement(),"btn_scrollRight_over");else if(s.match("btn_submenu"))this._showTabTooltip(s.getElement(),WebSquare.language.getMessage("TabControl_tab_list")),this.addClass(s.getElement(),"btn_submenu_over");else if(s.match("btn_close_all"))this.addClass(s.getElement(),"btn_close_all_over");else if(s.match("w2tabcontrol_tab_center")||s.match("w2tabcontrol_tab_center2")){var l=s.getElement(),h=this.tabArr,d="";for(n=0;n<h.length;n++)h[n].tabID==l.parentElement.id&&(d=h[n]);d&&this._showTabTooltip(l,d.title)}else(s.match("w2tabcontrol_tab_right")||s.match("w2tabcontrol_tab_right2"))&&this._showTabTooltip(s.getElement(),"close")}for(n=0;n<this.tabArr.length;n++)this.tabArr[n].render&&(this.removeClass(this.tabArr[n].render,this.options.overTabClass),this.tabArr[n].hoverClass&&this.removeClass(this.tabArr[n].render,this.tabArr[n].hoverClass),this.tabArr[n].closeBtn&&!this.options.alwaysShowCloseBtn&&(this.tabArr[n].closeBtn.style.display="none"),"image"==this.tabArr[n].tabType&&((e=this.tabArr[n].render.getElementsByTagName("div")[0]).style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==n?this.tabArr[n].selectedImage:this.tabArr[n].defaultImage)||e.style[WebSquare.style.camelize("background-image")]));s=null,o.Z.isTouchDevice()&&"mouseover"!==t.type&&this.handleTabClickEvent(t)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleMouseoutEvent=function(t){try{n.f.stopEvent(t);for(var e=this.event.getTargetIterator(t,this.render);e.next();){if(e.match("w2tabcontrol_li")){for(var i=e.getElement(),s=-1,a=0;a<this.tabArr.length;a++)if(this.tabArr[a].render===i){s=a;break}if(null==this.tabArr[s])break;if(this.removeClass(this.tabArr[s].render,this.options.overTabClass),this.tabArr[s].hoverClass&&this.removeClass(this.tabArr[s].render,this.tabArr[s].hoverClass),this.options.alwaysShowCloseBtn||(this.tabArr[s].closeBtn.style.display="none"),"image"==this.tabArr[s].tabType){var o=this.tabArr[s].render.getElementsByTagName("div")[0];o.style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==s?this.tabArr[s].selectedImage:this.tabArr[s].defaultImage)||o.style[WebSquare.style.camelize("background-image")]}break}if(e.match("btn_scrollLeft")){
this.removeClass(e.getElement(),"btn_scrollLeft_over"),this._hideTooltip();break}if(e.match("btn_scrollRight")){this.removeClass(e.getElement(),"btn_scrollRight_over"),this._hideTooltip();break}if(e.match("btn_submenu")){this.removeClass(e.getElement(),"btn_submenu_over"),this._hideTooltip();break}if(e.match("btn_close_all")){this.removeClass(e.getElement(),"btn_close_all_over");break}(e.match("w2tabcontrol_tab_center")||e.match("w2tabcontrol_tab_right")||e.match("w2tabcontrol_tab_center2")||e.match("w2tabcontrol_tab_right2"))&&this._hideTooltip()}e=null}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleResizeEvent=function(t){try{if(this.options.tabScroll){var e=document.getElementById(this.id+"_control"),i=document.getElementById(this.id+"_mask"),s=document.getElementById(this.id+"_btn_scrollLeft"),a=document.getElementById(this.id+"_btn_scrollRight"),n=document.getElementById(this.id+"_btn_submenu"),o=WebSquare.style.getSize(e,"innerWidth")-WebSquare.style.getSize(s,"outerMarginWidth")-WebSquare.style.getSize(a,"outerMarginWidth")-WebSquare.style.getSize(n,"outerMarginWidth"),l=parseInt(WebSquare.style.getStyleProperty(i,"padding-left"))+parseInt(WebSquare.style.getStyleProperty(i,"margin-left"))+parseInt(WebSquare.style.getStyleProperty(i,"padding-right"))+parseInt(WebSquare.style.getStyleProperty(i,"margin-right"));WebSquare.style.setStyle(i,"width",o-l+"px")}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleKeyEvent=function(t){try{var e=t.charCode?t.charCode:t.keyCode,i=this.getTabHostAndContainer(),s=this.event.getTargetIterator(t,this.render);if(13!=e&&37!=e&&38!=e&&39!=e&&40!=e&&46!=e)return;if(46==e&&t.altKey)return void this.deleteTab(this.getSelectedTabIndex());for(;s.next();)if((o=s.getElement())==i.container){if((37==e||38==e)&&t.ctrlKey){var a=this.tabArr[this.selectedIndex];if(1==(o="image"==a.tabType?a.render.getElementsByTagName("div")[0]:a.render.getElementsByTagName("a")[0]).nodeType)return o.focus(),void n.f.stopEvent(t)}return}switch(e){case 13:return void this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);case 37:case 38:this.focusedIndex=this.focusedIndex>0?this.focusedIndex-1:0,"a"==(o="image"==this.tabArr[this.focusedIndex].tabType?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0]).nodeName.toLowerCase()&&""==o.innerHTML?o.parentNode.focus():o.focus(),this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;case 39:case 40:var o;this.focusedIndex=this.focusedIndex+1<this.tabArr.length?this.focusedIndex+1:this.focusedIndex,"a"==(o="image"==this.tabArr[this.focusedIndex].tabType?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0]).nodeName.toLowerCase()&&""==o.innerHTML?o.parentNode.focus():o.focus(),this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0)}s=null,n.f.stopEvent(t)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleFocusInEvent=function(t){try{var e=this.event.getTargetIterator(t,this.render);for(this.lastEventType=t.type;e.next();)if(e.match(null,"dummyDivForNextTabFocus")){var i=this.tabArr[this.focusedIndex+1],s="image"==i.tabType?i.render.getElementsByTagName("div")[0]:i.render.getElementsByTagName("a")[0];if(1==s.nodeType)return this.focusedIndex++,s.focus(),this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0),e=null,void n.f.stopEvent(t)}e=null}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleKeyEventAccessibility=async function(t){try{var e=t.charCode?t.charCode:t.keyCode,i=this.getTabHostAndContainer(),s=this.event.getTargetIterator(t,this.render);if(-1===[9,13,35,36,37,38,39,40].indexOf(e))return;for(var a=0,o={focus:!0,showCloseBtn:!0};s.next();){if(s.getElement()==i.tabhost){for(var l=document.activeElement.id.replace("_tabHTML",""),h=0;h<this.tabArr.length;h++)if(this.tabArr[h].tabID===l){a=h;break}switch(e){case 9:
!0===t.shiftKey||(o.focus=!1,this.setActiveTab(a>=0?a:0,o));break;case 13:n.f.preventDefault(t);break;case 35:o.hideCloseBtn=a,a=this.getTabCount()-1,this.setActiveTab(a,o);break;case 36:o.hideCloseBtn=a,a=0,this.setActiveTab(a,o);break;case 37:case 38:o.hideCloseBtn=a,a=a>0?a-1:this.getTabCount()-1,this.setActiveTab(a,o);break;case 39:case 40:o.hideCloseBtn=a,a=a+1<this.tabArr.length?a+1:0,this.setActiveTab(a,o)}s.stop()}else if(s.match("w2tabcontrol_tab_close_atag")){var d=s.getElement();for(l=d.id.replace("_close",""),h=0;h<this.tabArr.length;h++)if(this.tabArr[h].tabID===l){a=h;break}switch(e){case 9:if(this.options.useBridge){var c=document.getElementById(this.bridgeIdArr[a]);c&&(c.focus(),d.style.display="none")}break;case 13:n.f.stopPropagation(t),o.hideCloseBtn=a,a=a+1<this.tabArr.length?a+1:0,this.setActiveTab(a,o)}s.stop()}}if(s=null,this.visibleTabIndex>a)this.scrollTab(a);else this.getVisibleTab()[a]||this.scrollTab(a,"right")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleTabMove=function(t){try{if(o.Z.isTouchDevice()){var e=t.touches&&1==t.touches.length,i=window.navigator.msPointerEnabled&&"touch"==t.pointerType;(e||i)&&(this.iScroll.prevTouches={x:e?t.touches[0].clientX:t.clientX,y:e?t.touches[0].clientY:t.clientY})}if(!this.options.tabMove&&!this.options.tabSplit)return;n.f.stopEvent(t);var s=this.event.getTargetIterator(t,this.render),a=-1,l=this.uuid,h=this;for(this.options.tabMove&&!this.options.tabSplit&&(this._splitInfo.moveMode=!0),this.options.tabSplit&&!this.options.tabMove&&(this._splitInfo.splitMode=!0),this.event.addListener(document,"onkeydown",(function(t){"Escape"===t.key&&!0===h._splitInfo.ghostVisible&&(WebSquare.dragdrop.gDragManager.remove(h.id+"_ghostLayer_tabMove"),h._splitInfo={})})),this._zoomLevel=null!=WebSquare.BootLoader.fullViewRatio?WebSquare.BootLoader.fullViewRatio:1;s.next();)if(s.match("w2tabcontrol_li")){var d=s.getElement();if(!d)return;for(var c=0;c<this.tabArr.length;c++)if(this.tabArr[c].render===d){a=c;break}if(isNaN(a)||a<0)return;WebSquare.dragdrop.gDragManager.activate(t,d,{id:this.id+"_ghostLayer_tabMove",className:"w2tabcontrol_drag_tabMove",delay:15,makeGhostLayer:function(t){t.render.className="",t.render.style.zIndex=-1e3,t.render.style.width="0px",t.render.style.height="0px",t.render.style.position="absolute";var e=a,i=WebSquare.idCache[l].tabArr[e].render;return t.render.innerHTML="<ul class='w2tabcontrol_tabhost'>"+i.outerHTML+"</ul>",h.ghostObj=t,t},handleStart:function(t){var e=a,i=WebSquare.idCache[l],s=$(i.tabArr[e].render);this.isVertical="left"===i.options.tabPosition||"right"===i.options.tabPosition,this.isVertical?this.tabMove_top=s.css("top"):this.tabMove_left=s.css("left"),this.dragOverTab={},this.dropIndex=-1,this.tabMove_zIndex=s.css("zIndex");var r=Number(this.tabMove_zIndex);if(this.tabMove_zIndex_Array=[],isNaN(r)||r<=0)for(var n=0;n<i.tabArr.length;n++){var o=$(i.tabArr[n].render);this.tabMove_zIndex_Array.push(o.css("zIndex")),n===e?o.css("zIndex",0):o.css("zIndex",1)}else s.css("zIndex",r-1);this.startLeft=s.offset().left,this.startTop=s.offset().top},onDrop:function(t,e,i,s,r,h,d){var c=a,b=WebSquare.idCache[l];if(1==b._splitInfo.moveMode){var p=$(b.tabArr[c].render);if(this.isVertical?p.css("top",this.tabMove_top):p.css("left",this.tabMove_left),this.tabMove_zIndex_Array.length>0)for(var u=0;u<b.tabArr.length;u++)$(b.tabArr[u].render).css("zIndex",this.tabMove_zIndex_Array[u]);else p.css("zIndex",this.tabMove_zIndex);for(var g in this.dragOverTab)this.isVertical?$(b.tabArr[g].render).css("top",this.dragOverTab[g]):$(b.tabArr[g].render).css("left",this.dragOverTab[g]);b.options.tabMove&&b.moveTab(c,this.dropIndex),this.tabMove_left="",this.tabMove_zIndex="",this.dragOverTab={},this.tabMove_zIndex_Array=[]}!0===b._splitInfo.ghostVisible&&(n.f.fireEvent(b,"ontabsplit",c,d)&&o.Z.requestAnimationFrame((function(){b.hideTab(c)})));b._splitInfo={}},onDragover:function(t,e,i,s,r,n,o){var h=a,d=-1,c=WebSquare.idCache[l],b=null,p=null
;if(o.target.closest(".w2tabcontrol_li")&&(b=o.target.closest(".w2tabcontrol_li")),o.target.classList.contains("w2tabcontrol_tabhost")&&(p=o.target),!0!==c._splitInfo.splitMode&&(b||p)){c._splitInfo.moveMode=!0,c.ghostObj.render.style.visibility="hidden";for(var u=0;u<c.tabArr.length;u++)if(c.tabArr[u].render===b){d=u;break}var g=$(c.tabArr[h].render);if(this.isVertical?g.css("top",n/c._zoomLevel):g.css("left",r/c._zoomLevel),null!=c.tabArr[d]&&d!==h){var f=$(c.tabArr[d].render);null==this.dragOverTab[d]?(this.isVertical?(this.dragOverTab[d]=f.css("top"),h>d?f.css("top",g.height()):f.css("top",-1*g.height())):(this.dragOverTab[d]=f.css("left"),h>d?f.css("left",g.width()):f.css("left",-1*g.width())),this.dropIndex=d):(this.isVertical?f.css("top",this.dragOverTab[d]):f.css("left",this.dragOverTab[d]),this.dragOverTab[d]=null,delete this.dragOverTab[d],this.dropIndex=h>d?d+1:d-1)}}else if(!0!==c._splitInfo.moveMode){c._splitInfo.splitMode=!0;var m=c.tabArr[h].render;Math.abs(n)>2*m.offsetHeight?(c._splitInfo.ghostVisible=!0,c.ghostObj.render.style.visibility="visible",c.ghostObj.render.style.zIndex=1e3,c.ghostObj.render.style.opacity=""):(c._splitInfo.ghostVisible=!1,c.ghostObj.render.style.zIndex=1e3,c.ghostObj.render.style.opacity="0.2"),c.ghostObj.render.style.left=this.startLeft+r/c._zoomLevel+"px",c.ghostObj.render.style.top=this.startTop+n/c._zoomLevel+"px"}}}),s.stop()}s=null}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.handleTouchMove=function(t){try{var e=t.touches&&1==t.touches.length,i=window.navigator.msPointerEnabled&&"touch"==t.pointerType;if(e||i){var s={x:e?t.touches[0].clientX:t.clientX,y:e?t.touches[0].clientY:t.clientY},a=this.iScroll.prevTouches.x-s.x,n=this.iScroll.prevTouches.y-s.y;(Math.abs(a)>this.iScroll.epsilon||Math.abs(n)>this.iScroll.epsilon)&&(this.iScroll.bTouchMove=!0)}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getWindow=function(t){try{var e,i=void 0!==t?t:this.selectedIndex;if(i=this._getTabIndex(i),!this._isValidTabIndex(i))return e;for(var s=0;s<this.contentsArr.length;s++){var a=this.getChild(this.contentsArr[s].contentsID+"_body");if(s==i){e="iframe"===a.getPluginName()||"wframe"===a.getPluginName()||"pageFrame"===a.getPluginName()?a.getWindow():window;break}}return e}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setContentsHeight=function(t){try{var e=this.getTabHostAndContainer(),i=e.container,s=e.tabhost;t=parseInt(t,10),i.style.height=t+"px";parseInt(o.Z.getStyleProperty(s,"height"),10),parseInt(o.Z.getStyleProperty(s,"border-top-width"),10),parseInt(o.Z.getStyleProperty(s,"border-bottom-width"),10),parseInt(o.Z.getStyleProperty(s,"margin-top"),10),parseInt(o.Z.getStyleProperty(s,"margin-bottom"),10)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getSelectedTabID=function(){try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.tabArr[this.selectedIndex].userTabID:null}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getSelectedTabIndex=function(){try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.selectedIndex:-1}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getTabIndex=function(t){var e=null;try{for(var i=0;i<this.tabArr.length;i++)if(t==this.tabArr[i].userTabID){e=i;break}return e}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._getTabIndex=function(t){try{var e=t;if("string"==typeof t&&null==(e=this.getTabIndex(t))&&(e=Number(t),isNaN(e)))return;return e}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getTabID=function(t){var e="";try{for(var i=0;i<this.tabArr.length;i++)if(t==i){e=this.tabArr[i].userTabID;break}return e}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setSelectedTabIndex=async function(t){try{var e=0;if("string"==typeof t){for(var i=!0,s=0;s<this.tabArr.length;s++)if(this.tabArr[s].userTabID==t){e=s,i=!1;break}i&&(e=t)}else e=t;if(0==n.f.fireEvent(this,"onbeforeselect",this.getSelectedTabIndex(),e))return;await this.setActiveTab(e)
}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getTabCount=function(t){try{var e=this.tabArr.length,i=0;if(!1===(t||{}).hiddenTab){for(var s=0,a=this.tabArr.length;s<a;s++)this.tabArr[s].hidden&&i++;e-=i}return e}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.deleteTab=async function(t){try{var e=this._getTabIndex(t);if(!this._isValidTabIndex(e))return;t=e;var i=(f=this.tabArr[t]).tabID,s=f.userTabID;if(!1===n.f.fireEvent(this,"onbeforetabclose",i,t))return;if(this.selectedIndex==t){for(var a=t+1;a<this.tabArr.length&&0==await this.setActiveTab(a);)a++;if(a>=this.tabArr.length)for(a=t-1;a>=0&&0==await this.setActiveTab(a);)a--;this.selectedIndex>t&&this.selectedIndex--}var o=this.contentsArr[t],l=this.getChild(this.tabArr[t].contentsID+"_body"),h="iframe"==o.frameMode&&l.render&&this.storedFrame.length<this.options.spaIframeMaxSize,d="wframe"===o.frameMode||"wframePreload"===o.frameMode||"iframe"===o.frameMode||"pageFrame"===o.frameMode;l&&(h?(l.loaded=!1,this.removeControl(l),this.storedFrame.push(l.id),l.setSrc(WebSquare.net.getBlankXML())):l.remove());var c,b,p=f.render.parentNode,u=o.render.parentNode;if(p.removeChild(f.render),h){for(a=0;a<o.render.childNodes.length;a++)o.render.childNodes[a]!=l.render&&o.render.removeChild(o.render.childNodes[a]);o.render.style.display="none",o.render.style.visibility="hidden",o.render.setAttribute("aria-hidden","true"),this.addClass(o.render," ")}else u.removeChild(o.render);for(var g in l=null,this.tabArr[t])this.tabArr[t][g]=null;for(var g in this.contentsArr[t])this.contentsArr[t][g]=null;f=null,o=null,this.tabArr.splice(t,1),this.contentsArr.splice(t,1),this.bridgeIdArr.splice(t,1),this.backbridgeIdArr.splice(t,1);for(a=t;a<this.tabArr.length;a++){var f=this.tabArr[a];c=a+2,b=a+1,this.__removeClass(f.render,"w2tabcontrol_li_"+c),this.__addClass(f.render,"w2tabcontrol_li_"+b)}t<this.selectedIndex?await this.setActiveTab(this.selectedIndex-1):t==this.selectedIndex?this.tabArr[this.selectedIndex]?await this.setActiveTab(this.selectedIndex):await this.setActiveTab(this.selectedIndex-1):t>this.selectedIndex&&await this.setActiveTab(this.selectedIndex),this.options.tabScrollAuto&&this.scrollTab(Math.max(this.visibleTabIndex-1,0)),this.options.tabScroll&&this.options.adjustTabScroll&&this.checkScrollBtnVisibility(),n.f.fireEvent(this,"ontabclose",i,t,s),d||(n.f.fireEvent(this,"ondrawcomplete",i,t,s),n.f.fireEvent(this,"ontabload",i,t,s))}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.deleteAllTabs=function(){try{if(this.tabArr.length<=0)return;for(var t=this.getTabHostAndContainer(),e=this.tabArr.length-1;e>=0;e--){var i=this.getChild(this.tabArr[e].contentsID+"_body");i&&i.remove();var s=this.tabArr[e];t.tabhost.removeChild(s.render);var a=this.contentsArr[e];t.container.removeChild(a.render)}this.tabArr=[],this.contentsArr=[],this.bridgeIdArr=[],this.backbridgeIdArr=[],this._makeIframeBackground()}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getFrame=function(t){if(t=this._getTabIndex(t),this._isValidTabIndex(t)){var e=this.contentsArr[t],i=this.getChild(e.contentsID+"_body");return null!=i?i:void 0}},b.prototype._getCurrentFrame=function(){var t=this.contentsArr[this.selectedIndex],e=this.getChild(t.contentsID+"_body");if(null!=e)return e},b.prototype.isLoaded=function(t){if((t=parseInt(t,10))<0||t>=this.tabArr.length)return!1;var e=this.contentsArr[t],i=this.getChild(e.contentsID+"_body");return"iframe"==e.frameMode?!!i._iframeLoaded:i.completed},b.prototype.addTab=async function(t,e,i){try{var n=t||"";if(void 0===e)return void(this._onAddTab=!1);if(!0===this._onAddTab){this._onAddTabQueue||(this._onAddTabQueue=[]);var l=c.r.cloneNode(e,!0,[],[],0,!0),h=c.r.cloneNode(i,!0,[],[],0,!0);return this._onAddTabQueue.push([t,l,h]),n}this._onAddTab=!0;for(var b=!1,p=0;p<this.tabArr.length;p++)if(""==n||this.tabArr[p].userTabID==n){b=!0;break}var u=e.openAction;if(b){if(!u&&this.options.useConfirmMessage){
var g=WebSquare.language.getMessage("TabControl_warning1")||"[#title] already exists. Click OK to use the existing tab, or click Cancel to create a new tab.";if(e.useLocale&&this.options.confirmMessageLocaleRef)(v=this.getLocaleValue(this.options.confirmMessageLocaleRef))&&(g=v);else g.indexOf("#title")>-1&&(g=g.replace("#title",e.label));u=confirm(g)?this.options.confirmTrueAction:this.options.confirmFalseAction}if("exist"===u){var f,m=this.getTabIndex(n),y=this.contentsArr[m];if("active"!=(C=this.getChild(this.tabArr[m].contentsID+"_body")).activeStatus)y.src=i.src||"about:blank";else if("iframe"===C.options.pluginName)C.setSrc(i.src||"about:blank",y.forceReload);else i.dataObject?f={dataObject:i.dataObject}:y.dataObject&&(f={dataObject:y.dataObject}),C.setSrc(i.src||"",f);return await this.setSelectedTabIndex(m),this._addTabAfter(),n}if("new"!==u){if("select"===u)return await this.setSelectedTabIndex(this.getTabIndex(n)),this._addTabAfter(),n;if("last"===u){m=this.getTabIndex(n);return $("#"+this.id+"_tabhost").children().last().after($("#"+this.id+"_tab_"+n)),await this.setSelectedTabIndex(m),this._addTabAfter(),n}return this._addTabAfter(),n}n=n+"_"+this.increaseKey++}if(-1!=this.options.windowMaxNum&&this.getTabCount()>=this.options.windowMaxNum)return alert(WebSquare.language.getMessage("TabControl_maxNum_warning",this.options.windowMaxNum)),void this._addTabAfter();var v,T=this.id+"_tab_"+n;if("true"==e.useLocale||this.options.useLocale&&"false"!=e.useLocale)if(e.localeRef)(v=this.getLocaleValue(e.localeRef))&&(e.label=v);var I={tabID:T,userTabID:n,contentsID:"",tabLabel:e.label||"",disabled:e.disabled||!1,render:null,tabWidth:parseInt(e.tabWidth,10)>0?parseInt(e.tabWidth,10):this.options.tabWidth,tabHeight:parseInt(e.tabHeight,10)>0?parseInt(e.tabHeight,10):this.options.tabHeight,tabClass:e.class||this.options.tabClass,tabStyle:e.style||this.options.tabStyle,activeTabClass:e.activeTabClass||this.options.activeTabClass,disabledTabClass:e.disabledTabClass||this.options.disabledTabClass,selectedClass:e.selectedClass||this.options.selectedClass,selectedImage:e.selectedImage?"url("+e.selectedImage+")":"",defaultImage:e.defaultImage?"url("+e.defaultImage+")":"",hoverImage:e.hoverImage?"url("+e.hoverImage+")":"",tabType:"image"==e.tabType?"image":"text",defaultClass:e.defaultClass||"",hoverClass:e.hoverClass||"",closable:null!=e.closable?o.Z.getBoolean(e.closable):this.options.closable,closeBtn:null,label:e.label||"",value:T,title:e.title||e.label,tabHTML:e.tabHTML||"",useLocale:e.useLocale||this.options.useLocale,localeRef:e.localeRef,useATagBtn:null!=e.useATagBtn?o.Z.getBoolean(e.useATagBtn):this.options.useATagBtn};"left"!==this.options.tabPosition&&"right"!==this.options.tabPosition||"string"==typeof I.tabStyle&&I.tabStyle.indexOf("width")<0&&(I.tabStyle="width:"+15*I.label.length+"px;"+I.tabStyle);var _=s.q.extendKeepingType({},WebSquare.uiplugin.content.prototype.defaultOptions),A=s.q.extendKeepingType(_,i);!1===i.processMsgFrame&&(A.processMsgFrame=!1),!1===i.frameModal&&(A.frameModal=!1);var S=this.id+"_contents_"+n;I.contentsID=S,(y=s.q.extend({contentsID:S,contentsClass:i.contentsClass||this.options.contentsClass,render:null,xml:null,name:A.name||"",scope:A.scope,msaName:A.msaName},A||{})).src&&(A.frameMode||(y.frameMode=A.wframe?"wframe":"iframe")),e.addTabIndex>=0?(this.tabArr.splice(e.addTabIndex,0,I),this.contentsArr.splice(e.addTabIndex,0,y)):(this.tabArr.push(I),this.contentsArr.push(y));var C,w=this.getTabHostAndContainer(),x=w.container,k=w.tabhost;if(e.addTabIndex<=this.selectedIndex&&this.selectedIndex++,this.storedFrame.length>0&&"iframe"===y.frameMode){var M,E=S+"_body",L=!1;for(p=0;p<this.storedFrame.length;p++)if(this.storedFrame[p]==E){M=this.storedFrame.splice(p,1),L=!0;break}L||(M=this.storedFrame.shift()),(C=o.Z.getComponentById(M)).reuseFrame=!0,L||a.I.setId(E,C),A.name&&C.setAttribute("name",A.name)}else C=this.initContents(y)
;"wframePreload"!==y.frameMode&&"pageFrame"!==y.frameMode||await d.o.initAsync(),this.addControl(C);var B="make"+I.tabType.capitalize()+"TabHTML";if(e.addTabIndex>=0){var D=document.createElement("div");D.innerHTML=this[B](I,this.tabArr.length,!0),k.insertBefore(D.childNodes[0],k.childNodes[e.addTabIndex]||null)}else k.innerHTML+=this[B](I,this.tabArr.length,!0);if(("top"===this.options.tabPosition||"bottom"===this.options.tabPosition)&&!I.tabWidth&&I.tabStyle.indexOf("width")<0){var N;N=e.addTabIndex>=0?k.childNodes[e.addTabIndex]:k.lastChild;var W=0;null!=N&&(N.style.overflow="visible",null!=N.firstChild&&(N.firstChild.style.overflow="visible"),N.childNodes.length>1&&(W+=N.childNodes[1].offsetWidth),N.childNodes.length>2&&(W+=N.childNodes[2].offsetWidth)),N.style.width=N.scrollWidth+W+"px"}var q=document.createElement("div"),H=I.tabID+"_tabHTML";q.innerHTML=this.makeContentsHTML(y,I.tabLabel,C&&C.reuseFrame,e.addTabIndex,H);var z=q.removeChild(q.firstChild);if(C&&C.reuseFrame&&C.render&&C.render.parentNode){var Y,F=C.render.parentNode;if(this.options.useBridge)null!=(Y=document.getElementById("bridgeId"))&&F.removeChild(Y),F.insertBefore(z.firstChild,C.render);if(this.options.useBackbridge)null!=(Y=document.getElementById("bridgeId"))&&F.removeChild(Y),F.appendChild(z.lastChild,C.render);F.setAttribute("id",y.contentsID),F.setAttribute("class",y.contentsClass),o.Z.getBoolean(this.options.removeAriaLabelledby)||F.setAttribute("aria-labelledby",I.tabLabel)}else x.appendChild(z);q=null,z=null,y.alwaysDraw&&("iframe"!==y.frameMode&&"wframe"!==y.frameMode&&"wframePreload"!==y.frameMode&&"pageFrame"!==y.frameMode||this._addTabEvent({uuid:C.uuid,tabID:I.tabID,idx:e.addTabIndex>=0?e.addTabIndex:this.tabArr.length-1,userTabID:I.userTabID}),C.reuseFrame||(C.activate(),C.onComplete()),"iframe"!==y.frameMode&&"wframe"!==y.frameMode||C.setSrc(y.src,y.forceReload),"iframe"===y.frameMode&&(o.Z.isIEAllVersion()?o.Z.setInterval(this.checkLoadEvent,{key:C.id+"_checkLoadEvent",caller:this,args:[C],delay:70}):o.Z.setInterval(this.checkLoadEvent,{key:C.id+"_checkLoadEvent",caller:this,args:[C,"addTab",n],delay:this.options.onTabLoadCheckTime})));var R=o.Z.getDataPrefix("index");for(p=0;p<this.tabArr.length;p++)(I=this.tabArr[p]).render=document.getElementById(I.tabID),I.closeBtn=document.getElementById(I.tabID+"_close"),I.contentsRender=document.getElementById(I.contentsID),this.contentsArr[p].render=I.contentsRender,e.addTabIndex>=0&&I.render.setAttribute(R,p+1),I.tabHTML&&this.setTabHTML(I.userTabID,I.tabHTML);var P=e.addTabIndex>=0?e.addTabIndex:this.tabArr.length-1;return this.tabArr[P].contentsRender.style.display="none",1==this.tabArr.length&&(await this.setActiveTab(0),"left"!==this.options.tabPosition&&"right"!==this.options.tabPosition||this.adjustContentsHeight()),this.options.tabScroll&&this.options.adjustTabScroll&&this.checkScrollBtnVisibility(),this.options.spaAuto&&a.I.setTimer(this.createFrame,{key:this.id+"_createFrame",caller:this,delay:this.options.spaAutoDelay,args:[{maxFrame:1}]}),this._addTabAfter(),n}catch(t){this._addTabAfter(),r.Y.printStackTrace(t,null,this)}},b.prototype._addTabAfter=async function(){try{if(this._onAddTab=!1,!(this._onAddTabQueue instanceof Array))return;var t=this._onAddTabQueue.slice();this._onAddTabQueue=[];for(var e=0;e<t.length;e++){var i=t[e];if(i instanceof Array&&3===i.length){var s=i[0],a=i[1],n=i[2];await this.addTab(s,a,n)}}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.disableTab=function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return;var e=this.tabArr[t];if(1==e.disabled)return;var i=this.contentsArr[t];this.removeClass(e.render,e.activeTabClass),this.addClass(e.render,e.disabledTabClass),o.Z.isIE(8)&&(e.render.style.zIndex=0);var s=e.render.getElementsByTagName("a")[0];null!=s&&(s.removeAttribute("href"),s=null),e.disabled=!0;var a=this.getChild(i.contentsID+"_body");"stop"!=a.activeStatus&&(this.disabledComponents[t]=o.Z.setDisabled({componentId:a.id,disabled:!0
}).skipComponents);for(var n=0;n<this.disabledTabStack.length;n++)if(this.disabledTabStack[n].tabID===e.tabID){this.disabledTabStack.splice(n,1);break}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.enableTab=function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return;var e=this.tabArr[t];if(0==e.disabled)return;var i=this.contentsArr[t];this.removeClass(e.render,e.disabledTabClass),this.selectedIndex>=0&&t==this.selectedIndex&&this.addClass(e.render,e.activeTabClass),e.disabled=!1,o.Z.isIE(8)&&(e.render.style.zIndex="");var s=e.render.getElementsByTagName("a")[0];null!=s&&(s.setAttribute("href","#"+e.contentsID+"_bridge"),s=null);var a=this.getChild(i.contentsID+"_body");if("stop"!=a.activeStatus){var n={componentId:a.id,disabled:!1};null!=this.disabledComponents[t]&&0==this.options.forceChildCompEnabled&&(n.excludeIdList=this.disabledComponents[t]),o.Z.setDisabled(n),null!=this.disabledComponents[t]&&delete this.disabledComponents[t]}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.hideTab=async function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return;if(0==n.f.fireEvent(this,"onbeforehide",this.getSelectedTabIndex(),t))return;if(t==this.selectedIndex){for(var e=t+1;e<this.tabArr.length&&0==await this.setActiveTab(e);)e++;if(e>=this.tabArr.length)for(e=t-1;e>=0&&0==await this.setActiveTab(e);)e--;t==this.selectedIndex&&(this.selectedIndex=-1)}var i=this.tabArr[t],s=this.contentsArr[t];if(o.Z.isIE(8)&&(i.render.style.zIndex=0),i.render.style.visibility="hidden",i.render.style.display="none",i.hidden=!0,s.render.style.display="none",s.render.style.visibility="hidden",s.render.setAttribute("aria-hidden","true"),this.options.tabScrollAuto&&this.options.tabScroll){var a=this.visibleTabIndex,l=this.getVisibleTab(),h=a+Object.keys(l).length-1;(this.visibleTabIndex==t||h==t||this.visibleTabIndex<t&&h>t)&&(a-=1),this.scrollTab(Math.max(a,0))}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.showTab=async function(t){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return;if(0==n.f.fireEvent(this,"onbeforeshow",this.getSelectedTabIndex(),t))return;var e=this.tabArr[t];e.render.style.visibility="visible",e.render.style.display="",e.hidden=!1,-1==this.selectedIndex?await this.setActiveTab(t):this.options.tabScrollAuto&&this.options.tabScroll&&this.visibleTabIndex>t&&this.scrollTab(this.visibleTabIndex),o.Z.isIE(8)&&(e.render.style.zIndex="")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getLabelText=function(t){try{return(t=parseInt(t,10))<0||t>=this.tabArr.length?null:this.tabArr[t].tabLabel}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setLabelText=function(t,e){try{if((t=parseInt(t,10))<0||t>=this.tabArr.length)return;1==this.options.tabScroll&&(this.tabArr[t].label=e);for(var i,s=this.tabArr[t],a=0;a<s.render.childNodes.length;a++)if(1==(i=s.render.childNodes[a]).nodeType&&"div"==i.nodeName.toLowerCase())for(var n=0;n<i.childNodes.length;n++){var o=i.childNodes[n];if(1==o.nodeType&&"a"==o.nodeName.toLowerCase())return s.tabLabel=e,o.innerHTML=e,void o.setAttribute("title",e);if(1==o.nodeType&&"div"==o.nodeName.toLowerCase())return s.tabLabel=e,void o.setAttribute("title",e)}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setDisabled=function(t,e){try{t=o.Z.getBoolean(t);if(h.q.prototype.setDisabled.call(this,t),e||this.options.keepDisabledTab)if(t)for(var i=0;i<this.tabArr.length;i++)this.tabArr[i].disabled||this.disabledTabStack.push(this.tabArr[i].tabID),this.disableTab(i);else{for(i=0;i<this.disabledTabStack.length;i++)for(var s=0;s<this.tabArr.length;s++)if(this.tabArr[s].tabID===this.disabledTabStack[i]){this.enableTab(s);break}this.disabledTabStack=[]}else{for(i=0;i<this.tabArr.length;i++)t?this.disableTab(i):this.enableTab(i);this.disabledTabStack=[]}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setSize=function(t,e){try{h.q.prototype.setSize.call(this,t,e)}catch(t){r.Y.printStackTrace(t)}},b.prototype.setSubLayer=function(){try{
if(null==this.itemTable){this.itemTable=new WebSquare.uiplugin.itemTable(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:"auto",style:"position:absolute;",defaultStyle:"",className:"w2table ",w2table:"w2table_tabControl",w2table_main:"w2table_tabControl_main",w2table_row:"w2table_tabControl_row",w2table_col:"w2table_tabControl_col",w2table_col_over:"w2table_tabControl_col_over",escape:this.options.escape,useAccessibilityMenu:this.options.useAccessibilityMenu,tableRender:this.options.tableRender,wheelRows:this.options.wheelRows,parent_uuid:this.uuid}),this.itemTable.writeTo(WebSquare.getBody(),null,this.parentFrame),this.itemTable.activate();var t=this;this.itemTable.addClickEventListener((async function(e,i){await t.setSelectedTabIndex(t.getRealTabIndex(i)),t.closeSubLayer()})),this.itemTable.addKeyDownEventListener((async function(e){var i=e.charCode?e.charCode:e.keyCode;if(13==i||32==i)await t.setSelectedTabIndex(t.getRealTabIndex(this.getSelectedIndex())),t.focus(),t.closeSubLayer();else if(27==i){document.getElementById(t.id+"_btn_submenu").focus(),t.closeSubLayer()}else if(t.itemTable.endReached){t.itemTable.endReached=!1,document.getElementById(t.id+"_btn_submenu").focus(),t.closeSubLayer()}})),!0===this.options.useAccessibilityMenu&&this.itemTable.render.setAttribute("role","dialog")}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setSelectOptions=function(){try{if(null!=this.itemTable){for(var t=[],e=0;e<this.tabArr.length;e++)this.tabArr[e].hidden||"none"==this.tabArr[e].render.style.display||"hidden"==this.tabArr[e].render.style.visibility||t.push(this.tabArr[e]);this.itemTable.setItemArr(t)}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setItemTable=function(){try{for(var t=document.getElementById(this.id+"_btn_submenu"),e=WebSquare.style.getSize(t,"outerMarginHeight"),i=WebSquare.style.getAbsoluteLeft(this.render)+this.render.offsetWidth,s=WebSquare.style.getAbsoluteTop(t)+e,a=0,n=0;n<this.tabArr.length;n++){var o=WebSquare.style.getSize(this.tabArr[n].render,"outerMarginWidth");o>a&&(a=o)}if(null===this.itemTableTdMargin){var l=document.getElementById(this.id+"_itemTable_0");l?this.options.useAccessibilityMenu?this.itemTableTdMargin=parseInt(WebSquare.style.getStyleProperty(l.parentNode,"margin-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(l.parentNode,"padding-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(l.parentNode,"padding-right"),10)||0+parseInt(WebSquare.style.getStyleProperty(l.parentNode,"margin-right"),10)||0:this.itemTableTdMargin=parseInt(WebSquare.style.getStyleProperty(l,"margin-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(l,"padding-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(l,"padding-right"),10)||0+parseInt(WebSquare.style.getStyleProperty(l,"margin-right"),10)||0:this.itemTableTdMargin=0}a+=this.itemTableTdMargin;var h=document.getElementById(this.itemTable.id+"_main");WebSquare.style.setStyle(h,"width",a+"px"),WebSquare.style.setStyle(this.itemTable.render,"width",a+"px"),i-=a;var d=document.body.scrollTop;d<document.documentElement.scrollTop&&(d=document.documentElement.scrollTop);var c=s-d;document.documentElement.clientHeight-c<this.itemTable.render.offsetHeight&&(s=s-this.itemTable.render.offsetHeight-e),this.itemTable.setPosition(i,s),WebSquare.style.adjustZIndex(this.uuid,this.itemTable.uuid,"itemTable")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.toggle=function(){try{this.isOpen?this.closeSubLayer():this.openSubLayer()}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.openSubLayer=function(){try{WebSquare.getBody().getLayerListener().show(this.id)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._openSubLayer=function(){try{if(this.setSubLayer(),!this.isOpen){this.itemTable.show(),this.itemTable.render.removeAttribute("aria-hidden"),this.setSelectOptions(),this.setItemTable(),this.itemTable.focus(),this.itemTable.setSelectedIndex(this.selectedIndex),this.isOpen=!0
;var t=document.getElementById(this.id+"_btn_submenu");t&&t.setAttribute("aria-expanded",!0),!0===this.options.useAccessibilityMenu&&this.itemTable.render.setAttribute("aria-modal","true")}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.closeSubLayer=function(t){try{var e={documentClick:t};WebSquare.getBody().getLayerListener().hide(this.id,e)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._closeSubLayer=function(t){try{if(this.isOpen&&null!=this.itemTable){this.itemTable.hide(),this.itemTable.render.removeAttribute("aria-hidden"),this.isOpen=!1;var e=document.getElementById(this.id+"_btn_submenu");e&&e.setAttribute("aria-expanded",!1),!0===this.options.useAccessibilityMenu&&this.itemTable.render.setAttribute("aria-modal","false")}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.finalize=function(){try{for(var t=this.childControlList.length-1;t>=0;t--)this.childControlList[t].remove();for(t=this.storedFrame.length-1;t>=0;t--){var e=o.Z.getComponentById(this.storedFrame[t]);null!=e&&e.remove()}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.checkLoadEvent=function(t,e,i){try{if(t&&t.render&&t.render.contentWindow){var s=t.render.contentWindow;try{s.WebSquare&&s.WebSquare.scriptSectionExcuteFlag&&"executed"===s.WebSquare.scriptSectionExcuteFlag&&(o.Z.clearInterval(t.id+"_checkLoadEvent"),o.Z.fullViewed&&o.Z.zoomed(s.document.body,"1")),s.WebSquare||o.Z.clearInterval(t.id+"_checkLoadEvent")}catch(s){if(i&&e){var a=this.getTabIndex(i),l=this.tabArr[a];n.f.fireEvent(this,"ondrawcomplete",l.tabID,a,l.userTabID),n.f.fireEvent(this,"ontabload",l.tabID,a,l.userTabID)}o.Z.clearInterval(t.id+"_checkLoadEvent"),r.Y.crossOrigin({message:s.message,name:"checkLoadEvent"})}}}catch(e){t&&o.Z.clearInterval(t.id+"_checkLoadEvent"),r.Y.printStackTrace(e,null,this)}},b.prototype.moveTab=function(t,e){try{if(t===e||t<0||e<0)return;var i=this.tabArr[this.selectedIndex],s=this.tabArr[t].userTabID,a=this.tabArr[e].userTabID;if(!1===n.f.fireEvent(this,"onbeforetabmove",{startTabID:s,startTabIndex:t,endTabID:a,endTabIndex:e}))return;var o=this.getTabHostAndContainer().tabhost,l=t>e?0:1;e<this.getTabCount()-1?o.insertBefore(this.tabArr[t].render,this.tabArr[e+l].render):o.appendChild(this.tabArr[t].render);var h=function(t,e,i){var s=t.splice(e,1);t.splice(i,0,s[0])};h(this.tabArr,t,e),h(this.contentsArr,t,e),h(this.bridgeIdArr,t,e),this.backbridgeIdArr&&this.backbridgeIdArr.length>0&&h(this.backbridgeIdArr,t,e);for(var d=0;d<this.tabArr.length;d++)if(this.tabArr[d]===i){this.selectedIndex=d;break}n.f.fireEvent(this,"onaftertabmove",{startTabID:s,startTabIndex:t,endTabID:a,endTabIndex:e})}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.getTabInfo=function(){try{for(var t=[],e=this.getTabCount(),i=o.Z.getDataPrefix("index"),s=0;s<e;s++)t.push({id:this.tabArr[s].userTabID,label:this.tabArr[s].label,defaultTabIndex:Number(this.tabArr[s].render.getAttribute(i))-1,currentTabIndex:s,src:this.contentsArr[s].src,alwaysDraw:this.contentsArr[s].alwaysDraw});return t}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setTabOrder=function(t){try{var e=this.getTabCount();if(t.length!==e)return void l.v.printLog("WARNING !!! : setTabOrder argument array length must be "+e+"["+this.id+"]");for(var i=[],s=0;s<e;s++){var a=this.getTabIndex(t[s]);null==a&&(a=t[s]),i.push(a)}var n=this.getTabHostAndContainer().tabhost;for(s=0;s<e;s++)n.appendChild(this.tabArr[i[s]].render);var o=function(t,e){for(var i=t.splice(0,t.length),s=0;s<i.length;s++)t.push(i[e[s]])};o(this.tabArr,i),o(this.contentsArr,i),o(this.bridgeIdArr,i),this.backbridgeIdArr&&this.backbridgeIdArr.length>0&&o(this.backbridgeIdArr,i),this.selectedIndex=i[this.selectedIndex]}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setTabHTML=function(t,e){try{var i=this._getTabIndex(t);if(!this._isValidTabIndex(i))return;var s=this.tabArr[i];if(e&&s){var a=e;try{var n=o.Z.getGlobalFunction(e,this.scope_id);a="function"==typeof n?n(s.label):n}catch(t){a=e}
var l=document.getElementById(s.tabID+"_tabHTML");l&&(l.innerHTML=a,this.options.tabHTML=a)}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setWidth=function(t){try{if(t=parseInt(t,10),!isNaN(t)){this.render.style.width=t+"px",this.getTabHostAndContainer().container.style.width=t+"px";for(var e=0;e<this.tabArr.length;e++){var i=this.tabArr[e],s=this.contentsArr[e],a=this.getChild(s.contentsID+"_body");i.contentsRender=document.getElementById(i.contentsID),i.contentsRender.style.width=t+"px",a&&a.render&&(a.render.style.width=t+"px")}}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setHeight=function(t){try{if(t=parseInt(t,10),!isNaN(t)){this.render.style.height=t+"px";var e=this.getTabHostAndContainer(),i=e.container;t-=e.tabhost.clientHeight,i.style.height=t+"px";for(var s=0;s<this.tabArr.length;s++){var a=this.tabArr[s],n=this.contentsArr[s],o=this.getChild(n.contentsID+"_body");a.contentsRender=document.getElementById(a.contentsID),a.contentsRender.style.height=t+"px",o&&o.render&&(o.render.style.height=t+"px")}}}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.setWindowMaxNum=function(t){try{if(!t||"number"!=typeof t)return!1;this.options.windowMaxNum=t}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype.changeTabhostAccessibility=function(t,e){try{if(null==t||null==t||t<0||t>=this.getTabCount())return;if(0==e||e||(e=this.selectedIndex),t==e)return;var i,s,a=this.getTabHostAndContainer().tabhost,n=a.childNodes[t],o=a.childNodes[e];if("image"==this.tabArr[t].tabType?n&&n.firstChild&&(i=n.firstChild):n&&n.firstChild&&n.firstChild.firstChild&&(i=n.firstChild.firstChild),this.tabArr[e]&&"image"==this.tabArr[e].tabType?o&&o.firstChild&&(s=o.firstChild):o&&o.firstChild&&o.firstChild.firstChild&&(s=o.firstChild.firstChild),s&&(!0===this.options.tabRole&&s.setAttribute("aria-selected","false"),this.options.useTabTitleSelected&&s.setAttribute("title",this.tabArr[e].title)),i&&(!0===this.options.tabRole&&i.setAttribute("aria-selected","true"),this.options.useTabTitleSelected)){var l=this.tabArr[t].title;l=WebSquare.language.getMessage("TabControl_selected",l),i.setAttribute("title",l)}return}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._addTabEvent=function(t){try{var e=WebSquare.idCache[t.uuid],i=this.uuid,s=t.tabID,a=t.userTabID,o="on"+e.options.pluginName+"load";e.bind(o,(function(){var t=WebSquare.idCache[i];if(t){var e=t.getTabIndex(a);n.f.fireEvent(t,"ondrawcomplete",s,e,a),n.f.fireEvent(t,"ontabload",s,e,a)}}));var l="on"+e.options.pluginName+"unload";e.bind(l,(function(){var t=WebSquare.idCache[i];if(t){var e=t.getTabIndex(a);n.f.fireEvent(t,"ontabunload",s,e,a)}}))}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._isValidTabIndex=function(t){try{return!(isNaN(t)||t<0||t>=this.tabArr.length)}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._initializeIScroll=function(){try{o.Z.isTouchDevice()&&(this.iScroll={epsilon:30})}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._hideTooltip=function(){try{this.tooltip&&this.tooltip.setStyle("display","none")}catch(t){r.Y.printStackTrace(t,null,this)}},b.prototype._showTooltip=function(t,e,i){try{if(!this.tooltip){try{var s=a.I.getConfiguration("/WebSquare/tooltipShowHideHandler/@value");if(s){var n=o.Z.getGlobalFunction(s,this.scope_id),l=!0;if("function"==typeof n&&(l=n(this)),!l)return}}catch(t){r.Y.printStackTrace(t)}this.tooltip=new WebSquare.uiplugin.group(this.id+"_tooltip",{className:"w2tabcontrol_tooltip "+this.options.tooltipClass,style:"position:absolute;z-index:10000;"}),this.tooltip.writeTo(WebSquare.getBody(),null,this.parentFrame),this.tooltip.activate(),this.tooltip.removeClass("w2group")}this.tooltip.setStyle("display","block"),this.tooltip.setStyle("left",t+"px"),this.tooltip.setStyle("top",e+"px"),i=this.options.escape?WebSquare.xml._encode(i):i.wq_replaceAll("&amp;nbsp;","&nbsp;").wq_replaceAll("&amp;nbsp","&nbsp;"),this.tooltip.render.innerHTML=i}catch(t){r.Y.printStackTrace(t,null,this)}},
b.prototype._showTabTooltip=function(t,e){try{if(!0===this.options.useTitleTooltip){if(!t)return;var i=t,s=i.offsetWidth,a=i.offsetHeight,n=20,o=a+3;try{this.options.tooltipPositionX&&(n=new Function("cellWidth","cellHeight","return "+this.options.tooltipPositionX)(s,a)),this.options.tooltipPositionY&&(o=new Function("cellWidth","cellHeight","return "+this.options.tooltipPositionY)(s,a))}catch(t){l.v.printLog("An error occurred while applying the tooltipPosistion option. Ignore options and apply default values.["+this.id+"]"),r.Y.printStackTrace(t,null,this)}var h=WebSquare.style.getAbsoluteLeft(i)+n,d=WebSquare.style.getAbsoluteTop(i)+o;""!=e&&this._showTooltip(h,d,e,o)}}catch(t){r.Y.printStackTrace(t,null,this)}}}}]);