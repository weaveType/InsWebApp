"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[5254],{5254:function(t,e,r){r.r(e),r.d(e,{generator:function(){return p}});var i=r(467),n=r(4756),o=r.n(n),s=r(5461),a=r(5375),l=r(8971),h=r(1204),c=r(2406),p=function(t,e,r){c.q.call(this,t,e,r)};p.prototype.initAsync=(0,i.A)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._parse();case 2:case"end":return t.stop()}}),t,this)}))),s.q.extend(p.prototype,c.q.prototype),p.prototype.defaultOptions={pluginType:"uiplugin.generator",pluginName:"generator",tagname:"div"},p.prototype.initialize=function(t){this.idCounter=0,this.dynamicCreateHash=h.Z.isIE()&&parseInt(a.I.browserVersion(),10)<10?{tbody:!0,thead:!0,tfoot:!0,tr:!0}:{},this.passHash={script:!0,label:!0,value:!0,choices:!0,item:!0,itemset:!0,attributes:!0},t&&1==t.nodeType&&!this.id&&(this.id=t.getAttribute("id")),this.tagName=this.options.tagname,this.itemCnt=0,this.insertItemCnt=0,this.generatedIndexSet=[],this.generatedElementSet=[]},p.prototype.toHTML=function(){try{var t=[],e=WebSquare.Parser.parseAttribute(this.element);for(var r in t.push("<"+this.options.tagname),e)if("id"==r){var i=this.id?" id='"+this.id+"'":" id='"+e[r]+"'";t.push(i)}else if("tagname"!=r){"className"==r&&(e[r="class"]=e.className,delete e.className);var n=r;"g_index"!=r&&"original_id"!=r||(n=h.Z.getDataPrefix(r));i=e[r]?" "+n+"='"+e[r]+"'":"";t.push(i)}return t.push(">"),t.push("</"+this.options.tagname+">"),t.join("")}catch(t){l.Y.printStackTrace(t,null,this)}},p.prototype.setAction=function(){},p.prototype.setChildElement=function(t,e){try{if(1==t.nodeType){var r=t.getLocalName();if(!this.passHash[r]){var i="";i=this.scope_obj&&null!=this.org_id?this.org_id+"_"+e+"_":this.id+"_"+e+"_";var n=t.getAttribute("id")||"",o=t.getAttribute("label"),s=t.getTagName();t._element.A||(t._element.A={}),t.setAttribute("g_index",e),"w2:tag"==s&&""==n&&(n="w2generator_"+this.idCounter++),n&&(t.setAttribute("original_id",n),"w2:listColumn"!=s&&t.setAttribute("id",i+n));var a=t.getAttribute("for");if(a&&(t.setAttribute("original_for",a),t.setAttribute("for",i+a)),o&&"w2:textbox"!==s&&"w2:span"!==s&&(t.setAttribute("original_label",o),t.setAttribute("label",WebSquare.xml.encode(o))),"w2:generator"!=s)for(var h=t.getChildNodes(),c=0;c<h.length;c++)this.setChildElement(h[c],e)}}}catch(t){l.Y.printStackTrace(t)}},p.prototype.restoreChildElement=function(t){try{if(1==t.nodeType){var e=t.getLocalName();if(!this.passHash[e]){var r=t.getAttribute("original_id"),i=t.getAttribute("original_ref"),n=t.getAttribute("original_label"),o=t.getAttribute("original_for");if(t.removeAttribute("g_index"),r&&(t.setAttribute("id",r),t.removeAttribute("original_id")),i&&(t.setAttribute("ref",i),t.removeAttribute("original_ref")),n&&(t.setAttribute("label",n),t.removeAttribute("original_label")),o&&(t.setAttribute("for",o),t.removeAttribute("original_for")),"w2:generator"==t.getTagName()){var s=t.getAttribute("original_nodeset");s&&(t.setAttribute("nodeset",s),t.removeAttribute("original_nodeset"))}else for(var a=t.getChildNodes(),h=0;h<a.length;h++)this.restoreChildElement(a[h])}}}catch(t){l.Y.printStackTrace(t)}},p.prototype.getLength=function(){return this.generatedIndexSet.length},p.prototype.getChild=function(t,e){var r=this.generatedIndexSet[t],i=this.id+"_"+r+"_"+e;return h.Z.getComponentById(i)||document.getElementById(i)},p.prototype.insertChild=function(t){return this.insert(t)},p.prototype.insertChildAsync=function(){var t=(0,i.A)(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.insert(e,{async:!0}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),p.prototype.insert=function(t,e){try{if("number"==typeof t&&null!=this.generatedElementSet[t]){for(var r=0,i=0;i<t;i++)r+=this.generatedElementSet[i].length;this.targetNode=this.render.childNodes[r]}
var n=[],o=[],s=[],h=this.dynamicCreateHash[this.options.tagname],c=this.element.cloneNode(!0),p=0,d=c.getChildNodes();for(i=0;i<d.length;i++){var u=d[i];this.setChildElement(u,this.insertItemCnt);var m=null;1===u.nodeType?(m=this._compHash[p]._cloneRecursive(u),p++):(3!==u.nodeType||h)&&(m=WebSquare.controlFactory.createByJSON(null,null,u._element,this.scope_obj,this.parentFrame)),m&&(this.addControl(m),h?this.dynamicAppend(this.render,m,t):3==u.nodeType?o.push(u.nodeValue):(o.push(m.toHTML()),s.push(m))),h&&this.restoreChildElement(u),m&&n.push(m)}var g=WebSquare.controlFactory.initAsync(),f=WebSquare.controlFactory._asyncList.length>0||WebSquare.controlFactory._awaitObj.key.length>0;if(!h){var y=o.join(""),b=document.createElement(this.options.tagname);for(b.innerHTML=y;b.childNodes.length>0;)this.targetNode?this.targetNode=this.render.insertBefore(b.childNodes[b.childNodes.length-1],this.targetNode):this.render.appendChild(b.childNodes[0]);if(f){for(var v=this.uuid,_=[],C=0;C<s.length;C++)_.push(s[C].uuid);g=g.then((function(t,e){a.I.executePointScript(4);for(var r=WebSquare.idCache[v],i=[],n=0;n<_.length;n++)i.push(WebSquare.idCache[_[n]]);r._insertAfter(i)}))}else this._insertAfter(s)}var S=this.itemCnt;"number"==typeof t?(this.generatedIndexSet.splice(t,0,this.insertItemCnt),this.generatedElementSet.splice(t,0,n),S=t):(this.generatedIndexSet.push(this.insertItemCnt),this.generatedElementSet.push(n)),this.targetNode=null,this.itemCnt++,this.insertItemCnt++;var A=S;return e&&!0===e.async&&(A=g=g.then((function(t,e){return S}))),A}catch(t){l.Y.printStackTrace(t,null,this)}},p.prototype._insertAfter=function(t){try{for(;t.length>0;){var e=t.shift();e.activate(),e.onComplete()}}catch(t){l.Y.printStackTrace(t,null,this)}},p.prototype.dynamicAppend=function(t,e,r){try{var i=e.toHTML(),n=i.match(/(<)([^ >\/]*)/),o=n&&n[2]?n[2]:null;if(o){var s=document.createElement(o),a=WebSquare.xml.parse(i),h=WebSquare.WebSquareparser.parseAttribute(a.documentElement);try{for(var p in h)"style"==p?s.style.cssText=h[p]:"className"==p?s.className=h[p]:s.setAttribute(p,h[p])}catch(t){l.Y.printStackTrace(t,null,this)}if("number"==typeof r&&this.targetNode?(t.insertBefore(s,this.targetNode),e.activate(),e.onComplete()):(t.appendChild(s),e.activate(),e.onComplete()),0==e.childControlList.length)for(var d=0;d<a.documentElement.childNodes.length;d++){var u=a.documentElement.childNodes[d];(m=WebSquare.controlFactory.create(null,null,u))&&e.addControl(m)}for(d=0;d<e.childControlList.length;d++){var m;3==(m=e.childControlList[d]).element.nodeType?s.appendChild(document.createTextNode(m.element.data)):this.dynamicCreateHash[o]?this.dynamicAppend(s,m):(c.q.prototype.writeTo.call(m,s),m.activate(),m.onComplete())}}}catch(t){l.Y.printStackTrace(t,null,this)}},p.prototype._clone=function(t){try{var e=c.q.prototype._clone.call(this,t);return e._compHash=this._compHash.slice(0),e}catch(t){l.Y.printStackTrace(t,null,this)}},p.prototype.removeChild=function(t){return null==t&&(t=this.generatedElementSet.length-1),this.remove(t)},p.prototype.remove=function(t){if(null!=t){if("number"==typeof t&&this.generatedElementSet[t]){for(var e=0;e<this.generatedElementSet[t].length;e++){var r=this.generatedElementSet[t][e];r.remove&&r.remove()}var i=this.generatedIndexSet.splice(t,1);return this.generatedElementSet.splice(t,1),this.itemCnt--,i}}else c.q.prototype.remove.call(this)},p.prototype.removeAll=function(){for(var t=this.childControlList.length-1;t>=0;t--)this.childControlList[t].remove&&this.childControlList[t].remove();WebSquare.removeChildren(this.render),this.generatedIndexSet=[],this.generatedElementSet=[],this.itemCnt=0,this.insertItemCnt=0},p.prototype.getIndexArray=function(){return this.generatedIndexSet.slice(0)},p.prototype.setStyle=function(t,e){try{if(!this.render)return;if(WebSquare.style.setStyle(this.render,t,e),"width"==t||"height"==t)for(var r=this.getChildren(),i=this.getChildrenCount(),n=0;n<i;n++)r[n].render.style[t]=e}catch(t){
l.Y.printStackTrace(t)}},p.prototype.finalize=function(){try{if(c.q.prototype.finalize.call(this),this._compHash)for(var t=0;t<this._compHash.length;t++)this._compHash[t].remove();this.removeAll()}catch(t){l.Y.printStackTrace(t)}},p.prototype._parse=(0,i.A)(o().mark((function t(){var e,r,i,n,s,h,c,p,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{for(this._compHash=[],e=this.dynamicCreateHash[this.options.tagname],r=this.element.cloneNode(!0),i=r.getChildNodes(),n=0;n<i.length;n++)s=i[n],this.setChildElement(s,"_base_"),h=null,(3!==s.nodeType||e)&&(h=WebSquare.controlFactory.createByJSON(null,null,s._element,this.scope_obj,this.parentFrame)),h&&(c=function(t,e,r){for(var i=[t];i.length>0;){var n=i.pop(),o=n.childControlList&&n.childControlList.length>0,s=a.I._hasScope(n)||n.scope_obj!==e.scope_obj;if(o&&!s)for(var l=0;l<n.childControlList.length;l++)i.push(n.childControlList[l]);n.scope_obj=e.scope_obj,n.scope_id=e.scope_id}r>=0&&null!=r?e._compHash.splice(d,0,t):e._compHash.push(t)},!0===h._wqAsync?(p=this.uuid,d=this._compHash.length,h.then((function(t,e){var r=WebSquare.idCache[p];c(t,r,d)}))):c(h,this))}catch(t){l.Y.printStackTrace(t,null,this)}case 2:case"end":return t.stop()}}),t,this)})))}}]);