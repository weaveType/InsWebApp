"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[526],{1526:function(t,s,e){e.r(s),e.d(s,{fwGanttChart:function(){return u}});var i=e(467),o=e(4980),a=e(4756),r=e.n(a),n=e(5461),h=e(5375),c=e(8971),l=e(2256),p=e(2406),u=function(t,s,e){p.q.call(this,t,s,e)};n.q.extend(u.prototype,p.q.prototype),u.prototype.defaultOptions=(0,o.A)((0,o.A)({pluginType:"uiplugin.fwGanttChart",pluginName:"fwGanttChart",useConfig:!0,accessibility:!1,displayData:!1,autoCategory:!0,multiTasks:!1,quarterNames:"",monthNames:"",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85",version:"3.7",dataColumns:"",resizeLastMonth:!1},"accessibility",!1),"title",""),u.prototype.initialize=function(t){this.fcObj=null,this.chartObj={},this.taskColorObj={},this.attributeObj=null,this.categories=null,this.processes=null,this.datatable=null,this.tasks=null,this.legends=null,this.trendlines=null,this.milestones=null,this.connectors=null,this.options.quarterNames=this.options.quarterNames||WebSquare.language.getMessage("fwGanttChart_quarterNames")||"Q1,Q2,Q3,Q4",this.options.monthNames=this.options.monthNames||WebSquare.language.getMessage("fwGanttChart_monthNames")||"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",!t.getAttribute("version")&&h.I.getConfiguration("/WebSquare/fusionchart/version/@value")&&(this.options.version=h.I.getConfiguration("/WebSquare/fusionchart/version/@value"))},u.prototype.initAsync=(0,i.A)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof FusionCharts){t.next=39;break}if("4.0"!==this.options.version&&(this.options.version||"4.0"!==h.I.getConfiguration("/WebSquare/fusionchart/version/@value"))){t.next=7;break}return this.options.version="4.0",t.next=5,inquires("externalJS/FusionCharts4.0/FusionCharts_all.js");case 5:case 11:case 17:case 23:case 29:case 35:t.next=39;break;case 7:if("3.23"!==this.options.version&&(this.options.version||"3.23"!==h.I.getConfiguration("/WebSquare/fusionchart/version/@value"))){t.next=13;break}return this.options.version="3.23",t.next=11,inquires("externalJS/FusionCharts3.23/FusionCharts_all.js");case 13:if("3.19"!==this.options.version&&(this.options.version||"3.19"!=h.I.getConfiguration("/WebSquare/fusionchart/version/@value"))){t.next=19;break}return this.options.version="3.19",t.next=17,inquires("externalJS/FusionCharts3.19/FusionCharts_all.js");case 19:if("3.15"!==this.options.version&&(this.options.version||"3.15"!=h.I.getConfiguration("/WebSquare/fusionchart/version/@value"))){t.next=25;break}return this.options.version="3.15",t.next=23,inquires("externalJS/FusionCharts3.15.2/FusionCharts_all.js");case 25:if("3.13"!==this.options.version&&(this.options.version||"3.13"!=h.I.getConfiguration("/WebSquare/fusionchart/version/@value"))){t.next=31;break}return this.options.version="3.13",t.next=29,inquires("externalJS/FusionCharts3.13/js/FusionCharts_all.js");case 31:if("3.11"!=this.options.version&&(this.options.version||"3.11"!=h.I.getConfiguration("/WebSquare/fusionchart/version/@value"))){t.next=37;break}return this.options.version="3.11",t.next=35,inquires("externalJS/FusionCharts3.11.0/FusionCharts_all.js");case 37:return t.next=39,inquires("externalJS/FusionCharts3.7/FusionCharts_all.js");case 39:case"end":return t.stop()}}),t,this)}))),u.prototype.toHTML=function(){var t=[],s=""==this.options.style?"":"style='"+this.options.style+"'";return t.push("<div id='"+this.id+"' "+s+" class='w2fwGanttChart "+this.options.className+"'>"),t.push("</div>"),t.join("")},u.prototype.setAction=function(){try{if(("3.19"===this.options.version||"3.23"===this.options.version||"4.0"===this.options.version)&&"function"==typeof FusionCharts.options._setActivate){var t,s=WebSquare.core.getConfiguration("/WebSquare/fusionchart/license/@value");s&&(t={key:s,creditLabel:!1}),FusionCharts.options._setActivate(t)}
if(this.fcObj=new FusionCharts("gantt","fw_gantt_"+this.id,"100%",this.render.offsetHeight||"100%"),this.setDefaultOption(),this.modelControl.isDataCollectionRefBinded){var e=this.modelControl.dataCollectionRefInfo.dataComp,i={};i.dateformat=this.options.dateformat,i.timeBase=this.options.timeBase,i.monthNames=this.options.monthNames,i.timeGap=this.options.timeGap,i.plotColor=this.options.plotColor,i.processNode=this.options.processNode,i.dataColumns=this.options.dataColumns,i.taskNode=this.options.taskNode,i.startDateNode=this.options.startDateNode,i.endDateNode=this.options.endDateNode,i.autoCategory=this.options.autoCategory,i.categoryDepth=this.options.categoryDepth,i.multiTasks=this.options.multiTasks,i.quarterNames=this.options.quarterNames,i.resizeLastMonth=this.options.resizeLastMonth,i.processIdNode=this.options.processIdNode||null,i.taskIdNode=this.options.taskIdNode||null,i.version=this.options.version,e.getRowCount()>0&&this.setJSONData(e.getfwGanttChartData(i))}}catch(t){c.Y.printStackTrace(t)}},u.prototype.refresh=function(){try{if(this.modelControl.isDataCollectionRefBinded){var t=this.modelControl.dataCollectionRefInfo.dataComp,s={};if(s.dateformat=this.options.dateformat,s.timeBase=this.options.timeBase,s.monthNames=this.options.monthNames,s.timeGap=this.options.timeGap,s.plotColor=this.options.plotColor,s.processNode=this.options.processNode,s.dataColumns=this.options.dataColumns,s.taskNode=this.options.taskNode,s.startDateNode=this.options.startDateNode,s.endDateNode=this.options.endDateNode,s.autoCategory=this.options.autoCategory,s.categoryDepth=this.options.categoryDepth,s.multiTasks=this.options.multiTasks,s.quarterNames=this.options.quarterNames,s.resizeLastMonth=this.options.resizeLastMonth,s.taskIdNode=this.options.taskIdNode||null,t.getRowCount()>0){var e=t.getfwGanttChartData(s);this.categories=e.categories,this.setJSONData(e)}}}catch(t){c.Y.printStackTrace(t)}},u.prototype.setJSONData=function(t){try{this.chartObj=t,this.draw()}catch(t){c.Y.printStackTrace(t)}},u.prototype.getJSONData=function(){try{return FusionCharts.items["fw_gantt_"+this.id].getJSONData()}catch(t){c.Y.printStackTrace(t)}},u.prototype.fc=function(){try{return FusionCharts.items["fw_gantt_"+this.id]}catch(t){c.Y.printStackTrace(t)}},u.prototype.draw=function(){try{if(null!=this.attributeObj)for(var t in this.attributeObj){if(!this.chartObj.chart){this.chartObj.chart=this.attributeObj;break}this.chartObj.chart[t]=this.attributeObj[t]}if(this.categories){this.chartObj.categories=[];for(var s=0;s<this.categories.length;s++)this.chartObj.categories.push(this.categories[s])}if(this.processes&&(this.chartObj.processes||(this.chartObj.processes={}),this.chartObj.processes))for(var t in this.processes)this.chartObj.processes[t]=this.processes[t];if(this.datatable&&(this.chartObj.datatable||(this.chartObj.datatable={}),this.chartObj.datatable))for(var t in this.datatable)if("datacolumn"===t)for(s=0;s<this.datatable.datacolumn.length;s++)for(var e in this.datatable.datacolumn[s])this.chartObj.datatable.datacolumn[s][e]=this.datatable.datacolumn[s][e];else this.chartObj.datatable[t]=this.datatable[t];if(this.tasks&&(this.chartObj.tasks||(this.chartObj.tasks={}),this.chartObj.tasks))for(var t in this.tasks)this.chartObj.tasks[t]=this.tasks[t];if(this.taskColorObj)for(t in this.taskColorObj)for(s=0;s<this.chartObj.tasks.task.length;s++)t===this.chartObj.tasks.task[s].id&&(this.chartObj.tasks.task[s].color=this.taskColorObj[t]);this.trendlines&&(this.chartObj.trendlines||(this.chartObj.trendlines=[]),this.chartObj.trendlines.push(this.trendlines)),this.milestones&&(this.chartObj.milestones||(this.chartObj.milestones={},this.chartObj.milestones.milestone=[]),this.chartObj.milestones.milestone.push(this.milestones)),this.connectors&&(this.chartObj.connectors||(this.chartObj.connectors=[]),this.chartObj.connectors.push({connector:[]}),this.chartObj.connectors[0].connector.push(this.connectors)),
this.legends&&(this.chartObj.legend||(this.chartObj.legend=[]),this.chartObj.legend=this.legends);var i=this.fc();if(i.setJSONData(this.chartObj),i.isActive()||i.render(this.id),1==this.options.accessibility){var o=document.getElementById("fw_gantt_"+this.id);o&&o.setAttribute("aria-hidden",!0),this.setAccessibility(!0)}}catch(t){c.Y.printStackTrace(t)}},u.prototype.setAccessibility=function(t){try{var s=document.getElementById("accessibility_"+this.id);if(0==t)return void(s&&s.remove());var e=this.getDataListInfo(),i=WebSquare.util.getComponentById(e.id,this.scope_id);if(i){if(null==s){var o=document.createElement("table");o.id="accessibility_"+this.id,WebSquare.style.addClass(o,"w2fusionchart_accessibility"),1==this.options.displayData&&(WebSquare.style.removeClass(o,"w2fusionchart_accessibility"),WebSquare.style.addClass(o,"w2tb"),WebSquare.style.addClass(o,"w2fusionchart_accessibility_table")),this.render.appendChild(o,this.render.lastChild),s=document.getElementById("accessibility_"+this.id)}s.innerHTML="";var a="",r=(this.chartObj,this.attributeObj.caption);r&&(a="<caption>"+r+"</caption>"),a+="<thead><tr>";for(var n=i.getColCnt(),h=0;h<n;h++){a+="<th scope='col' class='w2tb_th'>"+i.getColumnInfo(h,0).name+"</th>"}a+="</tr></thead>",a+="<tbody>";for(h=0;h<i.getRowCount();h++){a+="<tr>";for(var c=i.getRowData(h),l=0;l<c.length;l++)a+="<td class='w2tb_td'>"+c[l]+"</td>";a+="</tr>"}a+="</tbody>",s.innerHTML=a}}catch(t){WebSquare.exception.printStackTrace(t)}},u.prototype.setDefaultOption=function(){try{this.attributeObj={chartLeftMargin:"0",chartRightMargin:"0",chartTopMargin:"0",chartBottomMargin:"0",toolTipColor:"#ffffff",toolTipBorderThickness:"0",toolTipBgColor:"#000000",toolTipBgAlpha:"70",toolTipBorderRadius:"2",toolTipPadding:"5",dateformat:"yyyyMMdd"==this.options.dateformat?"yyyy/mm/dd":this.options.dateformat,caption:this.options.title}}catch(t){c.Y.printStackTrace(t)}},u.prototype.setChartAttribute=function(t){try{for(var s in null==this.attributeObj&&(this.attributeObj={}),t)t.hasOwnProperty(s)&&(this.attributeObj[s.toLowerCase()]=t[s])}catch(t){c.Y.printStackTrace(t)}},u.prototype.getChartAttribute=function(t){try{return this.fcObj.getChartAttribute(t)}catch(t){c.Y.printStackTrace(t)}},u.prototype.setCategories=function(t){try{this.categories=[],this.categories.push(t)}catch(t){c.Y.printStackTrace(t)}},u.prototype.addCategories=function(t){try{null==this.categories&&(this.categories=[]),this.categories.unshift(t)}catch(t){c.Y.printStackTrace(t)}},u.prototype.setProcessesAttribute=function(t){try{this.processes=t}catch(t){c.Y.printStackTrace(t)}},u.prototype.setDatatableAttribute=function(t){try{this.datatable=t}catch(t){c.Y.printStackTrace(t)}},u.prototype.setTasksAttribute=function(t){try{this.tasks=t}catch(t){c.Y.printStackTrace(t)}},u.prototype.setTasksColor=function(t,s){try{this.taskColorObj[t]=s,this.draw()}catch(t){c.Y.printStackTrace(t)}},u.prototype.setTrendLine=function(t){try{this.trendlines=t}catch(t){c.Y.printStackTrace(t)}},u.prototype.setMilestone=function(t){try{this.milestones=t}catch(t){c.Y.printStackTrace(t)}},u.prototype.setConnector=function(t){try{this.connectors=t}catch(t){c.Y.printStackTrace(t)}},u.prototype.exportJSChart=function(t){try{t||(t="jpg");var s=this.options.id||"fusionChart",e=this.getSVGString();if(e){var i=encodeURI(e+"ExportType="+t+"ExportFileName="+s),o=n.q._resourceURI+"engine/servlet/exportFusionChart.jsp";h.I.download(o,i,"post")}}catch(t){c.Y.printStackTrace(t)}},u.prototype.getSVGString=function(){try{var t=this.fc().getSVGString();if(t)return t=(t=(t=(t=(t=t.wq_replaceAll('shape-rendering="default"',"shape-rendering='auto'")).wq_replaceAll('visibility=""',"visibility='inherit'")).wq_replaceAll('text-anchor="undefined"',"text-anchor='start'")).wq_replaceAll("1e-006","0.000001")).wq_replaceAll('font-family="15"','font-family="Verdana"');l.v.printLog("not found svg object")}catch(t){c.Y.printStackTrace(t)}},u.prototype.getDataListInfo=function(){try{
if(this.modelControl.isDataCollectionRefBinded){var t={};return t.ref=this.options.ref,t.id=this.modelControl.dataCollectionRefInfo.dataComp.id,t.taskNode=this.options.taskNode,t.taskIdNode=this.options.taskIdNode,t.startDateNode=this.options.startDateNode,t.endDateNode=this.options.endDateNode,t.processNode=this.options.processNode,t}return null}catch(t){c.Y.printStackTrace(t)}}}}]);