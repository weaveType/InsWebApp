"use strict";(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[4327],{4327:(t,e,i)=>{i.r(e),i.d(e,{generator:()=>l});var r=i(1570),n=i(8548),o=i(866),s=i(6323),a=i(3885),l=function(t,e,i){a.q.call(this,t,e,i)};l.prototype.initAsync=async function(){await this._parse()},r.q.extend(l.prototype,a.q.prototype),l.prototype.defaultOptions={pluginType:"uiplugin.generator",pluginName:"generator",tagname:"div"},l.prototype.initialize=function(t){this.idCounter=0,this.dynamicCreateHash=s.Z.isIE()&&parseInt(n.I.browserVersion(),10)<10?{tbody:!0,thead:!0,tfoot:!0,tr:!0}:{},this.passHash={script:!0,label:!0,value:!0,choices:!0,item:!0,itemset:!0,attributes:!0},t&&1==t.nodeType&&!this.id&&(this.id=t.getAttribute("id")),this.tagName=this.options.tagname,this.itemCnt=0,this.insertItemCnt=0,this.generatedIndexSet=[],this.generatedElementSet=[]},l.prototype.toHTML=function(){try{var t=[],e=WebSquare.Parser.parseAttribute(this.element);for(var i in t.push("<"+this.options.tagname),e)if("id"==i){var r=this.id?" id='"+this.id+"'":" id='"+e[i]+"'";t.push(r)}else if("tagname"!=i){"className"==i&&(e[i="class"]=e.className,delete e.className);var n=i;"g_index"!=i&&"original_id"!=i||(n=s.Z.getDataPrefix(i));r=e[i]?" "+n+"='"+e[i]+"'":"";t.push(r)}return t.push(">"),t.push("</"+this.options.tagname+">"),t.join("")}catch(t){o.Y.printStackTrace(t,null,this)}},l.prototype.setAction=function(){},l.prototype.setChildElement=function(t,e){try{if(1==t.nodeType){var i=t.getLocalName();if(!this.passHash[i]){var r="";r=this.scope_obj&&null!=this.org_id?this.org_id+"_"+e+"_":this.id+"_"+e+"_";var n=t.getAttribute("id")||"",s=t.getAttribute("label"),a=t.getTagName();t._element.A||(t._element.A={}),t.setAttribute("g_index",e),"w2:tag"==a&&""==n&&(n="w2generator_"+this.idCounter++),n&&(t.setAttribute("original_id",n),"w2:listColumn"!=a&&t.setAttribute("id",r+n));var l=t.getAttribute("for");if(l&&(t.setAttribute("original_for",l),t.setAttribute("for",r+l)),s&&"w2:textbox"!==a&&"w2:span"!==a&&(t.setAttribute("original_label",s),t.setAttribute("label",WebSquare.xml.encode(s))),"w2:generator"!=a)for(var h=t.getChildNodes(),c=0;c<h.length;c++)this.setChildElement(h[c],e)}}}catch(t){o.Y.printStackTrace(t)}},l.prototype.restoreChildElement=function(t){try{if(1==t.nodeType){var e=t.getLocalName();if(!this.passHash[e]){var i=t.getAttribute("original_id"),r=t.getAttribute("original_ref"),n=t.getAttribute("original_label"),s=t.getAttribute("original_for");if(t.removeAttribute("g_index"),i&&(t.setAttribute("id",i),t.removeAttribute("original_id")),r&&(t.setAttribute("ref",r),t.removeAttribute("original_ref")),n&&(t.setAttribute("label",n),t.removeAttribute("original_label")),s&&(t.setAttribute("for",s),t.removeAttribute("original_for")),"w2:generator"==t.getTagName()){var a=t.getAttribute("original_nodeset");a&&(t.setAttribute("nodeset",a),t.removeAttribute("original_nodeset"))}else for(var l=t.getChildNodes(),h=0;h<l.length;h++)this.restoreChildElement(l[h])}}}catch(t){o.Y.printStackTrace(t)}},l.prototype.getLength=function(){return this.generatedIndexSet.length},l.prototype.getChild=function(t,e){var i=this.generatedIndexSet[t],r=this.id+"_"+i+"_"+e;return s.Z.getComponentById(r)||document.getElementById(r)},l.prototype.insertChild=function(t){return this.insert(t)},l.prototype.insertChildAsync=async function(t){return this.insert(t,{async:!0})},l.prototype.insert=function(t,e){try{if("number"==typeof t&&null!=this.generatedElementSet[t]){for(var i=0,r=0;r<t;r++)i+=this.generatedElementSet[r].length;this.targetNode=this.render.childNodes[i]}var s=[],a=[],l=[],h=this.dynamicCreateHash[this.options.tagname],c=this.element.cloneNode(!0),d=0,p=c.getChildNodes();for(r=0;r<p.length;r++){var u=p[r];this.setChildElement(u,this.insertItemCnt);var m=null;1===u.nodeType?(m=this._compHash[d]._cloneRecursive(u),d++):(3!==u.nodeType||h)&&(m=WebSquare.controlFactory.createByJSON(null,null,u._element,this.scope_obj,this.parentFrame)),m&&(this.addControl(m),
h?this.dynamicAppend(this.render,m,t):3==u.nodeType?a.push(u.nodeValue):(a.push(m.toHTML()),l.push(m))),h&&this.restoreChildElement(u),m&&s.push(m)}var g=WebSquare.controlFactory.initAsync(),f=WebSquare.controlFactory._asyncList.length>0||WebSquare.controlFactory._awaitObj.key.length>0;if(!h){var y=a.join(""),b=document.createElement(this.options.tagname);for(b.innerHTML=y;b.childNodes.length>0;)this.targetNode?this.targetNode=this.render.insertBefore(b.childNodes[b.childNodes.length-1],this.targetNode):this.render.appendChild(b.childNodes[0]);if(f){for(var v=this.uuid,_=[],C=0;C<l.length;C++)_.push(l[C].uuid);g=g.then((function(t,e){n.I.executePointScript(4);for(var i=WebSquare.idCache[v],r=[],o=0;o<_.length;o++)r.push(WebSquare.idCache[_[o]]);i._insertAfter(r)}))}else this._insertAfter(l)}var S=this.itemCnt;"number"==typeof t?(this.generatedIndexSet.splice(t,0,this.insertItemCnt),this.generatedElementSet.splice(t,0,s),S=t):(this.generatedIndexSet.push(this.insertItemCnt),this.generatedElementSet.push(s)),this.targetNode=null,this.itemCnt++,this.insertItemCnt++;var A=S;return e&&!0===e.async&&(A=g=g.then((function(t,e){return S}))),A}catch(t){o.Y.printStackTrace(t,null,this)}},l.prototype._insertAfter=function(t){try{for(;t.length>0;){var e=t.shift();e.activate(),e.onComplete()}}catch(t){o.Y.printStackTrace(t,null,this)}},l.prototype.dynamicAppend=function(t,e,i){try{var r=e.toHTML(),n=r.match(/(<)([^ >\/]*)/),s=n&&n[2]?n[2]:null;if(s){var l=document.createElement(s),h=WebSquare.xml.parse(r),c=WebSquare.WebSquareparser.parseAttribute(h.documentElement);try{for(var d in c)"style"==d?l.style.cssText=c[d]:"className"==d?l.className=c[d]:l.setAttribute(d,c[d])}catch(t){o.Y.printStackTrace(t,null,this)}if("number"==typeof i&&this.targetNode?(t.insertBefore(l,this.targetNode),e.activate(),e.onComplete()):(t.appendChild(l),e.activate(),e.onComplete()),0==e.childControlList.length)for(var p=0;p<h.documentElement.childNodes.length;p++){var u=h.documentElement.childNodes[p];(m=WebSquare.controlFactory.create(null,null,u))&&e.addControl(m)}for(p=0;p<e.childControlList.length;p++){var m;3==(m=e.childControlList[p]).element.nodeType?l.appendChild(document.createTextNode(m.element.data)):this.dynamicCreateHash[s]?this.dynamicAppend(l,m):(a.q.prototype.writeTo.call(m,l),m.activate(),m.onComplete())}}}catch(t){o.Y.printStackTrace(t,null,this)}},l.prototype._clone=function(t){try{var e=a.q.prototype._clone.call(this,t);return e._compHash=this._compHash.slice(0),e}catch(t){o.Y.printStackTrace(t,null,this)}},l.prototype.removeChild=function(t){return null==t&&(t=this.generatedElementSet.length-1),this.remove(t)},l.prototype.remove=function(t){if(null!=t){if("number"==typeof t&&this.generatedElementSet[t]){for(var e=0;e<this.generatedElementSet[t].length;e++){var i=this.generatedElementSet[t][e];i.remove&&i.remove()}var r=this.generatedIndexSet.splice(t,1);return this.generatedElementSet.splice(t,1),this.itemCnt--,r}}else a.q.prototype.remove.call(this)},l.prototype.removeAll=function(){for(var t=this.childControlList.length-1;t>=0;t--)this.childControlList[t].remove&&this.childControlList[t].remove();WebSquare.removeChildren(this.render),this.generatedIndexSet=[],this.generatedElementSet=[],this.itemCnt=0,this.insertItemCnt=0},l.prototype.getIndexArray=function(){return this.generatedIndexSet.slice(0)},l.prototype.setStyle=function(t,e){try{if(!this.render)return;if(WebSquare.style.setStyle(this.render,t,e),"width"==t||"height"==t)for(var i=this.getChildren(),r=this.getChildrenCount(),n=0;n<r;n++)i[n].render.style[t]=e}catch(t){o.Y.printStackTrace(t)}},l.prototype.finalize=function(){try{if(a.q.prototype.finalize.call(this),this._compHash)for(var t=0;t<this._compHash.length;t++)this._compHash[t].remove();this.removeAll()}catch(t){o.Y.printStackTrace(t)}},l.prototype._parse=async function(){try{this._compHash=[];for(var t=this.dynamicCreateHash[this.options.tagname],e=this.element.cloneNode(!0).getChildNodes(),i=0;i<e.length;i++){var r=e[i]
;this.setChildElement(r,"_base_");var s=null;if((3!==r.nodeType||t)&&(s=WebSquare.controlFactory.createByJSON(null,null,r._element,this.scope_obj,this.parentFrame)),s){var a=function(t,e,i){for(var r=[t];r.length>0;){var o=r.pop(),s=o.childControlList&&o.childControlList.length>0,a=n.I._hasScope(o)||o.scope_obj!==e.scope_obj;if(s&&!a)for(var l=0;l<o.childControlList.length;l++)r.push(o.childControlList[l]);o.scope_obj=e.scope_obj,o.scope_id=e.scope_id}i>=0&&null!=i?e._compHash.splice(h,0,t):e._compHash.push(t)};if(!0===s._wqAsync){var l=this.uuid,h=this._compHash.length;s.then((function(t,e){var i=WebSquare.idCache[l];a(t,i,h)}))}else a(s,this)}}}catch(t){o.Y.printStackTrace(t,null,this)}}}}]);