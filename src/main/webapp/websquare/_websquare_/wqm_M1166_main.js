(()=>{"use strict";var __webpack_modules__={8109:(e,t,r)=>{r.d(t,{Q:()=>a});var i,a={};a._binitImport=!1,a.useWebSquareLicense=!0,a.excludeSet=null,a.$integrity=function(e,t,r){if(void 0===e)return WebSquare.util&&WebSquare.util.watermark&&!WebSquare.$integiry.flag&&WebSquare.util.watermark("integrity check failed!!!"),WebSquare.$integiry.flag;!0===e?WebSquare.$integiry.passed.push(t):!1===e&&(WebSquare.$integiry.flag=!1,WebSquare.$integiry.failed.push({original:t,runtime:r}))},a.setFullViewInHtml=function(e,t,r){try{var i=!0===(r=r||{}).resizeOnce,n=null,o={width:window.innerWidth||document.body.clientWidth,height:window.innerHeight||document.body.clientHeight};if(null!==e&&"function"==typeof e){var s=e();if(null!==s&&"object"==typeof s&&s.baseHeight&&s.baseWidth){var l=o.width/s.baseWidth,u=o.height/s.baseHeight;n=l>u?u:l}}function h(){if(!a.onResizing){var t=null,r=window.innerWidth||document.body.clientWidth,i=window.innerHeight||document.body.clientHeight;if(null!==e&&"function"==typeof e){var n=e();if(null!==n&&"object"==typeof n&&n.baseHeight&&n.baseWidth){var o=r/n.baseWidth,s=i/n.baseHeight;t=o>s?s:o}}null!=t&&(a.onResizing=!0,a.zoomed(document.body,t),document.body.style.width=n.baseWidth+"px",document.body.style.height=n.baseHeight+"px",a.onResizing=!1,a.fullViewed=!0,a.fullViewRatio=t)}}function f(e){var t,r="body {-webkit-transform : scale("+e+");-moz-transform : scale("+e+");-ms-transform : scale("+e+");-o-transform : scale("+e+");transform : scale("+e+");transform-origin : 0 0;-ms-transform-origin : 0 0;width : "+s.baseWidth+"px;height : "+s.baseHeight+"px;}",i=WebSquare.document.getElementsByTagName("head")[0];(a.fullViewClass=!0,a.fullViewClassCssText=r,a.fullViewRatio=e,WebSquare.core.browserCheck.ie)?((t=document.createElement("style")).setAttribute("type","text/css"),t.styleSheet.cssText=r,i.appendChild(t)):((t=WebSquare.document.createElementNS("http://www.w3.org/1999/xhtml","style")).appendChild(document.createTextNode(r)),i.appendChild(t))}a.fullViewed=!0;var c=window.WebSquareExternal&&WebSquareExternal.w2xPath||WebSquare.net.getParameter("w2xPath")||WebSquare.w2xPath||a.configurationJSON[0].WebSquare["welcome-file"]["@value"];if("string"==typeof c&&c.indexOf(t)>=0){a.fullViewRatio=n,f(n);var d=function(){WebSquare&&WebSquare.scriptSectionExcuteFlag&&"executed"===WebSquare.scriptSectionExcuteFlag&&(clearInterval(p),h(),i||WebSquare.getBody().event.addListener(window,"onresize",h))};d();var p=setInterval(d,70)}}catch(g){WebSquare.exception.printStackTrace(g)}},a.zoomed=function(e,t){if(WebSquare.core.browserCheck.moz&&e&&e.style)e.style.MozTransform="scale("+t+")",e.style.MozTransformOrigin="left top",a.fullViewRatio=t;else if(e&&e.style&&(e.style["-webkit-transform"]="scale("+t+")",e.style["-moz-transform"]="scale("+t+")",e.style["-ms-transform"]="scale("+t+")",e.style["-o-transform"]="scale("+t+")",e.style.transform="scale("+t+")",e.style["transform-origin"]="top left",a.fullViewRatio=t,a.fullViewClass)){a.fullViewClass=!1;for(var r=document.getElementsByTagName("style"),i=0;i<r.length;i++)if(r[i].textContent==a.fullViewClassCssText){document.getElementsByTagName("head")[0].removeChild(r[i]);break}}},a.globalEval=function(e,t){var r;return t||(r=a.configurationJSON[0].WebSquare.eval||a.configurationJSON[0].WebSquare.executeScript)&&(r=r["@value"]),a._globalEval(e,{type:r||t})},a._globalEval=function(e,t){if(e&&"string"==typeof e)try{if(null==t&&(t={}),a.fixErrorLineNumber&&"internal"==t.type||"script"===t.type){a.fixErrorLineNumber&&a.globalEvalArr.push(e);var r=document.createElement("script");r.type="text/javascript",r.charset="UTF-8",r.text=e,r.setAttribute("data-wqinternal","true"),(document.head||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(r)}else window.execScript&&""!==e?window.execScript(e):new Function(e)()}catch(r){var i=[],n="\n<<Internal JavaScript Source Block"
;if(e)for(var o=e.split(WebSquare.scriptIdentifier),s=o.length>1?1:0,l=1,u=0;u<o.length;u++)if(""!=o[u]){var c=o[u].split("\n"),d=c[0]+"",p=d.indexOf('";');p>0&&(d=c[0].substring(0,p),c[0]=c[0].substring(p+2)),1===s?i.push("\n"+n+" ["+d+"] Start>>"):i.push("\n"+n+" Start>>");for(var h=0,f=c.length;h<f;h++)i.push("\n"),i.push("["),i.push(a.fillZero(l,4)),i.push("]"),i.push(c[h]),l++;1===s?i.push(n+" ["+d+"] End>>"):i.push(n+" End>>")}t.path&&i.push("\n","xml page url:",t.path),this.printStackTrace(r,"bootloader.globalEval:","* message     : "+r.message+i.join(""))}},a._isCache=function(e){var t=!1;if(null==a.importCache[e]?a.importCache[e]=e:t=e,!0===a.useWebSquareLicense){var r=e;if(r.indexOf("uiplugin.")>=0&&(r=(r=r.replace(".","/"))+r.substring(r.indexOf("/"))+".js",a.importCache[r]))return r;if(!a.incrementalChunkImport)for(var i=0;i<WebSquare.allPluginArr.length&&0==t;i++)if(WebSquare.allPluginArr[i]==r){t=r;break}}return t},a._getloadPath=function(e,t){var r;!0===a.useWebSquareLicense?e.indexOf("/")>-1?"engine"==e.split("/")[0]||"uiplugin"==e.split("/")[0]?(void 0===t&&a.printLog("bootloader.imports [engine/uiplugin]["+e+"]"),r=a.loadPath2(e)):(void 0===t&&a.printLog("bootloader.imports [ext]["+e+"]"),r=e):"function"!=typeof a.parseObjPath(e)&&(void 0===t&&a.printLog("bootloader.imports [object]["+e+"]"),r=a.loadPath2(e)):e.indexOf("/")>-1?r=e:"function"!=typeof a.parseObjPath(e)&&(r=a.loadPath(e));return r},a.importAsync=function(e,t){if(e){var r=a._isCache(e);if(r)return a.importCache[r];var i,n=Promise.resolve(),o=t&&!0===t.import;if(!0===a.useWebSquareLicense)try{var s=e;if(!0===a.useWebSquareLicense&&s.indexOf("uiplugin.")>=0&&(s=(s=s.replace(".","/"))+s.substring(s.indexOf("/"))+".js"),a.incrementalChunkImport&&WebSquare.allPluginArr.indexOf(s)>-1)for(;a.currentChunkNum<a.engineChunkNum&&!a.importCache[s];)a.importChunkPlugin(a.currentChunkNum++,a.engineChunkNum);else i=a._getloadPath(s),i=a.getEngineUri(i),n=o?WebSquare._dynamicImport(i):a.writeAsync(i)}catch(t){a.printStackTrace(t,"bootloader.imports ["+e+"]")}else try{i=a._getloadPath(e),i=a.getEngineUri(i),n=o?WebSquare._dynamicImport(i):a.writeAsync(i)}catch(t){a.printStackTrace(t,"bootloader.importAsync ["+e+"]")}return a.importCache[e]=n,n}},a.write=function(e,t,r){try{var i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.type="text/javascript",t&&(a.charset=t),a.src=e,r&&(a.onload=function(){r()}),i.appendChild(a),i=null}catch(e){this.printStackTrace(e,"bootloader.write")}},a.writeAsync=function(e,t){try{return new Promise((function(r,i){var a=document.head||document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",t&&(n.charset=t),n.src=WebSquare._getModuleSrc(e),n.onload=function(){r()},n.onerror=function(e){var t=e&&e.target?e.target.src:"";i(t)},a.appendChild(n),a=null}))}catch(e){this.printStackTrace(e,"bootloader.write")}},a.importChunkPlugin=function(e,t){if(!0===a.useWebSquareLicense)try{if(e>=t)return!1;var r=WebSquare.baseServletURI+"javascriptPluginAll.wq?";t=t||1;WebSquare.engineType&&(r+=WebSquare.engineType),(r=r+"idx="+e+"&chunkNum="+t).length>3&&(r=r.indexOf(".wq")>=0?a.getEngineVersionPostfix(r):1==WebSquare.WebSquareEngineCache?a.getEngineCachePostfix(r):a.getRandomPostfix(r));var i=a.getXMLHTTPObject();return i.open("GET",r,!1),i.send(null),a.globalEval(i.responseText),!0}catch(t){"",this.printStackTrace(t,"bootloader.importChunkPlugin ["+e+"]")}},a.importPluginAll=async function(){var e=0;if(null!=a.importCache.ALL_PLUGIN)return e;if(a.importCache.ALL_PLUGIN="ALL_PLUGIN",!0===a.useWebSquareLicense)try{var t=WebSquare.baseServletURI+"javascriptPluginAll.wq";if(WebSquare.engineType&&(t=t+"?"+WebSquare.engineType.substring(0,WebSquare.engineType.length-1)),"/"!=t.charAt(0)&&0!=t.search(/http(s)?:\/\//)&&(t=WebSquare.baseServletURI+t),
t.length>3&&(t=t.indexOf(".wq")>=0?a.getEngineVersionPostfix(t):1==WebSquare.WebSquareEngineCache?a.getEngineCachePostfix(t):a.getRandomPostfix(t)),"all"===WebSquare.pluginCache){var r=a.loadUri(t);null==r||""==r?e=1:a.globalEval(r)}else WebSquare.startApplication=function(){},await a.writeAsync(t,void 0,(function(){a._afterEngineLoad(),window.WebSquareExternal&&!0===window.WebSquareExternal._onload&&WebSquare.startApplication()}))}catch(t){e=2,a.printLog("bootloader.importPluginAll module imports failure.")}return e},a.requires=function(e){try{"function"!=typeof a.parseObjPath(e)&&(1==WebSquare.hybridApp&&WebSquare.WebSquaredoc&&!0===a.useWebSquareLicense&&("string"!=typeof e||"uiplugin"!==e.slice(0,8)&&"engine"!==e.slice(0,6)||(e=a.getEngineUri("HybridPluginAll_ui_4.js"))),imports(e))}catch(e){a.printStackTrace(e,"bootloader.requires")}},a.requireAsync=async function(e){try{if("string"!=typeof e)return;if("uiplugin."===(e=e.wq_trim()).slice(0,9)||"engine."===e.slice(0,7))return WebSquare._loadModuleDynamic(e);var t=a.parseObjPath(e);t&&"{}"!==JSON.stringify(t)||await a.importAsync(e)}catch(e){a.printStackTrace(e,"bootloader.requires")}},a.inquires=async function(e){try{var t=a.parseObjPath(e),r=a.inquiresPath(e);"function"!=typeof t&&await a.importAsync(r)}catch(e){a.printStackTrace(e,"bootloader.inquires")}},a.inquiresPath=function(e){return WebSquare.sp5ResourcePath+"/"+e},a.parseObjPath=function(e,t){try{function l(e){if("object"!=typeof e)return!1;if(e===WebSquare||e===WebSquare.uiplugin)return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var r=e.replace(/\//g,"."),i=null!=t?t:WebSquare,n="";n=r.startsWith("engine")?r.replace("engine.","").split("."):r.startsWith("control")?r.replace("control.","").split("."):r.startsWith("uiplugin.pivot.")?r.replace("uiplugin.pivot.","uiplugin.").split("."):r.split(".");for(var o=0,s=n.length;o<s&&l(i);o++)i=a.evalProp(n[o],i);return i}catch(u){this.printStackTrace(u,"bootloader.parseObjPath")}},a.loadPath=(i={},function(e){try{if(!i[e])if("js"===e.slice(-2))i[e]=e;else{var t=e.split(".");t[t.length]=t[t.length-1]+".js",i[e]=t.join("/")}return i[e]}catch(e){a.printStackTrace(e,"bootloader.loadPath")}}),a.loadPath2=function(e){try{return e}catch(e){this.printStackTrace(e,"bootloader.loadPath")}},a.evalProp=function(e,t){try{var r={};return t&&a.isDef(e,t)&&(r=t[e]),r}catch(e){this.printStackTrace(e,"bootloader.evalProp")}},a.loadUri=function(e){var t=null;try{if("false"===WebSquare.pluginCache)t=this.getText(e)||"";else if("all"===WebSquare.pluginCache)try{for(var r=self,i=0;null!=r.opener;)if(i++,r=r.opener,i>100)throw{message:"opener limit exceeded"};null==r.top[WebSquare.pluginCacheVariable]&&(r.top[WebSquare.pluginCacheVariable]={}),null==r.top[WebSquare.pluginCacheVariable][e]?(t=this.getText(e),r.top[WebSquare.pluginCacheVariable][e]=t.toString().slice(0)):t=r.top[WebSquare.pluginCacheVariable][e]}catch(r){t=this.getText(e)||""}else if(void 0===(t=a.PluginCache[e])){try{window.opener&&window.opener.WebSquare?null!=(t=window.opener.WebSquare.BootLoader.loadUri(e))&&""!=t||(t=this.getText(e)):window.parent!==window.self&&window.parent.WebSquare&&null!=(t=window.parent.WebSquare.BootLoader.loadUri(e))&&""!=t||(t=this.getText(e))}catch(r){t=this.getText(e)}null!=t&&""!=t&&a.setPluginCache(e,t)}}catch(e){this.printStackTrace(e,"bootloader.loadUri")}return t},a.getText=function(e){try{var t=e,r=this.getXMLHTTPObject();try{a.openEngineUri(e,r);var i=window.WebSquareExternal.charset;if(i&&r.overrideMimeType("text/javascript;charset="+i),r.send(null),r.status>="400")return t.indexOf("uiplugin")>-1?a.printError("Plugin ["+t+"] Does not exist."):a.printError("Module ["+t+"] Does not exist."),r=null,null}catch(e){t.indexOf("uiplugin")>-1?a.printError("Plugin ["+t+"] Does not exist."):a.printError("Module ["+t+"] Does not exist.")}var n=r.responseText;return r=null,n}catch(t){this.printStackTrace(t,"bootloader.getText("+e+")")}},a.getXMLHTTPObject=function(e){try{var t=null;try{
a.useActiveXObject&&!0!==e?t=new ActiveXObject(a._XMLHTTP_PROGIDS[0]):window.XMLHttpRequest&&(t=new XMLHttpRequest)}catch(e){this.printStackTrace(e,"bootloader.getXMLHTTPObject")}return void 0===t||null==t?(a.printError("This Browser does not support Ajax."),null):t}catch(e){this.printStackTrace(e,"bootloader.getXMLHTTPObject")}},a.isDef=function(e,t){try{return null==t&&(t=window),null!=t[e]&&void 0!==t[e]}catch(e){this.printStackTrace(e,"bootloader.isDef")}},a.printError=function(e){try{if(!0===WebSquare.skipLog)return;void 0!==WebSquare.logger&&void 0!==WebSquare.logger.printLog?WebSquare.logger.printLog("[WebSquare BootLoader Error]\n\n"+e):a.printLog("[WebSquare BootLoader Error]\n\n"+e)}catch(t){a.printLog("[WebSquare BootLoader Error]\n\n"+e)}},a.printStackTrace=function(e,t,r){if(!0!==WebSquare.skipLog){var i="";for(var n in e){var o=n+"               ";o=o.substring(0,15),i+="number"==n?o+":"+(65535&e[n])+"\n":o+":"+e[n]+"\n"}i=void 0===r?t+" Error occurs during the execution. \n\n"+i:t+" Error occurs during the execution.  \n"+r+"\n\n"+i;try{void 0!==WebSquare.logger&&void 0!==WebSquare.logger.printLog?(WebSquare.logger.printLog(i),e&&void 0===e.aleradyThrow&&(e.aleradyThrow="djshin")):a.printLog(i),!0===WebSquare.errorConsole&&console.error(i);var s=WebSquare.core.getConfiguration("/WebSquare/debug/@errorHandler"),l=WebSquare.util.getGlobalFunction(s);l&&l(e,e.message)}catch(e){a.printLog(i)}}},a.setPluginCache=function(e,t){a.PluginCache[e]=t},a.browserCheck=function(){return navigator.appName},a.engineLoadingMode={ie:1,moz:1,opera:1,android:1,iphone:1,blackberry:1,chrome:1,safari:1,mode:1},a.browserCheck.ie=null!=navigator.appName.match(/Explorer/i),a.browserCheck.ieAllVersion=null!=navigator.appName.match(/Explorer/i)||null!=navigator.userAgent.match(/Trident/i)||null!=navigator.userAgent.match(/MSIE/i),a.browserCheck.moz=null!=navigator.userAgent.match(/Firefox/i)||null!=navigator.userAgent.match(/Gecko/i)&&null==navigator.userAgent.match(/AppleWebKit/i)&&null==navigator.userAgent.match(/Trident/i),a.browserCheck.opera=null!=navigator.userAgent.match(/Opera/i),a.browserCheck.android=/Android/.test(navigator.userAgent),a.browserCheck.iphone=/iPhone/.test(navigator.userAgent)||/iPhone/.test(navigator.platform),a.browserCheck.ipad=/iPad/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!window.MSStream,a.browserCheck.ipod=/iPod/.test(navigator.userAgent),a.browserCheck.blackberry=/BlackBerry/.test(navigator.userAgent),a.browserCheck.chrome=!a.browserCheck.ie&&/Chrome/.test(navigator.userAgent),a.browserCheck.chromeEdge=!a.browserCheck.ie&&/Chrome/.test(navigator.userAgent)&&/Edg/.test(navigator.userAgent),void 0!==navigator.vendor?a.browserCheck.safari=navigator.vendor.indexOf("Apple")>-1:a.browserCheck.safari=!1,a.browserCheck.ffox=/Firefox/.test(navigator.userAgent),a.browserCheck.spartan=/Edge/.test(navigator.userAgent),a.browserVersion=function(){try{if(a.browserCheck.ieAllVersion){if(document.documentMode)return document.documentMode+"";if("2"==navigator.appVersion.charAt(0))return"2";if("3"==navigator.appVersion.charAt(0))return"3";if("4"==navigator.appVersion.charAt(0))return-1!=navigator.appVersion.indexOf("MSIE 9")?"9":-1!=navigator.appVersion.indexOf("MSIE 8")?"8":-1!=navigator.appVersion.indexOf("MSIE 7")?"7":-1!=navigator.appVersion.indexOf("MSIE 6")?"6":-1!=navigator.appVersion.indexOf("MSIE 5.5")?"5.5":-1!=navigator.appVersion.indexOf("MSIE 5.0")?"5.0":"4";if("5"==navigator.appVersion.charAt(0))return"5"}else{if(2==navigator.appVersion.charAt(0))return"2";if(3==navigator.appVersion.charAt(0))return"3";if(4==navigator.appVersion.charAt(0))return"4";if(5==navigator.appVersion.charAt(0))return"6"}return""}catch(e){this.printStackTrace(e,"bootloader.browserVersion")}},a.printLog=function(e){try{if(!0===WebSquare.skipLog||!WebSquare.logEnableFlag)return;if(!window.console){
var t=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var r=0;r<t.length;++r)window.console[t[r]]=function(){}}WebSquare.logMsgArray.length>500&&(delete WebSquare.logMsgArray,WebSquare.logMsgArray=[],WebSquare.logMsgArray.push(a.getLogTime()+" BootLoader] Delete logs for reducing memory usage."));var i=a.getLogTime(),n=" BootLoader] "+e;WebSquare.logMsgArray.push(i+n),WebSquare.printConsole&&console.log(i+n),WebSquare.remoteConsole&&WebSquare.remoteLogMsgArray.push(i+WebSquare.logFileName+n)}catch(e){console.error(e)}},a.getLogTime=function(e){var t=null,r=(t="undefined"==e||null==e?new Date:new Date(e)).getTime(),i=r-WebSquare.logTime,n=a.fillZero(t.getHours(),2)+":"+a.fillZero(t.getMinutes(),2)+":"+a.fillZero(t.getSeconds(),2)+"."+a.fillZero(t.getMilliseconds(),3);return i<1e5?(WebSquare.logTotalTime+=i,n+=" "+a.fillZero(i,5)+" "+a.fillZero(WebSquare.logTotalTime,6)):n+=" 00000 000000",WebSquare.logTime=r,n},a.fillZero=function(e,t){var r,i=e+"";if(isNaN(i))return e;if(i.length>=t)return i;for(r=t-i.length;r>0;)switch(r){case 1:r=0,i="0"+i;break;case 2:r=0,i="00"+i;break;case 3:r=0,i="000"+i;break;case 4:r=0,i="0000"+i;break;case 5:r=0,i="00000"+i;break;case 6:r=0,i="000000"+i;break;case 7:r=0,i="0000000"+i;break;case 8:r=0,i="00000000"+i;break;case 9:r=0,i="000000000"+i;break;case 10:r=0,i="0000000000"+i;break;case 11:r=0,i="00000000000"+i;break;case 12:r=0,i="000000000000"+i;break;case 13:r=0,i="0000000000000"+i;break;case 14:r=0,i="00000000000000"+i;break;case 15:r=0,i="000000000000000"+i;break;default:r-=15,i="000000000000000"+i}return i},a.getParameter=function(e,t,r){try{var i=e.indexOf("?");if(i>=0)for(var n=e.substring(i+1).split("&"),o=0;o<n.length;o++){var s=n[o].split("=");if(2==s.length&&s[0]==t)return""==s[1]&&void 0!==r?r:s[1]}}catch(e){a.printStackTrace(e,"bootloader.getParameter")}return void 0!==r?r:""},a.getSignature=function(e,t){if(void 0===t&&(t=0),t>5)return"...(omission)";if(null==e||"null"==e)return"";try{var r="";null!=e.caller&&e.toString()!=e.caller.toString()&&(r=a.getSignature(e.caller,++t));var i,n=e.toString(),o=n.indexOf('["');return-1==o?-1==(i=n.indexOf(")"))?"    at "+n+"\n"+r:"    at "+n.substring(0,i+1)+"\n"+r:-1==(i=n.indexOf('"',o+2))?"    at "+n+"\n"+r:"    at "+n.substring(o+2,i)+"\n"+r}catch(t){return e}},a.getImagePostfix=function(e){try{!0===a.useWebSquareLicense&&(e=a.getImageVersionPostfix(e))}catch(e){a.printStackTrace(e,"bootloader.getImagePostfix")}return e},a.openEngineUri=function(e,t){try{e=a.getEngineUri(e),t.open("GET",e,!1)}catch(e){a.printStackTrace(e,"openEngineUri")}},a.getEngineUri=function(e){return"/"!=e.charAt(0)&&0!=e.search(/http(s)?:\/\//)&&0!=e.search(/file:\/\//)&&(e=e.indexOf(".wq")>=0?WebSquare.baseServletURI+e:WebSquare.baseURI+e),1==WebSquare.hybridApp?("/"==e.charAt(0)&&""!=WebSquare.w2xDocumentRoot&&(e=WebSquare.w2xDocumentRoot+e),e):(e.length>3&&(e.indexOf(".wq")>=0?e=a.getEngineVersionPostfix(e):1==WebSquare.WebSquareEngineCache&&(e=a.getEngineCachePostfix(e))),e)},a._getEncodeURL=function(e){try{if(!WebSquare.BootLoader.browserCheck.ieAllVersion||"string"!=typeof e)return e;for(var t=e,r=0;r<e.length;r++)if(e.charCodeAt(r)>127){t=encodeURIComponent(e).replace(/%2F/g,"/");break}return t}catch(t){return e}},a.openResourceUri=function(e,t){try{if(WebSquare.isHoneyComb)t.open("GET",e,!1);else{var r=a.getResourcePostfix(e);t.open("GET",r,!1)}}catch(e){return url}return e},a.getResourcePostfix=function(e){try{var t=a.generateSuffixPostfix(e);t&&"object"==typeof WebSquare.suffix?e.indexOf("?")>-1?e+="&postfix="+t:e+="?postfix="+t:e=0==WebSquare.WebSquareCache?a.getRandomPostfix(e):a.getResourceCachePostfix(e)}catch(e){return url}return e},a.getImageVersionPostfix=function(e){try{var t=a.generateSuffixPostfix(e)
;t?e.indexOf("?")>-1?e+="&postfix="+t:e+="?postfix="+t:null!=a.imageVersion&&(e.indexOf("?")>-1?e+="&postfix="+a.imageVersion:e+="?postfix="+a.imageVersion)}catch(e){return url}return e},a.getEngineVersionPostfix=function(e){try{e.indexOf("?")>-1?e+="&postfix="+WebSquare.ver:e+="?postfix="+WebSquare.ver,e.indexOf("?")>-1?e+="&compression="+a.compression:e+="?compression="+a.compression,WebSquare.buildID&&(e.indexOf("?")>-1?e+="&build="+WebSquare.buildID:e+="?build="+WebSquare.buildID),window.WebSquarePluginOrderHash&&(e.indexOf("?")>-1?e+="&poh="+window.WebSquarePluginOrderHash:e+="?poh="+window.WebSquarePluginOrderHash)}catch(e){return url}return e},a.getRandomPostfix=function(e){try{if("string"!=typeof e)return e;var t=e.toLowerCase();for(var r in{png:!0,jpg:!0,jpeg:!0,gif:!0,bmp:!0,tiff:!0,tif:!0,svg:!0,raw:!0,psd:!0,ai:!0,eps:!0,pdf:!0,ico:!0,xcf:!0,webp:!0,heic:!0,heif:!0}){var i="."+r;if(t.slice(-i.length)===i)return e}e.indexOf("?")>-1?e+="&postfix="+(new Date).getTime()+WebSquare.safeRandom():e+="?postfix="+(new Date).getTime()+WebSquare.safeRandom()}catch(e){return url}return e},a.getResourceCachePostfix=function(e){try{var t=a.generateSuffixPostfix(e);if(t)e.indexOf("?")>-1?e+="&postfix="+t:e+="?postfix="+t;else if(a.resourcePostfix){for(var r=0;r<a.resourcePostfixKey.length;r++)if(e.indexOf(a.resourcePostfixKey[r])>-1)return e.indexOf("?")>-1?e+="&postfix="+a.resourcePostfixValue[r]:e+="?postfix="+a.resourcePostfixValue[r],e;e.indexOf("?")>-1?e+="&postfix="+a.resourcePostfix:e+="?postfix="+a.resourcePostfix}}catch(e){return url}return e},a.getEngineCachePostfix=function(e){try{var t=a.generateSuffixPostfix(e);t?e.indexOf("?")>-1?e+="&postfix="+t:e+="?postfix="+t:a.enginePostfix&&(e.indexOf("?")>-1?e+="&postfix="+a.enginePostfix:e+="?postfix="+a.enginePostfix)}catch(e){return url}return e},a.rebuildInnerHTML=function(e,t){WebSquare.core._safeInnerHTML(e,t)},a.addObjStr=function(e,t){e.insertAdjacentHTML("beforeEnd",t)},a.generateSuffixPostfix=function(e){var t="";if(WebSquare.suffix&&""!=WebSquare.suffix){if("string"==typeof WebSquare.suffix)try{var r=JSON.parse(WebSquare.suffix);if("object"!=typeof r)return WebSquare.suffix;WebSquare.suffix=r}catch(e){return WebSquare.suffix}try{var i=["day","week","month","year","random"],n=[],o=new Date,s=new Date;n.push(o.getDate()<=9?"0"+o.getDate():""+o.getDate());var l=new Date(s.setDate(1)).getDay(),u=Math.ceil((o.getDate()+l)/7);n.push(u),n.push(o.getMonth()<9?"0"+(o.getMonth()+1):""+(o.getMonth()+1)),n.push(o.getFullYear()),n.push(o.getTime()+WebSquare.safeRandom());for(var c=function(e){if(e.indexOf("$")<0)return e;for(var t=0;t<i.length;t++)for(var r=e.indexOf("${"+i[t]+"}");r>=0;)r=(e=e.substring(0,r)+n[t]+e.substring(r+i[t].length+3)).indexOf("${"+i[t]+"}",r);return e},d=WebSquare.suffix.suffix,p=0;p<d.length;p++){var h=!0;if(d[p].path&&(h=!1,e.indexOf(d[p].path)>=0&&(h=!0)),h){var f="defaults",g={extension:""};if(g[f]="",d[p]){for(var m in d[p]){var b=m;if("default"===m&&(b=f),b==f&&(g[b]=c(d[p][b])),"extension"==b){var y=e.substring(e.lastIndexOf(".")+1);y.indexOf("?")>0&&(y=y.substring(0,y.indexOf("?"))),d[p].extension[y]&&(g[b]=c(d[p].extension[y]))}}t=""==g.extension&&""!=g[f]?g[f]:g.extension}if(t)break}}}catch(e){a.printStackTrace(e,"generateSuffixPostfix")}}return t},a.generatePostfix=function(e){try{if(WebSquare.suffix&&""!=WebSquare.suffix&&"string"==typeof WebSquare.suffix)e=WebSquare.suffix;else if("day"==e){var t=(i=new Date).getMonth()<9?"0"+(i.getMonth()+1):""+(i.getMonth()+1),r=i.getDate()<=9?"0"+i.getDate():""+i.getDate();e=i.getFullYear()+"_"+t+"_"+r}else if("week"==e){var i=new Date,n=new Date,o=new Date(n.setDate(1)).getDay(),s=Math.ceil((i.getDate()+o)/7);t=i.getMonth()<9?"0"+(i.getMonth()+1):""+(i.getMonth()+1);e=i.getFullYear()+"_"+t+"_W"+s}else if("month"==e){t=(i=new Date).getMonth()<9?"0"+(i.getMonth()+1):""+(i.getMonth()+1);e=i.getFullYear()+"_"+t}else if(e.indexOf("hour")>-1){i=new Date
;var l=e.wq_replaceAll("hour","").wq_trim(),u=parseInt(l,10);i.setHours(i.getHours()+u);t=i.getMonth()<9?"0"+(i.getMonth()+1):""+(i.getMonth()+1),r=i.getDate()<=9?"0"+i.getDate():""+i.getDate();var c=i.getHours()<=9?"0"+i.getHours():""+i.getHours();e=i.getFullYear()+"_"+t+"_"+r+"_"+c}}catch(e){a.printStackTrace(e,"bootloader.generatePostfix")}return e},a.loadLanguagePack=async function(e){try{var t,r,i,n=a.getBrowserLanguage();i=WebSquare.core.getConfiguration("/WebSquare/language/@defaultValue")||"en";var o=WebSquare.core.getConfiguration("/WebSquare/language/@path")||"";if("string"==typeof(n=e||WebSquare.cookie.getCookie("system_language")||n||WebSquare.core.getConfiguration("language")||i)&&(n=n.toLowerCase()),o)r=o+"/"+n+".js";else{if("ko"==n)r="message/ko.js";else if("cn"==n||"zh"==n)r="message/cn.js";else if("ja"==n||"jp"==n)r="message/ja.js";else{var s=WebSquare.clientLang;r=""==s?"message/en.js":"message/"+s+".js"}r=a.inquiresPath(r)}if(a._isCache(r))return;t=a._getloadPath(r),t=a.getEngineUri(t);try{await a.writeAsync(t,"UTF-8")}catch(t){null==e&&await a.loadLanguagePack(i)}}catch(e){a.printStackTrace(e,"bootloader.generatePostfix")}},a.getBrowserLanguage=function(){try{var e=navigator.language||navigator.browserLanguage;return e.indexOf("-")>-1&&(e=e.substring(0,e.indexOf("-"))),e}catch(e){a.printLog("bootloader.getLanguage failure.")}},a.loadEngineModuleAsync=async function(e){for(var t=WebSquare.core.getChildConfiguration("/WebSquare/engine",{singleMode:!0}),r=[],i=0,n=t.length;i<n;i++){var o=t[i],s=o["@src"],l=!0===o["@async"]||"string"==typeof o["@async"]&&"true"===o["@async"].toLowerCase();if(s&&(void 0!==WebSquare.moduleList[s]&&null!==WebSquare.moduleList[s]||(WebSquare.moduleList[s]=1),!(e&&WebSquare.moduleList[s]>1&&"false"!=o.cache))){"false"==WebSquare.core.getConfiguration("/WebSquare/spa/scriptCache/@value").toLowerCase()&&"true"!=o.cache||WebSquare.moduleList[s]++,"false"==o.cache&&(WebSquare.moduleList[s]=0),1==WebSquare.hybridApp&&"/"==s.charAt(0)&&""!=WebSquare.w2xDocumentRoot&&(s=WebSquare.w2xDocumentRoot+s),s=WebSquare.core._getWpackUrl(s,o["@wpack"]),s=WebSquare.core._getContextRootUri(s),s=0==WebSquare.WebSquareCache?a.getRandomPostfix(s):a.getResourceCachePostfix(s);var u=a.writeAsync(s,o.charset);!0===l?r.push(u):await u.catch((function(e){a.printLog("[ERROR] Module load fail :"+e)}))}}r.length>0&&await Promise.allSettled(r).catch((function(e){a.printLog("[ERROR] Module load fail :"+e)}))},a.loadUdcRequires=async function(){for(var e=WebSquare.core.getChildConfiguration("/WebSquare/udc/requires",{singleMode:!0}),t=[],r=0,i=e.length;r<i;r++){var n=e[r],o=WebSquare.core.getPageURL(n["@src"]),s=n["@type"],l=n["@as"];if("page"===s&&l){if(null==WebSquare.core.udcObj[l]){var u={msaName:n["@msaName"]},c=WebSquare.core.getPageURL(o,u);WebSquare.core.udcObj[l]=await WebSquare.jsLoader._loadObj(c,u),WebSquare.core.udcMsa[l]=u.msaName}}else t.push(WebSquare.util.loadUserComponent(o))}t.length>0&&await Promise.allSettled(t).catch((function(e){a.printLog("[ERROR] UDC load fail :"+e)}))},a.loadInheritRequires=async function(){for(var e=WebSquare.core.getChildConfiguration("/WebSquare/inherit/requires",{singleMode:!0}),t=WebSquare.core.getChildConfiguration("/WebSquare/exc/requires",{singleMode:!0}),r=[],i=0,n=(e=e.concat(t)).length;i<n;i++){var o=e[i];r.push(WebSquare.util.loadInheritComponent(o["@src"]))}r.length>0&&await Promise.allSettled(r).catch((function(e){a.printLog("[ERROR] Inherit load fail :"+e)}))},a.initJSONConfig=function(){for(var e=!1,t=a.configurationJSON.length-1;t>=0;t--){var r=a.configurationJSON[t];for(var i in r.WebSquare){var n=r.WebSquare[i];if("[object Array]"===Object.prototype.toString.call(n)&&(n=n[0]),"engineCache"==i)"true"==n["@enable"]&&(WebSquare.WebSquareEngineCache=!0,a.enginePostfix=a.generatePostfix(n["@postfix"])),"false"==n["@compression"]?a.compression=!1:"always"==n["@compression"]?a.compression="always":a.compression=!0,
"false"===n["@pluginCache"]?WebSquare.pluginCache="false":"all"===n["@pluginCache"]&&(WebSquare.pluginCache="all");else if("imageCache"==i&&"true"==n["@enable"])a.imageVersion=a.generatePostfix(n["@version"]),a.imageServlet=n["@serverUrl"],a.imageHostUrl=n["@hostUrl"],""==a.imageServlet&&(a.imageServlet=WebSquare.baseServletURI+"resource.wq?url="),a.imageHostUrl&&("http"==a.imageHostUrl.substring(0,4)&&(a.imageHostUrl=a.imageHostUrl.substring(7)),"/"==!a.imageHostUrl.substring(a.imageHostUrl.length-1,a.imageHostUrl.length)&&(a.imageHostUrl=a.imageHostUrl+"/"));else if("license"==i)n["@value"],a.useWebSquareLicense=!0;else if("xhr"==i)e=!0,a.browserCheck.ieAllVersion&&("false"==n["@useActiveXObject"]?a.useActiveXObject=!1:a.useActiveXObject=!0),"true"==n["@useResponseXML"]&&(a.useResponseXML=!0);else if("debug"==i)"true"==n["@console"]&&window.console&&(WebSquare.printConsole=!0),"true"==n["@remoteConsole"]&&(WebSquare.remoteConsole=!0),"true"==n["@errorConsole"]&&(WebSquare.errorConsole=!0),"true"==n["@fixErrorLineNumber"]&&(a.fixErrorLineNumber=!0),"true"==n["@weinre"]&&(WebSquare.useWeinre=!0,null!=n["@weinreUrl"]&&""!=n["@weinreUrl"]&&(WebSquare.weinreUrl=n["@weinreUrl"])),"true"==n["@skipLog"]&&(WebSquare.skipLog=!0,WebSquare.logger&&"function"==typeof WebSquare.logger._skipLog&&WebSquare.logger._skipLog(WebSquare.logger)),"true"==n["@printError"]&&(WebSquare.printError=!0);else if("environment"==i){if("nocache"==n["@cache"])WebSquare.WebSquareCache=!1;else for(var o in a.resourcePostfix=a.generatePostfix(n["@postfix"]),WebSquare.WebSquareCache=!0,a.resourcePostfixKey=[],a.resourcePostfixValue=[],n){var s=n[o];"[object Array]"===Object.prototype.toString.call(s)&&(s=s[0]),"postfix"==o&&(a.resourcePostfixKey.push(s["@key"]),a.resourcePostfixValue.push(a.generatePostfix(s["@value"])))}"development"==n["@mode"]&&(window._alert=function(e){alert(e)}),n["@buildID"]&&""==WebSquare.buildID&&(WebSquare.buildID=n["@buildID"])}else if("engineLoadingMode"==i){var l={ie:parseInt(n["@ie"],10),moz:parseInt(n["@moz"],10),opera:parseInt(n["@opera"],10),android:parseInt(n["@android"],10),iphone:parseInt(n["@iphone"],10),blackberry:parseInt(n["@blackberry"],10),chrome:parseInt(n["@chrome"],10),safari:parseInt(n["@safari"],10)};for(var o in l){var u=l[o];u>=0&&u<=3&&(a.engineLoadingMode[o]=u)}}else if("engineChunkNum"==i){var c=parseInt(n["@value"],10),d=n.incremental&&"true"===n.incremental["@value"];a.engineChunkNum=c||1,a.currentChunkNum=0,a.incrementalChunkImport=d}else if("userAgentPattern"==i)for(var o in n)o.length>1&&"@"==o.charAt(0)&&n[o]&&(WebSquare.userAgentPattern[o.substring(1)]=n[o]);else if("noConflict"==i)n["@value"]&&(WebSquare.noConflict=n["@value"]),n["@function"]&&(WebSquare.noConflictFunction=n["@function"]);else if("stylesheet"==i){if("link"==n["@import"]&&(WebSquare.styleSheetEarlyImport=1,"false"!=n["@enable"]&&(WebSquare.styleSheetEarlyImport=2,WebSquare.styleSheetEarlyImportName=n["@value"]||"stylesheet_ext.css")),n["@earlyImportList"])for(var o in WebSquare.styleSheetEarlyImportList=n["@earlyImportList"].split(","),WebSquare.styleSheetEarlyImportList)WebSquare.styleSheetEarlyImportList[o]=WebSquare.styleSheetEarlyImportList[o].wq_trim()}else"scriptLoading"==i?"false"==n["@merge"]&&(a.traceWframe=!0):"strictMode"==i?n["@value"]:"pageURLPrefix"===i?(WebSquare.pageURLPrefix=n["@value"]||"",WebSquare.pageURLPrefixType=n["@type"]||""):"performance"===i&&window.performance&&window.performance.constructor===window.Performance?WebSquare._performance.use=n["@value"]||!1:"requirejs"===i?n["@timeout"]>0&&(WebSquare.amdTimeout=parseInt(n["@timeout"],10)):"allowedOrigin"===i?WebSquare._allowedOrigin=n["@value"]||"*":"contextRoot"===i&&(WebSquare._contextRoot=n["@value"]||"")}}e||a.browserCheck.ieAllVersion},a.setBaseThemeURI=function(){WebSquare.w2xTheme=window.WebSquareExternal.w2xTheme||a.getParameter(location.search,"w2xTheme",""),
WebSquare.w2xTheme?a.setCookie("w2xTheme",WebSquare.w2xTheme):WebSquare.w2xTheme=a.getCookie("w2xTheme");var e=WebSquare.baseURI;if(a.configurationJSON[0].WebSquare.theme){WebSquare.w2xTheme=WebSquare.w2xTheme||a.configurationJSON[0].WebSquare.theme["@default"];var t=a.configurationJSON[0].WebSquare.theme.name||[];if("[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<t.length;r++)if(t[r]["@value"]===WebSquare.w2xTheme){e=t[r]["@path"];break}}else e=t["@path"]}0===e.indexOf("/")||e.match(/^http:\/\//)?WebSquare.baseThemeURI=e:WebSquare.baseThemeURI+=e},a.mergeJSON=function(e,t){try{for(var r in t){var i=t[r];if("object"!=typeof e[r])e[r]=i;else if(e[r].constructor==Array)if((WebSquare.core.getConfiguration("/WebSquare/useAppConfig/@value")||!1)&&"column"==r)for(var n=e[r],o=0;o<n.length;o++)n[o]["@inputType"]==t[r]["@inputType"]&&WebSquare.extendKeepingType(n[o],t[r]);else e[r].push(t[r]);else a.mergeJSON(e[r],i)}return e}catch(e){this.printStackTrace(e)}},a.getCookie=function(e){try{for(var t=WebSquare.document.cookie.split("; "),r=0;r<t.length;r++){var i=t[r].split("=");if(e==i[0])return 1==i.length?"":unescape(i[1])}}catch(e){this.printStackTrace(e)}return null},a.setCookie=function(e,t){WebSquare.document.cookie=e+"="+escape(t)+";path=/"},a._afterEngineLoad=async function(e){try{try{await a.loadEngineModuleAsync()}catch(t){a.printStackTrace(t,"bootloader._afterEngineLoad"+e)}await a.loadUdcRequires(),await a.loadInheritRequires(),WebSquare._loadCSS()}catch(e){this.printStackTrace(e)}return null},a.loadAsync=async function(e){return new Promise((function(t,r){var i=a.getXMLHTTPObject();i.open("GET",e,!0);var n=function(e){4===i.readyState&&(i.status>="400"||0===i.status?r(i.statusText):t(i.responseText),i=null)};a.useActiveXObject?i.onreadystatechange=n:(i.onload=n,i.onerror=function(e){r(i.statusText),i=null}),i.send(null)}))},a._initSuffix=async function(){var e="suffix.txt",t="true";if(window.WebSquareExternal&&window.WebSquareExternal.suffixName&&(e=window.WebSquareExternal.suffixName),window.WebSquareExternal&&void 0!==window.WebSquareExternal.suffixEnable&&"false"!=(t=window.WebSquareExternal.suffixEnable+"")&&(t="true"),"true"==t)return new Promise((function(t,r){var i;try{i=WebSquare.BootLoader.getXMLHTTPObject();var a=WebSquare.baseURI+e+"?postfix="+(new Date).getTime()+WebSquare.safeRandom();i.open("GET",a,!0),i.setRequestHeader("Cache-Control","no-cache"),i.onreadystatechange=function(){4==i.readyState&&(WebSquare.suffix=i.responseText.wq_trim(),t())},i.send()}catch(e){r()}}))},a._initImport=async function(){try{if(!0===a._binitImport)return;a._binitImport=!0,a.PluginCache={},a.stopCheckOpener=!1,a.stopCheckParentFrame=!1,a._XMLHTTP_PROGIDS=["Microsoft.XMLHTTP"],a._MSMXL_PROGIDS=["Microsoft.XMLDOM"],a.useActiveXObject=!1,a.useResponseXML=!1,a.useWebSquareXMLParser=!1,a.useWebSquareXPathParser=!1,a.configurationJSON=[],a.fixErrorLineNumber=!1,a.traceWframe=!1,a.globalEvalArr=[],a.performanceCheck={},void 0!==WebSquare.externalOption.startDate?a.performanceCheck.start=WebSquare.externalOption.startDate:a.performanceCheck.start=new Date,a.performanceCheck.mid1=a.performanceCheck.start,a.performanceCheck.mid2=a.performanceCheck.start,a.performanceCheck.mid3=a.performanceCheck.start,a.performanceCheck.mid4=a.performanceCheck.start,a.performanceCheck.mid5=a.performanceCheck.start,a.performanceCheck.mid6=a.performanceCheck.start,a.performanceCheck.mid7=a.performanceCheck.start,a.performanceCheck.mid8=a.performanceCheck.start,a.performanceCheck.mid9=a.performanceCheck.start,a.performanceCheck.end=a.performanceCheck.start,WebSquare.renderStartTime=a.performanceCheck.mid1,a.ifModifiedSince="Tue, 24 Jan 2006 01:13:57 GMT";window.WebSquareExternal.skipLog&&(WebSquare.skipLog=window.WebSquareExternal.skipLog),WebSquare.logEnableFlag=!0,window.WebSquareExternal.disableLog&&(WebSquare.logEnableFlag=!window.WebSquareExternal.disableLog),"file"===location.protocol&&(a.useWebSquareLicense=!1)}catch(e){
a.printStackTrace(e,"Initialize baseURI")}var e=window.WebSquareExternal.useNativeParser&&a.browserCheck.ieAllVersion&&a.browserVersion()>=9;if(a.browserCheck.ieAllVersion&&!e){try{"object"==typeof window.external&&void 0!==window.external.msActiveXFilteringEnabled&&"unknown"!=typeof window.external.msActiveXFilteringEnabled&&1==window.external.msActiveXFilteringEnabled()&&(WebSquare.msActiveXFilteringEnabled=!0)}catch(e){a.printStackTrace(e,"bootloader._initImport")}try{WebSquare.msActiveXFilteringEnabled,a.useActiveXObject=!1}catch(e){a.useActiveXObject=!1}}if(WebSquare._initImportFunction(),a.importCache={},a.imageServlet=null,a.imageHostUrl=null,a.compression=!0,a.browserCheck.ie)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){a.printStackTrace(e,"bootloader._initImport")}try{var t="./",r=!1;try{new Function("u","return import(u)"),r=!0}catch(e){r=!1}t=!r||window.WebSquareExternal&&"dev"===window.WebSquareExternal._mode?WebSquare.baseURI:"../",t+="config.js";var i=WebSquare.baseURI+"config.js";if("string"==typeof WebSquare.configPath&&WebSquare.configPath.length>0&&(i=t=WebSquare.configPath),await a._initSuffix(),window.WebSquareExternal&&!0===window.WebSquareExternal.useConfigPostfix){var n=a.generateSuffixPostfix("config.xml");n||(n=String((new Date).getTime()));var o=t.indexOf("?")>-1?"&":"?";t+=o+"postfix="+n}var s=(await WebSquare._dynamicImport(t,{altModulePath:i})).default;if(null==s.WebSquare){var l={WebSquare:{}};for(var u in s)l.WebSquare[u]=s[u];s=l}for(var c in window.WebSquareExternal.configOverride)s.WebSquare[c]=window.WebSquareExternal.configOverride[c];a.configurationJSON.unshift(s),a.initJSONConfig();try{a.setBaseThemeURI()}catch(e){a.printStackTrace(e,"Cannot read config.xml in theme")}1==WebSquare.hybridApp&&"file:"==location.protocol&&""==WebSquare.baseServletURI&&("string"==typeof WebSquare.hybridSubmissionURL&&""!=WebSquare.hybridSubmissionURL?WebSquare.baseServletURI=WebSquare.hybridSubmissionURL:WebSquare.baseServletURI=a.configurationJSON[0].WebSquare.hybrid.submissionURL["#text"]||"",WebSquare.baseServletURI.lastIndexOf("/")!=WebSquare.baseServletURI.length-1&&(WebSquare.baseServletURI=WebSquare.baseServletURI+"/"))}catch(e){a.printStackTrace(e,"Cannot read config.xml")}a.useActiveXObject=!1;var d=location.host.replace(/\./g,"|");WebSquare.isLocal=d.indexOf("127|0|0|1")>-1||location.host.indexOf("localhost")>-1,WebSquare.useWeinre&&(a.browserCheck.android||a.browserCheck.iphone||a.browserCheck.ipad||a.browserCheck.ipod||a.browserCheck.blackberry)&&function(){window.document;var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src=WebSquare.weinreUrl,e.appendChild(t)}(),WebSquare.remoteLogMsgArray.push(""),WebSquare.remoteLogMsgArray.push(location.href),a.printLog("WebSquare AI v6.0"),a.printLog("WebSquare AI Engine v6.0.0"),a.printLog(WebSquare.ver),a.printLog("    Copyright 2009  INSWAVE Systems Co., Ltd. All Rights Reserved."),a.printLog("Browser Information : "+navigator.userAgent),a.printLog("[STEP1][START] Loading Runtime Engine."),WebSquare._performance.mark("step1");var p="Time elapsed from initiating a browser URL call until the 'BootLoader' finishes loading. 'BootLoader' is essential for the initial startup of the WebSquare engine.";if(WebSquare._performance.measure("step1",0,{log:p}),a.useWebSquareXMLParser=new RegExp(WebSquare.userAgentPattern.XMLParser).test(navigator.userAgent),a.useWebSquareXPathParser=WebSquare.userAgentPattern.XPathParser&&new RegExp(WebSquare.userAgentPattern.XPathParser).test(navigator.userAgent),a.useWebSquareXMLParser)a.printLog("Install JavaScript Implementation for XML & XPath. User Agent Pattern : "+WebSquare.userAgentPattern.XMLParser),await a.writeAsync(WebSquare._resourceURI+"externalJS/xmlparser/xmlsax.js"),await a.writeAsync(WebSquare._resourceURI+"externalJS/xmlparser/xmlw3cdom.js"),await a.writeAsync(WebSquare._resourceURI+"externalJS/xpath/xpath.js"),
installXPath(new XPathParser);else if(a.useWebSquareXPathParser)try{a.printLog("Install XPath Implementation for not support xPath Parser."),await a.writeAsync(WebSquare._resourceURI+"externalJS/xpath/xpath.js"),installXPath(new XPathParser)}catch(e){a.printStackTrace(e,"xpath")}else if(a.browserCheck.ieAllVersion&&!a.useActiveXObject);else if(a.browserCheck.android)try{"undefined"==typeof XMLDocument||void 0===XMLDocument.prototype.createNSResolver||void 0===XMLDocument.prototype.evaluate?(a.printLog("Install XPath Implementation for Google Android."),await a.importAsync("externalJS/xpath/xpath.js"),installXPath(new XPathParser)):a.printLog("Already have a XPath Implementation.")}catch(e){a.printStackTrace(e,"xpath")}"undefined"!=typeof importAllList&&null!=importAllList?WebSquare.pluginList=importAllList:(WebSquare.pluginList=[],a.useWebSquareLicense),WebSquare.core._createGlobalVariable(),"true"!=WebSquare.core.getConfiguration("/WebSquare/localStorage/@defer")&&WebSquare.createLocalStorage(window),a.loadLanguagePack(),await WebSquare._initModule(),WebSquare.core._loadMsaServer(),WebSquare.core._loadMsaStylesheet();try{document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?WebSquare.graphicPlatformType="svg":WebSquare.graphicPlatformType="vml","vml"===WebSquare.graphicPlatformType&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),WebSquare.defaultStyle=document.createStyleSheet(),WebSquare.defaultStyle.addRule("v\\:group","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:line","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:stroke","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:oval","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:rect","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:image","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:shape","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:path","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:fill","behavior: url(#default#VML);"),WebSquare.defaultStyle.addRule("v\\:extrusion","behavior: url(#default#VML);"))}catch(e){a.printStackTrace(e,"VML Namespace")}"true"==WebSquare.core.getConfiguration("debug")&&(WebSquare.logger.debug=!0),WebSquare.logger.debugKey=WebSquare.core.getConfiguration("debugKey"),"system"!=WebSquare.core.getConfiguration("exceptionHandler")&&!0!==WebSquare.skipLog&&WebSquare.core.browserCheck.ie,"true"==WebSquare.core.getConfiguration("/WebSquare/checkUpdate/@enable")&&(WebSquare.util.checkInterval=WebSquare.util.parseInt(WebSquare.core.getConfiguration("/WebSquare/checkUpdate/@interval"),3e4),WebSquare.util.checkMode=WebSquare.core.getConfiguration("/WebSquare/checkUpdate/@mode"),WebSquare.util.checkURL=WebSquare.core.getConfiguration("/WebSquare/checkUpdate/@serverUrl"),""!=WebSquare.util.checkMode&&""!=WebSquare.util.checkURL||(WebSquare.util.checkMode="client"),window.setTimeout("WebSquare.util.checkUpdate()",WebSquare.util.checkInterval)),WebSquare.requestID="";var h=WebSquare.core.getConfiguration("/WebSquare/submission/requestID/@value");if(""!=h&&(WebSquare.requestID=h+"="),WebSquare.core.useSubmissionGlobal=WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/submission/makeGlobalObject/@value")),WebSquare.core.useWorkflowGlobal=WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/workflow/makeGlobalObject/@value")),WebSquare.core.scriptPrecedence=!0,window.useWebSquareLicense=a.useWebSquareLicense,await a._afterEngineLoad(),0!=a.engineLoadingMode.mode||"undefined"!=typeof WebSquareAllInOne){"WebSquare"!=document.title&&"NEW RENDERING"!=document.title||(document.title="WebSquare"),a.performanceCheck.mid1=new Date,
a.printLog("[STEP2][ENGINE] Runtime Engine Load complete. Time:"+(a.performanceCheck.mid1.getTime()-a.performanceCheck.start.getTime())+"ms"),WebSquare._performance.mark("step2");p=WebSquare.language.getMessage("Performance_step2");WebSquare._performance.measure("step2","step1",WebSquare.core._makeDetail(p))}"default"===WebSquare.pluginCache&&window.applicationCache&&window.applicationCache.addEventListener("updateready",(function(){a.printLog("[ApplicationCache] ApplicationCache updateready"),window.applicationCache.swapCache()}),!1)}},8683:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(582),a=r(2710),n=r(2536),o=r(2327),s=function(e,t,r){try{this.parentControl=null,this.childControlList=[]}catch(e){a.Y.printStackTrace(e)}};s.prototype.initialize=function(){},s.prototype.addControl=function(e,t,r,n){try{if(!e)return;var o=this.uuid;if(!0===e._wqAsync){this.childControlListAsync||(this.childControlListAsync=[]);r=this.childControlList.length+this.childControlListAsync.length;return this.childControlListAsync.push(r),e.then((function(e,i){WebSquare.idCache[o].addControl(e,t,r)}))}var s=this;do{if(e==s)return void $l("cannot execute : "+this.id+".addControl("+e.id+");");s=s.parentControl}while(s);if(e.parentControl&&e.parentControl.removeControl(e),"number"==typeof r){if(this.childControlListAsync&&this.childControlListAsync.length>0){var l=[];this.childControlListAsync.sort((function(e,t){return e-t}));for(var u=0;u<this.childControlListAsync.length;u++){for(var c=this.childControlListAsync[u],d=l.length;d<c;d++)l.push(this.childControlList.shift());l.push(c)}this.childControlList=l.concat(this.childControlList),this.childControlListAsync=[]}this.childControlList[r]=e}else n&&"number"==typeof n.index?this.childControlList.splice(n.index,0,e):this.childControlList.push(e);this.render&&(e.domStatus="new"),e.parentControl=this,t&&this.refreshDom();try{if(!i.q.strictModeFrame&&null!=this.parentFrame&&i.q.idCache[this.parentFrame])e.parentFrame=this.parentFrame,WebSquare.idCache[e.parentFrame].childAllControlList.push(e.uuid);else if(null!=e.parentFrame&&WebSquare.idCache[e.parentFrame]){WebSquare.idCache[e.parentFrame].childAllControlList.push(e.uuid)}}catch(e){a.Y.printStackTrace(e,null,this),a.Y.printError("parentFrame is not wframe")}}catch(e){a.Y.printStackTrace(e)}},s.prototype.removeControl=function(e){try{for(var t in this.childControlList)this.childControlList[t]==e&&this.childControlList.splice(t,1);e.parentControl=null}catch(e){a.Y.printStackTrace(e)}},s.prototype.getParent=function(){try{return this.parentControl}catch(e){a.Y.printStackTrace(e)}},s.prototype.getChild=function(e){try{for(var t=0;t<this.childControlList.length;t++){var r=this.childControlList[t];if(r&&r.id==e)return r}return null}catch(e){a.Y.printStackTrace(e)}},s.prototype.getChildren=function(){try{return this.childControlList}catch(e){a.Y.printStackTrace(e)}},s.prototype.getAllChildren=function(e){try{for(var t=e||{},r=this.getChildren().slice(0),n=[],o=(t.excludePlugin||"").split(" "),s=(t.excludeId||"").split(" "),l=(0!==o.length||0!==s.length)&&t.excludeContainerInnerComp,u=["wframe","tabControl","widgetContainer","windowContainer","pageFrame"],c=o.filter((function(e){return-1!==u.indexOf(e)})),d=r.pop();null!=d;d=r.pop())if(!(l&&c.length>0&&c.indexOf(d.options.pluginName)>-1||l&&s.length>0&&s.indexOf(d.id)>-1&&u.indexOf(d.options.pluginName)>-1)){null!=i.q.idCache[d.uuid]&&d.options&&(d.options.pluginName||d.options.inheritedCompName)&&n.unshift(d);var p=[];if(!0===t.excludeInnerComp)for(var h=d.getChildren().slice(0),f=h.pop();null!=f;f=h.pop()){var g="",m="";if(f._wTagName&&"column"!==f._wTagName&&!f.headerId&&(g=f._wTagName,m=f.uuid),i.q.componentsCache[g]&&!0===i.q.componentsCache[g][m])f.options&&("searchbox"===f.options.pluginName||"spinner"===f.options.pluginName)&&!0===f._childFlag||p.unshift(f)}else p=d.getChildren();r=r.concat(p)}return n}catch(e){a.Y.printStackTrace(e)}},s.prototype.getChildrenCount=function(){try{return this.childControlList.length
}catch(e){a.Y.printStackTrace(e)}},s.prototype.clearChildren=function(){try{this.childControlList=[]}catch(e){a.Y.printStackTrace(e)}},s.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id)},s.prototype.activate=function(){alert("you should override 'activate' for "+this.id)},s.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id)},s.prototype.serialize=function(){return alert("you should override 'serialize for "+this.id),{}},s.prototype.restore=function(e){return alert("you should override 'restore for "+this.id),!1},s.prototype.destroy=function(e){try{if("function"==typeof this.finalize&&"finalize"!==this.activeStatus)try{this.finalize()}catch(e){o.v.printLog("[ERROR] finalize : "+this.id)}if("function"==typeof this.unbind&&this.unbind(),this.render&&"IFRAME"==this.render.nodeName){var t=this.getWindow();try{this.render.getAttribute("src")&&this.render.setAttribute("src",""),t.WebSquare&&t.WebSquare.getBody&&t.WebSquare.getBody().remove()}catch(e){o.v.printLog("WebSquare.control.destroy : skip remove iframe : "+this.id)}}if(this.modelControl&&(this.modelControl.unbindRef(),this.modelControl.unbindItemset()),this.childControlList)for(var r=this.childControlList.length-1;r>=0;r--){for(var s in window[i.q.noConflict].comp[this.childControlList[r].id]=null,delete window[i.q.noConflict].comp[this.childControlList[r].id],i.q.idCache[this.childControlList[r].uuid]=null,delete i.q.idCache[this.childControlList[r].uuid],this.childControlList[r].destroy(e),this.childControlList[r])this.childControlList[r][s]=null,delete this.childControlList[r][s];delete this.childControlList[r]}if(this.childControlList=[],this.scope_obj&&this.scope_obj.scope&&this.scope_obj.scope[this.org_id]&&delete this.scope_obj.scope[this.org_id],this.parentControl=null,window[i.q.noConflict].comp[this.id]=null,delete window[i.q.noConflict].comp[this.id],i.q.idToUUID[this.id]=null,delete i.q.idToUUID[this.id],i.q.idCache[this.uuid]=null,delete i.q.idCache[this.uuid],window[this.id])try{delete window[this.id]}catch(e){window[this.id]=null}if(this.options){var l={secret:"input",selectbox:"select1",radio:"select1",multiselect:"select",checkbox:"select",checkcombobox:"select",switch:"Switch"}[this.options.pluginName]||this.options.pluginName;delete(i.q.componentsCache[l]||i.q.componentsCache[this._wTagName]||{})[this.uuid],n.I.memoryLeakComponent[l]&&(n.I.memoryLeakComponentCount+=n.I.memoryLeakComponent[l])}this.event&&(this.render&&this.event.clearElement(this.render),this.event.clearCache());var u=i.q.getBody();u&&"function"==typeof u.getLayerListener&&u.getLayerListener().remove(this.id),null==this.render||e||(i.q.removeNode(this.render),this.render=null),n.I._removeObject(this)}catch(e){a.Y.printStackTrace(e,null,this)}}},4885:(e,t,r)=>{r.d(t,{o:()=>c});var i=r(582),a=r(2710),n=r(2536),o=r(1263),s=r(4350),l=r(813),u=r(5228),c=function(){this.createControlHash={script:"pass",label:"pass",value:"pass",choices:"pass",item:"pass",itemset:"pass",tab:"pass",tabs:"pass",mainMenu:"pass",childMenu:"pass",node:"pass",attributes:"pass",switch:"Switch",case:"group",contents:"group",content:"group",autoFinder:"autoComplete",panelContent:"group"},this._asyncList=[],this._awaitObj={key:[],promiseObj:{}}};c.prototype._initImport=function(){"true"==(n.I.getConfiguration("/WebSquare/parseHtml/@script")||"false")&&(this.createControlHash.script="script")},i.q._initImportList.push("controlFactory"),c.prototype.create=function(e,t,r,i,o,s){try{return"xml"===(r?r instanceof u.S?r._elementType:n.I.isXML(r)?"xml":"json":"xml")?this.createByXML(e,t,r,i,o,s):this.createByJSON(e,t,r,i,o,s)}catch(e){a.Y.printStackTrace(e)}},c.prototype.createByXML=function(e,t,r,i,n,o){try{if("self"==i)i=s=this.createControl(e,t,r,null,o,n);else var s=this.createControl(e,t,r,i,o,n);if(s){if(s.parentFrame=n,
s.options&&s.options.parseChild)for(var l=r.firstChild;null!=l;l=l.nextSibling)if(!s.options.inheritedCompName&&!s.options.udcName||"w2:inheritOverride"!=l.nodeName&&"link"!=l.nodeName&&"style"!=l.nodeName){var u=this.createByXML(null,null,l,i,n,o);u&&s.addControl(u)}s.options&&null!=s.options.parseChild_bak&&(s.options.parseChild=s.options.parseChild_bak)}return s}catch(e){a.Y.printStackTrace(e)}},c.prototype.createByJSON=function(e,t,r,i,n,o){try{r instanceof u.S&&r._element&&(r=r._element);var s,c=[r],d=[];for(t||(t={_idCollisionCheck:!0,_skipExtend:!0});c.length>0;){var p,h=c.pop();if(!t.pluginName)(p=h.N?l.r.dropNS(h.N):h.T)&&(t.pluginName=p);var f="w2"==(l.r.getNS(h.N)||"")||o;if("self"==i)i=m=this.createControl(e,t,h,null,f,n),t.inheritedCompName&&WebSquare.strictModeFrame&&n&&(i=WebSquare.idCache[n]);else var g=e||t.id,m=this.createControl(g,t,h,i,f,n);e=null,t={_idCollisionCheck:!0,_skipExtend:!0},o=!1;var b=d.pop();if(m){if(s||(s=m),m.parentFrame=n,b&&b.addControl(m),m.options&&m.options.parseChild)for(var y=l.r.getChildNodes(h),S=y.length-1;S>=0;S--){var v=y[S];(!m.options.inheritedCompName&&!m.options.udcName||"w2:inheritOverride"!=v.N&&"link"!=v.N&&"style"!=v.N)&&(v.T!=u.S.type.element&&v.T!=u.S.type.text||"pass"===this.createControlHash[v.N]||(c.push(v),d.push(m)))}m.options&&null!=m.options.parseChild_bak&&(m.options.parseChild=m.options.parseChild_bak)}}return s}catch(e){a.Y.printStackTrace(e)}},c.prototype.createControl=function(e,t,r,s,l,c){try{if(!r||r instanceof u.S||(r=new u.S(r)),!l&&!r)return null;var d=null;null!=t?t._idCollisionCheck=!0:t={_idCollisionCheck:!0,_skipExtend:!0};var p=null!=s&&null!=i.q.idCache[s.uuid];if(p&&(t._scope_obj_uuid=s.uuid),null==r&&l||1==r.nodeType){var h,f;if(h=!0!==t.strictFrame||e?e||(r?r.getAttribute("id"):""):"",isNaN(h)||(h=""),!h&&p&&(h=i.q.UUIDPrefix+"_"+i.q.UUID),h){var g=s?s.id:"";e=(g?g+"_":"")+h}else e=h;if(p&&(t._scope_obj_org_id=h,t._scope_obj_runtime_id=e),f=t&&t.pluginName&&!t.udcName?t.pluginName:u.S.api.getLocalName(r),null!=n.I.udcObj[f]){d=new WebSquare.uiplugin.udc({id:e,org_id:h,tagName:f,data:null!=r?WebSquare.Parser.parseAttribute(r):{},scope_uuid:t._scope_obj_uuid,parentFrame:c,msaName:n.I.udcMsa[f]});return this._asyncList.push(d.uuid),d}if(!l&&"w2"!==r.getNamespace()&&"xf"!==r.getNamespace()||"tag"==f||"style"==f)"body"==f?d=new WebSquare.uiplugin.body(e,null,r):"pass"!=this.createControlHash[f]&&(d=new WebSquare.tag(e,null,r));else{var m=this.createControlHash[f]||f;switch(m){case"pass":return null;case"secret":m="uiplugin.input",null==r&&l?(t.type="password",t.pluginName="secret"):(r.setAttribute("type","password"),r.setAttribute("pluginName","secret"));break;case"select1":"full"==(b=r.getAttribute("appearance"))?(m="uiplugin.radio",t.pluginName="radio"):(m="uiplugin.selectbox",t.pluginName="selectbox");break;case"select":var b;"full"==(b=r.getAttribute("appearance"))?(m="uiplugin.checkbox",t.pluginName="checkbox"):"checkcombobox"==b?(m="uiplugin.checkcombobox",t.pluginName="checkcombobox"):(m="uiplugin.multiselect",t.pluginName="multiselect");break;case"Switch":m="uiplugin."+m,t.pluginName="Switch";break;default:m="uiplugin."+m}try{var y=o.Z.loadedUserComponentPluginName[m.slice(9)],S=o.Z.loadedInheritComponentPluginName[m.slice(9)],v=y||S;if(v){var w=y?"User":"Inherit",C=o.Z["loaded"+w+"Component"][v],q=u.S.api.getAttribute(C,"class"),W=[];if(null!=r&&(null==t&&(t={}),i.q.extendKeepingType(t,WebSquare.WebSquareparser.parseAttribute(r)),t._skipExtend=!1,W=r.getChildNodes()),q&&t.className?t.className=q+" "+t.className:q&&!t.className&&(t.className=q),W.length>0){C=new u.S(C).cloneNode(!0);for(var _=0;_<W.length;_++)C.appendChild(W[_]._element);C=C._element}t.pluginName=null,"User"===w?t.udcName=m.slice(9):"Inherit"===w&&(t.inheritedCompName=m.slice(9)),t.firstTabID=u.S.api.getAttribute(C,"firstTabID")||null,e||(e=i.q.UUIDPrefix+"_"+i.q.UUID++),(d=this.create(e,t,C,"self",c,l)).options.parseChild_bak=d.options.parseChild,d.options.parseChild=!1,
t.style||(d.options.style=""),s=d,d.makeScope(d),c&&null!=WebSquare.idCache[c]&&WebSquare.idCache[c]._addScopeVariable(d.uuid),d.getUdcHome=function(){return y.slice(0,y.lastIndexOf("#"))},d.getPluginName=function(){return t.udcName}}else{var x=m.split("."),I=o.Z.isMobile(),T=x[0],k=x[1];if(r){if("selectbox"==k){var L=r.getAttribute("renderType"),A=r.getAttribute("tableRender"),E=r.getAttribute("mobileRenderType");I&&E?L=E:L||(L=n.I.getConfiguration("/WebSquare/selectbox/renderType/@"+(I?"mobile":"value"))||"auto"),("ul"!==A||"auto"==L&&I)&&("native"==L||"select"==L||"auto"==L&&I)&&(t.renderType=L,k+="_native")}else if("treeview"==k){(L=r.getAttribute("renderType"))||(L=n.I.getConfiguration("/WebSquare/treeview/renderType/@"+(I?"mobile":"value"))||"auto"),"virtual"==L&&(t.renderType=L,k+="_virtual")}}else l&&("selectbox"!=k||"native"!==t.renderType&&"select"!=t.renderType||(k+="_native"));if(null==WebSquare[T][k]){var D=this._awaitObj.promiseObj[m];D||(D=i.q._loadModuleDynamic(m));var M=function(e,t,r,i,a,n,o,s,l){return function(u,c){var d=l._createComponent({id:e,element:t,engineType:r,componentName:i,options:a});if(l._createComponentAfter(d,{org_id:n,scopeObj:o,parentFrame:s}),d.options&&d.options.parseChild)for(var p=d.element.getChildNodes(),h=0;h<p.length;h++){var f=l.create(null,null,p[h],o,s);d.addControl(f)}var g=l.initAsync(!0),m=d.uuid;return g.then((function(e,t){return WebSquare.idCache[m]}))}}(e,r,T,k,t,h,s,c,this);(d=D.then(M).then((function(e,t){return e})))._wqAsync=!0,this._awaitObj.promiseObj[m]=d,this._awaitObj.key.push(m),i.q.UUID++}else d=this._createComponent({id:e,element:r,engineType:T,componentName:k,options:t})}}catch(e){return a.Y.printStackTrace(e),null}}}else 3==r.nodeType?(r.T||r.getNodeValue()&&""!=r.getNodeValue().wq_trim())&&(d=new WebSquare.tag(e,null,r)):d=null;return d&&!0!==d._wqAsync&&this._createComponentAfter(d,{org_id:h,scopeObj:s,parentFrame:c}),d}catch(t){a.Y.printStackTrace(t,"id ["+e+"] compName["+m+"]")}},c.prototype._createComponent=function(e){try{var t,r=e.id,n=e.element,o=e.engineType,u=e.componentName,c=e.options;if(c&&c.inheritedCompName){if(!WebSquare[o][c.inheritedCompName]){var d;if(WebSquare[o][c.inheritedCompName]=function(e,t,r){WebSquare[o][u].call(this,e,t,r)},i.q.extend(WebSquare[o][c.inheritedCompName].prototype,WebSquare[o][u].prototype),n)for(var p=n.firstChild;null!=p;p=p.nextSibling)if("w2:inheritOverride"==p.nodeName){d=p;break}if(d){var h=s._.getCDataNodeValue(d).wq_trim();if(""!=h){var f=h.split("="),g=WebSquare[o][c.inheritedCompName],m=new Function("var superComponent = WebSquare[engineType][compName].prototype; return "+f[1]);l.r.setJSONByPath(g,f[0],m())}}for(var b in WebSquare[o][c.inheritedCompName].prototype.overrideFunc)WebSquare[o][c.inheritedCompName].prototype[b]=WebSquare[o][c.inheritedCompName].prototype.overrideFunc[b]}(t=new WebSquare[o][c.inheritedCompName](r,c,n)).options.inheritFrom=u}else t=new WebSquare[o][u](r,c,n);return t}catch(e){a.Y.printStackTrace(e,"id ["+r+"] compName["+u+"]")}},c.prototype._createComponentAfter=function(e,t){try{if(!e||!t)return;var r=t.scopeObj,i=t.parentFrame,n=t.org_id;r&&(e.org_id=n,e.scope_obj=r,e.scope_id=r.id),"function"==typeof e.initAsync&&this._asyncList.push(e.uuid),i&&(e.parentFrame=i)}catch(e){a.Y.printStackTrace(e)}},c.prototype.createUDC2=function(e){try{return new WebSquare.uiplugin.udc(e)}catch(e){a.Y.printStackTrace(e)}},c.prototype.initAsync=async function(e){try{var t=this.doAsync();return!0!==e&&(t=t.then((function(){return c.awaitAsync()}))),t}catch(e){a.Y.printStackTrace(e)}},c.prototype.doAsync=async function(){try{for(var e=[];this._asyncList.length>0;){var t=this._asyncList.shift(),r=i.q.idCache[t];r&&"function"==typeof r.initAsync&&e.push(r.initAsync())}return 0===e.length?Promise.resolve():Promise.all(e).then((function(){return c.doAsync()}))}catch(e){a.Y.printStackTrace(e)}},c.prototype.awaitAsync=async function(){try{
for(var e=[],t=0;t<c._awaitObj.key.length;t++)e.push(c._awaitObj.promiseObj[c._awaitObj.key[t]]);return 0===e.length?Promise.resolve():(this._awaitObj={key:[],promiseObj:{}},Promise.all(e).then((function(){return c.awaitAsync()})))}catch(e){a.Y.printStackTrace(e)}},c=new c},4129:(e,t,r)=>{r.d(t,{A:()=>l});var i=r(582),a=r(2710),n=r(2536),o=r(1263),s=r(9107),l=function(){};l.prototype.setStyle=function(e,t){try{if(!this.render)return;WebSquare.style.setStyle(this.render,e,t)}catch(e){a.Y.printStackTrace(e)}},l.prototype.setStyleAsync=function(e,t){try{if(!this.render)return;this.__setStyleAsyncPeriod||(this.__setStyleAsyncPeriod=1),n.I.setTimer((function(){n.I.measureTime((function(e){this.__setStyleAsyncPeriod=parseInt(e.aver,10)}),{key:this.id+"_setStyleAsync",caller:this}),WebSquare.style.setStyle(this.render,e,t)}),{key:this.id+"_setStyleAsync",caller:this,delay:this.__setStyleAsyncPeriod,max:this.__setStyleAsyncPeriod})}catch(e){a.Y.printStackTrace(e)}},l.prototype.getStyle=function(e){try{return this.render?WebSquare.style.getStyle(this.render,e):null}catch(e){a.Y.printStackTrace(e)}},l.prototype.setPosition=function(e,t,r){try{if(!this.render)return;e=parseInt(e),t=parseInt(t),"absolute"==(r=r||"absolute")?(null==e||isNaN(e)||(this.render.style.left=e+"px"),null==t||isNaN(t)||(this.render.style.top=t+"px")):"delta"==r&&(null==e||isNaN(e)||(this.render.style.left=this.render.offsetLeft+e+"px"),null==t||isNaN(t)||(this.render.style.top=this.render.offsetTop+t+"px"))}catch(e){a.Y.printStackTrace(e)}},l.prototype.getPosition=function(e){try{if(!this.render)return;return"top"==(e=e.toLowerCase())?this.render.offsetTop:"left"==e?this.render.offsetLeft:void $l("getPosition : wrong positionName["+e+"]")}catch(e){a.Y.printStackTrace(e)}},l.prototype.getAbsolutePosition=function(e,t){try{var r=null==t?this.render:t;return"top"==e?WebSquare.style.getAbsoluteTop(r):"left"==e?WebSquare.style.getAbsoluteLeft(r):void $l("getPosition : wrong positionName["+e+"]")}catch(e){a.Y.printStackTrace(e)}},l.prototype.setSize=function(e,t){try{WebSquare.style.setSize(this.render,e,t)}catch(e){a.Y.printStackTrace(e)}},l.prototype.getSize=function(e){try{return WebSquare.style.getSize(this.render,e)}catch(e){a.Y.printStackTrace(e)}},l.prototype.show=function(e){try{WebSquare.style.show(this.render,e),o.Z.isIE()&&parseInt(n.I.browserVersion(),10)<10||this.refreshAdaptive(),this.checkResize_recursive(this)}catch(e){a.Y.printStackTrace(e)}},l.prototype.hide=function(){try{WebSquare.style.hide(this.render)}catch(e){a.Y.printStackTrace(e)}},l.prototype.refreshAdaptive=function(){try{if("group"==this.options.pluginName&&"table"==this.options.tagname&&("crosstab"==this.options.adaptive||"layout"==this.options.adaptive)){var e=parseInt(this.options.adaptiveThreshold)||480;o.Z._getBrowserWidth()<=e&&(this.removeAdaptive(),this.addAdaptive())}if(this.constructor===WebSquare.tag&&3!==this.element.nodeType){var t=this.element.getAttribute("adaptive");if("crosstab"==t||"layout"==t){e=parseInt(this.element.getAttribute("adaptiveThreshold"))||480;o.Z._getBrowserWidth()<=e&&(this.removeAdaptive(),this.addAdaptive())}}for(var r=0;r<this.childControlList.length;r++)this.childControlList[r].refreshAdaptive&&this.childControlList[r].refreshAdaptive()}catch(e){a.Y.printStackTrace(e)}},l.prototype.setOpacity=function(e){try{this.setStyle("opacity",e)}catch(e){a.Y.printStackTrace(e)}},l.prototype.getOpacity=function(){try{return this.getStyle("opacity")}catch(e){a.Y.printStackTrace(e)}},l.addClassRe=new RegExp("\\s\\s"),l.prototype.addClass=function(e){try{1===arguments.length?this.__addClass(this.render,arguments[0]):2===arguments.length&&this.__addClass(arguments[0],arguments[1])}catch(e){a.Y.printStackTrace(e)}},l.prototype.__addClass=function(e,t){try{if(!e||!t)return;var r=e.className;0==this.__hasClass(e,t)&&(r=(r+=" "+t).replace(l.addClassRe," ").wq_trim(),e.className=r)}catch(e){a.Y.printStackTrace(e)}},l.prototype.removeClass=function(e){try{
1===arguments.length?this.__removeClass(this.render,arguments[0]):2===arguments.length&&this.__removeClass(arguments[0],arguments[1])}catch(e){a.Y.printStackTrace(e)}},l.prototype.__removeClass=function(e,t){try{if(!e||!t)return;if(0==this.__hasClass(e,t))return;var r=n.I.getConfiguration("/WebSquare/style/removeDefaultClass/@value");if((""==r||"false"==r)&&1==this.__hasClass(this.options.className,t))return;var i=" "+e.className+" ";i=(i=i.replace(" "+t+" "," ")).replace(l.addClassRe," ").wq_trim(),e.className=i}catch(e){a.Y.printStackTrace(e)}},l.prototype.changeClass=function(e,t){try{2===arguments.length?this.__changeClass(this.render,arguments[0],arguments[1]):3===arguments.length&&this.__changeClass(arguments[0],arguments[1],arguments[2])}catch(e){a.Y.printStackTrace(e)}},l.prototype.__changeClass=function(e,t,r){try{this.removeClass(e,t),this.addClass(e,r)}catch(e){a.Y.printStackTrace(e)}},l.prototype.hasClass=function(e){try{return 1===arguments.length?this.__hasClass(this.render,arguments[0]):2===arguments.length&&this.__hasClass(arguments[0],arguments[1])}catch(e){a.Y.printStackTrace(e)}},l.prototype.__hasClass=function(e,t){try{return!!e&&(" "+("string"==typeof e?e||"":e.className)+" ").indexOf(" "+t+" ")>=0}catch(e){a.Y.printStackTrace(e)}},l.prototype.toggleClass=function(e){try{return 1===arguments.length?this.__toggleClass(this.render,arguments[0]):2===arguments.length&&this.__toggleClass(arguments[0],arguments[1])}catch(e){a.Y.printStackTrace(e)}},l.prototype.__toggleClass=function(e,t){try{this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)}catch(e){a.Y.printStackTrace(e)}},l.prototype.movable=function(e,t){try{if(!this.render)return;var r=this;if(!this.handleFinishMove){"w2drag_move","w2drag_move",t=i.q.extend({id:"w2drag_move",className:"w2drag_move",makeGhostLayer:function(e){return e.setSize(r.render.offsetWidth,r.render.offsetHeight),e},handleFinish:function(e,t,i,a){var n=parseInt(r.getStyle("left")),o=parseInt(r.getStyle("top"));r.setPosition(n+i,o+a)}},t||{}),this.handleFinishMove=function(e){s.f.stopEvent(e),WebSquare.dragdrop.gDragManager.activate(e,r.render,t)}}e?(this.event.addListener(this.render,"onmousedown",this.handleFinishMove),this.event.addListener(this.render,"ontouchstart",this.handleFinishMove)):(this.event.removeListener(this.render,"onmousedown",this.handleFinishMove),this.event.removeListener(this.render,"ontouchstart",this.handleFinishMove))}catch(e){a.Y.printStackTrace(e)}},l.prototype.resizable=function(e,t){try{if(!this.render)return;var r=this;this.handleFinishResize||(this.handleFinishResize=function(e){s.f.stopEvent(e),WebSquare.dragdrop.gDragManager.activate(e,r.render,{id:"w2drag_resize",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(e){return e.setSize(r.render.offsetWidth,r.render.offsetHeight),e},handleFinish:function(e,t,i,a){var n=parseInt(r.getStyle("width")),o=parseInt(r.getStyle("height"));r.setSize(n+i,o+a)}})}),e?this.event.addListener(this.render,"onmousedown",this.handleFinishResize):this.event.removeListener(this.render,"onmousedown",this.handleFinishResize)}catch(e){a.Y.printStackTrace(e)}},l.prototype.visible=function(e){try{if(!this.render)return;e=o.Z.getBoolean(e);this.render.style.visibility=e?"visible":"hidden"}catch(e){a.Y.printStackTrace(e)}},l.prototype.showBySize=function(){try{if(!this.render)return;this.setStyle("visibility","visible"),this.render.style.overflow="",this.render.style.width="",this.render.style.height=""}catch(e){a.Y.printStackTrace(e)}},l.prototype.hideBySize=function(){try{if(!this.render)return;this.setStyle("visibility","hidden"),this.render.style.overflow="hidden",this.render.style.width="0px",this.render.style.height="0px"}catch(e){a.Y.printStackTrace(e)}},l.prototype.getStyleValue=function(e){return this.getStyle(e)},l.prototype.getStyleIntValue=function(e){return parseInt(this.getStyle(e))},l.prototype.getStyleProperty=function(e){try{return this.getStyle(e)}catch(e){a.Y.printStackTrace(e)}},
l.prototype.getClass=function(){try{return this.options.className}catch(e){a.Y.printStackTrace(e)}},l.prototype.highlight=function(e){try{if(!this.render)return;this.render.style.border=e?"solid 1px blue":""}catch(e){a.Y.printStackTrace(e)}},l.prototype.getInitStyle=function(e){if(WebSquare.initStyle[this.id]){for(var t=/([\w-]*)\s*:\s*([^;]*)/g,r=[],i={};r=t.exec(WebSquare.initStyle[this.id].style);)i[r[1]]=r[2].wq_trim();return i.className=WebSquare.initStyle[this.id].className,i[e]?i[e]:i}},l.prototype.setInitStyle=function(e){if(WebSquare.initStyle[this.id]){for(var t,r=/([\w-]*)\s*:\s*([^;]*)/g,i={};t=r.exec(WebSquare.initStyle[this.id].style);)i[t[1]]=t[2].wq_trim();var a=i[e]?e:"";if(a){var n=a.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()})),o=i[a]?i[a]:i[a.toUpperCase()];document.getElementById(this.id).style[n]=o}else document.getElementById(this.id).style.cssText=WebSquare.initStyle[this.id].style;document.getElementById(this.id).className=WebSquare.initStyle[this.id].className}},l.prototype.enable=function(){},l.prototype.disable=function(){},l.prototype.hover=function(e,t){},l.prototype.checkResize_recursive=function(e){try{if("function"==typeof e.checkResize&&e.checkResize(),e.options&&"inputCalendar"==e.options.pluginName&&"function"==typeof e.setSetting&&e.setSetting(),e.childControlList)for(var t=0;t<e.childControlList.length;t++)this.checkResize_recursive(e.childControlList[t])}catch(e){a.Y.printStackTrace(e)}}},2430:(e,t,r)=>{r.d(t,{v:()=>a});var i=r(2710),a=function(){};a.prototype.setClassName=function(e){try{if(!e)return;var t="w2"+this.getPluginName()+" "+e;this.setClassByElement(t)}catch(e){i.Y.printStackTrace(e)}},a.prototype.addClassName=function(e){try{this.addClass(this.render,e)}catch(e){i.Y.printStackTrace(e)}},a.prototype.removeClassName=function(e){try{this.removeClass(this.render,e)}catch(e){i.Y.printStackTrace(e)}},a.prototype.getChildEl=function(e,t,r){try{if(this.getClassByElement(t)==e)return this.addClass(t,r),t;for(var a=0;a<t.children.length;a++)if(t.children[a].children.length>0)null!=t.children[a]&&this.getChildEl(e,t.children[a],r);else if(null!=t&&this.getClassByElement(t)==e)return t}catch(e){i.Y.printStackTrace(e)}},a.prototype.removeChildEl=function(e,t,r){try{if(this.getClassByElement(t)==e)return this.removeClass(t,r),t;for(var a=0;a<t.children.length;a++)if(t.children[a].children.length>0)null!=t.children[a]&&this.removeChildEl(e,t.children[a],r);else if(null!=t&&this.getClassByElement(t)==e)return t}catch(e){i.Y.printStackTrace(e)}},a.prototype.getClassByElement=function(e){try{return this.ssplit(e.className)||this.ssplit(e.getAttribute("class"))||""}catch(e){i.Y.printStackTrace(e)}},a.prototype.setClassByElement=function(e){try{if(!e)return;this.render.className=e}catch(e){i.Y.printStackTrace(e)}},a.prototype.ssplit=function(e){try{if(void 0===e||null==e)return e;var t=e.split(" ");return t.length>0?t[0]:e}catch(e){i.Y.printStackTrace(e)}}},8637:(e,t,r)=>{r.d(t,{i:()=>c});var i=r(582),a=r(8109),n=r(2710),o=r(2536),s=r(1263),l=r(2327),u=r(9107),c=function(){try{this.cache=null}catch(e){n.Y.printStackTrace(e)}};c.prototype.addListener=function(e,t,r,s){try{var l=document.addEventListener&&!a.Q.browserCheck.ie,u=!l&&document.attachEvent;if(!l&&!u)return;if(s=s||null,"onchange"==t.toLowerCase().wq_trim())return;var c=function(t){this.getAttribute&&"disabled"===this.getAttribute("disabled")||void 0!==this.disabled&&(this.disabled||"true"==this.getAttribute("disabled"))||r.call(e,t)},d=t;if(l&&"on"===t.slice(0,2)&&(d=t.slice(2)),l&&"onmousewheel"==t.toLowerCase()&&o.I.browserCheck.moz&&(d="DOMMouseScroll"),e===document.documentElement||e===document.body){i.q.eventCacheObj[e.tagName]||(i.q.eventCacheObj[e.tagName]={}),i.q.eventCacheObj[e.tagName][d]||(i.q.eventCacheObj[e.tagName][d]={evFunc:function(){},evFuncArr:[]});var p=i.q.eventCacheObj[e.tagName][d],h=p.evFuncArr;if(0===h.length){var f=function(t){
for(var r=i.q.eventCacheObj[t.currentTarget.tagName][t.type].evFuncArr,a=0;a<r.length;a++)this.getAttribute&&"disabled"===this.getAttribute("disabled")||void 0!==this.disabled&&(this.disabled||"true"==this.getAttribute("disabled"))||r[a].call(e,t)};p.evFunc=f,l?e.addEventListener(d,f,s):u&&e.attachEvent(d,f,s)}h.push(r),this.setCache(e,t,r,s)}else l?e.addEventListener(d,c,s):u&&e.attachEvent(d,c,s),this.setCache(e,t,c,s)}catch(e){n.Y.printStackTrace(e)}},c.prototype.addListener2=function(e,t,r,i){try{var a=function(e,t){return function(r){t.call(e,r||window.event)}}(i||e,r);e.attachEvent?e.attachEvent(t,a):e.addEventListener&&("mousewheel"==(t=t.slice(2)).wq_trim().toLowerCase()&&s.Z.isFF()&&(t="DOMMouseScroll"),e.addEventListener(t,a,!1)),this.setCache(e,t,a,null)}catch(e){n.Y.printStackTrace(e)}},c.prototype.removeListener=function(e,t,r,a){try{a=a||null;try{var o=t;if("on"===t.slice(0,2)&&(o=t.slice(2)),(e===document.documentElement||e===document.body)&&i.q.eventCacheObj[e.tagName]&&i.q.eventCacheObj[e.tagName][o]){for(var l=i.q.eventCacheObj[e.tagName][o],u=l.evFuncArr,c=0;c<u.length;c++)if(u[c]===r){u.splice(c,1);break}if(0!==u.length)return;r=l.evFunc,delete i.q.eventCacheObj[e.tagName][o]}!s.Z.isIE()&&e.removeEventListener?e.removeEventListener(o,r,a):e.detachEvent&&e.detachEvent(t,r)}catch(e){n.Y.printStackTrace(e)}}catch(e){n.Y.printStackTrace(e)}},c.prototype.setCache=function(e,t,r,i){try{this.cache||(this.cache=[]),this.cache.push([e,t,r,i])}catch(e){n.Y.printStackTrace(e)}},c.prototype.clearCache=function(){try{if(!this.cache)return;for(var e=0;e<this.cache.length;e++)this.removeListener.apply(this,this.cache[e]),this.cache[e]=null;this.cache=null}catch(e){n.Y.printStackTrace(e)}},c.prototype.bindAsEventListener=function(e,t,...r){try{var i=!("object"!=typeof r[0]||null==r[0]||!0!==r[0].eventonreadonly);return function(a){if(!0!==e._removed){if(a&&"click"===a.type&&e.options&&!0===e.options.preventMultipleClick)if(s.Z.isIEAllVersion()&&e.options.clickInterval){var n=(new Date).getTime();if(n-e.lastClickTime<e.options.clickInterval)return void("anchor"==e.options.pluginName&&e.options.enableReadOnly&&u.f.preventDefault(a));e.lastClickTime=n}else if("number"==typeof a.detail&&a.detail>1)return void("anchor"==e.options.pluginName&&e.options.enableReadOnly&&u.f.preventDefault(a));if(!(e.__removed_object__||e.getDisabled&&1==e.getDisabled())){if(e.options&&e.options.overrideKey&&a&&(a.charCode||a.keyCode)){var o=a.charCode?a.charCode:a.keyCode,l=e.options.overrideKey.split(",");if("all"===l[0])return;for(var c=0;c<l.length;c++)if(parseInt(l[c],10)===o)return}if(a&&"resize"!=a.type&&e.options&&"gridView"!=e.options.pluginName&&"grid"!=e.options.pluginName){var d=e.getReadOnly&&1==e.getReadOnly(),p=!1;if(d&&e.options&&("input"==e.options.pluginName&&"noFormat"==e.options.copyOnReadOnly?p=s.Z.isIEAllVersion()?67==a.keyCode&&(a.ctrlKey||a.metaKey):"copy"==a.type:"anchor"==e.options.pluginName&&e.options.enableReadOnly&&u.f.preventDefault(a)),d&&!p&&!i)return}return a&&"mousedown"===a.type&&WebSquare.getBody().getLayerListener().otherClick(a),t.apply(e,[a||window.event].concat(r))}}}}catch(e){n.Y.printStackTrace(e)}},c.prototype.clearElement=function(e){try{var t,r=0,i=0,a="";if(t=e.attributes){i=t.length;for(r=0;r<i;r++)t[r]&&"function"==typeof e[a=t[r].name]&&(e[a]=null)}}catch(e){n.Y.printStackTrace(e)}},c.prototype.getTarget=function(e,t){try{t=t||"main";for(var r=u.f.getTarget(e);r;){var i=r.getAttribute("catch");if(i&&i.indexOf(t)>-1)break;r=r.parentNode}return r}catch(e){n.Y.printStackTrace(e)}},c.prototype.getTargetIterator=function(e,t,r){try{var i=u.f.getTarget(e);return new WebSquare.targetIterator(i,t,r)}catch(e){n.Y.printStackTrace(e)}},c.prototype.getChildIterator=function(e){try{return new WebSquare.childIterator(e)}catch(e){n.Y.printStackTrace(e)}},c.prototype.isMe=function(e,t){try{for(var r=u.f.getTarget(e);null!=r;){if(r==t)return!0;r=r.parentNode}return!1}catch(e){n.Y.printStackTrace(e)}},
c.prototype.isMine=function(e,t){try{for(var r=u.f.getTarget(e);null!=r;){if(r.id&&r.id.indexOf(t.id)>=0)return!0;r=r.parentNode}return!1}catch(e){n.Y.printStackTrace(e)}},c.prototype.addEvents=function(e,t){try{if(null!=e&&null!=t){for(var r=0;r<t.length;r++)if(u.f.isEventSupported(e.render,t[r].name))switch(t[r].action){case"script":if("function"!=typeof t[r].param.handler&&"string"!=typeof t[r].param.handler){l.v.printLog("Event error ["+e.id+",ev:"+t[r].name+"] : "+t[r].param.handler+" is not a function");break}if(null!=e.systemEventList[t[r].name]&&e.systemEventList[t[r].name].count>0)e.systemEventList[t[r].name].count++;else{e.systemEventList[t[r].name]={},e.systemEventList[t[r].name].count=1;var i=function(t){return function(r){"click"===r.type&&"number"==typeof r.detail&&r.detail>1&&e&&e.options&&!0===e.options.preventMultipleClick||u.f.fireEvent(e,t,r)}}(t[r].name);this.addListener(e.render,t[r].name,i,!1),e.event.cache&&(e.systemEventList[t[r].name].handler=e.event.cache[e.event.cache.length-1][2])}break;default:null!=e.systemEventList[t[r].name]&&e.systemEventList[t[r].name].count>0?e.systemEventList[t[r].name].count++:(e.systemEventList[t[r].name]={},e.systemEventList[t[r].name].count=1,e.systemEventList[t[r].name].handler=function(e,t){return function(r){u.f.fireEvent(e,t,r)}}(e,t[r].name),this.addListener(e.render,t[r].name,e.systemEventList[t[r].name].handler,!1))}e.userEventList=e.userEventList.concat(t)}}catch(e){n.Y.printStackTrace(e)}},c.prototype.addUserEvents=function(e,t,r){var i=[];try{if(t){if(void 0!==r){for(var a={},o=0;o<r.length;o++)a[r[o]]="";var s=[];for(o=0;o<t.length;o++)void 0===a[t[o].name]?i.push(t[o]):s.push(t[o]);t=s}e.userEventList=e.userEventList.concat(t)}}catch(e){n.Y.printStackTrace(e)}return i},c.prototype.hasEvent=function(e,t){try{if(!this.cache)return!1;for(var r=!1,i=0;i<this.cache.length;i++)if(this.cache[i][0].id===e&&this.cache[i][1]===t){r=!0;break}return r}catch(e){n.Y.printStackTrace(e)}},c.prototype.removeEvent=function(e,t){try{if(!this.cache)return 0;var r=0,i=!1;"object"==typeof e&&e&&1===e.nodeType&&(i=!0);for(var a=this.cache.length-1;a>=0;a--){(i?this.cache[a][0]===e:this.cache[a][0].id===e)&&this.cache[a][1]===t&&(this.removeListener.apply(this,this.cache[a]),this.cache[a]=null,this.cache.splice(a,1),r++)}return r}catch(e){n.Y.printStackTrace(e)}}},5386:(e,t,r)=>{r.d(t,{t:()=>l});var i=r(2710),a=r(2536),n=r(1263),o=r(4350),s=r(7510),l=function(){};l.prototype._setDataCollectionItemArr=function(e){try{this.itemArr=this.modelControl.getDataCollectionItemsetData(e,{visibleColumn:this.options.visibleColumn,visibleColumnFalseValue:this.options.visibleColumnFalseValue,enableColumn:this.options.enableColumn,enableColumnFalseValue:this.options.enableColumnFalseValue,depthColumn:this.options.depthColumn})||[],this.allItemArr=this.modelControl.getDataCollectionItemsetData(e,{allData:!0,visibleColumn:this.options.visibleColumn,visibleColumnFalseValue:this.options.visibleColumnFalseValue,enableColumn:this.options.enableColumn,enableColumnFalseValue:this.options.enableColumnFalseValue,depthColumn:this.options.depthColumn})||[]}catch(e){i.Y.printStackTrace(e)}},l.prototype.initializeItemArr=function(e,t){var r=this.internal&&!this.modelControl.isDataCollectionItemsetBinded?this.itemsetObj:WebSquare.WebSquareparser.parseItemset(e);this.modelControl.setItemset(r.nodeset,r.label,r.value),this.itemsetObj=r,this.itemArr=[],this.allItemArr=[];var i=WebSquare.WebSquareparser.parseChoices(e,t);if(i.length>0)this.itemArr=i;else if(r.nodeset.match("data:")){var a=this.id;if("w2:column"==this.element.getTagName()||"td"==this.element.getTagName().toLowerCase()&&this.internal){if(!this.comp)return;a=this.comp.id}this.modelControl.dataCollectionBindItemset(this.itemsetObj.nodeset),this._setDataCollectionItemArr(a)}else this.itemArr=this.modelControl.getItemsetData();this.options.useLocale&&!1!==this.options.useItemLocale&&(this.itemArr=this.getLocaleItemArr(this.itemArr),
this.allItemArr=this.getLocaleItemArr(this.allItemArr)),this.initializeFilter(e),null==this.filterFunc&&"function"==typeof this.setSelectItemArr&&this.setSelectItemArr()},l.prototype.refreshItemArr=function(){this.itemArr,this.modelControl.isDataCollectionItemsetBinded?this._setDataCollectionItemArr(this.id):this.itemArr=this.modelControl.getItemsetData(),this.options.useLocale&&!1!==this.options.useItemLocale&&(this.itemArr=this.getLocaleItemArr(this.itemArr),this.allItemArr=this.getLocaleItemArr(this.allItemArr)),this.originalItemArr=this.itemArr,null!=this.filterFunc?this.filterItemArr():"function"==typeof this.setSelectItemArr&&this.setSelectItemArr()},l.prototype.setNodeSet=function(e,t,r){try{this.modelControl.unbindItemset(),e=n.Z.isNull(e)?this.itemsetObj.nodeset:e,t=n.Z.isNull(t)?this.itemsetObj.label:t,r=n.Z.isNull(r)?this.itemsetObj.value:r,this.modelControl.setItemset(e,t,r),this.itemsetObj=this.modelControl.itemsetObj,this.itemArr,this.itemsetObj.nodeset.match("data:")?this._setDataCollectionItemArr(this.id):this.itemArr=this.modelControl.getItemsetData(),this.options.useLocale&&!1!==this.options.useItemLocale&&(this.itemArr=this.getLocaleItemArr(this.itemArr),this.allItemArr=this.getLocaleItemArr(this.allItemArr)),this.originalItemArr=this.itemArr,null!=this.filterFunc&&this.filterItemArr(),"stop"!==this.activeStatus&&(this.itemsetObj.nodeset.match("data:")?this.modelControl.dataCollectionBindItemset():this.modelControl.bindItemset(),this.refreshItemset("replace"))}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.setVisibleColumn=function(e,t){try{this.modelControl.isDataCollectionItemsetBinded&&(this.options.visibleColumn=e||this.options.visibleColumn,this.options.visibleColumnFalseValue=t||this.options.visibleColumnFalseValue,"gridView"==this.itemTableMode?(this.refreshGridViewItemArr(),this.refreshGridVisible()):"grid"==this.itemTableMode?this.refreshGridItemArr():(this._setDataCollectionItemArr(this.id),"function"==typeof this.setSelectItemArr&&this.setSelectItemArr(),this.refreshVisible()))}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.setEnableColumn=function(e,t){try{this.modelControl.isDataCollectionItemsetBinded&&(this.options.enableColumn=e||this.options.enableColumn,this.options.enableColumnFalseValue=t||this.options.enableColumnFalseValue,this._setDataCollectionItemArr(this.id),"function"==typeof this.setSelectItemArr&&this.setSelectItemArr(),this.refreshEnable())}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.refreshVisible=function(){try{"function"==typeof this.setSelectOptions&&this.setSelectOptions()}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.refreshGridVisible=function(){try{if("gridView"==this.itemTableMode&&this.itemTable)for(var e=0;e<this.itemArr.length;e++)this.itemArr[e]._hidden?this.itemTable.gridView.setRowVisible(e,!1):this.itemTable.gridView.setRowVisible(e,!0);else this.itemTableMode}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.refreshEnable=function(){try{"function"==typeof this.setSelectOptions&&this.setSelectOptions()}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.setGridItemset=function(e){try{if(this.modelControl.unbindItemset(),this.itemsetObj={nodeset:"",value:"",label:"",items:[]},null!=this.itemTable&&(this.itemTable.remove(),this.itemTable=null),a.I.isXML(e)){o._.isDocument(e)&&(e=e.documentElement);var t=e.nodeName;if("w2:"===t.slice(0,3)&&(t=t.slice(3)),"gridviewitemset"!==(t=t.toLowerCase())&&"griditemset"!==t)throw{message:"Invalid XML : ["+this.id+".setGridItemset]"};var r="gridviewitemset"===t?"gridView":"grid";this.itemTableMode=r,this.initializeGridItemsetObj(e,r),this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value),"gridView"===r?this.refreshGridViewItemArr():this.refreshGridItemArr()}else{var n=JSON.parse(JSON.stringify(e));"number"==typeof n.width&&(n.width=String(n.width)),"number"==typeof n.height&&(n.height=String(n.height));var s=n.item;delete n.item,
this.gridViewOptions=n,this.itemsetObj.nodeset=n.nodeset,this.itemsetObj.label=n.label,this.itemsetObj.value=n.value,this.itemsetObj.items=s,this.modelControl.setItemset(n.nodeset,n.label,n.value),this.refreshGridViewItemArr()}this.itemsetObj.nodeset.match("data:")?(this.modelControl.dataCollectionBindItemset(),this.modelControl.isDataCollectionItemsetBinded=!0):this.modelControl.bindItemset(),"stop"!==this.activeStatus&&this.refreshItemset("replace")}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.getDataListInfo=function(){try{var e=null;return this.itemsetObj&&(e={},this.itemsetObj.nodeset.match("data:")?(e.nodeset=this.itemsetObj.nodeset.slice(0),e.id=e.nodeset.wq_replaceAll("data:",""),e.value=this.itemsetObj.value,e.label=this.itemsetObj.label):(e.nodeset=this.itemsetObj.nodeset.slice(0),e.value=this.itemsetObj.value,e.label=this.itemsetObj.label)),e}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.setGridNodeSet=function(e,t,r,a){try{if("grid"!=this.itemTableMode)return;var o=!1;if(t==this.itemsetObj.label&&r==this.itemsetObj.value||(o=!0),this.itemsetObj.nodeset=e,o&&(this.itemsetObj.label=t,this.itemsetObj.value=r),!(a instanceof Array))return void $l("setGridNodeSet error : The parameter 'colArr' must be of type Array."+this.id+"]");for(var s=0;s<this.itemsetObj.items.length;s++)this.itemsetObj.items[s]=a[s];this.modelControl.unbindItemset(),e=n.Z.isNull(e)?this.itemsetObj.nodeset:e,t=n.Z.isNull(t)?this.itemsetObj.label:t,r=n.Z.isNull(r)?this.itemsetObj.value:r,this.modelControl.setItemset(e,t,r),this.itemArr=this.modelControl.getItemsetData(),this.options.useLocale&&!1!==this.options.useItemLocale&&(this.itemArr=this.getLocaleItemArr(this.itemArr)),this.originalItemArr=this.itemArr,null!=this.filterFunc&&this.filterItemArr(),this.modelControl.bindItemset(),this.refreshItemset()}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.getItemArray=function(){return this.itemArr},l.prototype.getLocaleItemArr=function(e,t){void 0!==t&&null!=t||(t="label");for(var r=0;r<e.length;r++){var i=e[r],a=this.getLocaleValue(i[t]);a&&(i[t]=a)}return e},l.prototype.initializeFilter=function(e){var t=this.options.filter;this.originalItemArr=this.itemArr,this.setFilterFunc(t),this.filterItemArr()},l.prototype.setFilter=function(e){var t=this.getValue();this.setFilterFunc(e),this.filterItemArr(),this.componentRedraw(t)},l.prototype.setFilterFunc=function(e){try{if(void 0===e||null==e||""==e)this.filterFunc=null;else{var t=n.Z.getGlobalFunction(e,this.scope_id);"function"==typeof t&&(this.filterFunc=t)}}catch(e){this.filterFunc=null,i.Y.printStackTrace(e)}},l.prototype.filterItemArr=function(){if(null==this.filterFunc)this.itemArr=this.originalItemArr;else{this.itemArr=[];for(var e=0;e<this.originalItemArr.length;e++){var t=this.originalItemArr[e];this.match(t)&&this.itemArr.push(t)}"function"==typeof this.setSelectItemArr&&this.setSelectItemArr()}},l.prototype.match=function(e){try{return this.filterFunc.call(this.filterFunc,e.label,e.value,e.xml)}catch(e){return i.Y.printStackTrace(e),!1}},l.prototype.initializeGridItemArr=function(e,t){var r,n=requires("uiplugin.grid");this.initAsync=(r=n,function(){return r}),this.itemsetObj||(this.itemsetObj={nodeset:"",value:"",label:"",items:[]}),this.itemArr||(this.itemArr=[]);var o=this.itemsetObj;t=t||"xf";try{var s=e.getTagName();s.indexOf(":")>=0&&(t=s.split(":")[0])}catch(e){i.Y.printStackTrace(e)}if(e){var l="xf"==t?a.I._XML_NAMESPACE.XFORMS:a.I._XML_NAMESPACE.W2,u=WebSquare.Elem.api.getElementsByTagName(e,"choices",l)[0];if(u){var c=WebSquare.Elem.api.getElementsByTagName(u,"gridItemset",a.I._XML_NAMESPACE.W2)[0];c&&this.initializeGridItemsetObj(c,"grid")}}this.modelControl.setItemset(o.nodeset,o.label,o.value),this.refreshGridItemArr()},l.prototype.initializeGridItemsetObj=function(e,t){try{var r=this.itemsetObj,n=WebSquare.Elem.api.getValue(e,"@nodeset");r.nodeset=null==n?"":n,"/"==r.nodeset.wq_trim().substr(-1)&&(r.nodeset=r.nodeset.wq_trim().slice(0,-1)),
this[t+"Options"]=WebSquare.WebSquareparser.parseAttribute(e),r.labelId=this[t+"Options"].labelId,r.valueId=this[t+"Options"].valueId,r.label=this[t+"Options"].label,r.value=this[t+"Options"].value;for(var o=WebSquare.Elem.api.getElementsByTagName(e,"item",a.I._XML_NAMESPACE.W2),s=[],l=0;l<o.length;l++)s.push(WebSquare.WebSquareparser.parseAttribute(o[l]));if(r.labelId||r.valueId)for(l=0;l<s.length;l++)delete s[l]["@tagName"],r.labelId&&s[l].id===r.labelId&&(r.label=s[l].ref),r.valueId&&s[l].id===r.valueId&&(r.value=s[l].ref);r.items=s}catch(e){i.Y.printStackTrace(e)}},l.prototype.refreshGridItemArr=function(){this.itemArr=[],this.gridItemArr=[],this.gridRowItemArr=[];var e=this.itemsetObj;if(e.nodeset)if(e.nodeset.match("data:")){var t=this.modelControl.getDataComp();null!=t&&(this._setDataCollectionItemArr(this.modelControl.id),this.gridItemArr=t.getAllData(),this.gridOptions.dataComp=t)}else{var r=s.K.findInstanceNodes(e.nodeset,null,this.scope_id);if(r)for(var i=0;i<r.length;++i){this.itemArr.push({label:o._.getValue(r[i],e.label),value:o._.getValue(r[i],e.value),xml:r[i]});for(var a={},n=0;n<e.items.length;n++){e.items[n].id||(e.items[n].id=this.id+"_items"+n);var l="",u=e.items[n].ref;u&&(e.label&&u===e.label?e.labelId=e.items[n].id:e.value&&u===e.value&&(e.valueId=e.items[n].id),l=o._.getValue(r[i],u)),this.gridItemArr.push(l),a[e.items[n].id]=l}this.gridRowItemArr.push(a)}}"function"==typeof this.setSelectItemArr&&this.setSelectItemArr()},l.prototype.initializeGridViewItemArr=function(e,t){this.itemsetObj||(this.itemsetObj={nodeset:"",value:"",label:"",items:[]}),this.itemArr||(this.itemArr=[]);var r=this.itemsetObj;t=t||"xf";try{var n=e.getTagName();n.indexOf(":")>=0&&(t=n.split(":")[0])}catch(e){i.Y.printStackTrace(e)}if(e){var o="xf"==t?a.I._XML_NAMESPACE.XFORMS:a.I._XML_NAMESPACE.W2,s=WebSquare.Elem.api.getElementsByTagName(e,"choices",o)[0];if(s){var l=WebSquare.Elem.api.getElementsByTagName(s,"gridViewItemset",a.I._XML_NAMESPACE.W2)[0];l&&this.initializeGridItemsetObj(l,"gridView")}}if("gridViewItemset"===this.options.itemTableType){var u={};for(var c in this.options.itemSet)u[c]=this.options.itemSet[c];for(var c in this.options.gridViewOptions)u[c]=this.options.gridViewOptions[c];u.item=this.options.item,this.setGridItemset(u)}else this.modelControl.setItemset(r.nodeset,r.label,r.value),this.refreshGridViewItemArr()},l.prototype.refreshGridViewItemArr=function(){this.gridViewItemArr=[],this.gridViewRowItemArr=[];var e=this.itemsetObj;if(e.nodeset&&e.nodeset.match("data:")){var t=this.modelControl.getDataComp();if(null!=t){var r="";this.constructor!==WebSquare.uiplugin.cellInfo&&(r=this.modelControl.id),this._setDataCollectionItemArr(r),this.gridViewItemArr=this.modelControl.getDataCollectionItemsetData(r,{allColumn:!0}),this.gridViewOptions.dataComp=t}}"function"==typeof this.setSelectItemArr&&this.setSelectItemArr()},l.prototype._initDisplayMode=function(){try{switch(this.options.displayMode){case"0":case"1":case"2":case"3":break;case"value delim label":this.options.displayMode="1";break;case"label delim value":this.options.displayMode="2";break;case"value":this.options.displayMode="3";break;default:this.options.displayMode="0"}}catch(e){i.Y.printStackTrace(e)}},l.prototype.getItemText=function(e){try{this._initDisplayMode();var t="";if(e>-1&&e<this.getItemCount())switch(t=this.itemArr[e].orgLabel||this.itemArr[e].label,this.options.displayMode){case"0":break;case"1":t=this.itemArr[e].value+this.options.delimiter+t;break;case"2":t=t+this.options.delimiter+this.itemArr[e].value;break;case"3":t=this.itemArr[e].value}return t}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.getItemCount=function(e){try{try{return this.itemArr.length}catch(e){i.Y.printStackTrace(e,null,this)}}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.getVisibleItemCount=function(){try{var e=0
;if(this.options.visibleColumn&&this.options.visibleColumnFalseValue)for(var t=0;t<this.itemArr.length;t++)!0!==this.itemArr[t]._hidden&&e++;else e=this.getItemCount();return e}catch(e){i.Y.printStackTrace(e,null,this)}},l.prototype.setDisplayMode=function(e){try{this.options.displayMode=e,this._initDisplayMode()}catch(e){i.Y.printStackTrace(e)}}},7249:(e,t,r)=>{r.d(t,{q:()=>m});var i,a,n,o=r(582),s=r(2710),l=r(2536),u=r(1263),c=r(4350),d=r(2327),p=r(9107),h=r(8683),f=r(4129),g=r(8637),m=function(e,t,r){try{var i=t&&!0===t.__copyOptions;if(this.parentControl=null,this.childControlList=[],this.id=e,this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.element=r,this.render=null,this.scope_obj=null,this.scope_id=null,this.defaultOptions&&null!=this.defaultOptions.escape&&(this.defaultOptions.escape="false"!==l.I.getConfiguration("/WebSquare/escape/@value")),this._eventBubbling=l.I.getConfiguration("/WebSquare/eventBubbling/@value"),i?this.options=t:r?(this.options=this.getConfiguredOptions(),"treeview"==this.options.pluginName&&t&&t.renderType&&"virtual"==t.renderType&&(this.options=o.q.extendKeepingType(this.options,WebSquare.uiplugin.treeview_virtual.prototype.defaultOptions)),this.options=o.q.extendKeepingType(this.options,WebSquare.WebSquareparser.parseAttribute(r)),this.options.xmlEvents=WebSquare.Parser.parseEvent(r)):this.options=this.getConfiguredOptions(),this.id||(this.id=this.options.id),this.options.id=this.id,t&&(!0===t._skipExtend||i||(this.options=o.q.extendKeepingType(this.options,t)),null==t._idCollisionCheck||i||(this.options._idCollisionCheck=t._idCollisionCheck),t._scope_obj_uuid&&(this.options._scope_obj_uuid=t._scope_obj_uuid,t._scope_obj_org_id&&(this.options._scope_obj_org_id=t._scope_obj_org_id),t._scope_obj_runtime_id&&(this.options._scope_obj_runtime_id=t._scope_obj_runtime_id),this.scope_obj=WebSquare.idCache[this.options._scope_obj_uuid],null!=this.scope_obj&&(this.scope_id=this.scope_obj.id,t._scope_obj_org_id&&t._scope_obj_runtime_id&&(this.id=this.options.id=this.options._scope_obj_runtime_id,this.org_id=this.options._scope_obj_org_id,this.scope_obj.scope||(this.scope_obj.scope={}),this.scope_obj.scope[this.org_id]=this)))),this.options.tooltip=this.options.tooltip||this.options.toolTip,this.options.tooltipSec=this.options.tooltipSec||this.options.toolTipSec,r){var a=WebSquare.Elem.api.getLocalName(r),n=o.q.componentsCache,c=n[a];c||(c=n[a]={}),c[this.uuid]=!0,this._wTagName=a}if(this.id){if(null!=window[WebSquare.noConflict].comp[this.id]||null!=window[WebSquare.noConflict].data[this.id])if(this.options._idCollisionCheck)if(null!=window[WebSquare.noConflict].comp[this.id]&&window[WebSquare.noConflict].comp[this.id]._orgUUID==window[WebSquare.noConflict].comp[this.id].uuid)window[WebSquare.noConflict].comp[this.id]._orgId=null,delete window[WebSquare.noConflict].comp[this.id]._orgId;else{if(null==WebSquare.WebSquaredoc.idCollisionList[this.id]){var p=window[WebSquare.noConflict].comp[this.id]||window[WebSquare.noConflict].data[this.id];WebSquare.WebSquaredoc.idCollisionList[this.id]=[p.uuid]}WebSquare.WebSquaredoc.idCollisionList[this.id].push(this.uuid);var h=WebSquare.language.getMessage("E_comp_duplicated_Msg",e)||"id["+e+"] is duplicated. Check the source code.";d.v.printLog(h),!0!==u.Z.getBoolean(l.I.getConfiguration("/WebSquare/disableDuplicateIdAlert/@value"))&&alert(h)}else try{null!=(p=window[WebSquare.noConflict].comp[this.id]||window[WebSquare.noConflict].data[this.id])&&"function"==typeof p.remove&&p.remove(),d.v.printLog("["+e+"] removed")}catch(e){s.Y.printStackTrace(e,null,this)}}else this.options.id=this.id=this.uuid;WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid,"false"!=l.I.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()&&"body"!=this.options.pluginName&&(window[this.id]=this),"body"!=this.options.pluginName&&(window[WebSquare.noConflict].comp[this.id]=this),
"selectbox"==this.options.pluginName&&t&&t.renderType&&(this.options.renderType=t.renderType),this.dom={},this.attributes=[],!i&&r&&this.options.parseAttributes&&(this.getAttributeNode=this.getAttributeNode||WebSquare.xfControl.attributes.getAttributeNode,this.setAttributeNode=this.setAttributeNode||WebSquare.xfControl.attributes.setAttributeNode,this.removeAttributeNode=this.removeAttributeNode||WebSquare.xfControl.attributes.removeAttributeNode),this.activeStatus="stop",this.completed=!1,this.domStatus="",this.modelControl=new WebSquare.modelControl(this.id,this.options.model,this.options.ref,this.options.bind,this.options._scope_obj_uuid),this.event=new g.i,this.initialize(r),this.bindAsEventList=[],this.bindAsUserEventList=[],this.userEventList=[],this.systemEventList={},this.dataObjInfo={}}catch(e){s.Y.printStackTrace(e,null,this)}};o.q.extend(m.prototype,h.A.prototype),o.q.extend(m.prototype,f.A.prototype),m.prototype.defaultOptions={},m.prototype.configuredOptions={},m.prototype.getConfiguredOptions=function(){var e,t,r=this.defaultOptions.pluginName,i={};if("selectbox"===r&&"native"===this.defaultOptions.renderType&&(r="selectbox_native"),this.configuredOptions[r])e=this.configuredOptions[r].keys,t=this.configuredOptions[r].values;else{var a=o.q.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],systemEvents:[],xmlEvents:null,value:"",ref:"",model:"",bind:"",style:"",className:"",tabIndex:"",readOnly:!1,disabled:!1,useLocale:!1,useDefaultLabel:!1,localeRef:"",useConfig:!1,toolTip:"",tooltip:"",parentEvent:"",_idCollisionCheck:!1,_scope_obj_uuid:null,_scope_obj_org_id:"",_scope_obj_runtime_id:"",preventMultipleClick:!1},this.defaultOptions);void 0!==a.useLocale&&"true"===l.I.getConfiguration("/WebSquare/useLocale/@value")&&(a.useLocale=!0,a.useDefaultLabel="true"===l.I.getConfiguration("/WebSquare/useLocale/@useDefaultLabel"));var n=l.I.getConfiguration("/WebSquare/useItemLocale/@value");""!==n&&void 0!==n&&(a.useItemLocale=u.Z.getBoolean(n));var s=!0;if(a.useConfig||u.Z.getBoolean(l.I.getConfiguration("/WebSquare/"+r+"/useConfig/@value"))){var c=l.I.getConfig(r);a=o.q.extendKeepingType(a,c),s=u.Z.isEmptyObject(c)}if("selectbox_native"===r&&!0===s){var d="selectbox";if(a.useConfig||u.Z.getBoolean(l.I.getConfiguration("/WebSquare/"+d+"/useConfig/@value"))){c=l.I.getConfig(d);a=o.q.extendKeepingType(a,c)}}for(var p in e=[],t=[],a)e.push(p),t.push(a[p]);this.configuredOptions[r]={keys:e,values:t}}for(var h=0;h<e.length;h++)i[e[h]]=t[h];return i},m.prototype.initialize=function(e){},m.prototype.finalize=function(){try{var e=WebSquare.getBody()||{};e._tooltipTriggerComponentId===this.uuid&&e.toolTip&&e.toolTip.hide(),p.f.fireEvent(this,"ondestroyed")}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.applyConfigOption=function(e){try{var t=l.I.getConfig(this.options.pluginName);return e=o.q.extendKeepingType(e,t)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.setProperty=function(e,t){try{if(this.render[e]!=t){this.render[e]=t;var r="string"==typeof e?e.toLowerCase():e;"disabled"!==r&&"readonly"!==r||(t?this.render.setAttribute(r,r):this.render.removeAttribute(r)),this.onPropertyChange(e,t)}}catch(e){s.Y.printStackTrace(e)}return this},m.prototype.getProperty=function(e){try{return this.render[e]}catch(e){s.Y.printStackTrace(e)}},m.prototype.setAttribute=function(e,t){try{this.options[e]!=t&&(this.options[e]=t,p.f.fireEvent(this,"onattributechanged",e,t))}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getAttribute=function(e){try{return this.options[e]}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.setUserData=function(e,t){try{return void 0!==this.defaultOptions[e]?($l("!!!WARNING - ["+e+"] can't define as UserData key!!!"),!1):(this.options[e]=t,!0)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getUserData=function(e){try{return void 0!==this.defaultOptions[e]?void $l("!!!WARNING - ["+e+"] is not UserData key!!!"):this.options[e]}catch(e){
s.Y.printStackTrace(e,null,this)}},m.prototype.redraw=function(){try{if(!this.render)return;var e=this.toHTML(),t=e.match(/(\<[^<>]*\>)(.*)(\<\/.*\>)/);if(t&&4==t.length){var r=t[2];l.I._safeInnerHTML(this.render,r)}else alert("cannot redraw : "+this.id)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.writeTo=function(e,t,r,i){try{if(this.render)return;var a=this.toHTML().wq_trim(),n=a.indexOf(">")+1,o=a.lastIndexOf("<"),u=o<n,d=a.substring(0,n).wq_trim(),p=u?"":a.substring(n,o),h=u?"":a.substring(o).wq_trim();if(""!=d&&""!=h||""!=d&&u){var f=d.match(/\<([^ \>]*)/)[1].toLowerCase();if({iframe:!0,img:!0,a:!0,source:!0,embed:!0,form:!0,frame:!0,frameset:!0,line:!0,script:!0,object:!0}[f]){d=d.replace(/&/g,"&amp;")}var g=c._.parse(d+h),m=WebSquare.WebSquareparser.parseAttribute(g.documentElement);if("table"===f){var b=document.createElement("div");l.I._safeInnerHTML(b,a),this.render=b.firstChild;try{for(var y in m)"style"==y?this.render.style.cssText=m[y]:"className"==y?this.render.className=m[y]:this.render[y]=m[y]}catch(e){s.Y.printStackTrace(e,null,this)}}else{this.render=document.createElement(f);try{for(var y in m)"style"==y?this.render.style.cssText=m[y]:"className"==y?this.render.className=m[y]:this.render[y]=m[y];p&&"iframe"!=f&&"input"!=f&&"img"!=f&&l.I._safeInnerHTML(this.render,p)}catch(e){s.Y.printStackTrace(e,null,this)}}i&&"number"==typeof i.index?e.render?(e.render.insertBefore(this.render,e.render.childNodes[i.index]),this.parentControl!=e&&e.addControl(this)):e.insertBefore&&e.insertBefore(this.render,e.childNodes[i.index]):"number"==typeof t&&e.targetNode?e.render?(e.render.insertBefore(this.render,e.targetNode),this.parentControl!=e&&e.addControl(this)):e.insertBefore?e.insertBefore(this.render,e.targetNode):alert("cannot writeTo : "+this.id):e.render?(e.render.appendChild(this.render),this.parentControl!=e&&e.addControl(this)):e.appendChild?e.appendChild(this.render):alert("cannot writeTo : "+this.id)}try{null!=r&&WebSquare.idCache[r]&&(this.parentFrame=r,WebSquare.idCache[r].childAllControlList.push(this.uuid))}catch(e){s.Y.printStackTrace(e,null,this),s.Y.printError("parentFrame is not wframe")}}catch(e){s.Y.printStackTrace(e,null,this)}},m.appendToRe1=new RegExp("[\\n\\t\\r]*","g"),m.appendToRe2=new RegExp("(^\\<[^<>]*\\>)(.*)(\\<\\/.*\\>$)"),m.appendToRe3=new RegExp("\\<([^ \\>]*)"),m.prototype.appendTo=function(e,t){try{if(this.render)return;var r="",i="",a="",n=this.toHTML().wq_trim(),o=(n=n.replace(WebSquare.xfControl.appendToRe1,"")).match(WebSquare.xfControl.appendToRe2);if(o&&4==o.length?(r=o[1],i=o[2],a=o[3]):o||"<"!=n.charAt(0)||">"!=n.charAt(n.length-1)||(r=n),""!=r){var d=c._.parse(r+a),p=WebSquare.WebSquareparser.parseAttribute(d.documentElement),h=r.match(WebSquare.xfControl.appendToRe3)[1];this.render=document.createElement(h);try{for(var f in p)"style"!=f?"className"!=f?this.render.setAttribute(f,p[f]):this.render.className=p[f]:this.render.style.cssText=p[f]}catch(e){s.Y.printStackTrace(e,null,this)}if("div"==h.toLowerCase())l.I._safeInnerHTML(this.render,i);else{var g=c._.parse(n).documentElement.childNodes;if(g.length>0)for(var m=0;m<g.length;m++){var b=g[m];this.render.appendChild(u.Z.XMLToHTML(b))}}e.contentRender?(e.contentRender.appendChild(this.render),e.addControl(this)):e.render?(e.render.appendChild(this.render),e.addControl(this)):e.appendChild?e.appendChild(this.render):alert("cannot appendTo : "+this.id)}try{null!=t&&WebSquare.idCache[t]&&(this.parentFrame=t,WebSquare.idCache[t].childAllControlList.push(this.uuid))}catch(e){s.Y.printStackTrace(e,null,this),s.Y.printError("parentFrame is not wframe")}}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.appendChild=function(e){try{if(!this.render||!e)return;e.render?this.render.appendChild(e.render):this.render.appendChild(e)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.refreshDom=function(){try{if(!this.render)return;for(var e=0;e<this.childControlList.length;e++){var t=this.childControlList[e]
;t.refreshDom(),"new"==t.domStatus&&(t.render?this.render.appendChild(t.render):t.writeTo(this),t.domStatus="")}}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.refresh=function(){},m.prototype.refreshItemset=function(){},m.prototype.preActivate=function(){try{if("stop"!=this.activeStatus)return void d.v.printLog("duplicated call for preActivate");this.setRender();var e=this.childControlList;"wframe"!==this.options.pluginName&&"pageInherit"!==this.options.pluginName&&"udc2"!==this.options.pluginName&&"pageFrame"!==this.options.pluginName||null==e[0]||(e="sync"===this.options.mode?[]:e[0].childControlList);for(var t=0;t<e.length;t++)"stop"==e[t].activeStatus&&e[t].preActivate();this.render&&(this.activeStatus="preActive",this.setPreAction&&this.setPreAction(),this.modelControl.binding())}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.activate=function(){try{if("active"==this.activeStatus)return void $l("!!!WARNING!!! duplicate call 'activate' for : "+this.id);"stop"==this.activeStatus&&this.preActivate();var e=this.childControlList,t=[];"wframe"!==this.options.pluginName&&"pageInherit"!==this.options.pluginName&&"udc2"!==this.options.pluginName&&"pageFrame"!==this.options.pluginName||null==e[0]||(e=[]);for(var r=0;r<e.length;r++)if("active"!=e[r].activeStatus){var i=e[r].activate();if(i&&i instanceof window.Array)for(var a=0;a<i.length;a++)t.push(i[a])}if(this.render){this.activeStatus="active",this.setUserAction();var n=this.setAction();if(n&&n instanceof window.Promise&&t.push(n),"wframe"===this.options.pluginName||this.options.udcName||"udc2"===this.options.pluginName||"pageFrame"===this.options.pluginName){var o=null;if(this.options.nextTabID){o=$("#"+this.id+" *:wq:tabbable"),null==WebSquare.tabOrder[this.id]&&(WebSquare.tabOrder[this.id]={});var c=null;this.options.udcName?this.parentFrame&&void 0!==WebSquare.idCache[this.parentFrame]&&(c=WebSquare.idCache[this.parentFrame].id):c=this.scope_id;var d=null!=c?u.Z.getComponentById(this.options.nextTabID,c).id:this.options.nextTabID;WebSquare.tabOrder[this.id].nextTabID=d;var h=$(o[o.length-1]).wq()[0];null!=h&&(null==WebSquare.tabOrder[d]&&(WebSquare.tabOrder[d]={}),WebSquare.tabOrder[d].preTabID=h.id,null==WebSquare.tabOrder[h.id]&&(WebSquare.tabOrder[h.id]={}),WebSquare.tabOrder[h.id].nextTabID=d)}if(null!=WebSquare.tabOrder[this.id]&&null!=WebSquare.tabOrder[this.id].preTabID){var f=null;if(null!=this.options.firstTabID?f=u.Z.getComponentById(this.options.firstTabID,this.id):(null==o&&(o=$("#"+this.id+" *:wq:tabbable")),f=$(o[0]).wq()[0]),null!=f){var g=WebSquare.tabOrder[this.id].preTabID;WebSquare.tabOrder[g].nextTabID=f.id,null==WebSquare.tabOrder[f.id]&&(WebSquare.tabOrder[f.id]={}),WebSquare.tabOrder[f.id].preTabID=g}}}if(this.options.tabIndex)if("uiplugin.inputCalendar"==this.options.pluginType)this.getElementById(this.id+"_input").tabIndex=this.options.tabIndex;else if("uiplugin.selectbox"==this.options.pluginType&&"native"==this.options.renderType){this.getElementById(this.id+"_input_0").tabIndex=this.options.tabIndex}else this.render.tabIndex=this.options.tabIndex;1==this.options.readOnly&&this.setReadOnly(this.options.readOnly),1==this.options.disabled&&this.setDisabled(this.options.disabled);var m=u.Z.getBoolean(l.I.getConfiguration("/WebSquare/hideTooltipDisabledComp/@value"));1==this.options.disabled&&""!=this.options.tooltip&&m||""!=this.options.tooltip&&this.setToolTip(this.render,this.options.tooltip),""!=this.options.tooltipId&&this.setToolTipComp(this.render,this.options.tooltipId),p.f.fireEvent(this,"oncreated",this.options),this.modelControl.isDataCollectionRefBinded&&"string"!=typeof this._eventTarget&&this.bind("onclick",this.setRefPosition),this.modelControl.isDataCollectionRefBinded}if(t.length>0)return t}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.deactivate=function(){try{this.activeStatus="stop";for(var e=0;e<this.childControlList.length;e++)this.childControlList[e].deactivate();this.modelControl.unbinding(),
this.event.clearElement(this.render),this.event.clearCache()}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.remove=function(e){try{var t=null;null!=this.render&&(t=this.render.getAttribute("id"));var r=this.getParent();this.destroy(e);var i=null;t&&(i=document.getElementById(t)),null==i||e||(WebSquare.removeNode(i),i=null),r&&r.removeControl(this);var a=WebSquare.getBody()||{};for(var n in a.childControlList)a.childControlList[n]==this&&a.childControlList.splice(n,1)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.empty=function(){try{return this.destroy(),void(this.render.textContent="")}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.adaptDocType=function(){try{if("trigger".indexOf(this.options.pluginName)>-1)return;if(this.render!=document.body){this.render.offsetWidth;var e=this.getStyle("height"),t=this.getStyle("width"),r={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};if(e.indexOf("px")>-1){var i=(e=parseInt(e))-(r.paddingTop+r.paddingBottom+r.borderTopWidth+r.borderBottomWidth);this.setStyle("height",i+"px")}else e.indexOf("%");if(t.indexOf("px")>-1){var a=(t=parseInt(t))-(r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth);this.setStyle("width",a+"px")}else t.indexOf("%")}}catch(e){$l("error in adaptDocType : "+this.id),s.Y.printStackTrace(e,null,this)}},m.prototype.setRender=function(e){try{e?(this.render&&(this.render.parentNode.insertBefore(e,this.render),this.render.parentNode.removeChild(this.render)),this.render=e):this.render&&null!=this.render.parentElement||(this.render=document.getElementById(this.id)),this.render}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getID=function(){try{return this.id}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getOriginalID=function(){try{return this.org_id?this.org_id:this.id}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.build=function(){try{this.setLayout()}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.setUserAction=function(){try{for(var e in this.options.xmlEvents&&(this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents),this.options.xmlEvents.length>0&&this.event.addEvents(this,this.options.xmlEvents)),this.options)if("ev:"==e.slice(0,3))for(var t=this.options[e].split(","),r=0;r<t.length;r++)this.bind(e.slice(3),t[r]);this.options.eventPause&&this.setEventPause(this.options.eventPause,!0)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.setLayout=function(){},m.prototype.onComplete=function(){if("active"==this.activeStatus&&!this.completed){var e=this.childControlList;if("wframe"!==this.options.pluginName&&"pageInherit"!==this.options.pluginName&&"udc2"!==this.options.pluginName&&"pageFrame"!==this.options.pluginName||null==e[0]||(e=[]),e&&e.length>0)for(var t=0;t<e.length;t++)!e[t].completed&&"function"==typeof e[t].onComplete&&e[t].getPluginName&&"multiupload"!=e[t].getPluginName()&&e[t].onComplete();this.completed=!0}},m.prototype.setToolTip=function(e,t){try{"string"==typeof t&&(this.options.tooltip=t);var r=this.options.tooltip||this.options.toolTip;WebSquare.getBody().setToolTip(this.render,r),this.render.tooltipShow=0!=e}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.setToolTipComp=function(){WebSquare.getBody().setToolTipComp(this.render,this.options.tooltipId)},m.prototype._showTooltip=function(e,t,r){if(!this.tooltip){try{var i=l.I.getConfiguration("/WebSquare/tooltipShowHideHandler/@value");if(i){var a=u.Z.getGlobalFunction(i,this.scope_id),n=!0;if("function"==typeof a&&(n=a(this)),!n)return}
}catch(e){s.Y.printStackTrace(e)}this.tooltip=new WebSquare.uiplugin.group(this.id+"_tooltip",{className:"w2"+this.getPluginName()+"_tooltip "+this.options.tooltipClass,style:"position:absolute;z-index:10000;"+this.options.tooltipStyle}),this.tooltip.writeTo(WebSquare.getBody(),null,this.parentFrame),this.tooltip.activate(),this.tooltip.removeClass("w2group")}this.tooltip.setStyle("display","block"),this.tooltip.setStyle("left",e+"px"),this.tooltip.setStyle("top",t+"px"),r=this.options.escape?c._._encode(r):r.wq_replaceAll("&amp;nbsp;","&nbsp;").wq_replaceAll("&amp;nbsp","&nbsp;"),l.I._safeInnerHTML(this.tooltip.render,r)},m.prototype.blur=function(){try{this.render.blur()}catch(e){s.Y.printStackTrace(e)}},m.prototype.click=function(){try{this.render.click()}catch(e){s.Y.printStackTrace(e)}},m.prototype.focus=function(){try{this.render.focus()}catch(e){s.Y.printStackTrace(e)}},m.prototype.select=function(){try{this.render.select()}catch(e){s.Y.printStackTrace(e)}},m.prototype.getTabIndex=function(){try{return this.options.tabIndex}catch(e){s.Y.printStackTrace(e)}},m.prototype.onPropertyChange=function(e,t){},m.prototype.setDisabled=function(e){try{e=u.Z.getBoolean(e),this.options.disabled=e,this.setProperty("disabled",e)}catch(e){s.Y.printStackTrace(e)}return e},m.prototype.getDisabled=function(){try{return this.options&&this.options.disabled}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.setReadOnly=function(e){try{e=u.Z.getBoolean(e),this.options.readOnly=e,this.setProperty("readOnly",e)}catch(e){s.Y.printStackTrace(e,null,this)}return e},m.prototype.getReadOnly=function(){try{return this.options.readOnly}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getRef=function(){try{return this.options.ref}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.displayLocaleValue=function(){if(this.options.useLocale&&this.options.localeRef){var e=this.getLocaleValue(this.options.localeRef);e&&this.setValue(e)}},m.prototype.getLocaleValue=function(e){if(void 0!==e&&null!=e||(e=this.options.localeRef),void 0!==e){e=e.wq_trim();var t=WebSquare.WebSquareLang[e];null==t&&(t=this.options.useDefaultLabel?"":"global_undefined")}return t},m.prototype.getDomList=function(e,t,r){return r=r||this.render,null==this.dom[e]&&(this.dom[e]=r.getElementsByTagName(t)),this.dom[e]},m.prototype.getElementById=function(e){return null==this.dom[e]&&(this.dom[e]=document.getElementById(e)),this.dom[e]},m.prototype.getPluginName=function(){return this.options.pluginName},m.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id)},m.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id)},m.prototype.childFiredEvent=function(e,t){arguments[0]=this,p.f.fireEvent.apply(null,arguments)},m.prototype.addEvent=function(e,t,r){try{if(!t)return;var i={name:e,action:r=r||"script",param:{handler:t}};if(this.options.xmlEvents||(this.options.xmlEvents=[]),this.options.xmlEvents.push(i),"active"==this.activeStatus){var a=this.event.addUserEvents(this,[i],this.options.userEvents);a.length>0&&this.event.addEvents(this,a)}}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.bind=function(e,t){try{var r=l.I.getConfiguration("/WebSquare/eventUsePrefix/@value");if("string"==typeof e&&"on"!=e.slice(0,2)&&"false"!=r&&(e="on"+e),"string"==typeof e){var i=(e=e.toLowerCase()).indexOf("(");i>=0&&(e=e.slice(0,i))}this.addEvent(e,t)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.trigger=function(e,t){try{var r=l.I.getConfiguration("/WebSquare/eventUsePrefix/@value");if("string"==typeof e&&"on"!=e.slice(0,2)&&"false"!=r&&(e="on"+e),"string"==typeof e){var i=(e=e.toLowerCase()).indexOf("(");i>=0&&(e=e.slice(0,i))}var a=!1;if(null!=this.options.userEvents)for(var n=0;n<this.options.userEvents.length;n++)if(this.options.userEvents[n]===e){a=!0;break}if(!a&&p.f.isEventSupported(this.render,e))t&&t.constructor==Array?p.f.fireSystemEvent(this,e,t[0]):p.f.fireSystemEvent(this,e);else{var o=[this,e];o=o.concat(t),
p.f.fireEvent.apply(p.f.fireEvent,o),o[0]=null}}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.unbind=function(e,t){try{if("string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e),"string"==typeof e){var r=(e=e.toLowerCase()).indexOf("(");r>=0&&(e=e.slice(0,r))}if("string"==typeof e&&"function"==typeof t)for(var i=this.userEventList.length-1;i>=0;i--)e===this.userEventList[i].name&&t===this.userEventList[i].param.handler&&(this.userEventList.splice(i,1),"object"==typeof this.systemEventList[e]&&(this.systemEventList[e].count--,this.systemEventList[e].count<=0&&(this.event.removeListener(this.render,e,this.systemEventList[e].handler),delete this.systemEventList[e])));else if("string"==typeof e&&null==t){for(i=this.userEventList.length-1;i>=0;i--)e===this.userEventList[i].name&&this.userEventList.splice(i,1);"object"==typeof this.systemEventList[e]&&(this.event.removeListener(this.render,e,this.systemEventList[e].handler),delete this.systemEventList[e])}else{for(var a in this.systemEventList)this.event.removeListener(this.render,a,this.systemEventList[a].handler);this.userEventList=[],this.systemEventList={}}this.options&&this.options.xmlEvents&&this.userEventList&&(this.options.xmlEvents=this.userEventList.slice())}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.setEventPause=function(e,t){var r={},i=!1;if("string"==typeof e&&""!=e)for(var a=e.split(","),n=0;n<a.length;n++)a[n]&&(r[a[n]]=!0);else i=!0;for(n=this.userEventList.length-1;n>=0;n--)(i||r[this.userEventList[n].name])&&(this.userEventList[n].disabled=t)},m.prototype.getGenerator=function(){for(var e=this;e.parentControl&&(!(e=e.parentControl).options||"generator"!=e.options.pluginName););return e},m.prototype.getGeneratedIndex=function(){if(!this.options)return null;for(var e=this.getGenerator(),t=0;t<e.generatedIndexSet.length;t++)if(this.options.g_index==e.generatedIndexSet[t])return t},m.prototype.getGeneratedComponent=function(e){var t=this.getGeneratedIndex();return this.getGenerator().getChild(t,e)},m.prototype.getAttributesString=function(e){try{var t,r=" ";if(e){var i={id:"Y",style:"Y",class:"Y",tabIndex:"Y",colSpan:"Y",colspan:"Y",rowSpan:"Y",title:"Y",rowspan:"Y"},a={row_out_style:"Y",rowIndex:"Y",rowindex:"Y",NaNFormat:"Y",footer_id:"Y",width:"Y",inputtype:"Y",header_id:"Y",colindex:"Y",colIndex:"Y",expression:"Y",displayFormat:"Y",displayFormatter:"Y",changeFuncName:"Y",directItemChoice:"Y",tdIndex:"Y",sort:"Y",useFilter:"Y",autoScope:"Y",trIndex:"Y",customFilterItemCnt:"Y",dateValidCheck:"Y",valueNode:"Y",openStatus:"Y",col_id:"Y",rowStyleClassName:"Y",readOnly:"Y",cellStyleClassName:"Y",targetcolumnid:"Y",targetColumnID:"Y",depthColumn:"Y",colId:"Y",showDepth:"Y",style_bak:"Y",tdindex:"Y",onChangeFunction:"Y",sortable:"Y",trindex:"Y",calendarValueType:"Y",colMerge:"Y",colMerged:"Y",inputType:"Y",value:"Y",idx:"Y",summary:"Y",toolTip:"Y",or_bgColor:"Y",localeRef:"Y",editModeEvent:"Y",dataType:"Y",useLocale:"Y",viewType:"Y",displayType:"Y",index:"Y",orderByColumn:"Y",checkboxLabel:"Y",unique_id:"Y",or_wd:"Y"};for(var n in e)"@"!=n.charAt(0)&&(o.q.dataPrefix?void 0!==i[n]?r+=n+"='"+(t=e[n]+"").wq_replaceAll("'","&#39;")+"' ":void 0!==a[n]?(t=e[n]+"",r+=u.Z.getDataPrefix(n)+"='"+t.wq_replaceAll("'","&#39;")+"' "):n.indexOf("data-")>-1&&(r+=n+"='"+(t=e[n]+"").wq_replaceAll("'","&#39;")+"' "):r+=n+"='"+(t=e[n]+"").wq_replaceAll("'","&#39;")+"' ")}else if(this.options.parseAttributes){0==this.attributes.length&&this.element&&(this.attributes=WebSquare.Parser.parseAttributesNode(this.element));for(n=0;n<this.attributes.length;n++)t=this.attributes[n].value?this.attributes[n].value.wq_replaceAll("'","&#39;"):"",r+=this.attributes[n].name+"='"+t+"' "}return r}catch(e){return s.Y.printStackTrace(e,null,this),""}},m.prototype.invoke=function(e,t,r,i){try{r=o.q.extend({excludePlugin:"",excludeId:"",includePlugin:"",includeId:""},r||{}),i=i||[];if(!this.getPluginName){
if(this.childControlList)for(var a=0;a<this.childControlList.length;a++)WebSquare.xfControl.prototype.invoke.call(this.childControlList[a],e,t,r,i);return}var n={group:!0,tabContainer:!0,Switch:!0,repeat:!0};if(!n[this.getPluginName()])return void $l("The components 'invoke' is not capable of running the component["+this.id+"].");var l=this.getChildren();for(a=0;a<l.length;a++){var u=l[a];if(u.getPluginName)if(n[u.getPluginName()])u.invoke(e,t,r,i);else{if(r.includePlugin.wq_trim().length>0||r.includeId.wq_trim().length>0){if(-1===(" "+r.includePlugin+" ").indexOf(" "+u.options.pluginName+" ")&&-1===(" "+r.includeId+" ").indexOf(" "+u.id+" "))continue}else if((" "+r.excludePlugin+" ").indexOf(" "+u.options.pluginName+" ")>-1||(" "+r.excludeId+" ").indexOf(" "+u.id+" ")>-1)continue;if("assert"===e){if(u.getValue){var c,d="";if(d="function"==typeof t?t(u):t,u.getValue()==d)(c={}).id=u.id,c.org_id=u.getOriginalID(),c.result=!0,i.push(c);else(c={}).id=u.id,c.org_id=u.getOriginalID(),c.result=!1,i.push(c)}}else u[e]&&"function"==typeof u[e]&&("function"==typeof t?((c={}).id=u.id,c.org_id=u.getOriginalID(),c.result=u[e](t(u)),i.push(c)):((c={}).id=u.id,c.org_id=u.getOriginalID(),c.result=u[e](t),i.push(c)))}else WebSquare.xfControl.prototype.invoke.call(u,e,t,r,i)}return i}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getTitle=function(){return this.render.getAttribute("title")},m.prototype.setTitle=function(e){this.render.setAttribute("title",e)},m.prototype.makeScope=function(e){if(this.scope||(this.scope={}),e.childControlList)for(var t=0;t<e.childControlList.length;t++){var r=e.childControlList[t];r.org_id&&(this.scope[r.org_id]=r),r.options&&("wframe"===r.options.pluginName||"pageFrame"===r.options.pluginName||r.options.udcName)||this.makeScope(r)}},m.attributes=(i={a:["href","target","name","title"]},a={},n=function(e){var t=a[e];if(!t){var r=i[e];if(t={},r)for(var n=0;n<r.length;n++)t[r[n]]=!0;var o=l.I.getConfig("attributes/whiteList");if(o&&o[e]){var s=o[e].split(",");for(n=0;n<s.length;n++)t[s[n]]=!0}a[e]=t}return t},{getAttributeNode:function(e){try{return this.render.getAttribute(e)}catch(e){s.Y.printStackTrace(e)}},setAttributeNode:function(e,t){try{n(this.options.tagname)[e]?this.render.setAttribute(e,t):d.v.printLog("Cannot set '"+e+"' attribute node on ["+this.id+"]. See attributes configurations.")}catch(e){s.Y.printStackTrace(e)}},removeAttributeNode:function(e){try{n(this.options.tagname)[e]?this.render.removeAttribute(e):d.v.printLog("Cannot remove '"+e+"' attribute node on ["+this.id+"]. See attributes configurations.")}catch(e){s.Y.printStackTrace(e)}}}),m.prototype.broadcast=function(e){try{for(var t in this.dataObjInfo){var r=this.dataObjInfo[t];if("linkedDataList"===r.initializeType)e.linkedDataList&&r[e.linkedDataList[0]].apply(r,e.linkedDataList[1]||[])}this.element&&("w2:grid"!=this.element.tagName&&"w2:gridView"!=this.element.tagName||e.gridView&&this[e.gridView[0]].apply(this,e.gridView[1]))}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.rollback=function(){try{var e=this.modelControl.getData(),t=this.getValue(),r=this.options.keepValue?t:e;r!=t&&this.setValue(r)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.setRefPosition=function(){try{if(this.modelControl.isDataCollectionRefBinded){var e=WebSquare.DataCollection.api.getObj(this.modelControl.dataCollectionRefInfo.dataComp);if(e&&"dataList"===e.initializeType)if("number"==typeof e.rowPosition){var t=e.getColumnPosition(),r=this.modelControl.dataCollectionRefInfo.colID;t!=r&&e.setColumnPosition(r)}}}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.fireRefEvent=function(){try{if(this.modelControl.isDataCollectionRefBinded){var e=WebSquare.DataCollection.api.getObj(this.modelControl.dataCollectionRefInfo.dataComp);if(e&&"dataList"===e.initializeType)if("number"==typeof e.rowPosition){var t=e.getColumnPosition(),r=this.modelControl.dataCollectionRefInfo.colID,i=this.getValue()
;if(t==r)!1===e.fireOnBeforeColumnChangeEvent({newValue:i})&&this.rollback()}}}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.clone=function(e,t){try{var r=this.element.cloneNode(!0);r.setAttribute("id",e);var i=u.Z.dynamicCreate(e,this.options.pluginName,r,t);return i.attributes=this.attributes,i.getAttributeNode=this.getAttributeNode,i.setAttributeNode=this.setAttributeNode,i.removeAttributeNode=this.removeAttributeNode,i}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype._clone=function(e){try{var t=u.Z._copyOptions(this.options);t.id=e.getAttribute("id")||null;var r=e.getAttribute("g_index");isNaN(r)||null===r||(t.g_index=r);var i=e.getAttribute("for");i&&(t.for=i);var a=WebSquare.controlFactory.createControl(null,t,e,this.scope_obj,!0,this.parentFrame);if(a.attributes=this.attributes,a.getAttributeNode=this.getAttributeNode,a.setAttributeNode=this.setAttributeNode,a.removeAttributeNode=this.removeAttributeNode,"searchbox"===this.options.pluginName){var n=a.input.options.parentEvent;a.input.options=u.Z._copyOptions(this.input.options),a.input.options.parentEvent=n||null}return a}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype._cloneRecursive=function(e){try{if(!e)return;var t=this._clone(e),r=this.childControlList;if(r.length>0){for(var i=[],a=e.getChildNodes(),n=0;n<a.length;n++){var o=a[n];1===o.nodeType&&null==WebSquare.controlFactory.createControlHash[o.getLocalName()]&&i.push(o)}var l=0;for(n=0;n<r.length;n++){if("function"==typeof r[n]._cloneRecursive)t.addControl(r[n]._cloneRecursive(i[l]));else if(r[n].constructor===WebSquare.tag){var u=new WebSquare.tag(null,null,r[n].element);u.scope_id=r[n].scope_id,u.scope_obj=r[n].scope_obj,t.addControl(u),l--}l++}}return t}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getURL=function(e,t){try{var r={frameObj:this.scope_obj,tempHome:this.getUdcRoot(),msaName:this.options.msaName};for(var i in t)r[i]=t[i];return l.I._getMsaSrc(e,r)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getImageURL=function(e,t,r){try{var i={frameObj:this.scope_obj,tempHome:this.getUdcRoot(),msaName:this.options.msaName,cssStyle:t};for(var a in r)i[a]=r[a];return i.type="image",l.I._getMsaSrc(e,i)}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getUdcHome=function(){},m.prototype.getUdcRoot=function(){try{if(null!=this.scope_obj&&this.scope_obj.options)return this.scope_obj.options.udcHome}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getScope=function(){try{var e=null;return null!=this.scope_obj&&this.scope_obj.options&&(e=this.scope_obj),e}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype.getScopeWindow=function(){try{return null!=this.scope_obj&&this.scope_obj.options?this.scope_obj.scope:window}catch(e){s.Y.printStackTrace(e,null,this)}},m._resizeInfo={},m.addCheckResize=function(e,t){try{WebSquare.xfControl._resizeInfo[e]=t,u.Z.setInterval(WebSquare.xfControl.checkResize,{key:"WebSquare_xfControl_checkResize",delay:70})}catch(e){s.Y.printStackTrace(e,null,this)}},m.removeCheckResize=function(e){try{delete WebSquare.xfControl._resizeInfo[e]}catch(e){s.Y.printStackTrace(e,null,this)}},m.checkResize=function(){try{var e=0;for(var t in WebSquare.xfControl._resizeInfo){var r=WebSquare.idCache[t];r&&(r[m._resizeInfo[t]](),e++)}0===e&&u.Z.clearInterval("WebSquare_xfControl_checkResize")}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype._getMsaName=function(){try{return this.scope_obj?this.scope_obj._getMsaName():""}catch(e){s.Y.printStackTrace(e,null,this)}},m.prototype._isSupportNextTabID=function(){try{return this.options&&!0==={anchor:!0,autoComplete:!0,checkbox:!0,checkcombobox:!0,grid:!0,gridView:!0,input:!0,inputCalendar:!0,multiselect:!0,radio:!0,searchbox:!0,selectbox:!0,spinner:!0,textarea:!0,trigger:!0}[this.options.pluginName]}catch(e){s.Y.printStackTrace(e)}},m.prototype.focusNextTabOrder=function(){try{if(null!=WebSquare.tabOrder[this.id]&&null!=WebSquare.tabOrder[this.id].nextTabID){var e=u.Z.getNextTabbableComp(this.id)
;e&&e.focus({shiftKey:!1})}}catch(e){s.Y.printStackTrace(e)}},m.prototype.focusPreTabOrder=function(){try{if(null!=WebSquare.tabOrder[this.id]&&null!=WebSquare.tabOrder[this.id].preTabID){var e=u.Z.getPreTabbableComp(this.id);e&&e.focus({shiftKey:!0})}}catch(e){s.Y.printStackTrace(e)}},m.prototype.getNextTabID=function(e){try{if(!this._isSupportNextTabID())return null;var t=null;return null!=WebSquare.tabOrder[this.id]&&null!=WebSquare.tabOrder[this.id].nextTabID&&(t=WebSquare.tabOrder[this.id].nextTabID),t}catch(e){s.Y.printStackTrace(e)}},m.prototype.setNextTabID=function(e,t){try{if(!this._isSupportNextTabID())return;null!=e&&u.Z.setNextTabID(this.id,e,t)}catch(e){s.Y.printStackTrace(e)}}},5228:(e,t,r)=>{r.d(t,{S:()=>i});var i=function(e){e.constructor===Object?this._elementType="json":this._elementType="xml",this._element=e,this.nodeType=this.getNodeType()};i.prototype.create=function(e){for(var t=[],r=0;r<e.length;r++)t.push(new WebSquare.Elem(e[r]));return t},i.prototype.getNodeType=function(){return"xml"===this._elementType?this._element.nodeType:this._element.T},i.prototype.getNodeValue=function(){var e=null;if("xml"===this._elementType)e=this._element.nodeValue;else if("json"===this._elementType){var t=this._element.T,r=3===t?"text":4===t?"cdata":7===t?"instruction":8===t?"commnet":null;e=null!==r?this._element[r]:null}return e},i.prototype.setNodeValue=function(e){if("xml"===this._elementType)this._element.nodeValue=e;else if("json"===this._elementType){var t=this._element.T,r=3===t?"text":4===t?"cdata":7===t?"instruction":8===t?"commnet":null;null!==r&&(this._element[r]=e)}},i.prototype.getElementsByTagName=function(e){var t=[];return"xml"===this._elementType?t=this._element.getElementsByTagName(e):"json"===this._elementType&&(t=WebSquare.jsonUtil.getNodesByTagName(this._element,e)),this.create(t)},i.prototype.getAttribute=function(e){return"xml"===this._elementType?this._element.getAttribute(e):WebSquare.jsonUtil.getAttribute(this._element,e)},i.prototype.getAttributes=function(){return"xml"===this._elementType?this._element.attributes:WebSquare.jsonUtil.getAttributes(this._element)},i.prototype.setAttribute=function(e,t){var r=void 0;return"xml"===this._elementType?r=this._element.setAttribute(e,t):"json"===this._elementType&&(r=WebSquare.jsonUtil.setAttribute(this._element,e,t)),r},i.prototype.removeAttribute=function(e){var t=void 0;return"xml"===this._elementType?t=this._element.removeAttribute(e):"json"===this._elementType&&(t=WebSquare.jsonUtil.removeAttribute(this._element,e)),t},i.prototype.getTagName=function(){var e="";return"xml"===this._elementType?e=this._element.nodeName:"json"===this._elementType&&(e=this._element.N),e},i.prototype.getLocalName=function(){var e=void 0;if("xml"===this._elementType){var t=this._element.nodeName.split(":");e=2===t.length?t[1]:t[0]}else"json"===this._elementType&&(e=WebSquare.jsonUtil.dropNS(this._element.N));return e},i.prototype.getNamespace=function(){var e="";if("xml"===this._elementType){var t=this._element.nodeName.split(":");e=2===t.length?t[0]:""}else"json"===this._elementType&&(e=WebSquare.jsonUtil.getNS(this._element.N));return e},i.prototype.getParentNode=function(){var e=void 0;return"xml"===this._elementType?e=this._element.parentNode:"json"===this._elementType&&(WebSquare.WebSquaredoc&&"function"==typeof WebSquare.WebSquaredoc.initParent&&WebSquare.WebSquaredoc.initParent(),e=this._element.parent),new WebSquare.Elem(e)},i.prototype.getChildNodes=function(){var e=[];return"xml"===this._elementType?e=this._element.childNodes:"json"===this._elementType&&(e=WebSquare.jsonUtil.getChildNodes(this._element)),this.create(e)},i.prototype.getValue=function(e,t){var r="";return e.startsWith("@")?r=this.getAttribute(e.substring(1)):(r=this.getElementsByTagName(e)[0],void 0!==t&&(r=r.getAttribute(t))),r},i.prototype.appendChild=function(e){return"xml"===this._elementType?this._element.appendChild(e):WebSquare.jsonUtil.appendChild(this._element,e)},
i.prototype.removeChild=function(e){return"xml"===this._elementType?this._element.removeChild(e):WebSquare.jsonUtil.removeChild(this._element,e)},i.prototype.cloneNode=function(e){var t=null;return t="xml"===this._elementType?this._element.cloneNode(e):WebSquare.jsonUtil.cloneNode(this._element,e),new WebSquare.Elem(t)},i.prototype.serialize=function(){return"xml"===this._elementType?WebSquare.xml.serialize(this._elemen):WebSquare.jsonUtil.serialize(this._element)},i.api={},i.api.create=function(e){for(var t=[],r=0;r<e.length;r++)t.push(new WebSquare.Elem(e[r]));return t},i.api.getLocalName=function(e){var t=e;return e instanceof WebSquare.Elem||(t=new WebSquare.Elem(e)),t.getLocalName()},i.api.getElementsByTagName=function(e,t,r){var i=[],a=e;return e instanceof WebSquare.Elem||(a=new WebSquare.Elem(e)),"xml"===a._elementType?i=WebSquare.xml.getElementsByTagName(a._element,t,r):"json"===a._elementType&&(i=WebSquare.jsonUtil.getNodesByTagName(a._element,t,r)),this.create(i)},i.api.getAttribute=function(e,t){var r=e;return e instanceof WebSquare.Elem||(r=new WebSquare.Elem(e)),r.getAttribute(t)},i.api.getValue=function(e,t,r){var i=e;return e instanceof WebSquare.Elem||(i=new WebSquare.Elem(e)),i.getValue(t,r)},i.api.getCDataNodeValue=function(e){var t="",r=e;return e instanceof WebSquare.Elem||(r=new WebSquare.Elem(e)),"xml"===r._elementType?t=WebSquare.xml.getCDataNodeValue(r._element):"json"===r._elementType&&(t=WebSquare.jsonUtil.getCDataNodeValue(r._element)),t},i.api.getTextNodeValue=function(e){var t="",r=e;return e instanceof WebSquare.Elem||(r=new WebSquare.Elem(e)),"xml"===r._elementType?t=WebSquare.xml.getTextNodeValue(r._element):"json"===r._elementType&&(t=WebSquare.jsonUtil.getTextNodeValue(r._element)),t},i.api.findNodes=function(e,t){var r=[],i=e;return e instanceof WebSquare.Elem||(i=new WebSquare.Elem(e)),"xml"===i._elementType?r=WebSquare.xml.findNodes(i._element,t):"json"===i._elementType&&(r=WebSquare.jsonUtil.findNodes(i._element,t)),r},i.type={element:1,attribute:2,text:3,cdata:4,instruction:7,comment:8,document:9}},7510:(e,t,r)=>{r.d(t,{K:()=>n});var i=r(2710),a=r(2327),n={setBindElement:function(e,t,r){var i=WebSquare.ModelUtil.getModelByID(r).instances[0].id;e.startsWith("instance(")||null==i?e.indexOf('"')>-1&&(e=e.replace('"',"'")):e=WebSquare.ModelUtil.concatInstanceFunction(e,i),void 0!==WebSquare.WebSquaredoc.boundElementCache[e]&&null!=WebSquare.WebSquaredoc.boundElementCache[e]||(WebSquare.WebSquaredoc.boundElementCache[e]={}),WebSquare.WebSquaredoc.boundElementCache[e][t]=t},setItemsetElement:function(e,t,r){var i=WebSquare.ModelUtil.getModelByID(r).instances[0].id;e.startsWith("instance(")||null==i?e.indexOf('"')>-1&&(e=e.replace('"',"'")):e=WebSquare.ModelUtil.concatInstanceFunction(e,i),void 0!==WebSquare.WebSquaredoc.boundElementCache[e]&&null!=WebSquare.WebSquaredoc.boundElementCache[e]||(WebSquare.WebSquaredoc.boundElementCache[e]={}),WebSquare.WebSquaredoc.boundElementCache[e][t]=t},createItemsetElement:function(e,t,r,a){try{this.nodeset=e,this.instance=WebSquare.ModelUtil.getInstanceByXPath(this.nodeset),this.filteredNodeset=WebSquare.ModelUtil.filterInstanceFunction(this.nodeset),this.id=a,this.label=t,this.value=r,this.nodeset.indexOf("/")==e.length-1&&(this.nodeset=this.nodeset.substring(0,e.length-1)),0==this.label.indexOf("/")?this.labelXPath=this.nodeset+this.label:this.labelXPath=this.nodeset+"/"+this.label,0==this.value.indexOf("/")?this.valueXPath=this.nodeset+this.value:this.valueXPath=this.nodeset+"/"+this.value}catch(e){i.Y.printStackTrace(e)}},createRefElement:function(e,t){try{this.nodeset=e,this.id=t,this.instance=WebSquare.ModelUtil.getInstanceByXPath(this.nodeset),this.filteredNodeset=WebSquare.ModelUtil.filterInstanceFunction(this.nodeset)}catch(e){i.Y.printStackTrace(e)}},createInstanceRefElement:function(e,t,r,a,n,o){try{this.xpath=e,this.id=t,this.baseNode=r,this.repeatNodeTagName=a,this.cellIdList=n,this.repeatxpath=e+"/"+a[0],this.scopeId=o}catch(e){
i.Y.printStackTrace(e)}},getBind:function(e,t){try{var r=WebSquare.ModelUtil.getModelByID(t);for(var a in r.binds){var n=WebSquare.WebSquaredoc.models[0].binds[a];if(n.id==e)return n}return null}catch(e){i.Y.printStackTrace(e)}},filterInstanceFunction:function(e){return e.startsWith("instance(")&&(e=e.substring(e.indexOf(")")+2,e.length)),e},concatInstanceFunction:function(e,t){var r=e;return e.startsWith("instance(")||(r="instance('"+t+"')/"+e),r},findInstanceNode:function(e,t,r){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._findInstanceNode(arguments[0]):this._findInstanceNode({xpath:e,modelId:t,scopeId:r})}catch(e){i.Y.printStackTrace(e)}},_findInstanceNode:function(e){var t=e.xpath||"",r=e.modelId||"",i=e.scopeId||"",a=e.instanceId||"",n=a?this.getInstanceByID(a,r,i):this.getInstanceByXPath(t,r,i);return t=WebSquare.ModelUtil.filterInstanceFunction(t),WebSquare.xml.findNode(n.document,t)},findSerializedNode:function(e,t,r){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._findSerializedNode(arguments[0]):this._findSerializedNode({xpath:e,modelId:t,scopeId:r})}catch(e){i.Y.printStackTrace(e)}},_findSerializedNode:function(e){try{var t=e.xpath||"",r=e.modelId||"",a=e.scopeId||"",n=e.instanceId||"";return WebSquare.xml.serialize(WebSquare.ModelUtil.findInstanceNode({xpath:t,modelId:r,scopeId:a,instanceId:n}))}catch(e){i.Y.printStackTrace(e)}},findInstanceNodes:function(e,t,r){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._findInstanceNodes(arguments[0]):this._findInstanceNodes({xpath:e,modelId:t,scopeId:r})}catch(e){i.Y.printStackTrace(e)}},_findInstanceNodes:function(e){try{var t=e.xpath||"",r=e.modelId||"",a=e.scopeId||"",n=e.instanceId||"",o=n?this.getInstanceByID(n,r,a):this.getInstanceByXPath(t,r,a);return WebSquare.xml.findNodes(o.document,t)}catch(e){i.Y.printStackTrace(e)}},getInstanceValue:function(e,t,r){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._getInstanceValue(arguments[0]):this._getInstanceValue({xpath:e,modelId:t,scopeId:r})}catch(e){i.Y.printStackTrace(e)}},_getInstanceValue:function(e){try{var t=e.xpath||"",r=e.modelId||"",a=e.scopeId||"",n=e.instanceId||"",o="",s=this.findInstanceNode({xpath:t,modelId:r,scopeId:a,instanceId:n});if(null==s)return"";if(1!=s.nodeType)return s.nodeValue;for(var l=s.firstChild;null!=l;l=l.nextSibling)3!=l.nodeType&&4!=l.nodeType||(o+=l.nodeValue);return o}catch(e){i.Y.printStackTrace(e)}},setInstanceValue:function(e,t,r,a){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._setInstanceValue(arguments[0]):this._setInstanceValue({xpath:e,value:t,modelId:r,scopeId:a})}catch(e){i.Y.printStackTrace(e)}},_setInstanceValue:function(e){try{var t=e.xpath||"",r=e.value,n=e.modelId||"",o=e.scopeId||"",s=e.instanceId||"",l=!!e.noRefresh,u=e.gridNoRefresh,c=this.getInstanceByID(s,n,o);if(r=void 0===r||null==r?"":r+"",-1!=t.lastIndexOf("/@")&&t.lastIndexOf("/")==t.lastIndexOf("/@")){var d=t.lastIndexOf("/@"),p=t.substring(d+2),h=t.substring(0,d),f=WebSquare.ModelUtil.findInstanceNode({xpath:h,modelId:n,scopeId:o,instanceId:s});if(null==f){if(null==(g=WebSquare.xml.createNode(c.document,h)))return!1;g.setAttribute(p,r)}else f.setAttribute(p,r);l||WebSquare.WebSquaredoc.detectChange(t,void 0,n,{op:"setInstanceValue",value:r,xpath:h,scope_id:o})}else{var g;if(null==(g=WebSquare.ModelUtil.findInstanceNode({xpath:t,modelId:n,scopeId:o,instanceId:s})))if(null==(g=WebSquare.xml.createNode(c.document,t)))return!1;if(null==g.firstChild){var m=g.ownerDocument.createTextNode(r);WebSquare.xml.appendChild(g,m)}else g.firstChild.nodeValue=r;l||WebSquare.WebSquaredoc.detectChange(t,void 0,n,{op:"setInstanceValue",value:r,xpath:t,gridNoRefresh:u,scope_id:o})}}catch(e){return a.v.printLog("ERROR["+t+"] ["+r+"] at WebSquare.ModelUtil.setInstanceValue "),
i.Y.printStackTrace(e),!1}return!0},setInstanceNode:function(e,t,r,i,a,n){return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._setInstanceNode(arguments[0]):this._setInstanceNode({doc:e,xpath:t,modelID:r,mode:i,refresh:a,scopeId:n})},_setInstanceNode:function(e){var t=null;try{var r=e.doc,n=e.xpath||"",o=e.modelID||"",s=e.mode,l=e.refresh,u=e.scopeId||"",c=e.instanceId||"";9==r.nodeType&&(r=r.documentElement);try{var d=c?this.getInstanceByID(c,o,u):this.getInstanceByXPath(n,o,u),p=WebSquare.ModelUtil.filterInstanceFunction(n);t=WebSquare.xml.createNode(d.document,p)}catch(e){throw e}if(null==t){var h=new Error;throw h.number=0,h.description="[WebSquare.ModelUtil.setInstanceNode] destNode does not exist.",h}var f,g,m=r.cloneNode(!0);if("replace"==s){if((f=this.getInstanceRefElementIndex(n,void 0,u))<0){g=n+"/"+r.tagName;for(var b=r;b&&!((f=this.getInstanceRefElementIndex(g,void 0,u))>=0);)g=g+"/"+b.tagName,b=b.childNodes[0]?b.childNodes[0]:null}}else f=this.getInstanceRefElementIndex(n,void 0,u);switch(s){case"append":WebSquare.xml.appendChild(t,m);break;case"insertBeforeSibling":t.parentNode.insertBefore(m,t);break;case"appendSibling":WebSquare.xml.appendChild(t.parentNode,m);break;default:s="replace";for(var y=t.childNodes,S=y.length-1;S>=0;S--)t.removeChild(y.item(S));WebSquare.xml.appendChild(t,m)}var v=WebSquare.ModelUtil.getModelByID();WebSquare.WebSquaredoc.unrender(n);var w=WebSquare.ModelUtil._getNodePath(m);"replace"!==s&&w?v.refresh(s,n+"/"+w):v.refresh(s),0!=l&&f>=0&&WebSquare.WebSquaredoc.detectChange(n,void 0,o,{op:"setInstanceNode",node:m,replaceNode:b,type:s,xpath:n,replacexpath:g,scope_id:u})}catch(e){a.v.printLog("ERROR [xpath:"+n+"] at WebSquare.ModelUtil.setInstanceNode "),i.Y.printStackTrace(e)}},setInstanceLastNodeChildNodes:function(e,t,r,i,a,n){return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._setInstanceLastNodeChildNodes(arguments[0]):this._setInstanceLastNodeChildNodes({doc:e,xpath:t,modelID:r,mode:i,refresh:a,scopeId:n})},_setInstanceLastNodeChildNodes:function(e){var t=null;try{var r=e.doc,n=e.xpath||"",o=e.modelID||"",s=e.mode,l=e.refresh,u=e.scopeId||"",c=e.instanceId||"";9==r.nodeType&&(r=r.documentElement);try{var d=c?this.getInstanceByID(c,o,u):this.getInstanceByXPath(n,o,u),p=WebSquare.ModelUtil.filterInstanceFunction(n);t=WebSquare.xml.createNode(d.document,p)}catch(e){throw e}if(null==t){var h=new Error;throw h.number=0,h.description="[WebSquare.ModelUtil.setInstanceNode] destNode does not exist.",h}var f,g,m=r.cloneNode(!0),b=n.split("/"),y=n.split("[")[0],S=b[b.length-1].match(/[^[\]]+(?=])/)[0],v=this.getInstanceRefElementIndex(n,void 0,u);if(("replace"==s||"append"==s)&&v>=0&&m.childNodes.length>0&&(g=m.tagName),"append"!=s||WebSquare.xml.hasChildElement(t)||(s="replace"),"append"===s)for(var w=m.childNodes,C=0;C<=w.length-1;C++){if(1==(_=w.item(C)).nodeType){var q=WebSquare.xml.parse(WebSquare.xml.serialize(_)).documentElement;WebSquare.xml.appendChild(t,q)}}else{s="replace";var W=t.childNodes;for(w=m.childNodes,C=W.length-1;C>=0;C--)t.removeChild(W.item(C));v>=0&&(f=m);for(C=0;C<=w.length-1;C++){var _;if(1==(_=w.item(C)).nodeType){q=WebSquare.xml.parse(WebSquare.xml.serialize(_)).documentElement;WebSquare.xml.appendChild(t,q)}}}var x=WebSquare.ModelUtil.getModelByID();WebSquare.WebSquaredoc.unrender(n),x.refresh(s),0!=l&&v>=0&&f&&f.childNodes.length>0&&WebSquare.WebSquaredoc.detectChange(n,void 0,o,{op:"setInstanceLastNodeChildNodes",repeatNode:g,node:f,type:s,xpath:y,changeIndex:S,scope_id:u})}catch(e){a.v.printLog("ERROR [xpath:"+n+"] at WebSquare.ModelUtil.setInstanceNode "),i.Y.printStackTrace(e)}},setInstanceChildNodes:function(e,t,r,i,a,n){return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._setInstanceChildNodes(arguments[0]):this._setInstanceChildNodes({doc:e,xpath:t,modelID:r,mode:i,refresh:a,scopeId:n})},_setInstanceChildNodes:function(e){var t=null;try{
var r=e.doc,n=e.xpath||"",o=e.modelID||"",s=e.mode,l=e.scopeId||"",u=e.instanceId||"";if(-1!=(_=n.split("/"))[_.length-1].indexOf("["))return this._setInstanceLastNodeChildNodes({doc:e.doc,xpath:e.xpath,modelID:e.modelID,mode:e.mode,refresh:e.refresh,instanceId:e.instanceId,scopeId:e.scopeId});9==r.nodeType&&(r=r.documentElement);try{var c=u?this.getInstanceByID(u,o,l):this.getInstanceByXPath(n,o,l),d=WebSquare.ModelUtil.filterInstanceFunction(n);t=WebSquare.xml.createNode(c.document,d)}catch(e){throw e}if(null==t){var p=new Error;throw p.number=0,p.description="[WebSquare.ModelUtil.setInstanceNode] destNode does not exist.",p}var h=r.cloneNode(!0),f=[],g=[],m=this.getInstanceRefElementIndex(n,void 0,l),b=[];if("append"==s){for(var y=0,S=0;S<t.childNodes.length;S++)1==t.childNodes[S].nodeType&&y++;0==y&&(s="replace")}if("replace"==s&&WebSquare.WebSquaredoc.instanceRefElement.length)for(var v=0;v<WebSquare.WebSquaredoc.instanceRefElement.length;v++){var w=WebSquare.WebSquaredoc.instanceRefElement[v].xpath,C=WebSquare.WebSquaredoc.instanceRefElement[v].baseNode,q=WebSquare.WebSquaredoc.instanceRefElement[v].repeatNodeTagName.join("/");if(WebSquare.ModelUtil.isPartialMatchedXPath(w,n)){var W=WebSquare.WebSquaredoc.instanceRefElement[v].scopeId;if(!W||l===W){var _=n.split("/"),x=n;if(w.split("/").length>_.length)if(m>=0&&C==h.tagName)f.push(h),b.push(x);else{var I=WebSquare.ModelUtil.getMatchedData(h,w,C,h.tagName,n);null!=I&&(g.push(I.baseNode),f.push(I.dataNode),b.push(w))}else for(var T=0;T<h.childNodes.length;T++)1==r.nodeType&&h.childNodes[T].tagName==q&&(C!=h.tagName?g.push(h.tagName):g.push(null),f.push(h),b.push(w))}}}if("append"===s){var k=h.childNodes;if(m>=0){w=WebSquare.WebSquaredoc.instanceRefElement[m].xpath,C=WebSquare.WebSquaredoc.instanceRefElement[m].baseNode,q=WebSquare.WebSquaredoc.instanceRefElement[m].repeatNodeTagName.join("/");if(g.length>0){if(!f)for(v=0;v<k.length;v++)if(k[v].tagName==g){f.push(k[v]),b.push(w);break}}else C!=h.tagName?g.push(h.tagName):g.push(null),f.push(h),b.push(w)}for(T=0;T<=k.length-1;T++){if(1==(E=k.item(T)).nodeType){var L=WebSquare.xml.parse(WebSquare.xml.serialize(E)).documentElement;WebSquare.xml.appendChild(t,L)}}}else{s="replace";var A=t.childNodes;for(k=h.childNodes,T=A.length-1;T>=0;T--)t.removeChild(A.item(T));for(T=0;T<=k.length-1;T++){var E;if(1==(E=k.item(T)).nodeType){L=WebSquare.xml.parse(WebSquare.xml.serialize(E)).documentElement;WebSquare.xml.appendChild(t,L)}}}var D=WebSquare.ModelUtil.getModelByID();if(WebSquare.WebSquaredoc.unrender(n),D.refresh(s),f.length)for(v=0;v<b.length;v++)WebSquare.WebSquaredoc.detectChange(n,void 0,o,{op:"setInstanceChildNodes",node:f[v],baseNode:g[v],type:s,xpath:b[v],scope_id:l});else if("replace"==s)for(T=0;T<WebSquare.WebSquaredoc.instanceRefElement.length;T++){var M=WebSquare.WebSquaredoc.instanceRefElement[T];if((!M.scopeId||l===M.scopeId)&&-1!=M.xpath.indexOf(n)){var N=WebSquare.ModelUtil.findInstanceNode(M.xpath,void 0,l);(!N||N&&0==N.childNodes.length)&&WebSquare.WebSquaredoc.detectChange(n,void 0,null,{op:"removeInstanceNodeAll",node:h,xpath:n,scope_id:l})}}}catch(e){a.v.printLog("ERROR [xpath:"+n+"] at WebSquare.ModelUtil.setInstanceNode "),i.Y.printStackTrace(e)}},getModelByID:function(e){if(void 0===e||null==e||""==e)return WebSquare.WebSquaredoc.models[0];for(var t=0;t<WebSquare.WebSquaredoc.models.length;t++)if(WebSquare.WebSquaredoc.models[t].id==e)return WebSquare.WebSquaredoc.models[t];return null},getInstanceByXPath:function(e,t,r){var i=WebSquare.ModelUtil.getModelByID(t);e=e.wq_trim();if(n._createEmptyInstance(t,r),e.startsWith("instance(")){var a=e.indexOf("("),o=e.indexOf(")"),s=new Function("return "+e.substring(a+1,o))();for(var l in i.instances){var u=i.instances[l];if(r&&(!u.id||u.id===s)&&r===u.scope_id||u.id==s)return u}return i.instances[0]}var c=i.instances[0];if(r)for(var d=0,p=i.instances.length;d<p;d++){if((u=i.instances[d]).scope_id===r){c=u;break}}return c},getInstanceByID:function(e,t,r){
var a=WebSquare.ModelUtil.getModelByID(t);try{for(var o in n._createEmptyInstance(t,r),a.instances){var s=a.instances[o];if(r&&s.scope_id===r&&(!s.id||s.id===e)||s.id===e)return s}}catch(e){i.Y.printStackTrace(e)}return a.instances[0]},_createEmptyInstance:function(e,t){var r=WebSquare.ModelUtil.getModelByID(e);try{if(0===r.instances.length){var a=WebSquare.Parser.WebSquareParser.prototype.parseInstance('<xf:instance xmlns:xf="http://www.w3.org/2002/xforms"><data xmlns=""/></xf:instance>',t);r.instances.push(a)}}catch(e){i.Y.printStackTrace(e)}},copyNode:function(e,t,r,a,n){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._copyNode(arguments[0]):this._copyNode({srcXPath:e,destXPath:t,srcModelId:r,destModelId:a,scopeId:n})}catch(e){i.Y.printStackTrace(e)}},_copyNode:function(e){var t,r=e.srcXPath||"",i=e.destXPath||"",a=e.srcModelId||"",n=e.destModelId||"",o=e.scopeId||"",s=e.srcInstanceId||"",l=e.destInstanceId||"";try{var u=WebSquare.ModelUtil.findInstanceNode({xpath:r,modelId:a,scopeId:o,instanceId:s})}catch(e){throw e}if(null==u)throw(t=new Error).number=0,t.description="[WebSquare.ModelUtil.copyNode] srcNode does not exist.",t;try{var c=WebSquare.ModelUtil.getInstanceByID(l,n,o),d=WebSquare.ModelUtil.filterInstanceFunction(i),p=WebSquare.xml.createNode(c.document,d)}catch(e){throw e}if(null==p)throw(t=new Error).number=0,t.description="[WebSquare.ModelUtil.copyNode] destNode does not exist.",t;for(var h=p.childNodes,f=h.length-1;f>=0;f--)p.removeChild(h.item(f));var g=WebSquare.xml.parse(WebSquare.xml.serialize(u)).documentElement;if(WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari||WebSquare.core.browserCheck.android||WebSquare.core.browserCheck.blackberry){var m=p.ownerDocument.importNode(g,!0);p.appendChild(m)}else p.appendChild(g);WebSquare.WebSquaredoc.detectChange(i,void 0,n,{scope_id:o})},copyChildrenNodes:function(e,t,r,a,n,o){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._copyChildrenNodes(arguments[0]):this._copyChildrenNodes({srcXPath:e,destXPath:t,mode:r,srcModelId:a,destModelId:n,scopeId:o})}catch(e){i.Y.printStackTrace(e)}},_copyLastNodeChildrenNodes:function(e){var t,r,i,a=e.srcXPath||"",n=e.destXPath||"",o=e.mode,s=e.srcModelId||"",l=e.destModelId||"",u=e.srcInstanceId||"",c=e.destInstanceId||"",d=e.scopeId||"";try{var p=WebSquare.ModelUtil.findInstanceNode({xpath:a,modelId:s,instanceId:u,scopeId:d})}catch(e){throw e}if(null==p)throw(t=new Error).number=0,t.description="[WebSquare.ModelUtil.copyNode] srcNode does not exist.",t;try{var h=WebSquare.ModelUtil.getInstanceByID(c,l,d),f=WebSquare.ModelUtil.filterInstanceFunction(n),g=WebSquare.xml.createNode(h.document,f)}catch(e){throw e}if(null==g)throw(t=new Error).number=0,t.description="[WebSquare.ModelUtil.copyNode] destNode does not exist.",t;if(g==p)throw(t=new Error).number=0,t.description="[WebSquare.ModelUtil.copyNode] srcNode and destNode cannot be the same in this operation.",t;var m=n.split("/"),b=n.split("[")[0],y=m[m.length-1].match(/[^[\]]+(?=])/)[0],S=this.getInstanceRefElementIndex(n,void 0,d);switch("replaceAll"==o&&S>=0&&p.childNodes.length>0&&(r=p.tagName),o){case"replaceAll":var v=g.cloneNode(!1),w=p.childNodes;S>=0&&(i=p);for(var C=0;C<=w.length-1;C++)1==w[C].nodeType&&WebSquare.xml.appendChild(v,w[C].cloneNode(!0));g.parentNode.insertBefore(v,g),g.parentNode.removeChild(g),g=null;break;case"append":for(w=p.childNodes,C=0;C<=w.length-1;C++){var q=w.item(C);if(1==q.nodeType){var W=WebSquare.xml.parse(WebSquare.xml.serialize(q)).documentElement;WebSquare.xml.appendChild(g,W)}}}"true"==WebSquare.core.getConfiguration("/WebSquare/ModelUtil/copyChildrenNodes/@refresh")&&WebSquare.ModelUtil.refreshModel(n,l),S>=0&&i&&i.childNodes.length>0&&WebSquare.WebSquaredoc.detectChange(n,void 0,l,{op:"copyLastNodeChildrenNodes",node:i,type:o,repeatNode:r,changeIndex:y,xpath:b,scope_id:d})},_copyChildrenNodes:function(e){
var t,r,i=e.srcXPath||"",a=e.destXPath||"",n=e.mode,o=e.srcModelId||"",s=e.destModelId||"",l=e.srcInstanceId||"",u=e.destInstanceId||"",c=e.scopeId||"",d=a.split("/");if(-1!=d[d.length-1].indexOf("["))return this._copyLastNodeChildrenNodes({srcXPath:i,destXPath:a,mode:n,srcModelId:o,destModelId:s,srcInstanceId:l,destInstanceId:u,scopeId:c});try{var p=WebSquare.ModelUtil.findInstanceNode({xpath:i,modelId:o,instanceId:l,scopeId:c})}catch(e){throw e}if(null==p)throw(t=new Error).number=0,t.description="[WebSquare.ModelUtil.copyNode] srcNode does not exist.",t;try{var h=WebSquare.ModelUtil.getInstanceByID(u,s,c),f=WebSquare.ModelUtil.filterInstanceFunction(a),g=WebSquare.xml.createNode(h.document,f)}catch(e){throw e}if(null==g)throw(t=new Error).number=0,t.description="[WebSquare.ModelUtil.copyNode] destNode does not exist.",t;if(g==p)throw(t=new Error).number=0,t.description="[WebSquare.ModelUtil.copyNode] srcNode and destNode cannot be the same in this operation.",t;var m=this.getInstanceRefElementIndex(a,void 0,c),b=[],y=[],S=[];if("replaceAll"==n&&WebSquare.WebSquaredoc.instanceRefElement.length)for(var v=0;v<WebSquare.WebSquaredoc.instanceRefElement.length;v++){if(!(B=WebSquare.WebSquaredoc.instanceRefElement[v].scopeId)||c===B){var w=WebSquare.WebSquaredoc.instanceRefElement[v].xpath,C=WebSquare.WebSquaredoc.instanceRefElement[v].baseNode;if(a==w){var q=WebSquare.ModelUtil.findInstanceNode({xpath:i,instanceId:l,scopeId:c});r=q.tagName,S.push(q),b.push(i),y.push(w)}else if(WebSquare.ModelUtil.isPartialMatchedXPath(w,a)){var W=WebSquare.ModelUtil.getMatchedData(p,w,C,i,a);null!=W&&(S.push(W.dataNode),b.push(W.refXPath),y.push(w))}}}switch(n){case"replaceAll":var _=g.cloneNode(!1),x=p.childNodes;for(v=0;v<=x.length-1;v++)1==x[v].nodeType&&WebSquare.xml.appendChild(_,x[v].cloneNode(!0));g.parentNode.insertBefore(_,g),g.parentNode.removeChild(g),g=null;break;case"overwrite":x=p.childNodes;var I={},T={};for(v=0;v<=x.length-1;v++){if(1==(Y=x[v]).nodeType){var k=Y.nodeName,L=g.selectNodes(k);L.length>0?(void 0===T[k]?T[k]=0:T[k]=T[k]+1,void 0!==L[T[k]]?I[v]=L[T[k]]:I[v]=null):I[v]=null}}for(v=0;v<=x.length-1;v++){if(1==(Y=x[v]).nodeType){var A,E=WebSquare.xml.parse(WebSquare.xml.serialize(Y));A=WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari||WebSquare.core.browserCheck.android||WebSquare.core.browserCheck.blackberry?E.documentElement.cloneNode(!0):E.documentElement,null!=I[v]?g.replaceChild(A,I[v]):WebSquare.xml.appendChild(g,A)}}break;case"replaceOnly":var D=g.childNodes;for(v=0;v<D.length;v++){var M=D.item(v);if(1==M.nodeType){var N=M.nodeName;if(null!=(Y=p.selectSingleNode(N))){var R=(E=WebSquare.xml.parse(WebSquare.xml.serialize(Y))).documentElement,O=g.ownerDocument.importNode(R,!0);g.replaceChild(O,M)}}}break;case"append":x=p.childNodes;if(m>=0)if(r){if(!S)for(var P=0;P<x.length;P++)if(x[P].tagName==r){S.push(x[P]),b.push(i);break}}else for(P=0;P<p.childNodes.length;P++)if(1==p.childNodes[P].nodeType&&WebSquare.WebSquaredoc.instanceRefElement[m].repeatNodeTagName[0]==p.childNodes[P].tagName){var F=i.split("/");r=F[F.length-1],S.push(p),y.push(a),b.push(i);break}for(v=0;v<=x.length-1;v++){var Y;if(1==(Y=x.item(v)).nodeType){R=(E=WebSquare.xml.parse(WebSquare.xml.serialize(Y))).documentElement;WebSquare.xml.appendChild(g,R)}}}if("true"==WebSquare.core.getConfiguration("/WebSquare/ModelUtil/copyChildrenNodes/@refresh")&&WebSquare.ModelUtil.refreshModel(a,s),S.length)for(P=0;P<y.length;P++)WebSquare.WebSquaredoc.detectChange(y[P],void 0,s,{op:"copyChildrenNodes",node:S[P],baseNode:r,type:n,xpath:y[P],copiedXPath:b[P],scope_id:c});else if("replaceAll"==n)for(v=0;v<WebSquare.WebSquaredoc.instanceRefElement.length;v++){var j=WebSquare.WebSquaredoc.instanceRefElement[v];if(-1!=j.xpath.indexOf(a)){var B;if((B=WebSquare.WebSquaredoc.instanceRefElement[v].scopeId)&&c!==B)continue;var U=WebSquare.ModelUtil.findInstanceNode(j.xpath,void 0,c)
;(!U||U&&0==U.childNodes.length)&&WebSquare.WebSquaredoc.detectChange(a,void 0,null,{op:"removeInstanceNodeAll",xpath:a,scope_id:c})}}},refreshModel:function(e,t,r){try{e||(e="");var a=WebSquare.ModelUtil.getModelByID(t);WebSquare.WebSquaredoc.unrender(e),r?a.refresh(void 0,r):a.refresh()}catch(e){i.Y.printStackTrace(e)}},removeInstanceNode:function(e,t,r){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._removeInstanceNode(arguments[0]):this._removeInstanceNode({xpath:e,refresh:t,scopeId:r})}catch(e){i.Y.printStackTrace(e)}},_removeInstanceNode:function(e){try{var t,r=e.xpath||"",a=e.refresh,n=e.scopeId||"",o=e.instanceId||"",s=WebSquare.ModelUtil.findInstanceNode({xpath:r,scopeId:n,instanceId:o}),l=!1,u=[];if(s&&0!=a&&WebSquare.WebSquaredoc.instanceRefElement.length)for(var c=0;c<WebSquare.WebSquaredoc.instanceRefElement.length;c++){var d=WebSquare.WebSquaredoc.instanceRefElement[c].scopeId;if(!d||n===d){var p=r.split("/"),h=WebSquare.WebSquaredoc.instanceRefElement[c].xpath,f=h.split("/");if(f.length>p.length&&WebSquare.ModelUtil.isPartialMatchedXPath(h,r)){for(var g=r,m=p.length;m<f.length-1;m++)g+="/"+f[m];r!=g&&(s=WebSquare.ModelUtil.findInstanceNode({xpath:g,scopeId:n,instanceId:o})),s&&s.selectSingleNode(f[f.length-1])&&(l=!0,u.push(h))}else if(r==h)l=!0,u.push(h);else if(WebSquare.ModelUtil.isPartialMatchedXPath(h,r)){var b=r.lastIndexOf("/");if(b>0){var y=r.substring(b+1);if(y.match(/\[@/i));else{if(-1!=y.indexOf("[")){var S=y.match(/[^[\]]+(?=])/)[0];isNaN(S)?t=WebSquare.ModelUtil.getInstanceIndex(WebSquare.ModelUtil.findInstanceNodes({xpath:WebSquare.WebSquaredoc.instanceRefElement[c].repeatxpath,scopeId:n,instanceId:o}),s):(!0,t=parseInt(S)-1)}else t=WebSquare.ModelUtil.getInstanceIndex(WebSquare.ModelUtil.findInstanceNodes({xpath:WebSquare.WebSquaredoc.instanceRefElement[c].repeatxpath,scopeId:n,instanceId:o}),s);if(r=h,t>=0)break}}}}}if(s){var v=WebSquare.ModelUtil._getNodePath(s,!0);if(s.parentNode.removeChild(s),"true"==WebSquare.core.getConfiguration("/WebSquare/ModelUtil/removeInstanceNode/@refresh")){var w=r;v&&(w=r+"/"+v),WebSquare.ModelUtil.refreshModel(r,null,w)}}if(t>=0&&(null==a||1==a)&&WebSquare.WebSquaredoc.instanceRefElement.length)WebSquare.WebSquaredoc.detectChange(r,void 0,null,{op:"removeInstanceNode",node:s,deleteIndex:t,xpath:r,scope_id:n});else if(1==l)for(var C=0;C<u.length;C++)WebSquare.WebSquaredoc.detectChange(u[C],void 0,null,{op:"removeInstanceNodeAll",node:s,xpath:u[C],scope_id:n})}catch(e){i.Y.printStackTrace(e)}},removeInstanceNodes:function(e,t){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._removeInstanceNodes(arguments[0]):this._removeInstanceNodes({xpath:e,scopeId:t})}catch(e){i.Y.printStackTrace(e)}},_removeInstanceNodes:function(e){try{for(var t,r=e.xpath||"",a=e.scopeId||"",n=e.instanceId||"",o=WebSquare.ModelUtil.findInstanceNodes({xpath:r,scopeId:a,instanceId:n}),s=e.gridNoRefresh,l=r,u=o.length-1;u>=0;u--){if(WebSquare.WebSquaredoc.instanceRefElement.length){var c=o[u];if(c&&WebSquare.WebSquaredoc.instanceRefElement.length)for(var d=0;d<WebSquare.WebSquaredoc.instanceRefElement.length;d++){var p=WebSquare.WebSquaredoc.instanceRefElement[d].scopeId;if(!p||a===p){var h=!1,f=[],g=r.split("/"),m=WebSquare.WebSquaredoc.instanceRefElement[d].xpath,b=m.split("/");if(b.length>g.length&&WebSquare.ModelUtil.isPartialMatchedXPath(m,r)){for(var y=r,S=g.length;S<b.length-1;S++)y+="/"+b[S];r!=y&&(c=WebSquare.ModelUtil.findInstanceNode({xpath:y,scopeId:a,instanceId:n})),c&&c.selectSingleNode(b[b.length-1])&&(h=!0,f.push(m))}else if(r==m)h=!0,f.push(m);else if(WebSquare.ModelUtil.isPartialMatchedXPath(m,r)){var v=r.lastIndexOf("/");if(v>0){var w=r.substring(v+1);if(w.match(/\[@/i));else{if(-1!=w.indexOf("[")){var C=w.match(/[^[\]]+(?=])/)[0];isNaN(C)?t=WebSquare.ModelUtil.getInstanceIndex(WebSquare.ModelUtil.findInstanceNodes({xpath:WebSquare.WebSquaredoc.instanceRefElement[d].repeatxpath,
scopeId:a,instanceId:n}),c):(!0,t=parseInt(C)-1)}else t=WebSquare.ModelUtil.getInstanceIndex(WebSquare.ModelUtil.findInstanceNodes({xpath:WebSquare.WebSquaredoc.instanceRefElement[d].repeatxpath,scopeId:a,instanceId:n}),o[u]);l=m}}}if(t>=0&&WebSquare.WebSquaredoc.instanceRefElement.length)WebSquare.WebSquaredoc.detectChange(r,void 0,null,{op:"removeInstanceNode",node:c,deleteIndex:t,xpath:l,gridNoRefresh:s,scope_id:a});else if(1==h)for(var q=0;q<f.length;q++)WebSquare.WebSquaredoc.detectChange(f[q],void 0,null,{op:"removeInstanceNodeAll",node:c,xpath:f[q],gridNoRefresh:s,scope_id:a})}}}o[u].parentNode.removeChild(o[u])}"true"==WebSquare.core.getConfiguration("/WebSquare/ModelUtil/removeInstanceNodes/@refresh")&&WebSquare.ModelUtil.refreshModel(r)}catch(e){i.Y.printStackTrace(e)}},removeChildNodes:function(e,t){try{return 0===arguments.length?void 0:1===arguments.length&&"object"==typeof arguments[0]?this._removeChildNodes(arguments[0]):this._removeChildNodes({xpath:e,scopeId:t})}catch(e){i.Y.printStackTrace(e)}},_removeChildNodes:function(e){try{var t=e.xpath||"",r=e.scopeId||"",a=e.instanceId||"",n=WebSquare.ModelUtil.findInstanceNode({xpath:t,scopeId:r,instanceId:a});if(n)for(var o=n.childNodes,s=o.length-1;s>=0;s--)n.removeChild(o[s])}catch(e){i.Y.printStackTrace(e)}},createInstance:function(e){try{if(!e||!e.doc)return!1;for(var t="string"==typeof e.doc?WebSquare.xml.parse(e.doc):e.doc,r=e.modelId||"",a=e.instanceId||"",n=e.scopeId||"",o=e.mode||"append",s=this.getModelByID(r),l=e.targetInstanceId||"",u={idx:-1,obj:null},c=0,d=s.instances.length;c<d;c++){var p=s.instances[c].scopeId;if(!p||n===p){if("replace"!=o&&s.instances[c].id===a)return!1;if("replace"==o&&s.instances[c].id===a){u.obj=s.instances[c],u.idx=c;break}}}var h=WebSquare.WebSquaredoc.models[0].instances[0].xmlNode.cloneNode(!0);h.setAttribute("id",a),n&&h.setAttribute("scopeId",n);var f=WebSquare.xml.getFirstChildElement(h),g=f.childNodes;for(c=g.length-1;c>=0;c--)f.removeChild(g[c]);t=WebSquare.util.isArray(t)?t:[t];for(c=0,d=t.length;c<d;c++){var m=t[c];switch(m.nodeType){case 1:f.appendChild(m);break;case 9:f.appendChild(WebSquare.xml.getFirstChildElement(m));break;default:return!1}}var b=new WebSquare.Model.Instance(h,f);switch(o){case"insertBefore":var y=this.getInstanceByID(l),S=0;for(c=0,d=s.instances.length;c<d;c++)if(s.instances[c]===y){S=c;break}s.instances.splice(S-1<0?0:S-1,0,b),y.xmlNode.parentNode.insertBefore(h,y.xmlNode);break;case"replace":if(!u.obj)return!1;y=u.obj,S=u.idx;var v=WebSquare.xml.getNextSiblingElement(y.xmlNode);s.instances[S]=b,v.parentNode.insertBefore(h,v),s.xmlNode.removeChild(y.xmlNode);break;default:for(y=l?this.getInstanceByID(l):s.instances[s.instances.length-1],S=s.instances.length-1,c=0,d=s.instances.length;c<d;c++)if(s.instances[c]===y){S=c;break}y.xmlNode.parentNode.insertBefore(h,WebSquare.xml.getNextSiblingElement(s.instances[S].xmlNode)),s.instances.splice(S+1,0,b)}return!0}catch(e){i.Y.printStackTrace(e)}return!1},removeInstance:function(e){try{if(!e||!e.instanceId)return!1;for(var t=e.modelId||"",r=e.instanceId||"",a=e.scopeId||"",n=this.getModelByID(t),o=0,s=n.instances.length;o<s;o++){var l=n.instances[o].scopeId;if((!l||a===l)&&(n.instances[o].id&&n.instances[o].id===r))return n.xmlNode.removeChild(n.instances[o].xmlNode),n.instances.splice(o,1),!0}}catch(e){i.Y.printStackTrace(e)}return!1},copyInstance:function(e){try{if(!e||!e.srcInstanceId||!e.destInstanceId)return!1;var t=e.srcModelId||"",r=e.destModelId||"",a=e.srcInstanceId||"",n=e.destInstanceId||"",o=e.targetInstanceId||"",s=e.srcScopeId||"",l=e.destScopeId||"",u=e.mode||"append",c=this.getInstanceByID(a,t,s).xmlNode.cloneNode(!0);return this.createInstance({doc:WebSquare.xml.getFirstChildElements(WebSquare.xml.getFirstChildElement(c)),modelId:r,instanceId:n,mode:u,targetInstanceId:o,scopeId:l})}catch(e){i.Y.printStackTrace(e)}return!1},getInstanceIndex:function(e,t){try{
if(!Array.prototype.indexOf||WebSquare.util.isIEAllVersion()&&parseInt(WebSquare.core.browserVersion(),10)>8){for(var r=e.length;r--;)if(e[r]===t)return r;return}return e.indexOf(t)}catch(e){i.Y.printStackTrace(e,null,this)}},getInstanceRefElementIndex:function(e,t,r){try{for(var a=0;a<WebSquare.WebSquaredoc.instanceRefElement.length;a++)if((!WebSquare.WebSquaredoc.instanceRefElement[a].scopeId||WebSquare.WebSquaredoc.instanceRefElement[a].scopeId===r)&&-1!=e.indexOf(WebSquare.WebSquaredoc.instanceRefElement[a].xpath))return a;if(t)for(var n=e+"/"+t,o=0;o<WebSquare.WebSquaredoc.instanceRefElement.length;o++)if((!WebSquare.WebSquaredoc.instanceRefElement[o].scopeId||WebSquare.WebSquaredoc.instanceRefElement[o].scopeId===r)&&-1!=WebSquare.WebSquaredoc.instanceRefElement[o].xpath.indexOf(n))return o;return}catch(e){i.Y.printStackTrace(e,null,this)}},getMatchedData:function(e,t,r,a,n){try{e=e,r=r,t=t;var o=0;if(a&&n){var s=a.split("/"),l=n.split("/");o=Math.max(s.length,l.length)}var u=e.childNodes;if(null!=u)for(var c=u.length,d=0;d<c;d++){var p=a;if(1==u[d].nodeType){var h=u[d].tagName;if(r==h){p+="/"+h;var f=t.split("/").length,g=p.split("/").length;if(f>g)for(var m=0;m<f-g;m++)p="temp/"+p;else if(g>f)for(m=0;m<g-f;m++)t="temp/"+t;if(WebSquare.ModelUtil.isPartialMatchedXPath(t,p+"/"+h,o)){var b=u[d].tagName;return{dataNode:u[d],refXPath:a+"/"+b,baseNode:b}}return}if(p+="/"+h,WebSquare.ModelUtil.isPartialMatchedXPath(t,p,o)){var y=WebSquare.ModelUtil.getMatchedData(u[d],t,r,p,n);if(y)return y}}}return}catch(e){i.Y.printStackTrace(e,null,this)}},isPartialMatchedXPath:function(e,t,r){try{for(var a=e.split("/"),n=t.split("/"),o=Math.min(a.length,n.length),s=!1,l=r||0;l<o;l++){var u=a[l].split("["),c=n[l].split("[");if(u.toString()!=c.toString())return!1;s=!0}return s}catch(e){i.Y.printStackTrace(e,null,this)}},_getNodePath:function(e,t){for(var r=new Array,i=t?e.firstChild:e;null!=i;i=i.firstChild)if(1==i.nodeType){var a=i.nodeName.split(":");r.push(a)}return r.join("/")},getSubmission:function(e,t,r){try{void 0!==r&&null!=r||(r={});for(var a=r.scope_id||WebSquare.scope_obj,n=WebSquare.ModelUtil.getModelByID(t),o=null,s=0;s<n.submissions.length;s++){var l=n.submissions[s];if(!WebSquare.strictMode||!a||a===l.scope_id){if(a&&a===l.scope_id&&l.id==a+"_"+e){o=l;break}if(l.id==e&&(o=l,null==a))break}}return o}catch(e){i.Y.printStackTrace(e)}},getSubmissionList:function(e){try{void 0!==e&&null!=e||(e={});for(var t=WebSquare.ModelUtil.getModelByID(e.modelID),r=[],a={},n=[],o=0;o<t.submissions.length;o++){var s,l=t.submissions[o].scope_id;if(null==e.scopeId||e.scopeId===l)s=null==e.orgId&&"json"!==e.returnType?t.submissions[o].id:t.submissions[o].org_id,r.push(s),n.push(t.submissions[o]),a[l]||(a[l]=[]),a[l].push(s)}return"json"===e.returnType?a:"id"===e.returnType?r:n}catch(e){i.Y.printStackTrace(e)}},executeSubmission:function(e,t,r,n,o){if(a.v.printLog("WebSquare.ModelUtil.executeSubmission : "+e),null!=e&&""!=e)try{var s=null;if("string"==typeof e){if(null==(s=WebSquare.ModelUtil.getSubmission(e)))return alert(WebSquare.language.getMessage("E_ModelUtil_NoSubmissionObjectWithID",e)),null!=o&&o(WebSquare.language.getMessage("E_ModelUtil_NoSubmissionObjectWithID",e)),null}else if(null==(s=e))return alert(WebSquare.language.getMessage("E_ModelUtil_NoSubmissionObject",e)),null!=o&&o(WebSquare.language.getMessage("E_ModelUtil_NoSubmissionObject",e)),null;var l=s&&s.id?s.id:"";WebSquare._performance.mark("submission.start."+l),WebSquare.ModelUtil.setSubmissionStart(s,r),void 0!==t&&s.setRequestData(t);var u=WebSquare.core.getConfiguration("/WebSquare/submission/customHandler/@value")||"";if(""!=s.customHandler&&(u=s.customHandler),""==u||"default"==u)WebSquare.ModelUtil.defaultSubmissionHandler(s,n,o);else if("proworks_soap"==u.toLowerCase());else if(u){if("function"==typeof u)u(s,n,o);else{var c=WebSquare.util.getGlobalFunction(u,s.scope_id);"function"==typeof c&&c(s,n,o)}WebSquare._performance.mark("submission.end."+l)
;var d=WebSquare.language.getMessage("Performance_submission_start");WebSquare._performance.measure("submission."+l,"submission.start."+l,this._makeSubmissionDetail(s,d))}else WebSquare.ModelUtil.defaultSubmissionHandler(s,n,o)}catch(e){i.Y.printStackTrace(e)}},createSubmission:function(e,t){try{var r={_pluginName:"submission"};r.id=e.id,r.bind=e.bind||null,r.action=e.action||WebSquare.core.getConfiguration("/WebSquare/submission/action/@value"),r.mode=e.mode||WebSquare.core.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous",r.method=e.method||WebSquare.core.getConfiguration("/WebSquare/submission/method/@value")||"POST",r.mediatype=e.mediatype||WebSquare.core.getConfiguration("/WebSquare/submission/mediatype/@value"),r.ref=e.ref||"",r.encoding=e.encoding||WebSquare.core.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8",r.accept=e.accept||WebSquare.core.getConfiguration("/WebSquare/submission/accept/@value"),r.target=e.target,r.replace=e.replace,r.instance=e.instance,r.customHandler=e.customHandler||"",r.errorHandler=e.errorHandler||WebSquare.core.getConfiguration("/WebSquare/submission/errorHandler/@value"),r.processMsg=e.processMsg||WebSquare.core.getConfiguration("/WebSquare/submission/processMsg/@value"),r.useLocale=!(!e.useLocale&&"true"!==WebSquare.core.getConfiguration("/WebSquare/useLocale/@value")),r.localeRef=e.localeRef,r.soapaction=e.soapaction||"",r.startTime=null,r.endTime=null,r.processStatus=0,r.singleMode=e.singleMode||!1,r.hideProcessMsg=!1!==e.hideProcessMsg&&(!0===e.hideProcessMsg||"false"!==WebSquare.core.getConfiguration("/WebSquare/submission/hideProcessMsg/@value")),r.abortTrigger=!0===WebSquare.util.getBoolean(e.abortTrigger)||!1!==e.abortTrigger&&"true"===WebSquare.core.getConfiguration("/WebSquare/submission/abortTrigger/@value"),r.scope_id=e.scope_id||null,r.withCredentials=e.withCredentials||!1,r.useModal=e.useModal||WebSquare.core.getConfiguration("/WebSquare/submission/useModal/@value")||!1,r.preSubmitFunction=e.preSubmitFunction||WebSquare.core.getConfiguration("/WebSquare/submission/preSubmitFunction/@value")||"",r.linkedObj=[],r.requestHeader={},r.webtopRef=e.webtopRef||"",r.userData1=e.userData1||"",r.userData2=e.userData2||"",r.timeout=e.timeout||WebSquare.core.getConfiguration("/WebSquare/submission/timeout/@value"),r.msaName=e.msaName,r.setRequestData=function(e){this.requestData=e},r.setRequestHeader=function(e){this.requestHeader=e},r.getScope=function(){try{var e=null;return this.scope_id&&(e=WebSquare.util.getComponentById(this.scope_id)),e}catch(e){return i.Y.printStackTrace(e,null,this),null}},r.getScopeWindow=function(){try{return this.scope_id?WebSquare.util.getComponentById(this.scope_id).scope:window}catch(e){return i.Y.printStackTrace(e,null,this),window}},r._getMsaOption=function(){return{frameObj:this.getScope(),msaName:this.msaName}},r.userEventList=[],e.submitHandler&&(r.userEventList.push(new WebSquare.Events.XmlEvent("xforms-submit","script",{handler:e.submitHandler})),r.submitHandler=e.submitHandler),e.submitDoneHandler&&(r.userEventList.push(new WebSquare.Events.XmlEvent("xforms-submit-done","script",{handler:e.submitDoneHandler})),r.submitDoneHandler=e.submitDoneHandler),e.submitErrorHandler&&(r.userEventList.push(new WebSquare.Events.XmlEvent("xforms-submit-error","script",{handler:e.submitErrorHandler})),r.submitErrorHandler=e.submitErrorHandler),e.submitTimeoutHandler&&(r.userEventList.push(new WebSquare.Events.XmlEvent("xforms-submit-timeout","script",{handler:e.submitTimeoutHandler})),r.submitTimeoutHandler=e.submitTimeoutHandler),""==r.mediatype&&("post"!=r.method&&"POST"!=r.method||(r.mediatype="application/xml"));var a=WebSquare.ModelUtil.getModelByID(t);r.parentElement=a.xmlNode;for(var n=a.submissions.length-1;n>=0;n--)a.submissions[n].id===r.id&&(a.submissions[n].parentElement=null,a.submissions.splice(n,1));a.submissions.unshift(r),WebSquare.core.useSubmissionGlobal&&(window[r.id]=r),
WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/notRecommended/warningSync/@value"))&&"synchronous"===r.mode&&alert(WebSquare.language.getMessage("E_deprecated_sync",r.id)),r.scope_obj=r.getScope()}catch(e){i.Y.printStackTrace(e)}},deleteSubmission:function(e,t,r){try{void 0!==r&&null!=r||(r={});var a=r.scope_id||WebSquare.scope_obj;"object"==typeof e&&null!=e&&(e=e.id);for(var n=WebSquare.ModelUtil.getModelByID(t).submissions,o=null,s=0;s<n.length;s++)if(!(WebSquare.strictMode&&a&&a!==n[s].scope_id||n[s].id!==e)){o=n[s],WebSquare.core.useSubmissionGlobal&&(window[e]=null),n[s].parentElement=null,n.splice(s,1);break}return o}catch(e){i.Y.printStackTrace(e)}},defaultcallback:function(e,t,r,a,n,o){try{if(t&&!0===t.dead)return void e.abort();if(4==e.readyState)if(r&&(window.clearTimeout(r),window.clearInterval(r),r=null),null==n){var s=WebSquare.ModelUtil.commonResponseHandler(t,e,"async mode",a,n,o),l=s&&s.hidden;!1===t.hideProcessMsg||l||WebSquare&&WebSquare.ModelUtil&&WebSquare.ModelUtil.deleteMessage_pre(t.id)}else n([t,e,a])}catch(e){i.Y.printStackTrace(e),t&&t.scope_id?WebSquare.layer.hideProcessMessage({scope:t.scope_id}):WebSquare.layer.hideProcessMessage()}},abort:function(e,t){var r=null;try{if(""!=e){var n={};if(WebSquare.strictModeFrame&&t&&(n.scope_id=t),null!=(r=WebSquare.ModelUtil.getSubmission(e,null,n)).obfuscator_http){r.obfuscator_http.abort();var o={id:r.id,errorType:"resource-error",resourceUri:WebSquare.util.getSubmissionURL(r.action,r._getMsaOption()),responseHeaders:"",responseStatusCode:"",responseReasonPhrase:"",requestBody:"",responseBody:"",abort:"true"};a.v.printLog("submission force abort. "+r.id),WebSquare.ModelUtil.setSubmissionEnd(r,"submission error",o),WebSquare.layer.deleteSubmissionMessage(r.id);var s=WebSquare.core.getConfiguration("/WebSquare/submission/submitErrorHandler/@value"),l=WebSquare.core.getConfiguration("/WebSquare/submission/submitErrorHandler/@mode");if(s){"after"==l&&WebSquare.event.fireEvent(r,"xforms-submit-error",o);var u=WebSquare.util.getGlobalFunction(s);"function"==typeof u&&u(o),"before"==l&&WebSquare.event.fireEvent(r,"xforms-submit-error",o)}else WebSquare.event.fireEvent(r,"xforms-submit-error",o);r.obfuscator_http&&(r.obfuscator_http.onreadystatechange=function(){},r.obfuscator_http=null)}return}}catch(e){i.Y.printStackTrace(e),r&&r.scope_id?WebSquare.layer.hideProcessMessage({scope:r.scope_id}):WebSquare.layer.hideProcessMessage()}},setSubmissionEnd:function(e,t,r){e.endTime=new Date,e.processStatus=0;for(var i=0;i<e.linkedObj.length;i++)e.linkedObj[i].setDisabled&&e.linkedObj[i].setDisabled(!1);if(e.linkedObj=[],"true"==WebSquare.core.getConfiguration("/WebSquare/submission/showSubmissionTime/@value")){var n=e.startTime.getHours()+":"+e.startTime.getMinutes()+":"+e.startTime.getSeconds()+":"+e.startTime.getMilliseconds(),o=e.endTime.getHours()+":"+e.endTime.getMinutes()+":"+e.endTime.getSeconds()+":"+e.endTime.getMilliseconds(),s="submission id["+e.id+"] start["+n+"] end["+o+"] duration["+(e.endTime-e.startTime)+"ms]";a.v.printLog(s),WebSquare.ax_logger(s)}if(null!=r){var l=WebSquare.core.getConfiguration("/WebSquare/submission/callbackSubmitFunction/@value");try{var u=WebSquare.util.getGlobalFunction(l);"function"==typeof u&&u.call(this,r,e)}catch(e){}}WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/submission/clearRequestDataAfterSubmit/@value"))&&e.setRequestData("")},setSubmissionStart:function(e,t){if(e.startTime=new Date,e.processStatus=1,t&&!WebSquare.util.isArray(t)&&(t=[t]),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];null!=a&&a.setDisabled&&(e.linkedObj.push(a),a.setDisabled(!0))}},doSubmitPreFunc:function(e){var t=e.preSubmitFunction||WebSquare.core.getConfiguration("/WebSquare/submission/preSubmitFunction/@value");if(null!=t&&""!=t)try{var r=WebSquare.util.getGlobalFunction(t);"function"==typeof r&&r(e)}catch(e){}},getRefToReqData:function(e){return e.requestData=null,this.getReqData(e)},
defaultSubmissionHandler:function(e,t,r){var n;try{var o={id:M=e.id};""!=e.processMsg&&WebSquare.layer.addSubmissionMessage(e,e.processMsg);var s=WebSquare.event.fireEvent(e,"xforms-submit",o);if(void 0!==s&&0==s)return a.v.printLog("Processing halted due to the 'xforms-submit event handler' returning false. :"+M),WebSquare.ModelUtil.setSubmissionEnd(e,"submission done",null),WebSquare.layer.deleteSubmissionMessage(M),void(null!=r&&r("Processing halted due to the 'xforms-submit event handler' returning false. :"+M));WebSquare.ModelUtil.doSubmitPreFunc(e);var l=WebSquare.util.getSubmissionURL(e.action,e._getMsaOption()),u="synchronous"!=e.mode,c=e.target,d=e.replace,p=e.encoding||"utf-8",h=e.mediatype||"application/xml",f=e.accept||h,g=e.method,m=e.soapaction,b=e.timeout,y=this.getReqData(e),S=!1;if(void 0!==y&&y.indexOf("http://schemas.xmlsoap.org/soap/envelope")>-1&&(S=!0),"all"==d){""==WebSquare.requestID&&(WebSquare.requestID="instanceValue");try{var v=document.createElement("form");WebSquare.util.isMobile()||(v.encoding="text/plain"),v.action=l,v.method=g,v.style.display="inline",v.acceptCharset="UTF-8";var w=document.createElement("input");w.type="hidden",w.name="targetInstance",WebSquare.core.uriEncoder?w.value=c:w.value=encodeURIComponent(c),v.appendChild(w);var C=document.createElement("input");C.type="hidden",C.name="instanceValue",WebSquare.core.uriEncoder?C.value=y:C.value=encodeURIComponent(y),v.appendChild(C),document.body.appendChild(v),v.submit(),WebSquare._performance.mark("submission.end."+M);var q=WebSquare.language.getMessage("Performance_submission_end_replaceAll");return void WebSquare._performance.measure("submission."+M,"submission.start."+M,this._makeSubmissionDetail(e,q))}catch(e){i.Y.printStackTrace(e)}}a.v.printLog(l),n=WebSquare.core.getXMLHTTPObject(e.withCredentials),e.obfuscator_http=n,n.open(g,l,u),S&&n.setRequestHeader("soapaction",'"'+m+'"');var W=WebSquare.core.getConfiguration("/WebSquare/submission/requestHeaderCharset/@value");if(""!=WebSquare.requestID){var _=WebSquare.core.getConfiguration("/WebSquare/submission/requestID/@mediatype"),x=WebSquare.core.getConfiguration("/WebSquare/submission/requestID/@accept");""!=_&&("none"===W?n.setRequestHeader("Content-Type",_):n.setRequestHeader("Content-Type",_+";charset=UTF-8"),"none"!==x&&n.setRequestHeader("Accept",x))}else"none"===W?n.setRequestHeader("Content-Type",h):n.setRequestHeader("Content-Type",h+";charset="+p),"none"!==f&&n.setRequestHeader("Accept",f);"false"!=WebSquare.core.getConfiguration("/WebSquare/submission/customHeader/@value")&&n.setRequestHeader("submissionid",encodeURIComponent(M));var I=e.requestHeader;try{if("object"==typeof I)for(var T in I)I.hasOwnProperty(T)&&n.setRequestHeader(T,I[T])}catch(e){i.Y.printStackTrace(e)}var k,L=WebSquare.core.getConfiguration("/WebSquare/submission/requestHeaderFunction/@value");if(""!=L){var A=WebSquare.util.getGlobalFunction(L,e.scope_id);"function"==typeof A&&A(n,e)}if(u){try{e.withCredentials&&(n.withCredentials=e.withCredentials)}catch(e){i.Y.printStackTrace(e)}b&&(k=window.setTimeout((function(){n.onreadystatechange=function(){},n.abort();var t={id:M,errorType:"timeout-error",resourceUri:l,time:b};WebSquare.ModelUtil.setSubmissionEnd(e,"submission error",t),WebSquare.layer.deleteSubmissionMessage(M),WebSquare.event.fireEvent(e,"xforms-submit-timeout",t),window.clearTimeout(k),null!=r&&r(t.errorType+" :: "+M)}),b)),n.onreadystatechange=function(){WebSquare.ModelUtil.defaultcallback(n,e,k,y,t,r)}}var E=WebSquare.core.getConfiguration("/WebSquare/submission/externalHandler/@value")||"";if(""==E||"default"==E);else if(E)if("function"==typeof E)y=E(y);else{var D=WebSquare.util.getGlobalFunction(E);"function"==typeof D&&(y=D(y,M))}""!=WebSquare.requestID?"true"==WebSquare.core.getConfiguration("/WebSquare/submission/requestID/@encodeURI")?n.send(WebSquare.requestID+encodeURIComponent(y)):n.send(WebSquare.requestID+y):n.send(y),WebSquare._performance.mark("submission.step1."+M)
;q=WebSquare.language.getMessage("Performance_submission_step1");WebSquare._performance.measure("submission.step1."+M,"submission.start."+M,this._makeSubmissionDetail(e,q)),u||(WebSquare.ModelUtil.commonResponseHandler(e,n,"sync mode",y),null!=t&&t([e,n,y]))}catch(t){try{var M=e.id,N=(l=WebSquare.util.getSubmissionURL(e.action,e._getMsaOption()),{id:M,resourceUri:l,errorType:t.name,message:t.message});null!=t.code&&(N.code=t.code),a.v.printLog("submission error("+t.name+")."+M),WebSquare.ModelUtil.setSubmissionEnd(e,"submission error",N),WebSquare.layer.deleteSubmissionMessage(M);var R=WebSquare.core.getConfiguration("/WebSquare/submission/submitErrorHandler/@value"),O=WebSquare.core.getConfiguration("/WebSquare/submission/submitErrorHandler/@mode");if(R){"after"==O&&WebSquare.event.fireEvent(e,"xforms-submit-error",N);var P=WebSquare.util.getGlobalFunction(R);"function"==typeof P&&P(N),"before"==O&&WebSquare.event.fireEvent(e,"xforms-submit-error",N)}else WebSquare.event.fireEvent(e,"xforms-submit-error",N);e&&e.scope_id?WebSquare.layer.hideProcessMessage({scope:e.scope_id}):WebSquare.layer.hideProcessMessage(),null!=r&&r(N.errorType+" :: "+M),WebSquare._performance.mark("submission.end."+M);q=WebSquare.language.getMessage("Performance_submission_end_error_script");WebSquare._performance.measure("submission.end."+M,"submission.start."+M,this._makeSubmissionDetail(e,q)),n.onreadystatechange=function(){},n=null}catch(e){i.Y.printStackTrace(e)}}},getReqData:function(e){var t=e.ref,r=e.instance,i=e.mediatype,a=e.requestData,n=null;null!=e.scope_id&&(n=e.scope_id);var o=null;if(""!=r&&e.parentElement.T!==WebSquare.Elem.type.element){var s=WebSquare.Elem.api.getAttribute(e.parentElement,"id");o=null==s||""==s?WebSquare.ModelUtil.getInstanceByID(r).document:WebSquare.ModelUtil.getInstanceByID(r,s).document}else if(e.parentElement.T===WebSquare.Elem.type.element){var l=WebSquare.Elem.api.getElementsByTagName(e.parentElement,"instance",WebSquare.core._XML_NAMESPACE.XFORMS)[0];try{l&&(o=WebSquare.xml.parse(l._element._xml).getElementsByTagName("data")[0])}catch(c){}}else o=WebSquare.Elem.api.getElementsByTagName(e.parentElement,"data")[0];var u,c=null,d="";if(void 0!==a&&null!=a)d="application/json"==i?"string"==typeof a?a:JSON.stringify(a):"text/plain"==i?a:WebSquare.xml.serialize(a);else{var p=this.getCollectionCondition(t);if(p.singleMode=WebSquare.util.getBoolean(e.singleMode),""==t&&"application/json"!=i)c=o,d=WebSquare.xml.serialize(c);else if("application/json"==i)if(""!=p.type)if(""!=p.condition){var h=WebSquare.api.data.get(p.type,p.condition,{singleMode:p.singleMode,scope_obj:n});d=JSON.stringify(h)}else{h=WebSquare.api.data.get(p.type,null,{scope_obj:n});d=JSON.stringify(h)}else""==t?d="":WebSquare.ModelUtil.getInstanceValue(t).wq_trim().length>0?d=WebSquare.ModelUtil.getInstanceValue(t):(c=WebSquare.xml.createNode(o,t),u=WebSquare.xml.parse(WebSquare.xml.serialize(c)),d=WebSquare.json.XML2JSONString(u));else if(""!=p.type)if(""!=p.condition){h=WebSquare.api.data.get(p.type,p.condition,{singleMode:p.singleMode,scope_obj:n});d=WebSquare.xml.serialize(h)}else{h=WebSquare.api.data.get(p.type,null,{scope_obj:n});d=WebSquare.xml.serialize(h)}else c=WebSquare.xml.createNode(o,t),d=WebSquare.xml.serialize(c)}return d},getCollectionCondition:function(e){var t={type:"",condition:""},r="";if("string"==typeof e&&0==e.indexOf("data:"))if((r=e.substr(5,e.length).wq_trim()).indexOf(",")>0){var i=r.indexOf(",");t.type=r.substring(0,i).wq_trim();var a=r.substring(i+1,r.length).wq_trim();a.indexOf("'")>-1&&(a=a.wq_replaceAll("'",'"')),0==a.indexOf("[")||(a="["+a+"]"),a=a.replace(/([\[\,])([^\'\"\{\}\s])/g,'$1"$2').replace(/([^\'\"\{\}\s])([\]\,])/g,'$1"$2'),t.condition=a}else t.type=r;return t},setResponseObj:function(e,t,r,i,a,n){t.indexOf("json")>-1?("instance"==r&&(e.responseBody=i),e.responseJSON=a):(t.indexOf("xml")>-1||n)&&(e.responseBody=i)},commonResponseHandler:function(e,t,r,i){var n,o=e.id,s=null;null!=e.scope_id&&(s=e.scope_id),
WebSquare._performance.mark("submission.step2."+o);var l=WebSquare.language.getMessage("Performance_submission_step2");WebSquare._performance.measure("submission.step2."+o,"submission.step1."+o,this._makeSubmissionDetail(e,l));var u=WebSquare.util.getSubmissionURL(e.action,e._getMsaOption()),c="synchronous"!=e.mode,d=e.ref,p=e.bind,h=e.target,f=e.replace,g=e.instance,m=e.encoding,b=e.mediatype,y=e.hideProcessMsg,S=e.method,v=e.action,w=e.errorHandler,C=e.soapaction;if(t.status&&(200>t.status||300<=t.status)||0===t.status){var q={id:o,errorType:"resource-error",resourceUri:u,responseHeaders:WebSquare.ModelUtil.parseResponseHeader(t),responseHeadersJSON:WebSquare.ModelUtil.parseResponseHeaderJSON(t),responseStatusCode:t.status,responseReasonPhrase:t.statusText,requestBody:i,responseBody:t.responseText,abort:""};a.v.printLog("submission error(E03). Status["+t.status+"] "+o),WebSquare.ModelUtil.setSubmissionEnd(e,"submission error",q),WebSquare.layer.deleteSubmissionMessage(o);var W=WebSquare.core.getConfiguration("/WebSquare/submission/submitErrorHandler/@value"),_=WebSquare.core.getConfiguration("/WebSquare/submission/submitErrorHandler/@mode");if(W)"after"==_&&WebSquare.event.fireEvent(e,"xforms-submit-error",q),"function"==typeof(Y=WebSquare.util.getGlobalFunction(W))&&Y(q),"before"==_&&WebSquare.event.fireEvent(e,"xforms-submit-error",q);else WebSquare.event.fireEvent(e,"xforms-submit-error",q);if(a.v.globalDebug1||"function"==typeof a.v.getGlobalDebug&&a.v.getGlobalDebug()){var x=/>[\s]*</g;(B=new Object).information="url          : "+u+"\nasync        : "+c+"\nref          : "+d+"\nbind         : "+p+"\ntarget       : "+h+"\nreplace      : "+f+"\ninstance     : "+g+"\nencoding     : "+m+"\nmediatype    : "+b+"\nmethod       : "+S+"\naction       : "+v+"\nerrorHandler : "+w+"\nsoapaction   : "+C+"\nstatus       : "+t.status+"\nstatus text  : "+t.statusText+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(t),WebSquare.ModelUtil.parseResponseHeaderJSON(t),B.result=t.responseText.replace(x,">\n<"),B.input=i.replace(x,">\n<"),a.v.showDebugMsg(B,"xml","Default Submission ("+r+")")}var I=t.status;t.onreadystatechange=function(){},t=null,e.obfuscator_http=null,WebSquare._performance.mark("submission.end."+o);l=WebSquare.language.getMessage("Performance_submission_start",I);return WebSquare._performance.measure("submission.end"+o,"submission.step2."+o,this._makeSubmissionDetail(e,l)),q}var T=WebSquare.core.getConfiguration("/WebSquare/submission/externalResponseHandler/@value")||"",k=t.responseText,L=!1;if(""==T||"default"==T);else if(T)if("function"==typeof T)k=T(k);else{var A=WebSquare.util.getGlobalFunction(T,s);"function"==typeof A&&(k=A(k,o),L=!0)}var E,D,M,N=WebSquare.core.getConfiguration("/WebSquare/submission/responseJSONHandler/@value"),R=t.getResponseHeader("Content-Type")||"",O=!1,P=this.getCollectionCondition(h);P.singleMode=WebSquare.util.getBoolean(e.singleMode),""==R&&a.v.printLog("Response Content-Type is not defined");try{if(R.indexOf("json")>-1){try{if(N)if("function"==typeof N)k=N(k);else"function"==typeof(Y=WebSquare.util.getGlobalFunction(N))&&(k=Y(k))}catch(e){}if(""!=k)if(D=JSON.parse(k),""!=P.type)E=D,""!=P.condition?WebSquare.api.data.set(P.type,D,P.condition,{singleMode:P.singleMode,scope_obj:s}):WebSquare.api.data.set(P.type,D,null,{scope_obj:s});else if("instance"==f){var F=WebSquare.json.JSON2XMLString(D);E=WebSquare.xml.parse(F),M=WebSquare.xml.parse(F)}else E="text"==f?k:D}else if(R.indexOf("xml")>-1)E=WebSquare.BootLoader.useWebSquareXMLParser?WebSquare.xml.parse(k):WebSquare.BootLoader.useResponseXML?L?WebSquare.xml.parse(k):t.responseXML:WebSquare.xml.parse(k),""!=P.type?""!=P.condition?WebSquare.api.data.set(P.type,E,P.condition,{singleMode:P.singleMode,scope_obj:s}):WebSquare.api.data.set(P.type,E,null,{scope_obj:s}):"instance"==f&&(M=WebSquare.xml.parse(k));else try{k&&k.wq_trim().startsWith("<")?(E=WebSquare.xml.parse(k),
""!=P.type?""!=P.condition?WebSquare.api.data.set(P.type,E,P.condition,{singleMode:P.singleMode,scope_obj:s}):WebSquare.api.data.set(P.type,E,null,{scope_obj:s}):E?("instance"==f&&(M=WebSquare.xml.parse(k)),O=!0):E=k):E=k}catch(e){}}catch(e){}try{WebSquare._performance.mark("submission.step3."+o);l=WebSquare.language.getMessage("Performance_submission_step3");WebSquare._performance.measure("submission.step3."+o,"submission.step2."+o,this._makeSubmissionDetail(e,l));var Y=WebSquare.util.getGlobalFunction(w,s),j="";if(""!=w&&"function"==typeof Y&&Y(E,o)){q={id:o,errorType:"target-error",resourceUri:u,responseHeaders:WebSquare.ModelUtil.parseResponseHeader(t),responseHeadersJSON:WebSquare.ModelUtil.parseResponseHeaderJSON(t),responseStatusCode:t.status,responseReasonPhrase:t.statusText,requestBody:i,responseText:k};if(WebSquare.ModelUtil.setResponseObj(q,R,f,E,D,O),a.v.printLog("submission error(E04). Status["+t.status+"] "+o),WebSquare.ModelUtil.setSubmissionEnd(e,"submission error",q),WebSquare.layer.deleteSubmissionMessage(o),WebSquare.event.fireEvent(e,"xforms-submit-error",q),a.v.globalDebug1||"function"==typeof a.v.getGlobalDebug&&a.v.getGlobalDebug()){var B=new Object;x=/>[\s]*</g;B.information="url          : "+u+"\nasync        : "+c+"\nref          : "+d+"\nbind         : "+p+"\ntarget       : "+h+"\nreplace      : "+f+"\ninstance     : "+g+"\nencoding     : "+m+"\nmediatype    : "+b+"\nmethod       : "+S+"\naction       : "+v+"\nerrorHandler : "+w+"\nsoapaction   : "+C+"\nstatus       : "+t.status+"\nstatus text  : "+t.statusText+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(t),WebSquare.ModelUtil.parseResponseHeaderJSON(t),B.result=k.replace(x,">\n<"),B.input=i.replace(x,">\n<"),a.v.showDebugMsg(B,"xml","Default Submission ("+r+")")}n=q,j="Submission error is triggered by the errorHandler."}else{""==P.type&&("instance"==f&&null!=M?(WebSquare.WebSquaredoc.models[0].rebuild(M,h),WebSquare.WebSquaredoc.models[0].refresh()):"text"==f&&(WebSquare.WebSquaredoc.models[0].rebuild(k,h),WebSquare.WebSquaredoc.models[0].refresh()));var U={id:o,resourceUri:u,responseHeaders:WebSquare.ModelUtil.parseResponseHeader(t),responseHeadersJSON:WebSquare.ModelUtil.parseResponseHeaderJSON(t),responseStatusCode:t.status,responseReasonPhrase:t.statusText,requestBody:i,responseText:k};if(WebSquare.ModelUtil.setResponseObj(U,R,f,E,D,O),a.v.printLog("submission complete. Status["+t.status+"] "+o),WebSquare.ModelUtil.setSubmissionEnd(e,"submission complete",U),WebSquare.event.fireEvent(e,"xforms-submit-done",U),!1!==y&&(WebSquare.ModelUtil.deleteMessage_pre(o),U.hidden=!0),a.v.globalDebug1||"function"==typeof a.v.getGlobalDebug&&a.v.getGlobalDebug()){B=new Object,x=/>[\s]*</g;B.information="url          : "+u+"\nasync        : "+c+"\nref          : "+d+"\nbind         : "+p+"\ntarget       : "+h+"\nreplace      : "+f+"\ninstance     : "+g+"\nencoding     : "+m+"\nmediatype    : "+b+"\nmethod       : "+S+"\naction       : "+v+"\nerrorHandler : "+w+"\nsoapaction   : "+C+"\nstatus       : "+t.status+"\nstatus text  : "+t.statusText+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(t),WebSquare.ModelUtil.parseResponseHeaderJSON(t),B.result=k.replace(x,">\n<"),B.input=i.replace(x,">\n<"),a.v.showDebugMsg(B,"xml","Default Submission ("+r+")")}n=U}WebSquare._performance.mark("submission.end."+o);l=WebSquare.language.getMessage("Performance_submission_end_ok",j);return WebSquare._performance.measure("submission.end"+o,"submission.step3."+o,this._makeSubmissionDetail(e,l)),t.onreadystatechange=function(){},t=null,e.obfuscator_http=null,n}catch(r){t.onreadystatechange=function(){},t=null,e.obfuscator_http=null}},deleteMessage_pre:function(e){try{var t=WebSquare.ModelUtil.getSubmission(e);if(t&&t.scope_id){var r=WebSquare.layer._getMessageFrame(t.scope_id);if(null!=r)return r.deleteSubmissionMessage(e)}else t=null}catch(e){}setTimeout((function(){
WebSquare&&WebSquare.ModelUtil&&WebSquare.ModelUtil.deleteMessage&&WebSquare.ModelUtil.deleteMessage(e)}),50)},deleteMessage:function(e){setTimeout((function(){if(WebSquare.layer)try{var t=WebSquare.ModelUtil.getSubmission(e);(!t||t&&!1!==t.hideProcessMsg)&&WebSquare.layer.deleteSubmissionMessage(e)}catch(t){WebSquare.layer.deleteSubmissionMessage(e)}}),50)},parseResponseHeader:function(e){var t="<header>";try{for(var r=e.getAllResponseHeaders().wq_trim().split("\n"),i=0;i<r.length;i++){var a=r[i].split(":");t+="<name>"+a[0].wq_trim()+"</name><value>"+a[1].wq_trim()+"</value>"}}catch(e){}return t+="</header>"},parseResponseHeaderJSON:function(e){var t="{",r=",";try{for(var i=e.getAllResponseHeaders().wq_trim().split("\n"),a=0;a<i.length;a++){a==i.length-1&&(r="");var n=i[a].split(":");t+='"'+n[0].wq_trim()+'":"'+n[1].wq_trim()+'"'+r}}catch(e){}return t+="}"},createWorkflow:function(e,t){try{var r={};r.id=e.id,r.processMsg=e.processMsg||WebSquare.core.getConfiguration("/WebSquare/workflow/processMsg/@value"),r.resolveCallback=e.resolveCallback,r.rejectCallback=e.rejectCallback,r.step=e.step,r.promiseStatus=null,r.promiseValue=null,r.preStatus=!0,r.reject=function(e){this.promiseStatus="REJECT",this.promiseValue=e||"REJECT"},r.getScope=function(){try{var e=null;return this.scope_id&&(e=WebSquare.util.getComponentById(this.scope_id)),e}catch(e){return i.Y.printStackTrace(e,null,this),null}},r.getScopeWindow=function(){try{return this.scope_id?WebSquare.util.getComponentById(this.scope_id).scope:window}catch(e){return i.Y.printStackTrace(e,null,this),window}},r.userData1=e.userData1||"",r.userData2=e.userData2||"",r.scope_id=e.scope_id||null;for(var a=WebSquare.ModelUtil.getModelByID(t),n=a.workflows.length-1;n>=0;n--)a.workflows[n].id===r.id&&(a.workflows[n].parentElement=null,a.workflows.splice(n,1));return r.parentElement=a.xmlNode,a.workflows.unshift(r),WebSquare.core.useWorkflowGlobal&&(window[r.id]=r),r}catch(e){i.Y.printStackTrace(e)}},deleteWorkflow:function(e,t,r){try{void 0!==r&&null!=r||(r={});var a=r.scope_id||WebSquare.scope_obj;"object"==typeof e&&null!=e&&(e=e.id);for(var n=WebSquare.ModelUtil.getModelByID(t).workflows,o=null,s=0;s<n.length;s++)if(!(WebSquare.strictMode&&a&&a!==n[s].scope_id||n[s].id!==e)){o=n[s],WebSquare.core.useWorkflowGlobal&&(window[e]=null),n[s].parentElement=null,n.splice(s,1);break}return o}catch(e){i.Y.printStackTrace(e)}},getWorkflow:function(e,t,r){try{void 0!==r&&null!=r||(r={});for(var a=r.scope_id||WebSquare.scope_obj,n=WebSquare.ModelUtil.getModelByID(t),o=null,s=0;s<n.workflows.length;s++){var l=n.workflows[s];if(!WebSquare.strictMode||!a||a===l.scope_id){if(a&&a===l.scope_id&&l.id==a+"_"+e){o=l;break}if(l.id==e&&(o=l,null==a))break}}return o}catch(e){i.Y.printStackTrace(e)}},getRunningWorkflow:function(e,t,r){try{void 0!==r&&null!=r||(r={});for(var a=r.scope_id||WebSquare.scope_obj,n=WebSquare.ModelUtil.getModelByID(t),o=null,s=0;s<n.workflows.length;s++){var l=n.workflows[s];if((!WebSquare.strictMode||!a||a===l.scope_id)&&(l.promiseStatus&&""!=l.promiseStatus)){if(!e){if(a&&a!=l.scope_id)continue;o=l;break}if(a&&a===l.scope_id&&l.id==a+"_"+e){o=l;break}if(l.id!=e){o=null;break}if(o=l,null==a)break}}return o}catch(e){i.Y.printStackTrace(e)}},isRunningWorkflow:function(e,t){try{return null!=this.getRunningWorkflow(e,t)}catch(e){i.Y.printStackTrace(e)}},getRunningWorkflowID:function(e){try{var t=this.getRunningWorkflow(null,e),r=null;return null!=t&&(r=t.id),r}catch(e){i.Y.printStackTrace(e)}},rejectWorkflow:function(e,t,r){try{var a=this.getRunningWorkflow(t,r),n=null;return null!=a&&(a.promiseStatus="REJECT",a.promiseValue=e||"REJECT",n=a),n}catch(e){i.Y.printStackTrace(e)}},executeWorkflow:function(e,t){var r,i;void 0!==t&&null!=t||(t={});var n=!1,o=t.scope_function||WebSquare.ModelUtil;if("object"==typeof e){if(i=o.createWorkflow(e),void 0===e.id||""===e.id)return a.v.printLog("workflow ID is not defined"),Promise.resolve(!1);r=e.id,n=!0}else"string"==typeof e&&(r=e,
i=o.getWorkflow(e));if(!i)return a.v.printLog("workflow is not defined."),Promise.resolve(!1);if(o.isRunningWorkflow(r))return a.v.printLog("workflow already exists and is currently running. workflowID : "+r),Promise.resolve(!1);if(!WebSquare.ModelUtil.validCheck(i.step))return Promise.resolve(!1);i.promiseStatus="PENDING";var s=i.resolveCallback,l=i.rejectCallback;i.result={},i.logTime={},i.submissionList=[],i.logTime.START=new Date;try{var u=WebSquare.ModelUtil.setAddInfo(i.step);""!==i.processMsg||(i.processMsg=WebSquare.core.getConfiguration("/WebSquare/workflow/processMsg/@value"));for(var c={},d={},p=Promise.resolve(),h=0;h<u.length;h++){var f=u[h],g=f.action,m=f.pre,b=f.callOption,y=f.idx;if("submit"===f.type){var S=f.requestData;if("error"==(m=WebSquare.ModelUtil.checkFunction(m,"pre",r,n,i)))return Promise.resolve(!1);var v=o.getSubmission(g);for(var y in g=v.id,i.submissionList.push(g),p=WebSquare.ModelUtil.connectPre(p,d,g,b,i,m,S),c[g]=WebSquare.ModelUtil.connectPromise(p,g,b,i,m,S),d)delete c[y];d={}}else if("submitDone"===f.type){var w=f.post;if("error"===(w=WebSquare.ModelUtil.checkFunction(w,"post",r,n,i)))return Promise.resolve(!1);g=(v=o.getSubmission(g)).id;var C=WebSquare.ModelUtil.executeCallback(p,c[g],d,w,i);for(var y in d)delete c[y];(d={})[g]=C}else if("function"===f.type){var q=f.action;if("error"===(q=WebSquare.ModelUtil.checkFunction(q,"function",r,n,i)))return Promise.resolve(!1);for(var y in p=WebSquare.ModelUtil.connectFunction(p,d,q,i),d)delete c[y];d={}}}}catch(e){}var W=[p];for(var y in d)W.push(d[y]);return Promise.all(W).then((function(){i.promiseStatus="RESOLVE",WebSquare.ModelUtil.deleteworkflowMsg(i.submissionList,r),i.logTime.END=new Date,WebSquare.ModelUtil.printTableLog(i),"error"!==(s=WebSquare.ModelUtil.checkFunction(s,"resolveCallback",r,n,i))&&("function"==typeof s&&s(i),WebSquare.ModelUtil.workflowObjClear(r,n,i))})).catch((function(e){WebSquare.ModelUtil.deleteworkflowMsg(i.submissionList,r),"error"!==(l=WebSquare.ModelUtil.checkFunction(l,"rejectCallback",r,n,i))&&(i.promiseStatus="REJECT",i.errorMsg=e,"function"==typeof l&&l(i),a.v.printLog("Workflow reject : "+r+", errorMsg : "+i.errorMsg),WebSquare.ModelUtil.workflowObjClear(r,n,i))}))},checkFunction:function(e,t,r,i,n){var o=e;if("string"==typeof e&&e.length>0){try{e=WebSquare.util.getGlobalFunction(e,n.scope_id)}catch(e){return a.v.printLog("==== "+t+" function error ["+o+"] is not a function \n"),WebSquare.ModelUtil.workflowObjClear(r,i,n),"error"}if("function"!=typeof e)return a.v.printLog("==== "+t+" function error ["+o+"] is not a function \n"),WebSquare.ModelUtil.workflowObjClear(r,i,n),"error"}return e},deleteworkflowMsg:function(e,t){try{if(WebSquare.layer.deleteSubmissionMessage(t),WebSquare.layer.submissionMessageQueue.length>0)for(var r=0;r<e.length;r++)WebSquare.layer.deleteSubmissionMessage(e[r])}catch(e){i.Y.printStackTrace(e)}},workflowObjClear:function(e,t,r){t?WebSquare.ModelUtil.deleteWorkflow(e):(delete r.result,delete r.logTime,r.promiseStatus=null,r.promiseValue=null,r.errorMsg="",r.preStatus=!0)},validCheck:function(e){for(var t,r=[],i=[],n=[],o=0;o<e.length;o++){var s=e[o];"submit"===s.type?(r.push(s.action),i.push(0)):"submitDone"===s.type&&n.push(s.action)}for(o=0;o<n.length;o++){t=n[o];for(var l=!1,u=0,c=0;c<r.length;c++){if(r[c]==t){u=i[c],u++,i[c]=u,l=!0;break}}if(!l)return a.v.printLog("submitDone must contain submit. [ "+t+" ]"),!1;if(u>1)return a.v.printLog("Multiple submitDone detected. Please ensure there's only one [ "+t+" ]"),!1}return!0},setAddInfo:function(e){for(var t=-1,r=[],i=0;i<e.length;i++){"submit"===(o=e[i]).type?(t++,o.idx=t,o.pos=i,o.callOption="0",r.push(o)):o.idx=-1}for(i=0;i<r.length;i++)for(var a=r[i],n=0;n<e.length;n++){var o;"submitDone"===(o=e[n]).type&&o.action===a.action&&-1===o.idx&&(o.idx=a.idx,e[a.pos].callOption="1")}return e},connectFunction:function(e,t,r,i){var a=[e];for(var n in t)a.push(t[n]);return Promise.all(a).then((function(e){
return null===i.promiseStatus||"REJECT"===i.promiseStatus?Promise.reject(i.promiseValue):e instanceof Array?Promise.resolve(r(e[e.length-1],i)):Promise.resolve(r(e,i))}))},connectPre:function(e,t,r,i,a,n,o){var s=[e];for(var l in t)s.push(t[l]);return Promise.all(s).then((function(e){if(null===a.promiseStatus||"REJECT"===a.promiseStatus)return Promise.reject(a.promiseValue);var t=Promise.resolve(!0);return!("function"==typeof n&&!(t=n(r,a,e,o)))&&Promise.resolve(t)}))},connectPromise:function(e,t,r,i,n,o){return e.then((function(e){return e?WebSquare.ModelUtil.callSubmit(t,r,i,o):(a.v.printLog("Due to the return value of submission pre function[ "+e+" ], submission[ "+t+" ] will not be excuted."),null)}))},executeCallback:function(e,t,r,i,n){var o=[e];for(var s in r)o.push(r[s]);return Promise.all(o).then((function(){return t})).then((function(e){var t=Promise.resolve();if(null==e)return null;var r=WebSquare.ModelUtil.callCommonResponseHandler(e[0],e[1],"async mode",e[2]);return null===n.promiseStatus||"REJECT"===n.promiseStatus?Promise.reject(n.promiseValue):(n.logTime[r.id]=new Date,"function"==typeof i&&(t=Promise.resolve(i(r,n,e)),a.v.printLog("Workflow callback "+r.id)),n.result[r.id]=r,null===n.promiseStatus||"REJECT"===n.promiseStatus?Promise.reject(n.promiseValue):t)}))},callSubmit:function(e,t,r){return null===r.promiseStatus||"REJECT"===r.promiseStatus?Promise.reject(r.promiseValue):WebSquare.ModelUtil.executeWorkFlowSubmission(e).then((function(e){if("0"==t){if(null===r.promiseStatus||"REJECT"===r.promiseStatus)return Promise.reject(r.promiseValue);var i=WebSquare.ModelUtil.callCommonResponseHandler(e[0],e[1],"async mode",e[2]);return r.logTime[i.id]=new Date,null===r.promiseStatus||"REJECT"===r.promiseStatus?Promise.reject(r.promiseValue):(r.result[i.id]=i,i)}return e}))},executeWorkFlowSubmission:function(e,t,r){return new Promise((function(i,a){WebSquare.ModelUtil.executeSubmission(e,t,r,i,a)}))},callCommonResponseHandler:function(e,t,r,i){r&&(window.clearTimeout(r),window.clearInterval(r),r=null);var a=WebSquare.ModelUtil.commonResponseHandler(e,t,"async mode",i);if(!1!==a.hideProcessMsg&&WebSquare.ModelUtil.deleteMessage_pre(a.id),null!=a&&null!=a.errorType)throw new Error(a.errorType);return a},executeSerial:function(e,t,r,i,a,n,o){var s=WebSquare.ModelUtil.makeWorkflowJson("serial",e,t,r,i,a,n);return WebSquare.ModelUtil.executeWorkflow(s,o)},executeParallel:function(e,t,r,i,a,n,o){var s=WebSquare.ModelUtil.makeWorkflowJson("parallel",e,t,r,i,a,n);return WebSquare.ModelUtil.executeWorkflow(s,o)},executeWhilst:function(e,t,r,i,n,o,s,l){var u=this.getSubmission(e,null,l);if(u){e=u.id;var c={};c.id=s||"whilstTemp",c.promiseStatus="PENDING",c.result=[],""!=i||(i=WebSquare.core.getConfiguration("/WebSquare/workflow/processMsg/@value")),WebSquare.layer.addSubmissionMessage(e,i);for(var d=Promise.resolve(),p=0;"function"==typeof t&&t(e,p)&&"number"==typeof r&&p<r;)p++,d=d.then((function(){return d=WebSquare.ModelUtil.callSubmit(e,"1",c)})).then((function(e){var t=WebSquare.ModelUtil.callCommonResponseHandler(e[0],e[1],"async mode",e[2]);c.result.push(t)}));return d.then((function(){c.promiseStatus="RESOLVE","function"==typeof n&&n(c),a.v.printLog("executeWhilst complete "),WebSquare.ModelUtil.workflowObjClear(s,!0,c)})).catch((function(e){c.promiseStatus="REJECT","function"==typeof o&&o(c),a.v.printLog("executeWhilst rejected "+c.errorMsg),WebSquare.ModelUtil.workflowObjClear(s,!0,c)})),d}},makeWorkflowJson:function(e,t,r,i,a,n,o){var s={};s.id=n||e+"Temp",s.processMsg=r||WebSquare.core.getConfiguration("/WebSquare/workflow/processMsg/@value"),s.resolveCallback=i,s.rejectCallback=a;for(var l=[],u=0;u<t.length;u++){var c=t[u],d={};if(d.type="submit",d.action=c,o&&o[u]&&(d.requestData=o[u]),l.push(d),"serial"===e)(p={type:"submitDone"}).action=c,l.push(p)}if("parallel"===e)for(u=0;u<t.length;u++){var p;c=t[u];(p={type:"submitDone"}).action=c,l.push(p)}return s.step=l,s},printTableLog:function(e){
var t=e.step,r={},i=0,n=-1,o="S",s="",l="",u=0,c=0,d=0;for(u=0;u<t.length;u++)l=t[u].action,"function"===(s=t[u].type)&&(s="submit"),"submit"===o&&"submit"===s||n++,"function"===s||"submit"===s?(r[l+"S"]={},r[l+"S"].row=i,r[l+"S"].col=n,i++):(r[l+"C"]={},r[l+"C"].row=r[l+"S"].row,r[l+"C"].col=n),o=s;n++;var p=e.logTime.START,h=0,f=[],g=i,m=n,b=null,y=[];for(c=0;c<g;c++){f[c]=[];for(d=0;d<=m;d++)f[c][d]=""}for(u=0;u<t.length;u++)l=t[u].action,"submitDone"!==(s=t[u].type)&&(i=r[l+"S"].row,n=r[l+"S"].col,y[i]=[],y[i][0]=n+1,f[i][n]=l,"function"!==s&&(i=r[l+"C"].row,n=r[l+"C"].col,void 0!==(b=e.logTime[l])&&(h=b.getTime()-p.getTime(),y[i][1]=n-1,f[i][n]="["+h+"ms]")));var S=[],v=0;for(c=0;c<m;c++){S[c]=0;for(d=0;d<g;d++)(v=f[d][c].length)>S[c]&&(S[c]=v)}var w=0,C=0,q="",W="";for(c=0;c<g;c++){w=y[c][0],C=y[c][1];for(d=0;d<=m;d++){for(u=(q=f[c][d]).length;u<S[d];u++)q+=d>=w&&d<=C?"-":" ";W+="|"+q}W+="\n"}var _=e.logTime.END;h=_.getTime()-p.getTime(),W="\n[ WORKFLOW :: "+e.id+" Start : "+WebSquare.ModelUtil.logFormatTime(p)+"]\n"+W+"[ WORKFLOW :: "+e.id+" End : "+WebSquare.ModelUtil.logFormatTime(_)+"    duration : "+h+"ms ]\n",a.v.printLog(W)},logFormatTime:function(e){return WebSquare.text.fillZero(e.getHours(),2)+":"+WebSquare.text.fillZero(e.getMinutes(),2)+":"+WebSquare.text.fillZero(e.getSeconds(),2)+":"+WebSquare.text.fillZero(e.getMilliseconds(),3)},_makeSubmissionDetail:function(e,t){try{if(!e||"function"!=typeof e.getScope)return;var r=e.getScope(),a=WebSquare.w2xPath;return r&&(a=r.getURL(r.getSrc()||WebSquare.w2xPath)),{src:a,id:e.id,orgId:e.org_id||e.id,scopeId:e.scope_id,log:t||""}}catch(e){i.Y.printStackTrace(e)}}}},4799:(e,t,r)=>{r.d(t,{r:()=>i});var i={Vector:function(){this.type="vector",this.length=0,this.data=[],this.dataType=[],this.attributeName=[],this.attributeValue=[]}};i.Vector.prototype.setDocument=function(e){try{if("vector"==e.documentElement.nodeName){this.length=0,this.data=[],this.dataType=[];for(var t=e.documentElement.attributes,r=0;r<t.length;r++){var i=t.item(r);WebSquare.nodeValueDeprecated?(this.attributeName.push(i.name),this.attributeValue.push(i.value)):(this.attributeName.push(i.nodeName),this.attributeValue.push(i.nodeValue))}var a=e.documentElement.childNodes;for(r=0;r<a.length;r++){var n=a.item(r);if(1==n.nodeType&&"data"==n.nodeName){var o=n.getAttribute("value");if(null!=o)this.data.push(o),this.dataType.push("String");else for(var s=n.childNodes,l=0;l<s.length;l++){var u=s.item(l);if(1==u.nodeType){this.data.push(WebSquare.xml.serialize(u)),this.dataType.push("Document");break}}this.length++}}}}catch(e){WebSquare.exception.printStackTrace(e)}},i.Vector.prototype.addAll=function(e){try{"vector"==e.type&&(this.data=this.data.concat(e.data),this.dataType=this.dataType.concat(e.dataType),this.length=this.data.length)}catch(e){WebSquare.exception.printStackTrace(e)}},i.Vector.prototype.getAttribute=function(e){var t="";try{for(var r=0;r<this.attributeName.length;r++)if(this.attributeName[r]==e){t=this.attributeValue[r];break}}catch(e){WebSquare.exception.printStackTrace(e)}return t},i.Vector.prototype.setAttribute=function(e,t){try{for(var r=!1,i=0;i<this.attributeName.length;i++)if(this.attributeName[i]==e){r=!0,this.attributeValue[i]=t;break}r||(this.attributeName.push(e),this.attributeValue.push(t))}catch(e){WebSquare.exception.printStackTrace(e)}},i.Vector.prototype.setDebug=function(e){this.setAttribute("debug",e)},i.Vector.prototype.setAction=function(e){this.setAttribute("action",e)},i.Vector.prototype.setTask=function(e){this.setAttribute("task",e)},i.Vector.prototype.setProcessName=function(e){void 0===e||null==e||""==e?this.setAttribute("processName",WebSquare.proworks.getControllerServer()):this.setAttribute("processName",WebSquare.proworks.getControllerServer()+"."+e)},i.Vector.prototype.getAction=function(){return this.getAttribute("action")},i.Vector.prototype.getTask=function(){return this.getAttribute("task")},i.Vector.prototype.getProcessName=function(){
return this.getAttribute("processName")},i.Vector.prototype.addElement=function(e){try{WebSquare.xml.isDocument(e)?(this.data.push(WebSquare.xml.serialize(e)),this.dataType.push("Document")):"object"!=typeof e||void 0===e.type||"vector"!=e.type&&"hashtable"!=e.type?"string"==typeof e&&WebSquare.xml.isDocumentString(e)?(this.data.push(e),this.dataType.push("Document")):(this.data.push(e+""),this.dataType.push("String")):(this.data.push(e.toString()),this.dataType.push("Document")),this.length++}catch(e){WebSquare.exception.printStackTrace(e)}},i.Vector.prototype.elementAt=function(e){var t=null;try{if((e=parseInt(e,10))>=0&&e<this.length)if("Document"==this.dataType[e]){var r=WebSquare.xml.parse(this.data[e]);t="vector"==r.documentElement.nodeName?WebSquare.collection.toVector(r):"hashtable"==r.documentElement.nodeName?WebSquare.collection.toHashtable(r):r}else t=this.data[e]}catch(e){WebSquare.exception.printStackTrace(e)}return t},i.Vector.prototype.insertElementAt=function(e,t){try{if((t=parseInt(t,10))==this.length)return void this.addElement(e);if(t>=0&&t<this.length){for(var r=this.length;r>t;r--)this.data[r]=this.data[r-1],this.dataType[r]=this.dataType[r-1];WebSquare.xml.isDocument(e)?(this.data[t]=WebSquare.xml.serialize(e),this.dataType[t]="Document"):"object"!=typeof e||void 0===e.type||"vector"!=e.type&&"hashtable"!=e.type?"string"==typeof e&&WebSquare.xml.isDocumentString(e)?(this.data[t]=e,this.dataType[t]="Document"):(this.data[t]=e+"",this.dataType[t]="String"):(this.data[t]=e.toString(),this.dataType[t]="Document"),this.length++}}catch(e){WebSquare.exception.printStackTrace(e)}},i.Vector.prototype.remove=function(e){var t=null;try{if((e=parseInt(e,10))>=0&&e<this.length){if("Document"==this.dataType[e]){var r=WebSquare.xml.parse(this.data[e]);t="vector"==r.documentElement.nodeName?WebSquare.collection.toVector(r):"hashtable"==r.documentElement.nodeName?WebSquare.collection.toHashtable(r):r}else t=this.data[e];if(e<this.length-1)for(var i=e;i<this.length-1;i++)this.data[i]=this.data[i+1],this.dataType[i]=this.dataType[i+1];this.data.pop(),this.dataType.pop(),this.length--}}catch(e){WebSquare.exception.printStackTrace(e)}return t},i.Vector.prototype.fastRemove=function(e){try{if((e=parseInt(e,10))>=0&&e<this.length){if(e<this.length-1)for(var t=e;t<this.length-1;t++)this.data[t]=this.data[t+1],this.dataType[t]=this.dataType[t+1];this.data.pop(),this.dataType.pop(),this.length--}}catch(e){WebSquare.exception.printStackTrace(e)}},i.Vector.prototype.set=function(e,t){try{(e=parseInt(e,10))>=0&&e<this.length&&(WebSquare.xml.isDocument(t)?(this.data[e]=WebSquare.xml.serialize(t),this.dataType[e]="Document"):"object"!=typeof t||void 0===t.type||"vector"!=t.type&&"hashtable"!=t.type?"string"==typeof t&&WebSquare.xml.isDocumentString(t)?(this.data[e]=t,this.dataType[e]="Document"):(this.data[e]=t+"",this.dataType[e]="String"):(this.data[e]=t.toString(),this.dataType[e]="Document"))}catch(e){WebSquare.exception.printStackTrace(e)}},i.Vector.prototype.size=function(){return this.length},i.Vector.prototype.toDocument=function(){return WebSquare.xml.parse(this.toString())},i.Vector.prototype.toString=function(){var e=[];try{e.push("<vector"),e.push(" result='"+this.length+"'");for(var t=0;t<this.attributeName.length;t++)"result"!=this.attributeName[t]&&e.push(" "+this.attributeName[t]+"='"+this.attributeValue[t]+"'");e.push(">");for(t=0;t<this.length;t++)if("Document"==this.dataType[t]){e.push("<data vectorkey='"+t+"'>");var r=this.data[t].indexOf("?>");if(-1==r)e.push(this.data[t]);else new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>").test(this.data[t])?e.push(this.data[t].substring(r+2)):e.push(this.data[t]);e.push("</data>")}else e.push("<data vectorkey='"+t+"' value='"+WebSquare.xml.encode(this.data[t])+"'/>");e.push("</vector>")}catch(e){WebSquare.exception.printStackTrace(e)}return e.join("")},i.Hashtable=function(){this.type="hashtable",this.key=[],this.data=[],this.dataType=[],this.attributeName=[],
this.attributeValue=[]},i.Hashtable.prototype.containsKey=function(e){var t=!1;try{for(var r=0;r<this.key.length;r++)if(this.key[r]==e){t=!0;break}}catch(e){WebSquare.exception.printStackTrace(e)}return t},i.Hashtable.prototype.setDocument=function(e){try{if("hashtable"==e.documentElement.nodeName){this.key=[],this.data=[],this.dataType=[];for(var t=e.documentElement.attributes,r=0;r<t.length;r++){var i=t.item(r);this.attributeName.push(i.nodeName),this.attributeValue.push(i.nodeValue)}var a=e.documentElement.childNodes;for(r=0;r<a.length;r++){var n=a.item(r);if(1==n.nodeType&&"data"==n.nodeName){this.key.push(n.getAttribute("hashkey"));var o=n.getAttribute("value");if(null!=o)this.data.push(o),this.dataType.push("String");else for(var s=n.childNodes,l=0;l<s.length;l++){var u=s.item(l);if(1==u.nodeType){this.data.push(WebSquare.xml.serialize(u)),this.dataType.push("Document");break}}}}}}catch(e){WebSquare.exception.printStackTrace(e)}},i.Hashtable.prototype.getAttribute=function(e){var t="";try{for(var r=0;r<this.attributeName.length;r++)if(this.attributeName[r]==e){t=this.attributeValue[r];break}}catch(e){WebSquare.exception.printStackTrace(e)}return t},i.Hashtable.prototype.setAttribute=function(e,t){try{for(var r=!1,i=0;i<this.attributeName.length;i++)if(this.attributeName[i]==e){r=!0,this.attributeValue[i]=t;break}r||(this.attributeName.push(e),this.attributeValue.push(t))}catch(e){WebSquare.exception.printStackTrace(e)}},i.Hashtable.prototype.setDebug=function(e){this.setAttribute("debug",e)},i.Hashtable.prototype.setAction=function(e){this.setAttribute("action",e)},i.Hashtable.prototype.setTask=function(e){this.setAttribute("task",e)},i.Hashtable.prototype.setProcessName=function(e){void 0===e||null==e||""==e?this.setAttribute("processName",WebSquare.proworks.getControllerServer()):this.setAttribute("processName",WebSquare.proworks.getControllerServer()+"."+e)},i.Hashtable.prototype.getAction=function(){return this.getAttribute("action")},i.Hashtable.prototype.getTask=function(){return this.getAttribute("task")},i.Hashtable.prototype.getProcessName=function(){return this.getAttribute("processName")},i.Hashtable.prototype.get=function(e){var t=null;try{for(var r=0;r<this.key.length;r++)if(this.key[r]==e){if("Document"==this.dataType[r]){var i=WebSquare.xml.parse(this.data[r]);t="vector"==i.documentElement.nodeName?WebSquare.collection.toVector(i):"hashtable"==i.documentElement.nodeName?WebSquare.collection.toHashtable(i):i}else t=this.data[r];break}}catch(e){WebSquare.exception.printStackTrace(e)}return t},i.Hashtable.prototype.put=function(e,t){var r=null;try{for(var i=!1,a=0;a<this.key.length;a++)if(this.key[a]==e){if(i=!0,"Document"==this.dataType[a]){var n=WebSquare.xml.parse(this.data[a]);r="vector"==n.documentElement.nodeName?WebSquare.collection.toVector(n):"hashtable"==n.documentElement.nodeName?WebSquare.collection.toHashtable(n):n}else r=this.data[a];WebSquare.xml.isDocument(t)?(this.data[a]=WebSquare.xml.serialize(t),this.dataType[a]="Document"):"object"!=typeof t||void 0===t.type||"vector"!=t.type&&"hashtable"!=t.type?"string"==typeof t&&WebSquare.xml.isDocumentString(t)?(this.data[a]=t,this.dataType[a]="Document"):(this.data[a]=t+"",this.dataType[a]="String"):(this.data[a]=t.toString(),this.dataType[a]="Document");break}i||(this.key.push(e),WebSquare.xml.isDocument(t)?(this.data.push(WebSquare.xml.serialize(t)),this.dataType.push("Document")):"object"!=typeof t||void 0===t.type||"vector"!=t.type&&"hashtable"!=t.type?"string"==typeof t&&WebSquare.xml.isDocumentString(t)?(this.data.push(t),this.dataType.push("Document")):(this.data.push(t+""),this.dataType.push("String")):(this.data.push(t.toString()),this.dataType.push("Document")))}catch(e){WebSquare.exception.printStackTrace(e)}return r},i.Hashtable.prototype.remove=function(e){var t=null;try{for(var r=0;r<this.key.length;r++)if(this.key[r]==e){if("Document"==this.dataType[r]){var i=WebSquare.xml.parse(this.data[r])
;t="vector"==i.documentElement.nodeName?WebSquare.collection.toVector(i):"hashtable"==i.documentElement.nodeName?WebSquare.collection.toHashtable(i):i}else t=this.data[r];this.key[r]=this.key[this.key.length-1],this.data[r]=this.data[this.data.length-1],this.dataType[r]=this.dataType[this.dataType.length-1],this.key.pop(),this.data.pop(),this.dataType.pop();break}}catch(e){WebSquare.exception.printStackTrace(e)}return t},i.Hashtable.prototype.keys=function(){return WebSquare.text.arraySort(this.key)},i.Hashtable.prototype.elements=function(){var e=[];try{for(var t=WebSquare.text.arraySort(this.key),r=0;r<t.length;r++)e.push(this.get(t[r]))}catch(e){WebSquare.exception.printStackTrace(e)}return e},i.Hashtable.prototype.toDocument=function(){return WebSquare.xml.parse(this.toString())},i.Hashtable.prototype.toString=function(){var e=[];e.push("<hashtable");try{for(var t=0;t<this.attributeName.length;t++)e.push(" "+this.attributeName[t]+"='"+this.attributeValue[t]+"'");e.push(">");for(t=0;t<this.key.length;t++)if("Document"==this.dataType[t]){e.push("<data hashkey='"+WebSquare.xml.encode(this.key[t])+"'>");var r=this.data[t].indexOf("?>");if(-1==r)e.push(this.data[t]);else new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>").test(this.data[t])?e.push(this.data[t].substring(r+2)):e.push(this.data[t]);e.push("</data>")}else e.push("<data hashkey='"+WebSquare.xml.encode(this.key[t])+"' value='"+WebSquare.xml.encode(this.data[t])+"'/>")}catch(e){WebSquare.exception.printStackTrace(e)}return e.push("</hashtable>"),e.join("")},i.toVector=function(e){var t=new WebSquare.collection.Vector;try{var r=null;"string"==typeof e?r=WebSquare.xml.parse(e):WebSquare.xml.isDocument(e)&&(r=e),t.setDocument(r)}catch(e){WebSquare.exception.printStackTrace(e)}return t},i.toHashtable=function(e){var t=new WebSquare.collection.Hashtable;try{var r=null;"string"==typeof e?r=WebSquare.xml.parse(e):WebSquare.xml.isDocument(e)&&(r=e),t.setDocument(r)}catch(e){WebSquare.exception.printStackTrace(e)}return t}},2536:(e,t,r)=>{r.d(t,{I:()=>o});var i=r(582),a=r(8109),n=r(2710),o={supportActiveX:"undefined"!=typeof ActiveXObject&&a.Q.browserCheck.ieAllVersion&&!i.q.msActiveXFilteringEnabled,supportDOM:!!document.implementation&&!!document.implementation.createDocument,websquareSerializer:new RegExp(i.q.userAgentPattern.serializer).test(navigator.userAgent),supportXMLHttp:"undefined"!=typeof XMLHttpRequest,uriEncoder:new RegExp(i.q.userAgentPattern.URIEncoder).test(navigator.userAgent)};o._XMLHTTP_PROGIDS=a.Q._XMLHTTP_PROGIDS,o._XML_NAMESPACE={SCHEMA:"http://www.w3.org/1999/XMLSchema",XFORMS:"http://www.w3.org/2002/xforms",XHTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XSL:"http://www.w3.org/1999/XSL/Transform",EVENTS:"http://www.w3.org/2001/xml-events",W2:"http://www.inswave.com/websquare"},o.EXT_PLUGIN={},o.EMPTY_TAG,o.maxZindex=10,o.FLzIndex=10,o.forcedValueSetting=null,o.firePageunload=!1,o.onurlchange=!1,o.urlchangebyapi=!1,o.onclearpage=!1,o.userClearMemoryStack=[],o.memoryLeakComponent={editor:1,fusionchart:1},o.memoryLeakComponentCount=0,o.useSubmissionGlobal=!1,o.useWorkflowGlobal=!1,o.projectCommonVariable="$c",o._projectCommonHash={},o._msaHash={},o._msaServerHash={},o.errorMessageData=new Object,o.userMessageData=new Object,o.commonCache={},o.udcObj={},o.udcMsa={},o._onpageloadArr=[],o.browserCheck=function(){return navigator.appName},o.browserCheck.ie=a.Q.browserCheck.ie,o.browserCheck.moz=a.Q.browserCheck.moz,o.browserCheck.opera=a.Q.browserCheck.opera,o.browserCheck.chrome=a.Q.browserCheck.chrome,o.browserCheck.android=a.Q.browserCheck.android,o.browserCheck.iphone=a.Q.browserCheck.iphone,o.browserCheck.ipad=a.Q.browserCheck.ipad,o.browserCheck.ipod=a.Q.browserCheck.ipod,o.browserCheck.blackberry=a.Q.browserCheck.blackberry,o.browserCheck.safari=a.Q.browserCheck.safari,o.browserCheck.ieAllVersion=a.Q.browserCheck.ieAllVersion,o.browserCheck.spartan=a.Q.browserCheck.spartan,
o.browserCheck.chromeEdge=a.Q.browserCheck.chromeEdge,o.browserCheck.ieVersion={},o.browserCheck.mozVersion={},o.browserCheck.chromeVersion={},o.browserCheck.safariVersion={},o.browserCheck.operaVersion={},o.browserCheck.spartanVersion={},o.browserCheck.chromeEdgeVersion={},o._commonPath=null,o.getXMLHTTPObject=function(e){var t=null;try{a.Q.useActiveXObject&&!0!==e?t=new ActiveXObject(o._XMLHTTP_PROGIDS[0]):window.XMLHttpRequest&&(t=new XMLHttpRequest)}catch(e){n.Y.printStackTrace(e)}return void 0===t||null==t?(WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_AjaxUnsupportedBrowser")),null):t},o._getHybridUri=function(e){try{if("string"!=typeof e)return;var t,r,a=e;return 1==i.q.hybridApp&&e.indexOf("://")<0&&e.startsWith("/")?a=WebSquare.util.appendingPathComponent(i.q.w2xDocumentRoot,e):"app:"==location.protocol&&(r=(t=location.href).lastIndexOf("/"),a=t.substr(0,r)+e),a}catch(e){n.Y.printStackTrace(e,null,this)}},o._loadBefore=function(e){try{var t=o.getConfiguration("/WebSquare/environment/requestHeaderFunction/@value");if(""!=t){var r=WebSquare.util.getGlobalFunction(t);"function"==typeof r&&r(e)}}catch(e){n.Y.printStackTrace(e,null,this)}},o._loadAfter=function(e,t,r,a,s,l){try{var u=null,c=o.getConfiguration("/WebSquare/redirectUrl/@value");if(""!=c&&r.indexOf(c)>=0)return void(location.href=r);if(e>="400"||0===e){if(s)return;if("true"===o.getConfiguration("/WebSquare/errorPage/@value")){var d=o.getConfiguration("/WebSquare/errorPage/E"+e);if(d)u=WebSquare.xml._decode(WebSquare.xml._encode(d));else{var p=o.getConfiguration("/WebSquare/errorPage/Else");if(p)u=WebSquare.xml._decode(WebSquare.xml._encode(p));else{var h=o.getConfiguration("/WebSquare/errorPage");u=h?WebSquare.xml._decode(WebSquare.xml._encode(h)):t}}}else u=t;throw{message:"core._loadAfter : "+e}}if(a&&null!=(u=a.xml)&&""!==u||(u=t),u.startsWith("/*ENCRYPTED*/")){var f=(new Date).getTime();u=new Function("return "+u)();var g=(new Date).getTime();WebSquare.logger.printLog("decryption+eval time: "+(g-f)+"ms")}return l&&!0===l.useInfo&&(u={data:u},i.q.extend(u,l.infoObj)),u}catch(e){n.Y.printStackTrace(e,null,this)}},o.load=function(e,t){try{if("string"!=typeof e)return;void 0!==t&&null!=t||(t={});var r=e,i=o._getHybridUri(e),s=o.getXMLHTTPObject(),l=null;try{a.Q.openResourceUri(i,s),o._loadBefore(s),s.send(null);var u=!0===t.useXML&&o.browserCheck.ieAllVersion?s.responseXML:null;l=o._loadAfter(s.status,s.responseText,s.responseURL,u,!0===t.skipError,t)}catch(e){var c="";c=r.indexOf("uiplugin")>-1?WebSquare.language.getMessage("E_core_NoPluginError",r)||"Plugin ["+r+"] does not exist.":WebSquare.language.getMessage("E_core_NoModuleError",r)||"Resource ["+r+"] does not exist.",WebSquare.logger.printLog(c)}return s=null,l}catch(e){n.Y.printStackTrace(e,null,this)}},o.loadAsync=async function(e,t){try{if("string"!=typeof e)return Promise.reject("core.loadAsync error : uri invalid. ["+e+"]");void 0!==t&&null!=t||(t={});var r=!0===t.skipError,i=!0===t.useXML&&o.browserCheck.ieAllVersion;return new Promise((function(n,s){var l=a.Q.getXMLHTTPObject(),u=o._getHybridUri(e);!0!==t.noPostfix&&(u=a.Q.getResourcePostfix(u)),l.open("GET",u,!0);var c=function(e){if(4===l.readyState){var a=i?l.responseXML:null,u=o._loadAfter(l.status,l.responseText,l.responseURL,a,r,t);l.status>=200&&l.status<400&&"string"==typeof l.responseText&&l.responseText?n(u):s(u),l=null}};a.Q.useActiveXObject?l.onreadystatechange=c:(l.onload=c,l.onerror=function(e){s(l.statusText),l=null}),o._loadBefore(l),l.send(null)}))}catch(e){n.Y.printStackTrace(e,null,this)}},o.download=function(e,t,r,s){if(void 0!==r&&null!=r&&""!=r||(r="post"),null!=s&&void 0!==s||(s=!1),s)try{var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e="",t=this.getResponseHeader("Content-Disposition");if(WebSquare.util.isIEAllVersion(11)){var r=(t=t.wq_replaceAll(";","")).indexOf("=")+1;e=t.substring(r,t.length),navigator.msSaveOrOpenBlob(l.response,e)}else{
var i=window.URL.createObjectURL(this.response);if(t){var a=document.createElement("a");e=navigator.userAgent.indexOf("Safari")>-1&&-1==navigator.userAgent.indexOf("Chrome")?t.replaceAll("attachment;filename*=UTF-8''",""):t.match(/filename="([^"]+)"/)[1],e=decodeURIComponent(e),a.download=e,a.href=i,a.click(),i&&window.URL.revokeObjectURL(i)}WebSquare.layer.hideProcessMessage()}}};try{l.ontimeout=function(e){}}catch(e){n.Y.printStackTrace(e)}l.open(r,e,!0),l.setRequestHeader("Content-Type","text/plain"),l.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"),l.responseType="blob";var u=o.getConfiguration("/WebSquare/handler/requestHeaderFunction/@value");if(""!=u){var c=WebSquare.util.getGlobalFunction(u);c&&c(l,"download")}l.send(t)}catch(e){n.Y.printStackTrace(e)}else{var d=!1;null!=document.getElementById("__iframe__")&&(d=!0);var p=null,h="";if(d)p=document.getElementById("___iframe__div");else{if((p=document.createElement("div")).id="___iframe__div",p.style.width="0px",p.style.height="0px",p.style.visibility="hidden",document.body.appendChild(p),h=WebSquare.net.getSSLBlankPage(),i.q.domain){var f=o.getConfiguration("domainFrameURL");f||(f=i.q.baseURI+a.Q.inquiresPath("message/domainFrame.html")),h="src='"+(f+="?domain="+WebSquare.text.URLEncoder(i.q.domain))+"'"}var g="";WebSquare.util.isIEAllVersion()&&(g="frameborder='0'"),o._safeInnerHTML(p,"<iframe "+g+" id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0; border:0px;' "+h+"></iframe>")}try{var m=document.getElementById("__iframe__");if(o.browserCheck.ie){try{m.contentWindow.document}catch(e){return o.clearTimer("__iframe__"),void o.setTimer(o.download,{key:"__iframe__",caller:this,delay:500,args:arguments})}m.contentWindow.document.onreadystatechange=function(){try{"interactive"==m.contentWindow.document.readyState&&WebSquare.layer.hideProcessMessage()}catch(e){n.Y.printStackTrace(e)}}}else WebSquare.layer.hideProcessMessage()}catch(e){n.Y.printStackTrace(e)}try{var b=document.createElement("form");if(b.target="__iframe__",b.action=e,b.method=r,b.style.display="inline",void 0!==t){var y=document.createElement("input");y.type="hidden",y.name="xmlValue",WebSquare.xml.isDocument(t)?y.value=WebSquare.xml.serialize(t):y.value=t,b.appendChild(y)}p.appendChild(b),b.submit()}catch(e){}finally{try{b&&y&&(y.value=""),p.removeChild(b)}catch(e){n.Y.printStackTrace(e)}}}},o.excelDownload=function(e,t,r,s){if(!s||"object"!=typeof s)s={};var l="WS5_downloadComplete",u=null,c=null,d=s.timeout||null,p=s.checkInterval||1e3,h=s.onSuccessCallback||null,f=s.onFailureCallback||null,g=s.scopeId||"";if(WebSquare.hybridApp){var m=document.getElementById("__iframe__"),b=function(){document.cookie=l+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",WebSquare.layer.hideProcessMessage({scope:g}),clearInterval(u)},y=function(e){b(),h&&h(e)},S=function(e){b(),f&&f(e)};try{var v={};v.url=e,v.data=t,window.$h.websquare.excelDownload((function(t){y(e)}),(function(t){S(e)}),v)}catch(e){n.Y.printStackTrace(e)}}else{if(s.nativeApp)return window.__WebSquareExcel.downloadExcel(e,t),void WebSquare.layer.hideProcessMessage({scope:g});void 0!==r&&null!=r&&""!=r||(r="post"),WebSquare.util._isMobileDevice()&&window.open("blank.html","__ipad_excel__");var w=!1;null!=document.getElementById("__iframe__")&&(w=!0);var C=null;if(w)C=document.getElementById("___iframe__div");else{(C=document.createElement("div")).id="___iframe__div",C.style.width="0px",C.style.height="0px",C.style.visibility="hidden",document.body.appendChild(C);var q=WebSquare.net.getSSLBlankPage();if(i.q.domain){var W=i.q.baseURI+a.Q.inquiresPath("message/domainFrame.html");q="src='"+(W+="?domain="+WebSquare.text.URLEncoder(i.q.domain))+"'"}var _="";WebSquare.util.isIEAllVersion()&&(_="frameborder='0'"),o._safeInnerHTML(C,"<iframe "+_+" id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0; border:0px;' "+q+"></iframe>")}try{
m=document.getElementById("__iframe__"),b=function(){document.cookie=l+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",WebSquare.layer.hideProcessMessage({scope:g}),clearInterval(u)},y=function(e,t,r){b(),t||(t={}),r&&window.URL.revokeObjectURL(r),h&&h(e,t)},S=function(e,t,r){b(),t||(t={}),r&&window.URL.revokeObjectURL(r),f&&f(e,t)};document.cookie=l+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";if(WebSquare.util.isIEAllVersion()){try{m.contentWindow.document}catch(e){return o.clearTimer("__iframe__"),void o.setTimer(o.excelDownload,{key:"__iframe__",caller:this,delay:500,args:arguments})}m.contentWindow.document.onreadystatechange=function(){try{"interactive"==m.contentWindow.document.readyState&&y(e)}catch(e){n.Y.printStackTrace(e)}}}else s.useXHR||(c=new Date,u=setInterval((function(){try{var t=l+"=true";document.cookie.indexOf(l+"=")>-1?document.cookie.indexOf(t)>-1?y(e):S(e):d&&new Date-c>d?S(e):s.httpReadOnly&&b()}catch(e){n.Y.printStackTrace(e)}}),p))}catch(e){n.Y.printStackTrace(e)}try{if(s.useXHR){var x="",I="",T=new XMLHttpRequest,k=s.withCredentials+""||"";""!=k&&(T.withCredentials=WebSquare.util.getBoolean(k));var L=!0,A=s.userExcel||"false";A+="";var E=s.userExcel||"false";E+="",e.indexOf("xmlToExcel2.wq")>-1||"true"==A?(x="blob",I="exceldownload"):e.indexOf("xmlToCSV.wq")>-1||"true"==E?(x="blob",I="csvdownload"):e.indexOf("dataListToExcel.wq")>-1?(x="blob",I="dataListdownload"):e.indexOf("pivotToExcel.wq")>-1?(x="blob",I="pivotdownload"):e.indexOf("pivotToCSV.wq")>-1?(x="blob",I="pivotcsvdownload"):L=!1,T.onreadystatechange=function(){var t;if(4==this.readyState)if(200==this.status){var r="",i={},a=this.getResponseHeader("Content-Disposition");if(L)if(a){if(WebSquare.util.isIEAllVersion(11)){var o=(a=a.wq_replaceAll(";","")).indexOf("=")+1;r=a.substring(o,a.length),navigator.msSaveOrOpenBlob(T.response,r)}else{t=window.URL.createObjectURL(this.response);var s=document.createElement("a");r=a.match(/filename="([^"]+)"/)[1],r=decodeURIComponent(r),s.download=r,s.href=t,s.click()}y(e,i,t)}else{var l=new FileReader;l.readAsText(this.response),l.onloadend=function(){var t=WebSquare.xml.parse(l.result),r=WebSquare.xml.findNode(t,"Exception/errorCode"),a=WebSquare.xml.getTextNodeValue(r);i.errorCode=a,S(e,i)}}else{try{this.responseText&&(i=JSON.parse(this.responseText))}catch(e){n.Y.printStackTrace(e)}y(e,i)}}else S(e,{},t)};try{T.timeout=d,T.ontimeout=function(t){S(e)}}catch(e){n.Y.printStackTrace(e)}T.open("POST",e,!0),T.setRequestHeader("Content-Type","text/plain"),T.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"),T.responseType=x;var D=o.getConfiguration("/WebSquare/handler/requestHeaderFunction/@value");if(""!=D){var M=WebSquare.util.getGlobalFunction(D);M&&M(T,I)}WebSquare.xml.isDocument(t)&&(t=WebSquare.xml.serialize(t)),T.send("xmlValue="+t)}else{var N=document.createElement("form");if(WebSquare.util._isMobileDevice()?N.target="__ipad_excel__":(N.target="__iframe__",N.encoding="text/plain"),e=e.indexOf("?")>-1?e+"&suffix="+(new Date).getTime()+i.q.safeRandom():e+"?suffix="+(new Date).getTime()+i.q.safeRandom(),N.action=e,N.method=r,N.style.display="inline",N.acceptCharset="UTF-8",void 0!==t){var R=document.createElement("input");R.type="hidden",R.name="xmlValue",WebSquare.xml.isDocument(t)&&(t=WebSquare.xml.serialize(t)),R.value=t,N.appendChild(R)}C.appendChild(N),N.submit()}}catch(e){n.Y.printStackTrace(e)}finally{try{N&&(R&&(R.value=""),C.removeChild(N))}catch(e){n.Y.printStackTrace(e)}}}},o.callParentFunction=function(e,...t){var r=null;try{for(var i=opener||parent,a=e.wq_trim().split("."),o=0,s=i[a[o++]];s&&("object"==typeof s||"function"==typeof s)&&o<a.length;)s=s[a[o++]];r=s.apply(s,t)}catch(e){n.Y.printStackTrace(e)}return r},o.closePopupWindow=function(){var e=WebSquare.net.getParameter("popupID");o.callParentFunction("WebSquare.uiplugin.popup.callClose",e)},o.getNamespaces=function(e){var t={};try{var r=null
;if(1==e.nodeType?r=e.attributes:9==e.nodeType&&(r=e.documentElement.attributes),null!=r)for(var i=0;i<r.length;i++){var a=r.item(i);"xmlns"==a.nodeName?t[""]=null!=a.value?a.value:a.nodeValue:0==a.nodeName.indexOf("xmlns")&&(null!=a.value&&null!=a.name?t[a.name.substring(6)]=a.value:t[a.nodeName.substring(6)]=a.nodeValue)}}catch(e){n.Y.printStackTrace(e)}return t},o.getURL=function(e,t){if("string"==typeof e){void 0!==t&&null!=t||(t={});try{if(e.indexOf("://")>-1)return e=o._getWpackUrl(e,t.wpack);var r,a=!0!==t.absolutePath&&!e.startsWith("/")&&!e.startsWith("\\"),s=t.baseServletURI,l=t.baseURI;t.msaName&&(r=o._msaServerHash[t.msaName]),r?(!0===l&&(l=r.baseURI||i.q.baseURI),!0===s&&(s=r.baseServletURI||(l?"":i.q.baseServletURI)),s&&l?e=r.origin+s+l+e:s?e=r.origin+s+e:l?e=r.origin+l+e:(a&&(e=(t.tempHome||r.w2xHome||WebSquare.w2xHome)+e),e=r.origin+e)):a&&!0!==t.baseURI&&!r&&(e=(t.tempHome||WebSquare.w2xHome)+e),""==i.q.w2xDocumentRoot||e.startsWith("..")||r||(e=i.q.w2xDocumentRoot+e),r||!0===t.baseServletURI||!0===t.baseURI||t.imageServlet||(e=o._getContextRootUri(e)),!0!==t.baseURI||r?!0!==t.baseServletURI||r||(e=i.q.baseServletURI+e):e=i.q.baseURI+e,e=o._getWpackUrl(e,t.wpack)}catch(e){n.Y.printStackTrace(e)}finally{return e}}},o.getImageURL=function(e,t){void 0!==t&&null!=t||(t={});var r,n=!0===t.cssStyle,s=o.getConfiguration("/WebSquare/imageURLPrefix/@value"),l=o.getConfiguration("/WebSquare/imageURLPostfix/@value");if(t.msaName&&(r=o._msaServerHash[r]),"string"==typeof e){if(e.startsWith("data:")||e.startsWith("blob:"))return e;e=e.wq_trim();var u=0==i.q.isLocal&&o.browserCheck.ie&&"6"==o.browserVersion()&&-1==e.indexOf("://")&&!r;if(null!=a.Q.imageServlet){if(t.imageServlet=a.Q.imageServlet,e.startsWith("url")){var c=e.substring(3).wq_trim();"("==c.charAt(0)&&")"==c.charAt(c.length-1)&&(e=c.substring(1,c.length-1),r&&(e=a.Q.imageServlet+e),e=o.getURL(e,t),r||(e=i.q.baseURI+a.Q.imageServlet+e),e=a.Q.getImagePostfix(e),u&&(e=location.protocol+"//"+location.host+e),e="url("+e+")")}else""!==s?e=s+e:(r&&(e=a.Q.imageServlet+e),e=o.getURL(e,t),r||(e=i.q.baseURI+a.Q.imageServlet+e),"$blank"!=l&&(e=a.Q.getImagePostfix(e))),u&&(e=location.protocol+"//"+location.host+e),n&&(e="url("+e+")");null!=a.Q.imageHostUrl&&(e+="&hostUrl="+a.Q.imageHostUrl)}else"$blank"!=l&&(e=a.Q.getResourcePostfix(e)),e=""!==s?s+e:o.getURL(e,t),u&&(e=location.protocol+"//"+location.host+e),n&&(e="url("+e+")")}return e},o.getEngineImageURL=function(e,t){if(void 0===t&&(t=!1),"string"==typeof e)if(null!=a.Q.imageServlet)if(e.startsWith("url")){var r=e.substring(3).wq_trim();"("==r.charAt(0)&&")"==r.charAt(r.length-1)&&(e=r.substring(1,r.length-1),e=i.q.baseURI+a.Q.imageServlet+i.q.baseURI+e.wq_trim(),e="url("+(e=a.Q.getImagePostfix(e))+")")}else e=i.q.baseURI+a.Q.imageServlet+i.q.baseURI+e.wq_trim(),e=a.Q.getImagePostfix(e),t&&(e="url("+e+")");else e=i.q.baseURI+e.wq_trim(),t&&(e="url("+e+")");return e},o.getServletURL=function(e,t,r,i,a){try{var o={msaName:t};return i?(o.baseURI=!1,o.baseServletURI=!1,o.absolutePath=!0):(o.baseURI=!0,o.baseServletURI=!0,o._force=!0,o.absolutePath=!0),e&&"function"==typeof e.getURL?i?e.getURL(i,o):e.getURL(r,o):i?this._getMsaSrc(i,o):this._getMsaSrc(r,o)}catch(e){n.Y.printStackTrace(e)}},o.browserVersion=function(){if(o.browserCheck.moz){if(2==navigator.appVersion.charAt(0))return"2";if(3==navigator.appVersion.charAt(0))return"3";if(4==navigator.appVersion.charAt(0))return"4";if(5==navigator.appVersion.charAt(0))return"6"}else if(o.browserCheck.ieAllVersion){if(document.documentMode)return document.documentMode+"";if("2"==navigator.appVersion.charAt(0))return"2";if("3"==navigator.appVersion.charAt(0))return"3"
;if("4"==navigator.appVersion.charAt(0))return-1!=navigator.appVersion.indexOf("MSIE 9")?"9":-1!=navigator.appVersion.indexOf("MSIE 8")?"8":-1!=navigator.appVersion.indexOf("MSIE 7")?"7":-1!=navigator.appVersion.indexOf("MSIE 6")?"6":-1!=navigator.appVersion.indexOf("MSIE 5.5")?"5.5":-1!=navigator.appVersion.indexOf("MSIE 5.0")?"5.0":"4";if("5"==navigator.appVersion.charAt(0))return"5"}else if(o.browserCheck.android){var e=navigator.userAgent;if(e.indexOf("Android")>=0)return parseFloat(e.slice(e.indexOf("Android")+8))}return" "},o.setTimeout=function(e,t,r){var i=[];if(arguments.length>3)for(var a=3;a<arguments.length;a++)i.push(arguments[a]);window.setTimeout((function(){t.apply(e,i)}),r)},o.cloneObject=function(e){if("object"!=typeof e)return e;if(null==e)return e;var t=new Object;for(var r in e)t[r]=o.cloneObject(e[r]);return t},o.makeStyle=function(e,t,r){if(!(void 0!==e&&null!=e||void 0!==t&&null!=t))return null;var i={};void 0!==t&&null!=t&&""!=t&&(i=WebSquare.skin.makeClassStyle(t),i=o.cloneObject(i));try{if(void 0!==e&&null!=e&&""!=e){for(var a=e.split(";"),s=0;s<a.length;s++){var l=a[s].indexOf(":");if(!(l<0)){var u=a[s].substring(0,l),c=a[s].substring(l+1);if(c.indexOf("url")>=0&&(c=c.wq_trim()).startsWith("url")){var d=c.substring(3).wq_trim();"("==d.charAt(0)&&")"==d.charAt(d.length-1)&&(c="url("+o.getImageURL(d.substring(1,d.length-1))+")")}i[u.wq_trim().capitalizeStyle()]=c.wq_trim()}}if(void 0!==r){var p={};for(s=0;s<r.length;s++)try{var h=r[s].wq_trim().capitalizeStyle(),f=i[h];void 0!==f&&(p[h]=f)}catch(e){n.Y.printStackTrace(e)}i=p}}}catch(e){n.Y.printStackTrace(e)}return i},o.applyStyle=function(e,t,r){try{if(void 0===t||null==t)return;if(WebSquare.util.isExist("style",e))if(void 0===r)for(var i in t)try{e.style[i]=t[i]}catch(t){n.Y.printStackTrace(t,"Object ID : "+e.id+",    ")}else for(i=0;i<r.length;i++)try{var a=t[r[i]];void 0!==a&&(e.style[r[i]]=a)}catch(t){n.Y.printStackTrace(t,"Object ID : "+e.id+",    ")}}catch(e){n.Y.printStackTrace(e)}},o.getConfiguration=function(e){return o.getConfigurationJSON(e)},o.getConfigurationJSON=function(e,t){if(a.Q.configurationJSON){var r;if(void 0!==t&&null!=t||(t={}),null!=(r="json"===t.type?i.q.configCacheObj[e]:"array"===t.type?i.q.configCacheArray[e]:i.q.configCache[e]))return r;r="";for(var n=0;n<a.Q.configurationJSON.length;n++){if(e.indexOf("/")>-1){for(var o=e.split("/"),s=a.Q.configurationJSON[n],l=!1,u=null,c=0;c<o.length;c++)if(""!=o[c]){l=!1;var d=o[c],p=d.indexOf("["),h=null,f=null;if(-1==p)u=d;else{u=d.substring(0,p);var g=d.match(/[a-zA-Z0-9_]*[\[][\s]*(@[a-zA-Z0-9_]*)[\\]*=[\s]*["']?([^'"]*)["']?[\]]/);null!=g&&(h=g[1],f=g[2])}if(s=s[u])if("[object Array]"===Object.prototype.toString.call(s))if("array"===t.type&&null==h&&null==f)l=!0;else for(var m=0;m<s.length;m++){if(null==h&&null==f){l=!0,s=s[m];break}if(f==s[m][h]){l=!0,s=s[m];break}}else(null==h&&null==f||f==s[h])&&(l=!0);if(!l){s=null;break}}"json"===t.type||"array"===t.type?r=s:(s&&(u&&u.startsWith("@")?r="string"==typeof s?s:s+"":("[object Array]"===Object.prototype.toString.call(s)?"array"!==t.type&&(r=s[0]["#text"]||"",r+=s[0]["#cdata"]||""):(r=s["#text"]||"",r+=s["#cdata"]||""),"string"!=typeof r&&(r+=""))),r=r.wq_trim())}else{s=a.Q.configurationJSON[n].WebSquare[e.wq_trim()];"json"===t.type?r=s:(s&&("[object Array]"===Object.prototype.toString.call(s)?"array"!==t.type&&(r=s[0]["@value"]):r=s["@value"]),r?r=r.wq_trim():"array"!==t.type&&(r=""))}if(r)break}if("json"===t.type||"array"===t.type)if(null==r&&(r={}),"json"===t.type){var b={};for(var y in r){var S=r[y];S.constructor!==Array&&null!=S["@value"]?b[y]=S["@value"]||"":b[y]=S}i.q.configCacheObj[e]=b,r=b}else i.q.configCacheArray[e]=r;else i.q.configCache[e]=r;return r}},o.getConfig=function(e){e.indexOf("/")>-1&&(e="/WebSquare/"+e);var t=this.getConfigurationJSON(e,{type:"json"});for(var r in t)t[r]&&"object"==typeof t[r]&&(t[r]="");return t},o.getChildConfiguration=function(e,t){var r=[],i=this.getConfigurationJSON(e,{type:"array"})
;for(var a in i){if(i[a].constructor===Array&&i[a].length>0){r=i[a];break}t&&!0===t.singleMode&&i[a].constructor!==Array&&(r=[i[a]])}return r},o.applyErrorMessage=async function(){try{for(var e=i.q.baseURI+a.Q.inquiresPath("message/")+o.getConfiguration("language")+".xml",t=(await WebSquare.xml.load(e)).documentElement.firstChild;null!=t;t=t.nextSibling)1==t.nodeType&&(o.errorMessageData[t.nodeName]=t.firstChild.nodeValue)}catch(e){n.Y.printStackTrace(e)}},o.applyUserMessage=async function(){try{for(var e=i.q.baseURI+a.Q.inquiresPath("message/userMessage.xml"),t=(await WebSquare.xml.load(e)).documentElement.firstChild;null!=t;t=t.nextSibling)1==t.nodeType&&(o.userMessageData[t.nodeName]=t.firstChild.nodeValue)}catch(e){n.Y.printStackTrace(e)}},o.setMaxZIndex=function(e){for(var t=0,r=document.body.childNodes,i=0;i<r.length;i++)if(1==r[i].nodeType){var a=r[i].style.zIndex;a>=t&&(t=a)}e.style.zIndex=t+1},o.clearCommon=function(){try{try{for(var e=o.userClearMemoryStack.length;e>0;e--){var t=o.userClearMemoryStack[e-1];t&&t()}}catch(h){n.Y.printStackTrace(h)}try{var r=WebSquare.util.getGlobalFunction(o.getConfiguration("/WebSquare/clearMemory/@userFunction"));"function"==typeof r&&r()}catch(f){n.Y.printStackTrace(f)}if(WebSquare&&i.q.timerHash)for(var a in i.q.timerHash){i.q.timerHash[a]&&o.clearTimer(a)}if(WebSquare.userTimerHash){for(var a in WebSquare.userTimerHash){WebSquare.userTimerHash[a]&&WebSquare.util.clearTimeout(a)}i.q.userTimerHash={}}if(WebSquare.userIntervalHash){for(var a in WebSquare.userIntervalHash){WebSquare.userIntervalHash[a]&&WebSquare.util.clearInterval(a)}i.q.userIntervalHash={}}if(WebSquare&&WebSquare.userData){for(var a in WebSquare.userData)WebSquare.userData[a]=null;i.q.userData={}}function p(e){for(var t in e){!0!==e[t].spaCache&&delete e[t]}}for(var s in WebSquare.net.paramObj=null,p(o._projectCommonHash),p(o._msaHash),o._msaServerHash={},WebSquare.DataCollection.stopBroadCast=!0,WebSquare.DataCollection.comp)WebSquare.DataCollection.api.remove(s);WebSquare.DataCollection.stopBroadCast=!1,WebSquare.DataCollection.comp={},WebSquare.DataCollection.attributeMapInfo={},WebSquare.DataCollection.childToParentRelation={},WebSquare.DataCollection.parentToChildRelation={},WebSquare.DataCollection.childToParentRef={},WebSquare.DataCollection.parentToChildRef={},WebSquare.DataCollection.options={useConfig:"true",baseNode:"map",attributeMap:""},WebSquare.DataCollection.activated=!1,WebSquare.clearScriptHead();var l=o.getConfiguration("/WebSquare/clearMemory/@closeChildPopup");if(WebSquare.uiplugin.popup&&WebSquare.uiplugin.popup.popupList)for(var u=WebSquare.uiplugin.popup.popupList,c=(e=0,u.length);e<c;e++){var d=u[e];d.useWindowPopup()&&"false"===l||d.close()}o.commonCache={},o.clearJQuery(),WebSquare._dataObjectFlag=!1,o._fireParentOnunload()}catch(g){n.Y.printStackTrace(g)}},o.setTimer=function(e,t){try{var r=(new Date).getTime(),a=t.key||e.toString().slice(0,30),o=t.delay||1,s=t.max||0,l=t.caller||window,u=t.args||[],c=i.q.timerHash[a];return c||(c=i.q.timerHash[a]={thread:null,timeoutKey:null,startTime:r}),c.thread=function(){window.WebSquare&&i.q.timerHash&&delete i.q.timerHash[a],t.before_call&&t.before_call.call(l,c);var r=e.apply(l,u);t.callback&&t.callback.call(l,r)},clearTimeout(c.timeoutKey),s<=0||r-c.startTime<s?(t.before_set&&t.before_set.call(l,c),c.timeoutKey=setTimeout(c.thread,o),t.after_set&&t.after_set.call(l,c)):c.thread(),a}catch(e){n.Y.printStackTrace(e,null,this)}},o.clearTimer=function(e,t){try{"function"==typeof e&&(e=e.toString().slice(0,30));var r=i.q.timerHash[e];r&&(clearTimeout(r.timeoutKey),t?r.thread():delete i.q.timerHash[e])}catch(e){n.Y.printStackTrace(e,null,this)}},o.measureTime=function(e,t){try{var r=t.key||e.toString().slice(0,30),a=t.caller||window;o.clearTimer(r,!0),o.setTimer((function(){}),{key:r,before_call:function(t){var n=(new Date).getTime()-t.startTime;i.q.measureHash[r]||(i.q.measureHash[r]=[],i.q.measureHash[r].sum=0);var o=i.q.measureHash[r];o.push(n),
o.sum+=n,o.length>100&&(o.sum-=o.shift()),e.call(a,{time:n,aver:o.sum/o.length})}})}catch(e){n.Y.printStackTrace(e,null,this)}},o.modifyMaxConnection=function(e,t){try{if(o.browserCheck.ie){e=e||"10",t=t||"";var r=o.getConfiguration("/WebSquare/maxConnectionActiveX/@codebase");null!=r&&""!=r||(r="engine/cab/WebSquareConfig.cab");var i=document.createElement("div");i.style.width="0px",i.style.height="0px",i.style.visibility="hidden",document.body.appendChild(i),o._safeInnerHTML(i,"<object classid='clsid:BD66056F-D87B-4543-8638-A4CED765B9AA' codebase='"+r+"' style='display: none' width='0' height='0' align='center' hspace='0' vspace='0'><param name='MaxConnectionsPerServer' value='"+e+"' /><param name='SyncMode5' value='"+t+"' /></object>")}}catch(e){n.Y.printStackTrace(e,null)}},o.setSystemLanguage=function(e){i.q.useUserSystemLang=!0;var t=a.Q.getBrowserLanguage();e=WebSquare.cookie.getCookie("system_language")||e||t||"ko";i.q.systemLanguage=e;var r=o.getConfiguration("/WebSquare/languagePack/url[@lang='"+e+"']/@value");imports(r)},o.getEmptyTag=function(){try{if(o.EMPTY_TAGS)return o.EMPTY_TAGS;o.EMPTY_TAGS={};var e=o.getConfiguration("/WebSquare/emptyTag/@value");if(e)for(var t=e.split(","),r=0;r<t.length;r++){var i=t[r].wq_trim();o.EMPTY_TAGS[i]=!0}return o.EMPTY_TAGS}catch(e){n.Y.printStackTrace(e,null)}},o.finalize=function(){try{WebSquare.DataCollection.stopBroadCast=!0,i.q.dragdrop2={droppable:{},scrollable:{},scrollByDragDelay:300,scrollByDragSpeed:50};var e=WebSquare.style.getScale();i.q.getBody()&&(o.firePageunload||(o.firePageunload=!0,WebSquare.event.fireEvent(WebSquare.getBody(),"onpageunload")));var t=WebSquare.util.getGlobalFunction(o.getConfiguration("/WebSquare/spa/onpageunload/@value"));if("function"==typeof t)try{t()}catch(e){WebSquare.logger.printLog("eval script error : "+t),n.Y.printStackTrace(e,null)}if("true"===o.getConfiguration("/WebSquare/spa/autoReload/@value").toLowerCase()){for(var r in o.memoryLeakComponent)if(null!=WebSquare.componentsCache[r]){if(Number(o.getConfiguration("/WebSquare/spa/autoReload/@"+r))<=Object.keys(WebSquare.componentsCache[r]).length)return void WebSquare.util.clearPage();o.memoryLeakComponentCount+=Object.keys(WebSquare.componentsCache[r]).length*o.memoryLeakComponent[r]}var s=o.getConfiguration("/WebSquare/spa/autoReload/@count");if(s=""==s?NaN:Number(s),o.memoryLeakComponentCount>0&&o.memoryLeakComponentCount>s)return void WebSquare.util.clearPage()}var l=o._getGlobalVariable(!0);if(l)for(var u=l.split(","),c=0;c<u.length;c++){var d=u[c].wq_trim();for(var p in window[d])delete window[d][p];window[d]={}}for(var h in WebSquare.idCache){var f=WebSquare.idCache[h];if("function"!=typeof f.remove||f.remove==WebSquare.xfControl.prototype.remove||f.options&&("wframe"==f.options.pluginName||"pageInherit"==f.options.pluginName||"pageFrame"==f.options.pluginName)){if(i.q.isPrintLog=!1,"function"==typeof f.finalize&&f.finalize(),i.q.isPrintLog=!0,"function"==typeof f.unbind&&f.unbind(),f.event&&f.event.clearCache(),i.q.useVisibleHelper&&f.render&&f.render.parentNode&&f!=WebSquare.body&&f.render.parentNode.removeChild(f.render),f.childControlList=[],window[f.id])try{delete window[f.id]}catch(e){window[f.id]=void 0}}else f.remove()}if(!i.q.useVisibleHelper&&WebSquare.body&&(WebSquare.body.childControlList=null,WebSquare.body.layerListener&&WebSquare.body.layerListener.removeAll(),WebSquare.body.render&&WebSquare.body.render.parentNode.removeChild(WebSquare.body.render)),i.q.body=null,i.q.idCache={},window[WebSquare.noConflict].comp={},i.q.idToUUID={},i.q.scriptSectionExcuteFlag=null,i.q.scriptSection="",i.q.useVisibleHelper=!1,i.q.styleSheetEarlyImport=1,i.q.styleSheetEarlyImportName="",i.q.skin&&WebSquare.skin.skinTag&&(WebSquare.skin.skinTag=WebSquare.styleSheetEarlyImportList.slice(0)),i.q.externalCSSList=[],i.q.externalCSSDOM=[],i.q.externalCSSURL=[],i.q.pageXMLString=null,WebSquare.uiplugin&&WebSquare.uiplugin.scheduleCalendar&&(WebSquare.uiplugin.scheduleCalendar.isImported=!1),
null!=i.q.WebSquaredoc){WebSquare.WebSquaredoc.itemsetElement=[],WebSquare.WebSquaredoc.refElement=[],WebSquare.WebSquaredoc.instanceRefElement=[],i.q.componentsCache={};var g=document.getElementsByTagName("head")[0];for(c=WebSquare.WebSquaredoc.cssList.length-1;c>=0;c--){var m=WebSquare.WebSquaredoc.cssList[c];if("LINK"===m.tagName.toUpperCase()){for(var b=WebSquare.util._getAbsolutePath(m.href.toString()),y=0;y<WebSquare.styleSheetEarlyImportList.length;y++)if(b===WebSquare.util._getAbsolutePath(WebSquare.styleSheetEarlyImportList[y])){WebSquare.WebSquaredoc.cssList.splice(y,1);break}}else g.removeChild(m),WebSquare.WebSquaredoc.cssList.splice(c,1)}if(g=null,i.q.externalCSSRemainder=WebSquare.WebSquaredoc.cssList.slice(0),null!=WebSquare.WebSquaredoc.xmlDocument)for(c=WebSquare.WebSquaredoc.xmlDocument.childNodes.length-1;c>=0;c--)WebSquare.WebSquaredoc.xmlDocument.removeChild(WebSquare.WebSquaredoc.xmlDocument.childNodes[c]);if(WebSquare.WebSquaredoc.models)for(var S=0;S<WebSquare.WebSquaredoc.models.length;S++){var v=WebSquare.WebSquaredoc.models[S];if(v){for(var w=0;w<v.submissions.length;w++)v.submissions[w].dead=!0,o.useSubmissionGlobal&&(window[v.submissions[w].id]=null);for(var C=0;C<v.workflows.length;C++)v.workflows[C].promiseStatus="REJECT",o.useWorkflowGlobal&&(window[v.workflows[C].id]=null)}}for(var h in WebSquare.WebSquaredoc)WebSquare.WebSquaredoc[h]=null}if(o.clearCommon(),WebSquare&&WebSquare.strictModeFrame&&(WebSquare.strictModeFrame.remove(),i.q.strictModeFrame=null),i.q.WebSquaredoc=null,i.q.callExecuteHelper=!1,o.firePageunload=!1,o.onurlchange=!1,WebSquare.layer&&(WebSquare.layer.disabledList=[],WebSquare.layer.submissionIDQueue=[],WebSquare.layer.submissionMessageQueue=[]),null==document.body){var q=document.createElement("body");a.Q.fullViewed&&a.Q.zoomed(q,e),document.documentElement.appendChild(q)}}catch(e){n.Y.printStackTrace(e,null)}},o.getComponentById=function(e){try{return"string"==typeof e&&WebSquare.idCache[WebSquare.idToUUID[e]]?WebSquare.idCache[WebSquare.idToUUID[e]]:window[e]}catch(e){n.Y.printStackTrace(e,null,this)}},o.setId=function(e,t){try{t._orgUUID=t.uuid,t.setAttribute("id",e),t.render.setAttribute("id",e),window[WebSquare.noConflict].comp[t.id]=null,delete window[WebSquare.noConflict].comp[t.id],t.id=e,WebSquare.idToUUID[e]=t.uuid,window[WebSquare.noConflict].comp[e]=t,"false"!=o.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()&&(window[e]=t)}catch(e){n.Y.printStackTrace(e,null,this)}},o.cleanObj=function(e){try{var t=[],r=0;try{if(null==JSON.stringify(e))return r}catch(e){return n.Y.printStackTrace(e,null,this),r}t.push(e);for(var i=t.pop();null!=i;i=t.pop())if(!o.isNode(i)&&!o.isWindow(i)&&(r++,"object"==typeof i&&null!=i))for(var a in i){var s=i[a];"object"==typeof s&&null!=s&&t.push(s),delete i[a]}return r}catch(e){n.Y.printStackTrace(e,null,this)}},o.isWindow=function(e){return e==e.window},o.isNode=function(e){return"undefined"!=typeof Node?e instanceof Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName},o.isXML=function(e){try{if(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName}return}catch(e){n.Y.printStackTrace(e,null,this)}},o.executePointScript=function(e){try{if(WebSquare.executePointScriptArr[e])for(var t=0;t<WebSquare.executePointScriptArr[e].length;t++){var r=WebSquare.executePointScriptArr[e][t];if("function"==typeof r.script){var i,a=WebSquare.util.getComponentById(r.scope);a&&a.scope&&a.options&&!0===a.options.scope?i=a.scope:WebSquare.strictModeFrame&&(i=WebSquare.strictModeFrame.scope),r.script(i)}}}catch(e){n.Y.printStackTrace(e,null,this)}finally{WebSquare.executePointScriptArr[e]&&(delete WebSquare.executePointScriptArr[e],WebSquare.executePointScriptArr[e]=null)}},o.getPageURL=function(e,t){if("string"!=typeof e)return"";void 0!==t&&null!=t||(t={});var r=e;!0!==t.skipURL&&(r=o.getURL(r,t)),!0!==t.skipUri&&(r=WebSquare.jsLoader.getUri(r,t))
;var a=o.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if(WebSquare.pageURLPrefix){if("function"==i.q.pageURLPrefixType){var n=WebSquare.pageURLPrefix.wq_replaceAll("()",""),s=WebSquare.util.getGlobalFunction(n);"function"==typeof s&&(r=s(r),"true"!==a.toLowerCase()&&(r+=encodeURIComponent(e)))}else r=i.q.pageURLPrefix+encodeURIComponent(r);r=r.replace(/%2F/g,"/")}return r},o.clearObj=function(e,t,r){if(null==t&&(t=1),!(t>r||"object"!=typeof e&&"function"!=typeof e))for(var i in e){"object"!=typeof e[i]&&"function"!=typeof e[i]||o.clearObj(e[i],t+1);try{e[i]=null,delete e[i]}catch(e){n.Y.printStackTrace(e,null,this)}}},o.clearJQuery=function(){try{if("undefined"!=typeof jQuery&&null!=jQuery){var e=[];for(var t in jQuery.cache)if(jQuery.cache[t].handle)try{e.push(jQuery.cache[t].handle.elem)}catch(e){n.Y.printStackTrace(e)}for(var r in jQuery.cleanData(e),e)delete e[r];e=null}}catch(e){WebSquare.logger.printLog("error : jQuery cleanData exception"),n.Y.printStackTrace(e,null,this)}},o._businessPreProcessor=function(){try{var e=o.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value"),t=WebSquare.util.getGlobalFunction(e);"function"==typeof t&&t()}catch(e){n.Y.printStackTrace(e,null,this)}},o._initPopupParameter=function(){try{var e=o._getParentObj();if(i.q.isWebSquarePopup&&null!=e&&null!=e.WebSquare){var t,r=e.WebSquare.srcData,s=e.WebSquare.destData,l=!1,u="",c=WebSquare.net.getParameter("popupID"),d=e.WebSquare.dataObject[c];if(e.WebSquare.docTitleInfo&&(u=e.WebSquare.docTitleInfo[c]),u&&(document.title=u),void 0!==d&&null!=d)try{var p,h=d.type.toLowerCase(),f=d.name,g=typeof d.data;if(f){switch(h){case"string":if("string"==g)p=d.data;else if("object"==g)return void WebSquare.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!");break;case"json":if("string"==g)(b=JSON.parse(d.data))&&(p=b);else if("object"==g){if(o.isXML(d.data))return void WebSquare.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!!");try{if(WebSquare.util.isIEAllVersion()){var m=JSON.parse(JSON.stringify(d));m&&(d=m)}}catch(e){n.Y.printStackTrace(e)}p=d.data}break;case"xml":var b;if("string"==g)(b=WebSquare.xml.parse(d.data))&&(p=b);else if("object"==g){if(!o.isXML(d.data))return void WebSquare.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!!");p=d.data}break;case"array":p=d.data}WebSquare.util.setData(f,p),WebSquare.strictModeFrame&&(WebSquare.strictModeFrame.setDataObject(d),WebSquare.strictModeFrame.options.popupParam=h.charAt(0)+f)}}catch(e){n.Y.printStackTrace(e,null,this)}if(void 0!==r&&null!=r&&""!=r&&void 0!==s&&null!=s&&""!=s){try{if(l=r.indexOf("data:")>-1){var y=r.wq_replaceAll("data:",""),S=e.WebSquare.util.getComponentById(y);if(S)switch(S.initializeType){case"dataList":r=S.getAllJSON();break;case"dataMap":r=S.getJSON()}}else{var v=e.WebSquare.ModelUtil.findSerializedNode(r);r=WebSquare.xml.parse(v).documentElement}}catch(e){n.Y.printStackTrace(e)}try{if(l){var w=s.wq_replaceAll("data:",""),C=WebSquare.util.getComponentById(w);if(!C)return void $l("Error! : No match data. Must be the same as a srcDataType, a destDataType!["+w+"]")}else t=WebSquare.ModelUtil.findInstanceNode(s)}catch(e){n.Y.printStackTrace(e)}if(l&&void 0!==r&&null!=r)C.setJSON(r,!0);else if(void 0!==t&&null!=t&&void 0!==r&&null!=r){for(var q=t.childNodes,W=r.childNodes,_=q.length-1;_>=0;_--)t.removeChild(q.item(_));if(o.browserCheck.ieAllVersion&&a.Q.useActiveXObject){var x=W.length-1;for(_=0;_<=x;_++)WebSquare.xml.appendChild(t,W[0])}else for(_=0;_<=W.length-1;_++)WebSquare.xml.appendChild(t,W[_]);var I=WebSquare.ModelUtil.getModelByID(e.WebSquare.destModelID);WebSquare.WebSquaredoc.unrender(e.WebSquare.destData),I.refresh()}}}}catch(e){n.Y.printStackTrace(e,null,this)}},o._initDataObject=function(){try{if(window.parent!==window.self&&null!=WebSquare._dataObject){var e=WebSquare._dataObject.name
;if(e){var t=WebSquare._dataObject.type,r=WebSquare._dataObject.data.slice(0);switch(t){case"json":case"array":r=JSON.parse(r);break;case"xml":r=WebSquare.xml.parse(r)}WebSquare.util.setData(e,r)}}}catch(e){n.Y.crossOrigin({message:e.message,name:"initDataObject"})}},o._createGlobalVariable=function(e){try{var t=o._getGlobalVariable(e);if(t)for(var r=t.split(","),i=0;i<r.length;i++){var a="string"==typeof r[i]&&r[i].wq_trim();try{if(null!=window[a]&&!WebSquare.util.isEmptyObject(window[a]))throw{message:"variable auto creation error : ["+a+"] already exist!"};window[a]={},window[a][WebSquare.noConflict]=WebSquare.api,window[a][WebSquare.noConflict].id="";var s=i>0?String(i):"";window[WebSquare.noConflictFunction+s]=window[a][WebSquare.noConflict]}catch(e){n.Y.printStackTrace(e,null)}}}catch(e){n.Y.printStackTrace(e,null,this)}},o._getGlobalVariable=function(e){try{var t=o.getConfiguration("/WebSquare/spa/variable/@value")||"scwin",r=o.getConfiguration("/WebSquare/spa/variable/@clone")||"";return e&&r&&(t+=","+r),t}catch(e){n.Y.printStackTrace(e,null,this)}},o._controlInvoker=function(e,t,r){try{var i;return WebSquare.uiplugin[e]&&(i=r?r.constructor===Array?WebSquare.uiplugin[e][t].apply(WebSquare.uiplugin[e][t],r):WebSquare.uiplugin[e][t].apply(WebSquare.uiplugin[e][t],[r]):WebSquare.uiplugin[e][t]()),i}catch(e){n.Y.printStackTrace(e,null,this)}},o._isSinglePage=function(e){try{return!(WebSquare.uiplugin.wframe&&(WebSquare.uiplugin.wframe.__pendingWframePostOrderList.length>1||WebSquare.uiplugin.wframe.__pendingWframePreOrderList.length>1))}catch(e){n.Y.printStackTrace(e,null,this)}},o._fireParentOnload=function(){try{null!=window.frameElement&&window.parent!==window.self&&null!=window.parent.WebSquare&&parent.window[WebSquare.noConflict].comp[window.frameElement.id].fireIframeload()}catch(e){n.Y.crossOrigin({message:e.message,name:"oniframeload"})}},o._fireParentOnunload=function(){try{null!=window.frameElement&&window.parent!==window.self&&null!=window.parent.WebSquare&&parent.window[WebSquare.noConflict].comp[window.frameElement.id].fireIframeunload()}catch(e){n.Y.crossOrigin({message:e.message,name:"oniframeload"})}},o._loadMsaServer=function(){try{var e=a.Q.configurationJSON[0].WebSquare.msaServer;if(null!=e){var t=e.msa;t.constructor!==Array&&(t=[t]);for(var r=0;r<t.length;r++){var i=t[r],s=i["@baseURI"],l=i["@w2xHome"],u=i["@baseServletURI"],c=i["@contextRoot"],d=i["@name"],p=i["@origin"];!p&&i["@baseUrl"]&&(p=i["@baseUrl"]),o._msaServerHash[d]={origin:p,baseURI:s,w2xHome:l,baseServletURI:u,contextRoot:c}}}}catch(e){n.Y.printStackTrace(e,null,this)}},o._loadMsaStylesheet=function(){try{var e=a.Q.configurationJSON[0].WebSquare.msaStylesheet;if(null!=e){var t=e.module;t.constructor!==Array&&(t=[t]);for(var r=0;r<t.length;r++){var s=t[r],l=s["@src"],u={msaName:s["@msaServerName"]},c=o._getMsaSrc(l,u);"string"==typeof c&&c&&i.q.styleSheetEarlyImportList.push(c)}}}catch(e){n.Y.printStackTrace(e,null,this)}},o._loadProjectCommon=async function(){try{var e=a.Q.configurationJSON[0].WebSquare.projectCommon;if(null==e)return;var t=o.projectCommonVariable,r=e.module;r.constructor!==Array&&(r=[r]),window[t]||(window[t]={});for(var i=[],s=[],l=0;l<r.length;l++){var u=r[l],c=u["@src"],d=u["@name"].slice(t.length+1),p=u["@spaCache"];o._projectCommonHash[d];var h=WebSquare.jsLoader._loadObj(c);if(h instanceof window.Promise){i.push(h);var f={name:d,src:c,spaCache:p};s.push(f)}}await o._loadWebSquareCommon("projectCommon",i,s)}catch(e){n.Y.printStackTrace(e,null,this)}},o._loadMsaCommon=async function(){try{var e=a.Q.configurationJSON[0].WebSquare.msaCommon;if(null==e)return;var t=o.projectCommonVariable;window[t]||(window[t]={});var r=e.module;r.constructor!==Array&&(r=[r]);for(var i=[],s=[],l=0;l<r.length;l++){var u=r[l],c=u["@src"],d=u["@name"].slice(t.length+1),p=u["@msaServerName"],h=u["@spaCache"];o._msaHash[d]||o._projectCommonHash[d];var f={msaName:p},g=o.getURL(c,f),m=WebSquare.jsLoader._loadObj(g,f)
;if(m instanceof window.Promise){i.push(m);var b={name:d,src:c,spaCache:h};s.push(b)}}await o._loadWebSquareCommon("msa",i,s)}catch(e){n.Y.printStackTrace(e,null,this)}},o._loadWebSquareCommon=function(e,t,r){try{return Promise.allSettled(t).then((async function(t){function a(e,t,r){if("string"==typeof e&&e){for(var i=e.split(","),a={},n=0;n<i.length;n++){var o=i[n].wq_trim("").replace(t+".","");a[o]=r[o]}return a}}for(var n=o.projectCommonVariable,s=0;s<t.length;s++)if("fulfilled"===t[s].status&&t[s].value){var l=t[s].value,u=r[s].name,c=r[s].src,d=n+"."+u,p=i.q.uiplugin.wframe._createEmptyFrame(d);WebSquare.WebSquareparser.parseModels(l,p),WebSquare.WebSquareparser.parseDataCollections(l,p),WebSquare.WebSquareparser.parseMessageBroker(l,p);var h="scwin";try{h=i.q.strictModeFrame.options.scopeVariable.split(",")[0]}catch(e){h="scwin"}var f=p.scope;f[h]={};for(var g=WebSquare.jsonUtil.getNodesByTagName(l,"script"),m=0;m<g.length;m++){var b=g[m],y=WebSquare.jsonUtil.getCDataNodeValue(b);"function"==typeof y&&y(f)}var S=f[h],v=WebSquare.Elem.api.getElementsByTagName(l,"publicInfo",o._XML_NAMESPACE.W2)[0];if(v){var w={},C=a(v.getAttribute("method"),h,S),q=a(v.getAttribute("component"),h,f),W=a(v.getAttribute("submission"),h,f);(C||q||W)&&(i.q.extend(w,C),i.q.extend(w,q),i.q.extend(w,W),S=w)}for(var _,x=u.split("."),I=window[n];x.length>1;){var T=x.shift();I[T]||(I[T]={}),I=I[T]}I[x[0]]?i.q.extend(I[x[0]],S):I[x[0]]=S;var k,L=WebSquare.Elem.api.getElementsByTagName(l,"body",o._XML_NAMESPACE.XHTML)[0];if(L){var A=(L.getAttribute("ev:onpageload")||"").replace(h+".","");_=f[h][A]}(k="msa"===e?o._msaHash:o._projectCommonHash)[u]={projectVar:n,projectSrc:c},WebSquare.util.getBoolean(r[s].spaCache)&&(k[u].spaCache=!0),"function"==typeof _&&("executed"===WebSquare.scriptSectionExcuteFlag?await _():o._onpageloadArr.push(_))}})).catch((function(e){console.error(e)}))}catch(e){n.Y.printStackTrace(e,null,this)}},o._getParentObj=function(){try{var e;return null!=window.opener?e=opener:window.parent!==window.self&&(e=parent),e}catch(e){n.Y.printStackTrace(e,null,this)}return e},o._getMsaOption=function(e,t){try{var r={};for(var i in e&&("function"==typeof e._getMsaName&&(r.msaName=e._getMsaName()),e.options&&(r.tempHome=e.options.udcHome)),t)r[i]=t[i];return r}catch(e){n.Y.printStackTrace(e,null,this)}return r},o._getMsaSrc=function(e,t){try{var r="";void 0!==t&&null!=t||(t={});var i,a="getURL";if("image"===t.type&&(a="getImageURL",e.startsWith("data:")))return e;"string"==typeof t.msaName&&t.msaName&&(i=o._msaServerHash[t.msaName]);var s=t.frameObj;if(i)r=o[a](e,t);else if(s&&null!=WebSquare.idCache[s.uuid]&&s.options&&("wframe"===s.options.pluginName||"pageFrame"===s.options.pluginName)){t.tempHome=s.options.udcHome;var l=e,u=s._getMsaName();if(i=o._msaServerHash[u]){var c="";"image"===t.type&&"url("===l.slice(0,4)&&(c="url(",l=l.slice(4)),!0===t.absolutePath||"string"!=typeof l||l.startsWith("/")||l.startsWith("\\")||l.indexOf("://")>=0||t.tempHome||(l=c+s._getMsaHome()+l),t.msaName=u}else!0===t._force&&!0===t.baseServletURI&&(t.baseURI=!1);r=o[a](l,t)}else"string"==typeof t.tempHome&&t.tempHome?(!0===t._force&&!0===t.baseServletURI&&(t.baseURI=!1),r=o[a](e,t)):!0===t._force?(!0===t.baseServletURI&&(t.baseURI=!1),r=o[a](e,t)):r=o[a](e);return r}catch(e){n.Y.printStackTrace(e,null,this)}},o._scopingCommon=function(e,t,r){try{var i="WebSquare.core.commonCache."+t;return i+"= function(scopeObj){\nvar "+t+"; var ret;"+WebSquare.util.scopingFuncBody(e+"\nret = "+t+";","scopeObj","scopeObj")+"\nreturn ret;}"+(r?"\nwindow."+t+"="+i+'({"scope":{}});':"")}catch(e){n.Y.printStackTrace(e,null,this)}},o._copyCommon=function(e,t){try{var r=o.commonCache[e];if("function"!=typeof r){var i=window[e];if(!i)return{};var s="var "+e+" = ";s+=function(e){var t="_@#wq#@_",r=[],i=JSON.stringify(e,(function(e,i){
return null==i?i:i===window?"window":i===window.opener?"opener":i===window.parent?"parent":i===window.top?"top":"function"==typeof i||"object"==typeof i&&i.constructor===RegExp?(r.push(i),t):i}));return i=i.replace(new RegExp('"'+t+'"',"g"),(function(e){return r.shift()}))}(i),a.Q.globalEval(o._scopingCommon(s,e)),r=o.commonCache[e]}return r(t)}catch(e){n.Y.printStackTrace(e,null,this)}},o._makeDetail=function(e){try{return{src:i.q.w2xPath||"",id:i.q.strictModeFrame?i.q.strictModeFrame.id:"",log:e||""}}catch(e){n.Y.printStackTrace(e,null,this)}},o._getWpackUrl=function(e,t){try{var r=!0===t||"string"==typeof t&&"true"===t.toLowerCase();r||(o._parseWpackConfig(),r=o._checkCommonPath(e)),r&&(e=WebSquare.jsLoader.getUri(e,{skipSrcExtension:!0}))}catch(e){n.Y.printStackTrace(e,null,this)}finally{return e}},o._parseWpackConfig=function(e,t){try{if(null!=o._commonPath)return;var r=o.getChildConfiguration("/WebSquare/wpack/commonPath",{singleMode:!0});o._commonPath={file:{},dir:[]};for(var i=0;i<r.length;i++){var a=r[i]["@src"];if("string"==typeof a&&a)if(".js"===a.slice(-3))o._commonPath.file[a]=!0;else{var s="/"===a.charAt(a.length-1)?"":"/";o._commonPath.dir.push(a+s)}}}catch(e){n.Y.printStackTrace(e,null,this)}finally{return e}},o._checkCommonPath=function(e){try{if("string"!=typeof e||".js"!==e.slice(-3))return!1;var t=o._shortenURL(e);if(!0===o._commonPath.file[t])return!0;for(var r=0;r<o._commonPath.dir.length;r++){var i=o._commonPath.dir[r];if(t.slice(0,i.length)===i)return!0}return!1}catch(e){n.Y.printStackTrace(e,null,this)}},o._shortenURL=function(e){try{if("string"!=typeof e)return e;const n=e.split("/"),c=[];for(var t=0;t<n.length;t++){var r=n[t];".."===r?c.pop():"."!==r&&c.push(r)}var i=c.join("/");for(var a in o._msaServerHash){var s=o._msaServerHash[a];s&&s.origin&&(i=i.replace(s.origin,""))}var l=o.getConfiguration("/WebSquare/wpack/contextRoot/@value")||"/";if("/"===l.charAt(l.length-1)&&(l=l.slice(0,l.length-1)),l){var u=new RegExp("^"+l);i=i.replace(u,"")}return i}catch(t){return n.Y.printStackTrace(t,null,this),e}},o._emptyFunction=function(){},o._removeObject=function(e,t){try{void 0!==t&&null!=t||(t={});var r=null!=window.Proxy&&"function"==typeof Object.setPrototypeOf&&"function"==typeof Object.getPrototypeOf;if(r||"string"==typeof t.directKey){for(var i=Object.keys(e),a=[],s=i.length,l=0;l<s;l++)try{"function"==typeof e[i[l]]?e[i[l]]=o._emptyFunction:(delete e[i[l]],a.push(i[l]))}catch(t){delete e[i[l]]}if(r){var u=new window.Proxy({key:a},{get:function(e,t,r){return"_removed"===t||(e.key.indexOf(t)>=0?void 0:new Function(""))}});Object.setPrototypeOf(e,u)}else for(var c=t.directKey.split(","),d=0;d<c.length;d++){var p=c[d];"function"==typeof e[p]&&(e[p]=o._emptyFunction)}}else for(var d in e)try{"function"==typeof e[d]?e[d]=function(){}:delete e[d]}catch(t){delete e[d]}e._removed=!0}catch(e){n.Y.printStackTrace(e)}},o._hasScope=function(e){try{return e&&e.options&&!0==={wframe:!0,pageInherit:!0,udc2:!0,pageFrame:!0}[e.options.pluginName]}catch(e){n.Y.printStackTrace(e)}},o._scopeOption=function(e,t){try{if(!(e&&t&&e.options&&e.options[t]&&e.scope_id))return;var r=e.scope_generator_id||e.scope_id,i=WebSquare.util.getComponentById(e.options[t],r);null!=i&&(i._wqContent&&i._wqContent._isUDC2?e.options[t]=i._wqContent.id:e.options[t]=i.id)}catch(e){n.Y.printStackTrace(e)}},o._scopeOptionApply=function(e,t){try{if(!(e&&t&&e.render&&e.options&&e.options[t]))return;var r=WebSquare.util.getComponentById(e.options[t],e.scope_id)||null;if(null==r)return;r.udc2Parent&&(r=r.udc2Parent);var i="function"==typeof r.getAccessibiltyId?r.getAccessibiltyId():e.options[t];e.render.setAttribute(t,i)}catch(e){n.Y.printStackTrace(e)}},o._safeInnerHTML=function(e,t){try{if(!(e instanceof HTMLElement))return;if("string"!=typeof t&&(t=""),t.indexOf("<")>=0){e.textContent="";var r="wq-safescr";if(t=t.replace(/<\s*script/gi,"<"+r).replace(/\s*\/\s*script\s*>/gi,"/"+r+">"),location.hostname!==window.document.domain){
var i=document.createElement("div");for(i.innerHTML=t;i.firstChild;)e.appendChild(i.firstChild)}else for(var a=(new DOMParser).parseFromString(t,"text/html").body,o=0;o<a.childNodes.length;o++){var s=a.childNodes[o];1===s.nodeType&&"SCRIPT"===s.tagName.toUpperCase()||e.appendChild(s.cloneNode(!0))}}else e.textContent=t}catch(r){try{e.innerHTML=t}catch(e){n.Y.printStackTrace(e)}}},o._handleWindowLoaded=function(e,t){try{function r(){var r={uuid:e,_wq_type:"onwindowmousedown"};window.parent.postMessage(r,t)}function i(r){var i={uuid:e,_wq_type:"onwindowkeyup",keyCode:r.charCode?r.charCode:r.keyCode};window.parent.postMessage(i,t)}WebSquare.util.fullViewed&&WebSquare.util.zoomed(document.body,"1"),t||(t=void 0),document.addEventListener&&!WebSquare.util.isIE()?(document.addEventListener("mousedown",r),document.addEventListener("keyup",i)):document.attachEvent&&(document.attachEvent("onmousedown",r),document.attachEvent("onkeyup",i))}catch(a){n.Y.printStackTrace(a,null,obj)}},o._handleIframeLoaded=function(){try{for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var r=WebSquare.util.getComponentById(e[t].id);r&&r.options&&"iframe"===r.options.pluginName&&r._postDataObject()}}catch(e){n.Y.printStackTrace(e,null,obj)}},o._getOrigin=function(e){try{if("string"!=typeof e)return;return e.indexOf("://")>-1||"*"===e.wq_trim()?e:void 0}catch(e){n.Y.printStackTrace(e,null,obj)}},o._getContextRootUri=function(e){try{var t=e;if(i.q._contextRoot&&"string"==typeof e){var r=new RegExp("^"+i.q._contextRoot);e.match(r)||(t=(i.q._contextRoot+"/"+e).replace(/\/+/g,"/"))}return t}catch(e){return n.Y.printStackTrace(e,null,obj),t}}},2311:(e,t,r)=>{r.d(t,{p:()=>c});var i=r(582),a=r(2536),n=r(2710),o=r(2327),s=r(1263),l=r(8713),u=r(400),c={_onRequest:!1,_requestUrl:i.q.baseServletURI+"serverTime.wq",_checkLocalTime:{gTime:-1,time:-1,interval:1e3,diffMax:12e4,gDiffMax:12e4,refresh:!1,cnt:0,pendingCnt:0,pendingMaxCnt:1e3},toTimestampString:function(e){return u.Q.fillZero(e.getFullYear(),4)+"-"+u.Q.fillZero(e.getMonth()+1,2)+"-"+u.Q.fillZero(e.getDate(),2)+" "+u.Q.fillZero(e.getHours(),2)+":"+u.Q.fillZero(e.getMinutes(),2)+":"+u.Q.fillZero(e.getSeconds(),2)+"."+u.Q.fillZero(e.getMilliseconds(),3)+"000"},_parseDate:function(e,t){if(void 0!==t&&null!=t&&""!=t||(t="yyyyMMdd"),(e=s.Z.getDate(e)).length!=t.length)return e;for(var r=["","","","","",""],i=0;i<t.length;i++){var a=t.charAt(i),n=e.charAt(i);switch(a){case"y":r[0]+=n;break;case"M":r[1]+=n;break;case"d":r[2]+=n;break;case"H":r[3]+=n;break;case"m":r[4]+=n;break;case"s":r[5]+=n}}for(i=0;i<r.length;i++)0===i?u.Q.fillZero(r[i],4):u.Q.fillZero(r[i],2);return r},parseDate:function(e,t){var r=c._parseDate(e,t);if("string"==typeof r)return null;var i=r[0]||0,a=r[1]-1==-1?0:r[1]-1,n=r[2]||1,o=r[3]||0,s=r[4]||0,l=r[5]||0;return new Date(i,a,n,o,s,l)},dateDiff:function(e,t,r){void 0!==r&&null!=r||(r={}),e+="",t+="",e=s.Z.getDate(e),t=s.Z.getDate(t),8!=e.length&&alert(l.B.getMessage("E_date_ShouldBeyyMMddFormat",e)),isNaN(e)&&alert(l.B.getMessage("E_date_ShouldBeNumberFormat",e)),8!=t.length&&alert(l.B.getMessage("E_date_ShouldBeyyMMddFormat",t)),isNaN(t)&&alert(l.B.getMessage("E_date_ShouldBeNumberFormat",t));var i=parseInt(e.substring(0,4),10),a=parseInt(e.substring(4,6),10),n=parseInt(e.substring(6,8),10),o=parseInt(t.substring(0,4),10),u=parseInt(t.substring(4,6),10),d=parseInt(t.substring(6,8),10),p=c.getMaxMinYear(),h=p.maxYear,f=p.minYear;if(i>h||i<f)alert(l.B.getMessage("E_date_YearRange",f,h,i));else if(a>12||a<1)alert(l.B.getMessage("E_date_MonthRange","1","12",a));else if(n>31||n<1)alert(l.B.getMessage("E_date_DayRange","1","31",n));else if(o>h||o<f)alert(l.B.getMessage("E_date_YearRange",f,h,o));else if(u>12||u<1)alert(l.B.getMessage("E_date_MonthRange","1","12",u));else{if(!(d>31||d<1)){if("month"==r.returnType)return 12*(o-i)+(u-a);var g=Date.UTC(i,a-1,n);return(Date.UTC(o,u-1,d)-g)/864e5}alert(l.B.getMessage("E_date_DayRange","1","31",d))}},dateAdd:function(e,t){e+="",
8!=(e=s.Z.getDate(e)).length&&alert(l.B.getMessage("E_date_ShouldBeyyMMddFormat",e)),isNaN(e)&&alert(l.B.getMessage("E_date_ShouldBeNumberFormat",e));var r=parseInt(e.substring(0,4),10),i=parseInt(e.substring(4,6),10),a=parseInt(e.substring(6,8),10),n=c.getMaxMinYear(),o=n.maxYear,d=n.minYear;if(r>o||r<d)alert(l.B.getMessage("E_date_YearRange",d,o,r));else if(i>12||i<1)alert(l.B.getMessage("E_date_MonthRange","1","12",i));else{if(!(a>31||a<1)){var p=Date.UTC(r,i-1,a)+864e5*t,h=new Date;return h.setTime(p),u.Q.fillZero(h.getUTCFullYear()+"",4)+u.Q.fillZero(h.getUTCMonth()+1+"",2)+u.Q.fillZero(h.getUTCDate()+"",2)}alert(l.B.getMessage("E_date_DayRange","1","31",a))}},dateTimeAdd:function(e,t,r,i,a,n){var o,d=n||{};if(e+="",e=s.Z.getDate(e),void 0===r&&(r="day"),"time"===i?a?6!=e.length&&(o=l.B.getMessage("E_date_minute_ShouldBeHHmmssFormat",e)):"hour"===r||"minute"===r?4!=e.length&&(o=l.B.getMessage("E_date_minute_ShouldBeHHmmFormat",e)):"second"===r&&6!=e.length&&(o=l.B.getMessage("E_date_minute_ShouldBeHHmmssFormat",e)):"day"==r?8!=e.length&&(o=l.B.getMessage("E_date_ShouldBeyyMMddFormat",e)):"month"==r?6!=e.length&&(o=l.B.getMessage("E_date_month_ShouldBeyyMMFormat",e)):"hour"==r?10!=e.length&&(o=l.B.getMessage("E_date_hour_ShouldBeyyMMddHHFormat",e)):"minute"==r&&12!=e.length&&(o=l.B.getMessage("E_date_minute_ShouldBeyyMMddmmFormat",e)),isNaN(e)&&(o=l.B.getMessage("E_date_ShouldBeNumberFormat",e)),o)!1!==d.useAlert&&alert(o);else{var p,h,f;"time"==i?a?(v=parseInt(e.substring(0,2),10),x=parseInt(e.substring(2,4),10),C=parseInt(e.substring(4,6),10)):"hour"===r||"minute"===r?(v=parseInt(e.substring(0,2),10),x=parseInt(e.substring(2,4),10)):"second"===r&&(v=parseInt(e.substring(0,2),10),x=parseInt(e.substring(2,4),10),C=parseInt(e.substring(4,6),10)):(p=parseInt(e.substring(0,4),10),h=parseInt(e.substring(4,6),10),f=parseInt(e.substring(6,8),10),v=parseInt(e.substring(8,10),10),x=parseInt(e.substring(10,12),10));var g=c.getMaxMinYear(),m=g.maxYear,b=g.minYear;(p>m||p<b)&&(o=l.B.getMessage("E_date_YearRange",b,m,p)),(h>12||h<1)&&(o=l.B.getMessage("E_date_MonthRange","1","12",h));var y=31;if(2==h?y=p%400==0||p%4==0&&p%100!=0?29:28:4!=h&&6!=h&&9!=h&&11!=h||(y=30),f>y||f<1?o=l.B.getMessage("E_date_DayRange","1",y,f):v>23||v<0?o=l.B.getMessage("E_date_HourRange","0","23",v):x>59||x<0?o=l.B.getMessage("E_date_MinuteRange","0","59",x):(C>59||C<0)&&(o=l.B.getMessage("E_date_SecondRange","0","59",C)),!o){if("time"===i){if(a){var S="";"hour"==r?S=36e5:"minute"==r?S=6e4:"second"==r&&(S=1e3);var v=Date.UTC(1900,1,1,v,x,C)+t*S;(x=new Date).setTime(v);var w=u.Q.fillZero(u.Q.fillZero(x.getUTCHours()+"",2)+u.Q.fillZero(x.getUTCMinutes()+"",2)+u.Q.fillZero(x.getUTCSeconds()+"",2))}else if("hour"==r)if(t&&"string"==typeof t&&4===t.length){var C=parseInt(t.substring(0,2),10),q=parseInt(t.substring(2,4),10);S=6e4,v=Date.UTC(1900,1,1,v,x)+60*C*60*1e3+q*S;(x=new Date).setTime(v);var W=x.getUTCDate(),_=W>1?parseInt(x.getUTCHours(),10)+24*(W-1):x.getUTCHours();w=u.Q.fillZero(u.Q.fillZero(_+"",2)+u.Q.fillZero(x.getUTCMinutes()+"",2))}else{S=36e5,v=Date.UTC(1900,1,1,v,x)+t*S;(x=new Date).setTime(v);w=u.Q.fillZero(u.Q.fillZero(x.getUTCHours()+"",2)+u.Q.fillZero(x.getUTCMinutes()+"",2))}else if("minute"==r){S=6e4,v=Date.UTC(1900,1,1,v,x)+t*S;(x=new Date).setTime(v);w=u.Q.fillZero(u.Q.fillZero(x.getUTCHours()+"",2)+u.Q.fillZero(x.getUTCMinutes()+"",2))}else if("second"==r){var x;S=1e3,v=Date.UTC(1900,1,1,v,x,C)+t*S;(x=new Date).setTime(v);w=u.Q.fillZero(u.Q.fillZero(x.getUTCHours()+"",2)+u.Q.fillZero(x.getUTCMinutes()+"",2)+u.Q.fillZero(x.getUTCSeconds()+"",2))}}else if("day"==r){S=864e5;var I=Date.UTC(p,h-1,f)+t*S;(L=new Date).setTime(I);w=u.Q.fillZero(L.getUTCFullYear()+"",4)+u.Q.fillZero(L.getUTCMonth()+1+"",2)+u.Q.fillZero(L.getUTCDate()+"",2)}else if("month"==r){S=864e5;var T=0;if(t>0)for(var k=h-1;k<h-1+t;k++)T+=(32-new Date(p+k/12|0,k%12,32).getDate())*S;else{for(k=h-2;k>h-2+t;k--){
T+=(32-new Date(p+(k<0?k%12!=0?(k/12|0)-1:k/12|0:0),k<0?k%12!=0?k%12+12:0:k%12,32).getDate())*S}T*=-1}I=Date.UTC(p,h-1)+T;(L=new Date).setTime(I);w=u.Q.fillZero(L.getUTCFullYear()+"",4)+u.Q.fillZero(L.getUTCMonth()+1+"",2)}else if("hour"==r){S=36e5,I=Date.UTC(p,h-1,f,v)+t*S;(L=new Date).setTime(I);w=u.Q.fillZero(L.getUTCFullYear()+"",4)+u.Q.fillZero(L.getUTCMonth()+1+"",2)+u.Q.fillZero(L.getUTCDate()+"",2)+u.Q.fillZero(L.getUTCHours()+"",2)}else if("minute"==r){var L;S=6e4,I=Date.UTC(p,h-1,f,v,x)+t*S;(L=new Date).setTime(I);w=u.Q.fillZero(L.getUTCFullYear()+"",4)+u.Q.fillZero(L.getUTCMonth()+1+"",2)+u.Q.fillZero(L.getUTCDate()+"",2)+u.Q.fillZero(L.getUTCHours()+"",2)+u.Q.fillZero(L.getUTCMinutes()+"",2)}else if("year"==r)return u.Q.fillZero(p+t+"",4);return w}!1!==d.useAlert&&alert(o)}},isValidDate:function(e,t,r){t=s.Z.getDate(t);function i(e,t,r){!0===r.useAlert&&alert(e);try{t.focus(),t.select()}catch(e){n.Y.printStackTrace(e)}var i=!1;return"boolean"===r.returnType?i:{result:i,message:e}}if((r=r||{}).useAlert=r.useAlert||!0,r.returnType=r.returnType||"boolean",r.useAlert=s.Z.getBoolean(r.useAlert),r.returnType=r.returnType.toLowerCase(),null==t||8!=t.length)return i(l.B.getMessage("E_date_ShouldBeyyMMddFormat",t),e,r);if(isNaN(t))return i(l.B.getMessage("E_date_ShouldBeNumberFormat",t),e,r);var a=parseInt(t.substring(0,4),10),o=parseInt(t.substring(4,6),10),u=parseInt(t.substring(6,8),10);if(o<1||o>12)return i(l.B.getMessage("E_date_MonthRange","1","12",o),e,r);var c=31;return 2==o?c=a%400==0||a%4==0&&a%100!=0?29:28:4!=o&&6!=o&&9!=o&&11!=o||(c=30),u<1||u>c?i(l.B.getMessage("E_date_DayRange","1",c,u),e,r):"boolean"===r.returnType||{result:!0}},getFormattedDate:function(e,t){var r=null;if("string"==typeof e){var i=t.replace(/[^yMdHms]/g,"");e=c.parseDate(e,i)}if("object"!=typeof e||null==e)return null;if(void 0===t||null==t||""==t)r=e.getTime()+"";else{var a=-1;if((a=t.indexOf("yyyy"))>-1){var n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getFullYear()+"",4),a+4<t.length&&(n+=t.substring(a+4,t.length)),t=n}if((a=t.indexOf("YYYY"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getFullYear()+"",4),a+4<t.length&&(n+=t.substring(a+4,t.length)),t=n}if((a=t.indexOf("yy"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero((e.getFullYear()+"").substr(2,2)+"",2),a+2<t.length&&(n+=t.substring(a+2,t.length)),t=n}if((a=t.indexOf("MM"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getMonth()+1+"",2),a+2<t.length&&(n+=t.substring(a+2,t.length)),t=n}else t.indexOf("M")>-1&&(t=t.replace(/M/,e.getMonth()+1));if((a=t.indexOf("dd"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getDate()+"",2),a+2<t.length&&(n+=t.substring(a+2,t.length)),t=n}else t.indexOf("d")>-1&&(t=t.replace(/d/,e.getDate()));if((a=t.indexOf("HH"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getHours()+"",2),a+2<t.length&&(n+=t.substring(a+2,t.length)),t=n}if((a=t.indexOf("hh"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getHours()+"",2),a+2<t.length&&(n+=t.substring(a+2,t.length)),t=n}if((a=t.indexOf("mm"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getMinutes()+"",2),a+2<t.length&&(n+=t.substring(a+2,t.length)),t=n}if((a=t.indexOf("ss"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getSeconds()+"",2),a+2<t.length&&(n+=t.substring(a+2,t.length)),t=n}if((a=t.indexOf("SSS"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=u.Q.fillZero(e.getMilliseconds()+"",3),a+3<t.length&&(n+=t.substring(a+3,t.length)),t=n}if((a=t.indexOf("EEEE"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=l.B.getMessage("F_dateFormat_daynames_full").split(",")[new Date(e.getFullYear(),e.getMonth(),e.getDate()).getUTCDay()],a+4<t.length&&(n+=t.substring(a+4,t.length)),t=n}if((a=t.indexOf("E"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=l.B.getMessage("F_dateFormat_daynames_abbr").split(",")[new Date(e.getFullYear(),e.getMonth(),e.getDate()).getUTCDay()];for(var o=1,s=a+1;"E"===t.charAt(s);s++)o++;a+o<t.length&&(n+=t.substring(a+o,t.length)),t=n}
if((a=t.indexOf("ww"))>-1){n="";a>0&&(n+=t.substring(0,a)),n+=c.getWeek(e),a+2<t.length&&(n+=t.substring(a+2,t.length)),t=n}r=t}return r},getIOFormatDate:function(e,t,r){try{if(e.length!==t.length)return e;var i=t;if(r||(8==e.length?r="yearMonthDate":6==e.length?r="yearMonth":10==e.length?r="yearMonthDateHour":12==e.length?r="yearMonthDateTime":14==e.length&&(r="yearMonthDateTimeSec")),"yearMonthDate"==r){var a=e.substring(0,4),o=e.substring(4,6),s=e.substring(6);e=(e=(e=i.replace(/yyyy/gi,a)).replace(/MM/g,o)).replace(/dd/gi,s)}else if("yearMonth"==r){a=e.substring(0,4),o=e.substring(4,6);e=(e=i.replace(/yyyy/gi,a)).replace(/MM/g,o)}else if("yearMonthDateHour"==r){a=e.substring(0,4),o=e.substring(4,6),s=e.substring(6,8);var l=e.substring(8,10);e=(e=(e=(e=i.replace(/yyyy/gi,a)).replace(/MM/g,o)).replace(/dd/gi,s)).replace(/HH/gi,l)}else if("yearMonthDateTime"==r){a=e.substring(0,4),o=e.substring(4,6),s=e.substring(6,8),l=e.substring(8,10);var u=e.substring(10,12);e=(e=(e=(e=(e=i.replace(/yyyy/gi,a)).replace(/MM/g,o)).replace(/dd/gi,s)).replace(/HH/gi,l)).replace(/mm/g,u)}else if("yearMonthDateTimeSec"==r){a=e.substring(0,4),o=e.substring(4,6),s=e.substring(6,8),l=e.substring(8,10),u=e.substring(10,12);var c=e.substring(12,14);e=(e=(e=(e=(e=(e=i.replace(/yyyy/gi,a)).replace(/MM/g,o)).replace(/dd/gi,s)).replace(/HH/gi,l)).replace(/mm/g,u)).replace(/SS/gi,c)}return e}catch(e){n.Y.printStackTrace(e,null,this)}},getIOUnFormatDate:function(e,t,r){try{if(e.length!==t.length)return e;if(r||(8==e.length?r="yearMonthDate":6==e.length?r="yearMonth":10==e.length?r="yearMonthDateHour":12==e.length?r="yearMonthDateTime":14==e.length&&(r="yearMonthDateTimeSec")),"yearMonthDate"==r){var i=e.substr(t.indexOf("y"),4),a=u.Q.fillZero(e.substr(t.indexOf("M"),2),2),o=u.Q.fillZero(e.substr(t.indexOf("d"),2),2);e=i+a+o}else if("yearMonth"==r){i=e.substr(t.indexOf("y"),4),a=u.Q.fillZero(e.substr(t.indexOf("M"),2),2);e=i+a}else if("yearMonthDateHour"==r){i=e.substr(t.indexOf("y"),4),a=u.Q.fillZero(e.substr(t.indexOf("M"),2),2),o=u.Q.fillZero(e.substr(t.indexOf("d"),2),2);var s=u.Q.fillZero(e.substr(t.indexOf("H"),2),2);e=i+a+o+s}else if("yearMonthDateTime"==r){i=e.substr(t.indexOf("y"),4),a=u.Q.fillZero(e.substr(t.indexOf("M"),2),2),o=u.Q.fillZero(e.substr(t.indexOf("d"),2),2),s=u.Q.fillZero(e.substr(t.indexOf("H"),2),2);var l=u.Q.fillZero(e.substr(t.indexOf("m"),2),2);e=i+a+o+s+l}else if("yearMonthDateTimeSec"==r){i=e.substr(t.indexOf("y"),4),a=u.Q.fillZero(e.substr(t.indexOf("M"),2),2),o=u.Q.fillZero(e.substr(t.indexOf("d"),2),2),s=u.Q.fillZero(e.substr(t.indexOf("H"),2),2),l=u.Q.fillZero(e.substr(t.indexOf("m"),2),2);var c=u.Q.fillZero(e.substr(t.indexOf("S"),2),2);e=i+a+o+s+l+c}return e}catch(e){n.Y.printStackTrace(e,null,this)}},_getDay:function(e,t){e+="";var r=parseInt(e.slice(0,4)),i=e.slice(4,6);i=0==i.charAt(0)?parseInt(i.charAt(1)):parseInt(i);var a=e.slice(6,8);if(a=0==a.charAt(0)?parseInt(a.charAt(1)):parseInt(a),r<1900)return t&&alert(l.B.getMessage("Date_err_1900")),-1;if(i<0||i>12)return t&&alert(l.B.getMessage("Date_err_12")),-1;if(a<0||a>31)return t&&alert(l.B.getMessage("Date_err_31")),-1;if(2==i&&a>28){if((r%4!=0||r%100==0)&&r%400!=0)return t&&alert(l.B.getMessage("Date_err_28")),-1;if(a>29)return t&&alert(l.B.getMessage("Date_err_29")),-1}if((4==i||6==i||9==i||11==i)&&a>30)return t&&alert(l.B.getMessage("DatePicker_monthNames").split(",")[i-1]+l.B.getMessage("Date_err_30")),-1;var n=i;1==i&&(n=13,r-=1),2==i&&(n=14,r-=1);var o=a+2*n+r+parseInt(3*(n+1)/5,10)+parseInt(r/4,10)-parseInt(r/100,10)+parseInt(r/400,10)+2;return o-7*parseInt(o/7,10)},getDay:function(e){switch(this._getDay(e,!0)){case 0:return WebSquare.language.getMessage("Calendar_weekdaynames_6")||"Saturday";case 1:return WebSquare.language.getMessage("Calendar_weekdaynames_0")||"Sunday";case 2:return WebSquare.language.getMessage("Calendar_weekdaynames_1")||"Monday";case 3:return WebSquare.language.getMessage("Calendar_weekdaynames_2")||"Tuesday";case 4:
return WebSquare.language.getMessage("Calendar_weekdaynames_3")||"Wednesday";case 5:return WebSquare.language.getMessage("Calendar_weekdaynames_4")||"Thursday";case 6:return WebSquare.language.getMessage("Calendar_weekdaynames_5")||"Friday"}},toLunar:function(e){try{if("string"!=typeof e)return;this.__KoreanLunarCalendar||(this._KoreanLunarCalendar=new c.KoreanLunarCalendar);var t=parseInt(e.slice(0,4),10),r=parseInt(e.slice(4,6),10),i=parseInt(e.slice(6,8),10);if(this._KoreanLunarCalendar.setSolarDate(t,r,i))return this._KoreanLunarCalendar.isIntercalation=!1,this._KoreanLunarCalendar.LunarIsoFormat();var a="";a=t<=1e3?"date range error : Min supported day is 10000213":t>=2050?"date range error : Max supported day is 20501231.":"invalid date format. The valid format is yyyyMMdd (ex:20200516)",o.v.printLog("date.toLunar error : "+a)}catch(e){n.Y.printStackTrace(e,null,this)}},toSolar:function(e){try{if("string"!=typeof e)return;this.__KoreanLunarCalendar||(this._KoreanLunarCalendar=new c.KoreanLunarCalendar);var t=parseInt(e.slice(0,4),10),r=parseInt(e.slice(4,6),10),i=parseInt(e.slice(6,8),10);if(this._KoreanLunarCalendar.setLunarDate(t,r,i))return this._KoreanLunarCalendar.SolarIsoFormat();var a="";a=t<=1e3?"date range error : Min supported day is 10000101":t>=2050?"date range error : Max supported day is 20501118.":"invalid date format. The valid format is yyyyMMdd (ex:20200516)",o.v.printLog("date.toSolar error : "+a)}catch(e){n.Y.printStackTrace(e,null,this)}},getCurrentServerDate:function(e,t){if(e=e||"yyyyMMdd",void 0===t){var r=new Date(Date.now()+WebSquare.serverDiff);return c.getFormattedDate(r,e)}return c._getServerTime(e,null,t)},_getServerTime:async function(e,t,r){if(!0!==c._onRequest){var o=e||"yyyyMMddHHmmssSSS",s="serverTime.wq",l=t||a.I.getConfiguration("serverTimeURL");return s=a.I.getServletURL(null,r,s,l),s+="?pattern="+o+"&idx="+(new Date).getTime()+i.q.safeRandom(),new Promise((function(e,t){var i;try{(i=a.I.getXMLHTTPObject()).open("GET",s,!0),r||i.setRequestHeader("Cache-Control","no-cache"),i.onreadystatechange=function(){if(4==i.readyState)if(c._onRequest=!1,i.status>=200&&i.status<400){var r=i.responseText;if("string"!=typeof r||!r)return void t();var a=c.parseDate(r,o),n=new Date(a).getTime()-(new Date).getTime();n=new Date((new Date).getTime()+n),i.onreadystatechange=function(){},i=null;var s=c.getFormattedDate(n,o);e(s)}else i.onreadystatechange=function(){},i=null,t()},c._onRequest=!0,i.send()}catch(e){c._onRequest=!1,i&&(i.onreadystatechange=function(){},i=null),n.Y.printStackTrace(e),t()}}))}},_checkLocalTimeInterval:function(){c._checkLocalTime.cnt++;var e=(new Date).getTime(),t=e-c._checkLocalTime.time,r=e-c._checkLocalTime.gTime,i=c._checkLocalTime.cnt*c._checkLocalTime.interval,n=Math.abs(r-i),s=a.I.getConfiguration("/WebSquare/date/serverDate/@autoupdateinterval")||"3600";s=1e3*parseInt(s,10),t<0||r<0?(o.v.printLog("diff < 0 || gTotal < 0",t,r,n,i,e),c.updateServerTime()):c._checkLocalTime.pendingCnt>c._checkLocalTime.pendingMaxCnt?(c.updateServerTime(),o.v.printLog("date._checkLocalTime.pendingCnt > date._checkLocalTime.pendingMaxCnt",t,r,n,i,e)):r>s?(c.updateServerTime(),o.v.printLog("gTotal > gMax",t,r,n,i,e)):c._checkLocalTime.timezoneOffset!==(new Date).getTimezoneOffset()?(c.updateServerTime(),o.v.printLog("date._checkLocalTime.timezoneOffset !== new Date().getTimezoneOffset()",t,r,n,i,e)):!0===c._checkLocalTime.refresh?(o.v.printLog("date._checkLocalTime.refresh === true",t,r,n,i,e),c.updateServerTime()):t>c._checkLocalTime.diffMax?(c._checkLocalTime.refresh=!0,c._checkLocalTime.pendingCnt++,o.v.printLog("diff > date._checkLocalTime.diffMax",t,r,n,i,e)):c._checkLocalTime.gDiffMax,c._checkLocalTime.time=(new Date).getTime()},_initServerDiff:async function(){var e="false"!==String(a.I.getConfiguration("/WebSquare/date/serverDate/@enable")).toLowerCase();e&&await c.updateServerTime().catch((function(e){o.v.printLog("WebSquare.date.updateServerTime fail.")})),
e&&!isNaN(i.q.serverDiff)||(i.q.serverDiff=0),c._onRequest=!1,c._initCheckLocalTime(),s.Z.setInterval(c._checkLocalTimeInterval,{key:"WebSquare_date_checkLocalTimeInterval",caller:this,delay:c._checkLocalTime.interval})},_initCheckLocalTime:function(){c._checkLocalTime.time=(new Date).getTime(),c._checkLocalTime.gTime=(new Date).getTime(),c._checkLocalTime.cnt=0,c._checkLocalTime.refresh=!1,c._checkLocalTime.pendingCnt=0,c._checkLocalTime.timezoneOffset=(new Date).getTimezoneOffset()},updateServerTime:async function(e,t,r){if(!0!==c._onRequest){var o=e||"yyyyMMddHHmmssSSS",s="serverTime.wq",l=t||a.I.getConfiguration("serverTimeURL");return s=a.I.getServletURL(null,r,s,l),s+="?pattern="+o+"&idx="+(new Date).getTime()+i.q.safeRandom(),new Promise((function(e,t){var l;try{(l=a.I.getXMLHTTPObject()).open("GET",s,!0),r||l.setRequestHeader("Cache-Control","no-cache"),l.onreadystatechange=function(){if(4==l.readyState)if(c._onRequest=!1,l.status>=200&&l.status<400){var r=l.responseText;if("string"!=typeof r||!r)return void t();var a=c.parseDate(r,o),n=new Date(a).getTime()-(new Date).getTime();i.q.serverDiff=n,n=new Date((new Date).getTime()+n),l.onreadystatechange=function(){},l=null,c._initCheckLocalTime();var s=c.getFormattedDate(n,o);e(s)}else l.onreadystatechange=function(){},l=null,t()},c._onRequest=!0,l.send()}catch(e){c._onRequest=!1,l&&(l.onreadystatechange=function(){},l=null),n.Y.printStackTrace(e),t()}}))}},_updateServerTime:function(e){},getServerTimeZone:function(){return new Promise((function(e,t){var r=a.I.getXMLHTTPObject();try{r.open("GET",i.q.baseServletURI+"serverTimeZone.wq",!0),r.onreadystatechange=function(){if(4===r.readyState)try{i.q.serverTimeOffset=parseInt(r.responseText,10),e(WebSquare.serverTimeOffset),r.onreadystatechange=function(){},r=null}catch(e){r.onreadystatechange=function(){},r=null,t(e)}},r.send(null)}catch(e){r.onreadystatechange=function(){},r=null,t(e)}}))},getMaxMinYear:function(){var e=a.I.getConfiguration("/WebSquare/date/maxYear/@value")-0;(e<1e3||e>9999||isNaN(e))&&(e=2099);var t=a.I.getConfiguration("/WebSquare/date/minYear/@value")-0;if((t<1e3||t>9999||isNaN(t))&&(t=1901),t>e){var r=t;t=e,e=r}var i={};return i.maxYear=e,i.minYear=t,i},getWeek:function(e){var t=new Date;t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var r=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-r.getTime())/864e5-3+(r.getDay()+6)%7)/7)},KoreanLunarCalendar:function(){this.KOREAN_LUNAR_MIN_VALUE=10000101,this.KOREAN_LUNAR_MAX_VALUE=20501118,this.KOREAN_SOLAR_MIN_VALUE=10000213,this.KOREAN_SOLAR_MAX_VALUE=20501231,this.KOREAN_LUNAR_BASE_YEAR=1e3,this.SOLAR_LUNAR_DAY_DIFF=43,this.LUNAR_SMALL_MONTH_DAY=29,this.LUNAR_BIG_MONTH_DAY=30,this.SOLAR_SMALL_YEAR_DAY=365,this.SOLAR_BIG_YEAR_DAY=366,this.SOLAR_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31,29],this.KOREAN_CHEONGAN=[44049,51012,48337,51221,47924,44592,44221,49888,51076,44228],this.KOREAN_GANJI=[51088,52629,51064,47896,51652,49324,50724,48120,49888,50976,49696,54644],this.KOREAN_GAPJA_UNIT=[45380,50900,51068],this.CHINESE_CHEONGAN=[30002,20057,19993,19969,25098,24049,24218,36763,22764,30328],this.CHINESE_GANJI=[23376,19985,23493,21359,36784,24051,21320,26410,30003,37193,25100,20133],this.CHINESE_GAPJA_UNIT=[24180,26376,26085],this.INTERCALATION_STR=[50980,38287],
this.KOREAN_LUNAR_DATA=[2194016855,2197734699,2193886506,2194017621,3271595437,2193884522,2194016621,2197837021,3267626157,2193885773,2197827149,2193885990,3271600982,2194016981,2193883994,2197842298,3267758427,2193884315,2197834395,2193885771,3271674533,2193884842,2194016981,2197852893,3267625653,2194016599,2197705902,2194017431,3267626571,2197759306,2194017705,2197857974,3267757677,2193883758,2197907758,2193885486,3267628182,2197835157,2193886538,2197867881,3267627864,2194148715,2197918315,2193883741,3267627307,2197838507,2193885845,2193886026,3271696043,2193883861,2197927258,2194015419,3267625563,2197845303,2193884459,2193884821,3271571285,2193884842,2198063797,2193883765,3267626166,2197850718,2193885782,2193886502,3271581350,2194017621,2193884586,2197822826,3267758445,2197861551,2193884317,2193885773,3271589165,2193885862,2194017109,2197833173,3267625818,2194016605,2197885299,2193884251,3271596623,2193884747,2193885861,2197842793,3267757749,2193883866,2197826230,2194016567,3271476375,2194017431,2193884747,2197718698,3267759525,2193884596,2198030957,2193883822,3267628641,2197826862,2193886358,2197855565,2193886538,2194017637,2197906837,2194015581,3267625581,2197826141,2193885483,2197858967,3267627669,2193886026,2197850970,2194016981,3267757403,2197832375,2193884247,2193884459,3271564587,2193884821,2197853997,2193884586,3267758773,2197837037,2193884342,2194016855,3271504974,2193886502,2197929618,2194017621,3267626410,2197850554,2194016621,2193884334,3271576221,2193885773,2193886501,2197827365,3267627860,2198056297,2193883866,2194016605,3271648411,2193884315,2193885771,2197834571,3267626661,2197863251,2193884852,2194016950,3271657814,2194016663,2193884311,2197833367,3267626315,2197735077,2194017701,2193884588,3271797429,2193883758,2193885486,2197843118,3267628182,2193886538,2197827402,2194017621,3271603563,2194015579,2193883741,2197846333,3267627303,2193885845,2197904661,2193886026,3267758933,2197885653,2194015451,2197721694,3267758679,2193884459,2197842603,2193884821,3267626666,2197830570,2194016949,2197861559,3267626158,2194016855,2197714222,2193886502,3267759763,2197837525,2193884586,2194016693,3271566701,2193884334,2197924429,2193885773,3267628326,2197843301,2193886034,2194017642,3271567066,2194016605,2197931165,2193884315,3267627595,2197850795,2193884837,2193886036,3271576500,2194016950,2194016603,2197824823,3267626135,2197853775,2193884491,2193884837,3271653061,2193884588,2194016950,2197895278,3267627310,2197867671,2193886358,2193886538,3271593386,2194017109,2193884522,2197969627,3267625565,2193885486,2197826859,2193885845,3271597389,2193885994,2194017109,2197845365,3267626202,2194016859,2197833047,2193884459,3271674515,2193884819,2193884842,2197850842,3267758821,2193884342,2197834414,2194016855,3267626279,2197759270,2194017875,2197857995,3267626410,2194015661,2197906605,2193884334,3267627598,2197835085,2193886502,2197863763,3267627858,2194017130,2197919082,2194015575,3267626141,2197903899,2193885771,2193885861,3271564965,2193886034,2197863258,2194016950,3267758427,2197841079,2193884311,2193884747,3271571275,2193884837,2197862067,2193884588,3267758774,2197914285,2193884318,2193885773,3271581003,2193885989,2193886034,2197892690,3267758938,2197858654,2194016603,2193884315,3271584343,2193885771,2193885861,2197834661,3267626708,2197867222,2194016950,2194016567,2197849247,2193884311,2193884747,2197706442,3267759525,2193884586,2197822828,2194016878,3271604527,2193885486,2193886358,2197847381,3267628362,2194017621,2197894485,2193884522,3267758701,2197822045,2193885483,2197850715,3267627669,2193885994,2197904170,2194016981,3267626202,2197822650,2194016855,2197853487,3267626279,2193884819,2197845683,2193884842,3267758773,2197828981,2193884342,2197867111,3267627566,2193886486,2197851798,2193886538,3267759530,2197837290,2194015597,2193884334,3271632989,2193885741,2197859607,2193885861,3267627858,2197847412,2194016986,2194015581,3271570747,2193884251,2193885739,2197887531,3267627685,2197855061,2193884850,2194016982,3271644470,2194016567,2193884247,2197830231,3267626283,2197727910,2194017685,2193884586,3271654060,2194016878,2193884462,2197830830,3267627606,2197863723,2193886506,2194017621,3271595437,2193884522,2194016877,2197837149,3267626283,2193885837,2197827157,2193885994,3271600982,2194016981,2193884378,2197842554,3267758679,2193884443,2197899799,2193884755,3271673513,2193884586,2194016949,2197852861,3267625654,2194016823,2197706030,2193886486,2194017867,2197698386,2194017706,2197927348,3267757421,2193883822,2197846589,2193885741,3267628309,2197835157,2193886034,2197867369,3267758810,2194015581,2197918299,2193884251,3267627563,2197838507,2193885845,2193886034,3271564970,2194016950,2197865819,2194015415,3267626071,2197845303,2193884459,2193884821,3271640725,2193884586,2197867189,2194016878,3267626158,2197850718,2193885782,2193886506,3271585450,2194017621,2193884522,2197891418,3267758429,2197861551,2193884315,2193885773,3271589165,2193885994,2194017109,2197833173,3267625690,2194016603,2197885271,2193884315,3271596623,2193884747,2193884841,2197842666,3267757749,2193883830,2197826222,2194016567,3271537814,2193886358,2194017867,2197714610,3267759530,2194015661,2197828461,2193883758,3267627310,2197826861,2193886357,2197855565,3267627850,2194017129,2197906778,2194015579,3267625565,2197826139,2193885483,2197858967,3267626645,2193885002,2197850970,2194016950,3267757371,2197832375,2193883735,2193884459,3271564587,2193884821,2197853869,2193884586,3267758773,2197837037,2193884334,2194016855,3271504974,2193886506,2197929364,2194017109,2193884522,2197846394,2194016605,2193884334,3271576219,2193885773,2193886501,2197887658,3267758933,2197853549,2193883866,2194016603,3271578807,2193884311,2193885771,2197834571,3267626665,2197867221,2194015669,2193883830,3271592286,2194016559,2193884311,2197702294,3267628362,2197868197,2194017641,2194015597,3271664309,2193883758,2193885486,2197843117,3267628181,2193886538,2197827402,2194017113,3271607661,2194015579,2193883741,2197846331,3267627307,2193885845,2197904149,2193884874,3267758805,2197885622,2194015419,2197852767,3267625559,2193884459,2197711530,2194017941,3267626666,2197830570,2194016949,2197861559,3267626158,2194016855,2197714221,2193886502,3267759509,2197837269,2193884522,2194016621,3271566685,2193884334,2197858895,2193885773,3267628325,2197843305,2194017109,2193883994,3271568058,2194016603,2197931163,2193884311,3267627595,2197850923,2193884837,2193884884,3271772853,2193883830,2194016567,2197824815,3267626135,2197722702,2193886538,2194017957,3271648937,2194015597,2193883830,2197895262,3267627310,2197863575,2193885845,2193886538,3271593386,2194017101,2194015595,2197832411,3267625565,2193885485,2197826859,2193885845,3271596877,2193884842,2194016981,2197841269,3267757243,2193883739,2197894231,2193884459,3271539348,2194017941,2193884842,2197850842,3267758517,2193884342,2197834414,2194016847,3267495206,2197892390,2194017621,2197923241,3267626346,2194016621,2197906589,2193884318,3267627597,2197835085,2193886501,2197863763,3267627860,2194017114,2197915994,2194016603,3267626139,2197834391,2193885771,2193885861,3271564965,2193884884,2197994203,2193883830,3267758391,2197841071,2193884311,2193884747,3271440202,2194017701,2197862069,2194015597,3267625646,2197846334,2193885486,2193886358,3271646485,2193886538,2194017701,2197894485,3267626346,2197846650,2194016861,2193885485,3271584427,2193885845,2193886026,2197834666,3267758805,2193884506,2197891258,2194016859,3271587127,2193884459,2193884819,2197903125,3267626666,2194016981,2197829045,2193884342,3271592542,2193885774,2193886502,2197843622,3267628370,2194017706,2197898858,2194015597,3267626158,2197830301,2193885773,2197847339,3267627813,2193886546,2197904724,2194017114,3267757405,2197828955,2193884315,2197845591,2193885771,2193885861,2197842789,2193884882,3267758810,2197833142,2194016567,2193884311,3271571095,2193884749,2197714602,2194017701,3267626410,2197838572,2194016942,2193885486,3271572782,2193886358,2197916997,2193886538,3267759445,2197906837,2193884522,2194016877,3271574877,2193884461,2193885845,2197896341,3267627850,2197912394,2194016981,2193884506,3271645754,2194016859,2193884459,2197899799,3267626643,2197853867,2193884842,2194016949,3271582965,2193884342,2194016855,2197701934,3267628310,2194017939,2197698386,2194017706,3271652778,2194015597,2193884334,2197903901,3267627565,2193886485,2197835173,2193886034,3271597418,2194016986,2194015581,2197906075,3267626075,2193885739,2197838635,2193885845,3267627858,2197891762,2194016982,2197910870,3267757367,2193884247,2197837399,2193884459,3267626645,2197829525,2193884586,2197858998,3267758701,2193884334,2197842542,2193885782,3267628330,2197839530,2194017621,2193884586,3271572330,2194016877,2197845181,2193884331,3267627661,2197839189,2193885994,2194017109,3271574997,2193884378,2194016605,2197824855,3267626139,2197842583,2193884747,2193884841,2197834666,2194015925,2193883834,2197826230,3267758391,2197710126,2193886486,2194017867,3271448274,2194017705,2194015669,2197828461,3267625646,2193885742,2197827117,2193886357,3271585109,2193886034,2194017129,2197833178,3267757405,2193883741,2197830235,2193885739,3271654027,2193885845,2193886026,2197904170,3267758805,2194015579,2197832375,2193883735,3271595311,2193884459,2193884821,2197841621,3267626410,2194016949,2197833069,2193884334,3267758679,2197763158,2193886506,2197913226,3267759445,2193884586,2197838554,2194016605,3267626158,2197834411,2193885773,2197851435,3267627817,2194017109,2197845365,2193883866,3267758429,2197837015,2193884315,2193885771,3271637579,2193884841,2197850841,2194015925,3267625654,2197903670,2194016567,2193884311,3271444118,2193886794,2197860006,2194017705,3267757485,2197906093,2193883822,2193885486,3271580845,2193886357,2193886538,2197896522,3267758953,2197845370,2194015579,2193883741,3271579995,2193885483,2193885845,2197835157,3267627850,2194017109,2197825237,2194015579,3271582327,2193883735,2193884459,2197707434,3267759765,2193884842,2197830570,2194016949,2197849277,2193884334,2194016855,2197706061,3267628326,2194017685,2197898837,2193884522,3267758509,2197824861,2193884334,2197842523,3267627597,2193886501,2197839273,2194017109,3267626346,2197826266,2194016605,2197845179,3267626139,2193885771,2197838667,2193884841,3267627732,2197965749,2193883830,2194016603,3271566647,2193884311,2197710422,2193886794,3267759781,2197903017,2194015669,2193883830,3271637166,2193885486,2197912717,2193886357,3267628362,2197908874,2194017129,2194015597,3271639643,2193883741,2193885485,2197826859,3267627669,2197847381,2193886026,2194017109,3271644501,2194015451,2193883739,2197895255,3267626283,2197850779,2193884821,2193884842,3271584490,2194016949,2193884342,2197834414,3267758679,2193884455,2197698342,2194017685,3271587509,2193884522,2194016685,2197837021,3267626158,2193885774,2197835085,2193886501,3271593305,2193886036,2194017642,2197907802,3267758427,2193884315,2197834395,2193885771,3271600935,2193884837,2193884884,2197973877,3267625654,2194016603,2197836983,2193884311,3267626571,2197698378,2194017957,2197849817,3267757485,2193883830,2197838190,2193885486,3267628182,2197835413,2193886538,2194017701,3271567189,2193884524,2197977787,2193883741,3267627309,2197839019,2193885845,2193886026,3271637834,2194017109,2197853533,2193884346,3267758683,2197837143,2193884459,2193885845,3271576469,2193884842,2194016981,2197825205,3267626166,2197842542,2194016855,2193884455,3271448230,2194017683,2193884586,2197830506,3267758445,2197861551,2193884334,2193885773,3271650573,2193886501,2193886546,2197839316,3267758954,2194016621,2197824859,2193884315,3271588439,2193885771,2193885989,2197904165,3267626708,2194016986,2197895350],
this.lunarYear=0,this.lunarMonth=0,this.lunarDay=0,this.isIntercalation=!1,this.solarYear=0,this.solarMonth=0,this.solarDay=0,this.__gapjaYearInx=[0,0,0],this.__gapjaMonthInx=[0,0,1],this.__gapjaDayInx=[0,0,2]}};c.KoreanLunarCalendar.prototype.LunarIsoFormat=function(){var e=this.lunarYear+""+("0"+this.lunarMonth).slice(-2)+("0"+this.lunarDay).slice(-2);return this.isIntercalation&&(e+=" Intercalation"),e},c.KoreanLunarCalendar.prototype.SolarIsoFormat=function(){return this.solarYear+""+("0"+this.solarMonth).slice(-2)+("0"+this.solarDay).slice(-2)},c.KoreanLunarCalendar.prototype.__getLunarData=function(e){return this.KOREAN_LUNAR_DATA[e-this.KOREAN_LUNAR_BASE_YEAR]},c.KoreanLunarCalendar.prototype.__getLunarIntercalationMonth=function(e){return e>>12&15},c.KoreanLunarCalendar.prototype.__getLunarDays=function(e,t,r){var i=this.__getLunarData(e);return null!=t&&null!=r?!0===r&&this.__getLunarIntercalationMonth(i)===t?(i>>16&1)>0?this.LUNAR_BIG_MONTH_DAY:this.LUNAR_SMALL_MONTH_DAY:(i>>12-t&1)>0?this.LUNAR_BIG_MONTH_DAY:this.LUNAR_SMALL_MONTH_DAY:i>>17&511},c.KoreanLunarCalendar.prototype.__getLunarDaysBeforeBaseYear=function(e){for(var t=0,r=this.KOREAN_LUNAR_BASE_YEAR;r<=e;r++)t+=this.__getLunarDays(r);return t},c.KoreanLunarCalendar.prototype.__getLunarDaysBeforeBaseMonth=function(e,t,r){var i=0;if(e>=this.KOREAN_LUNAR_BASE_YEAR&&t>0){for(var a=1;a<=t;a++)i+=this.__getLunarDays(e,a,!1);if(!0===r){var n=this.__getLunarIntercalationMonth(this.__getLunarData(e));n>0&&n<t+1&&(i+=this.__getLunarDays(e,n,!0))}}return i},c.KoreanLunarCalendar.prototype.__getLunarAbsDays=function(e,t,r,i){var a=this.__getLunarDaysBeforeBaseYear(e-1)+this.__getLunarDaysBeforeBaseMonth(e,t-1,!0)+r;return!0===i&&this.__getLunarIntercalationMonth(this.__getLunarData(e))===t&&(a+=this.__getLunarDays(e,t,!1)),a},c.KoreanLunarCalendar.prototype.__isSolarIntercalationYear=function(e){return(e>>30&1)>0},c.KoreanLunarCalendar.prototype.__getSolarDays=function(e,t){var r=this.__getLunarData(e);if(null!=t)var i=2===t&&this.__isSolarIntercalationYear(r)?this.SOLAR_DAYS[12]:this.SOLAR_DAYS[t-1];else i=this.__isSolarIntercalationYear(r)?this.SOLAR_BIG_YEAR_DAY:this.SOLAR_SMALL_YEAR_DAY;return i},c.KoreanLunarCalendar.prototype.__getSolarDaysBeforeBaseYear=function(e){for(var t=0,r=this.KOREAN_LUNAR_BASE_YEAR;r<=e;r++)t+=this.__getSolarDays(r);return t},c.KoreanLunarCalendar.prototype.__getSolarDaysBeforeBaseMonth=function(e,t){for(var r=0,i=1;i<=t;i++)r+=this.__getSolarDays(e,i);return r},c.KoreanLunarCalendar.prototype.__getSolarAbsDays=function(e,t,r){var i=this.__getSolarDaysBeforeBaseYear(e-1)+this.__getSolarDaysBeforeBaseMonth(e,t-1)+r;return i-=this.SOLAR_LUNAR_DAY_DIFF},c.KoreanLunarCalendar.prototype.__setSolarDateByLunarDate=function(e,t,r,i){var a,n=this.__getLunarAbsDays(e,t,r,i),o=0,s=0;a=n<this.__getSolarAbsDays(e+1,1,1)?e:e+1;for(var l=12;l>=1;l--){var u=this.__getSolarAbsDays(a,l,1);if(n>=u){o=l,s=n-u+1;break}}this.solarYear=a,this.solarMonth=o,this.solarDay=s},c.KoreanLunarCalendar.prototype.__setLunarDateBySolarDate=function(e,t,r){for(var i=this.__getSolarAbsDays(e,t,r),a=i>=this.__getLunarAbsDays(e,1,1,!1)?e:e-1,n=0,o=0,s=!1,l=12;l>=1;l--){if(i>=this.__getLunarAbsDays(a,l,1,!1)){n=l,this.__getLunarIntercalationMonth(this.__getLunarData(a))===l&&(s=i>=this.__getLunarAbsDays(a,l,1,!0)),o=i-this.__getLunarAbsDays(a,n,1,s)+1;break}}this.lunarYear=a,this.lunarMonth=n,this.lunarDay=o,this.isIntercalation=s},c.KoreanLunarCalendar.prototype.__checkValidDate=function(e,t,r,i,a){var n=!1,o=1e4*r+100*i+a,s=e?this.KOREAN_LUNAR_MIN_VALUE:this.KOREAN_SOLAR_MIN_VALUE,l=e?this.KOREAN_LUNAR_MAX_VALUE:this.KOREAN_SOLAR_MAX_VALUE;if(s<=o&&l>=o&&i>0&&i<13&&a>0){var u=e?this.__getLunarDays(r,i,t):this.__getSolarDays(r,i);if(!e&&1582===r&&10===i){if(a>4&&a<15)return n;u+=10}a<=u&&(n=!0)}return n},c.KoreanLunarCalendar.prototype.setLunarDate=function(e,t,r,i){var a=!1;return this.__checkValidDate(!0,i,e,t,r)&&(this.lunarYear=e,this.lunarMonth=t,this.lunarDay=r,
this.isIntercalation=i&&this.__getLunarIntercalationMonth(this.__getLunarData(e))===t,this.__setSolarDateByLunarDate(e,t,r,i),a=!0),a},c.KoreanLunarCalendar.prototype.setSolarDate=function(e,t,r){var i=!1;return this.__checkValidDate(!1,!1,e,t,r)&&(this.solarYear=e,this.solarMonth=t,this.solarDay=r,this.__setLunarDateBySolarDate(e,t,r),i=!0),i},c.KoreanLunarCalendar.prototype.__getGapJa=function(){var e=this.__getLunarAbsDays(this.lunarYear,this.lunarMonth,this.lunarDay,this.isIntercalation);if(e>0){this.__gapjaYearInx[0]=(this.lunarYear+6-this.KOREAN_LUNAR_BASE_YEAR)%this.KOREAN_CHEONGAN.length,this.__gapjaYearInx[1]=(this.lunarYear+0-this.KOREAN_LUNAR_BASE_YEAR)%this.KOREAN_GANJI.length;var t=this.lunarMonth;t+=12*(this.lunarYear-this.KOREAN_LUNAR_BASE_YEAR),this.__gapjaMonthInx[0]=(t+3)%this.KOREAN_CHEONGAN.length,this.__gapjaMonthInx[1]=(t+1)%this.KOREAN_GANJI.length,this.__gapjaDayInx[0]=(e+4)%this.KOREAN_CHEONGAN.length,this.__gapjaDayInx[1]=(e+2)%this.KOREAN_GANJI.length}},c.KoreanLunarCalendar.prototype.getGapJaString=function(){this.__getGapJa();var e=String.fromCharCode(this.KOREAN_CHEONGAN[this.__gapjaYearInx[0]],this.KOREAN_GANJI[this.__gapjaYearInx[1]],this.KOREAN_GAPJA_UNIT[this.__gapjaYearInx[2]],this.KOREAN_CHEONGAN[this.__gapjaMonthInx[0]],this.KOREAN_GANJI[this.__gapjaMonthInx[1]],this.KOREAN_GAPJA_UNIT[this.__gapjaMonthInx[2]],this.KOREAN_CHEONGAN[this.__gapjaDayInx[0]],this.KOREAN_GANJI[this.__gapjaDayInx[1]],this.KOREAN_GAPJA_UNIT[this.__gapjaDayInx[2]]);return!0===this.isIntercalation&&(e+=" ("+String.fromCharCode(this.INTERCALATION_STR[0],this.KOREAN_GAPJA_UNIT[1])+")"),e},c.KoreanLunarCalendar.prototype.getChineseGapJaString=function(){this.__getGapJa();var e=String.fromCharCode(this.CHINESE_CHEONGAN[this.__gapjaYearInx[0]],this.CHINESE_GANJI[this.__gapjaYearInx[1]],this.CHINESE_GAPJA_UNIT[this.__gapjaYearInx[2]],this.CHINESE_CHEONGAN[this.__gapjaMonthInx[0]],this.CHINESE_GANJI[this.__gapjaMonthInx[1]],this.CHINESE_GAPJA_UNIT[this.__gapjaMonthInx[2]],this.CHINESE_CHEONGAN[this.__gapjaDayInx[0]],this.CHINESE_GANJI[this.__gapjaDayInx[1]],this.CHINESE_GAPJA_UNIT[this.__gapjaDayInx[2]]);return!0===this.isIntercalation&&(e+=" ("+String.fromCharCode(this.INTERCALATION_STR[1],this.CHINESE_GAPJA_UNIT[1])+")"),e},c.KoreanLunarCalendar.prototype.getChineseGapJaString=function(){this.__getGapJa();var e=String.fromCharCode(this.CHINESE_CHEONGAN[this.__gapjaYearInx[0]],this.CHINESE_GANJI[this.__gapjaYearInx[1]],this.CHINESE_GAPJA_UNIT[this.__gapjaYearInx[2]],this.CHINESE_CHEONGAN[this.__gapjaMonthInx[0]],this.CHINESE_GANJI[this.__gapjaMonthInx[1]],this.CHINESE_GAPJA_UNIT[this.__gapjaMonthInx[2]],this.CHINESE_CHEONGAN[this.__gapjaDayInx[0]],this.CHINESE_GANJI[this.__gapjaDayInx[1]],this.CHINESE_GAPJA_UNIT[this.__gapjaDayInx[2]]);return!0===this.isIntercalation&&(e+=" ("+String.fromCharCode(this.INTERCALATION_STR[1],this.CHINESE_GAPJA_UNIT[1])+")"),e}},9107:(e,t,r)=>{r.d(t,{f:()=>o});var i=r(582),a=r(2710),n=r(2327),o={clear:function(){for(var e in n.v.printLog(" WebSquare memory leak initialize start "),window._funs)window._funs[e]=null;for(var t in window._objs)if(void 0!==window._objs[t]._closures){for(var r in window._objs[t]._closures)try{window._objs[t].detachEvent(window._objs[t]._closures[r].name,window._objs[t]._closures[r]),window._objs[t]._closures[r]=null,window._funs[r]=null}catch(e){a.Y.printStackTrace(e)}window._objs[t]._closures=null,window._objs[t]=null}window._objs=null,n.v.printLog(" WebSquare memory leak initialize end ")},cleanObj:function(e){},clearElement:function(e){var t=null,r=0,i=0,a="";if(t=e.attributes){i=t.length;for(r=0;r<i;r++)"function"==typeof e[a=t[r].name]&&(e[a]=null)}if(t=e.childNodes){i=t.length;for(r=0;r<i;r++)this.clearElement(e.childNodes[r])}},applyParentObject:function(e,t){try{return t.apply(e,arguments)}catch(e){a.Y.printStackTrace(e)}},addListener:function(e,t,r,o){i.q.addListenerCnt++;try{if(o=o||!1,e.attachEvent)try{
e!=window?"onload"==t?i.q.onload=r:e.attachEvent(t,r.closure(e,t)):e.attachEvent(t,r)}catch(e){a.Y.printStackTrace(e)}else if(e.addEventListener)try{void 0!==t&&null!=t&&""!=t&&(t.startsWith("on")?e.addEventListener(t.slice(2),r,o):e.addEventListener(t,r,o))}catch(e){a.Y.printStackTrace(e)}}catch(r){n.v.printLog("ERROR ["+e.id+"] ["+t+"] at WebSquare.event.addListener"),a.Y.printStackTrace(r)}},removeListener:function(e,t,r,i){try{if(i=i||!1,e.detachEvent)try{e!=window?e.detachEvent(t,r.closure(e,t)):e.detachEvent(t,r)}catch(e){a.Y.printStackTrace(e)}else if(e.removeEventListener)try{e.removeEventListener(t.slice(2),r,i)}catch(e){a.Y.printStackTrace(e)}}catch(e){a.Y.printStackTrace(e)}},addUserEvents:function(e,t,r){var i=[];try{if(t){if(void 0!==r){for(var n={},o=0;o<r.length;o++)n[r[o]]="";var s=[];for(o=0;o<t.length;o++)void 0===n[t[o].name]?i.push(t[o]):s.push(t[o]);t=s}"object"==typeof e.userEventList&&"number"==typeof e.userEventList.length?e.userEventList=e.userEventList.concat(t):e.userEventList=t}}catch(e){a.Y.printStackTrace(e)}return i},fireEvent:function(e,t){try{var r=e.userEventList;if(e.options&&e.options.parentEvent&&e!=e.options.parentEvent)return void e.options.parentEvent.childFiredEvent.apply(e.options.parentEvent,arguments);if(r){for(var o,s=null,l=void 0,u=0;u<r.length;u++)if(void 0!==r[u].name&&r[u].name==t.toLowerCase()&&"script"===r[u].action)if("function"==typeof(o="string"==typeof r[u].param.handler?WebSquare.util.getGlobalFunction(r[u].param.handler,e.scope_id):r[u].param.handler)){if(null==s&&(s=[],arguments.length>2))for(var c=2;c<arguments.length;c++)s.push(arguments[c]);r[u].disabled||(l=e.scope_obj?function(e,t,r,a,n){if(t&&!0!==t._removed){i.q.scope_obj=t.scope_obj.id,i.q._performance.mark("event.start."+t.id);var o=e.apply(t,!0!==a?r:[t.scope_obj.scope].concat(r));if(t&&!0!==t._removed&&(i.q._performance.mark("event.end."+t.id),i.q._performance._valid())){var s=t.scope_obj;(s===t||t.options&&t.options.inheritedCompName)&&(s=WebSquare.idCache[t.parentFrame]);var l=WebSquare.language.getMessage("Performance_event"),u={src:s&&s.getSrc?s.getURL(s.getSrc()||i.q.w2xPath):i.q.w2xPath,id:t.id,orgId:t.org_id?t.org_id:t.id,scopeId:s?s.id:"",type:n,log:l};i.q._performance.measure("event."+t.id,"event.start."+t.id,u)}return i.q.scope_obj=null,o}}(o,e,s,r[u].param._old,r[u].name):o.apply(e,s),e.scope_obj&&null!=n.v&&"function"==typeof n.v.getEventDebug&&n.v.getEventDebug()&&"body"!==e.options.pluginName&&n.v.printLog("[EVENT LOG] id: ["+e.id+"] scope id: ["+(e.scope_obj?e.scope_obj.id:"")+"] ev: ["+r[u].name+"] : ev name: ["+r[u].param.handler+"]"))}else n.v.printLog("Event error ["+e.id+",ev:"+r[u].name+"] : "+r[u].param.handler+" is not a function");if(void 0!==l)return l}}catch(t){a.Y.printStackTrace(t,null,e)}},fireSystemEvent:function(e,t,r){try{if(!WebSquare.util.isIE()&&"createEvent"in document){"on"==t.slice(0,2)&&(t=t.substring(2,t.length));var i=document.createEvent("HTMLEvents");for(var n in i.initEvent(t,!0,!0),r)i[n]=r[n];e.render.dispatchEvent(i)}else if("createEventObject"in document){"on"!=t.slice(0,2)&&(t="on"+t);i=document.createEventObject();for(var n in i.eventType=t,i.cancelBubble=!0,i.returnValue=!0,r)i[n]=r[n];e.render.fireEvent(t,i)}}catch(e){a.Y.printStackTrace(e)}},getTarget:function(e){try{return null==e?null:e.target?e.target:e.srcElement?e.srcElement:null}catch(e){a.Y.printStackTrace(e)}},getRelatedTarget:function(e){try{return null==e?null:e.relatedTarget?e.relatedTarget:null!=window.event&&o.fromElement?e.fromElement===WebSquare.event.getTarget(e)?e.toElement:e.fromElement:null}catch(e){a.Y.printStackTrace(e)}},getClientX:function(e){try{return WebSquare.core.browserCheck.ie?o.clientX:e.clientX}catch(e){a.Y.printStackTrace(e)}},getClientY:function(e){try{return WebSquare.core.browserCheck.ie?o.clientY:e.clientY}catch(e){a.Y.printStackTrace(e)}},getOffsetX:function(e){try{if(WebSquare.core.browserCheck.ie)return o.offsetX;var t=e.target,r=WebSquare.style.getAbsoluteLeft(t)
;return e.pageX-r}catch(t){a.Y.printStackTrace(t)}},getOffsetY:function(e){try{if(WebSquare.core.browserCheck.ie)return o.offsetY;var t=e.target,r=WebSquare.style.getAbsoluteTop(t);return e.pageY-r}catch(t){a.Y.printStackTrace(t)}},getScreenX:function(e){try{if(WebSquare.core.browserCheck.ie)return o.screenX;if(!WebSquare.util.isTouchDevice()||!e.touches)return e.screenX;var t=e.touches.item(0)||e.changedTouches.item(0);if(t)return t.screenX}catch(e){a.Y.printStackTrace(e)}},getScreenY:function(e){try{if(WebSquare.core.browserCheck.ie)return o.screenY;if(!WebSquare.util.isTouchDevice()||!e.touches)return e.screenY;var t=e.touches.item(0)||e.changedTouches.item(0);if(t)return t.screenY}catch(e){a.Y.printStackTrace(e)}},getMouseX:function(e){try{var t=(e=e||o).clientX;return t+=document.documentElement.scrollLeft||document.body.scrollLeft,WebSquare.util.isTouchDevice()&&(e.touches?t=e.touches.item(0).pageX:e.pointers&&(t=e.pointers[0].pageX)),t}catch(e){a.Y.printStackTrace(e)}},getMouseY:function(e){try{var t=(e=e||o).clientY;return t+=document.documentElement.scrollTop||document.body.scrollTop,WebSquare.util.isTouchDevice()&&(e.touches?t=e.touches.item(0).pageY:e.pointers&&(t=e.pointers[0].pageY)),t}catch(e){a.Y.printStackTrace(e)}},stopPropagation:function(e){try{if(!e||"object"!=typeof e)return;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}catch(e){a.Y.printStackTrace(e)}},preventDefault:function(e){try{if(!e||"object"!=typeof e)return;e.preventDefault?e.preventDefault():e.returnValue=!1}catch(e){a.Y.printStackTrace(e)}},stopEvent:function(e){try{WebSquare.event.stopPropagation(e),WebSquare.event.preventDefault(e)}catch(e){a.Y.printStackTrace(e)}},bindAsEventListener:function(e,t){return function(r){t.apply(e,[r||window.event].concat(Array.prototype.slice.call(arguments,2)))}},addEvent:function(e,t,r){r.$$guid||(r.$$guid=WebSquare.event.addEvent.guid++),e.events||(e.events={});var i=e.events[t];i||(i=e.events[t]={},e["on"+t]&&(i[0]=e["on"+t])),i[r.$$guid]=r,e["on"+t]=WebSquare.event.handleEvent},removeEvent:function(e,t,r){e.events&&e.events[t]&&delete e.events[t][r.$$guid]},handleEvent:function(e){var t=!0;e=e||window.event;var r=this.events[e.type];for(var i in r)this.$$handleEvent=r[i],!1===this.$$handleEvent(e)&&(t=!1);return t},fixEvent:function(e){e.preventDefault=WebSquare.event.fixEvent.preventDefault,e.stopPropagation=WebSquare.event.fixEvent.stopPropagation}};o.fixEvent.preventDefault=function(){this.returnValue=!1},o.fixEvent.stopPropagation=function(){this.cancelBubble=!0},o.isEventSupported=function(e,t){var r=!1;try{if(!e)return!1;var i=t;"string"!=typeof i||"o"===i.charAt(0)&&"n"===i.charAt(1)||(i="on"+i),(r=i in e)||e.setAttribute&&e.removeAttribute&&(e.setAttribute(i,""),r="function"==typeof e[i],void 0!==e[i]&&(e[i]=void 0),e.removeAttribute(i))}catch(e){a.Y.printStackTrace(e)}return r},o.getMouseWheelDelta=function(e){try{var t=e.detail,r=e.wheelDelta,i=-1!=navigator.userAgent.indexOf("Windows")||!1,n=-1!=navigator.userAgent.indexOf("Macintosh")||!1;return WebSquare.util.isMobile()?WebSquare.core.browserCheck.android&&(r/=360):WebSquare.util.isChrome()?(i||n)&&(r/=120):WebSquare.util.isSafari()?i?r/=120:n&&(r/=12):WebSquare.util.isFF()?i?r=t/-3:n&&(r=-1*t):WebSquare.util.isOpera()?i?r/=120:n&&(r/=160):WebSquare.util.isIEAllVersion("8 9 10 11")&&(r/=120),r}catch(e){a.Y.printStackTrace(e)}}},2710:(e,t,r)=>{r.d(t,{Y:()=>a});var i=r(582),a={};!0!==i.q.skipLog||i.q.printError?(a.exceptionCnt=0,a.printError=function(e){WebSquare.logger.printLog("WebSquare Error\n\n"+e),WebSquare.logger.debug&&alert("WebSquare Error\n\n"+e)},a.printStackTrace=function(e,t,r){try{if(a.exceptionCnt++,i.q.printConsole||i.q.errorConsole){var n=i.q.w2xPath;if(r){var o=r.scope_obj;o&&"function"==typeof o.getSrc&&(n=o.getSrc())}if(e&&e.message){var s="\nxml page url : "+n,l=e.message+s;WebSquare.logger.printLog(l);try{e.message+=s,console.error(a.exceptionCnt,e)}catch(t){console.error(a.exceptionCnt,e)}}
var u=WebSquare.core.getConfiguration("/WebSquare/debug/@errorHandler"),c=WebSquare.util.getGlobalFunction(u);return void(c&&c(e,e.message))}var d,p="";if(r&&r.getID)if(p+="Exception Occured at element id ["+r.getID()+"]\n",r.parentFrame&&null!=(d=i.q.idCache[r.parentFrame])){var h={frameObj:d},f=WebSquare.core._getMsaSrc(d.getSrc(),h);p+="* frame       : id=["+d.id+"], src=["+f+"]\n"}try{e.componentName&&(p+="* component   :"+e.componentName+"\n")}catch(e){console.error("* component   :")}try{e.componentID&&(p+="* id          :"+e.componentID+"\n")}catch(e){console.error("* id   :")}try{e.eventName&&(p+="* event       :"+e.eventName+"\n")}catch(e){console.error("* event   :")}try{e.description&&(p+="* description :"+e.message+"\n")}catch(e){console.error("* description   :")}try{e.number&&(p+="* number      :"+(65535&e.number)+"\n")}catch(e){console.error("* number   :")}try{e.line&&(p+="* line        :"+e.line+"\n")}catch(e){console.error("* line   :")}try{e.lineNumber&&(p+="* lineNumber  :"+e.lineNumber+"\n")}catch(e){console.error("* lineNumber   :")}try{e.columnNumber&&(p+="* columnNumber:"+e.columnNumber+"\n")}catch(e){console.error("* columnNumber   :")}try{e.sourceURL&&(p+="* sourceURL   :"+e.sourceURL+"\n")}catch(e){console.error("* sourceURL   :")}try{e.fileName&&(p+="* fileName    :"+e.fileName+"\n")}catch(e){console.error("* fileName   :")}if(t&&((t+="").length>100?p+="* source        :"+t.substring(0,100)+"\n":p+="* source        :"+t+"\n"),void 0===e.aleradyThrow)try{null!=e.stack?p+="================================================================\n"+e.stack+"\n================================================================\n":e.message&&(p+="* message     : "+e.message+"\n");var g=WebSquare.language.getMessage("E_exception_ErrorOccursSeeLog",p);""==g&&(g=p),WebSquare.logger.printLog(g),a.printInternalSource(),e.aleradyThrow="djshin"}catch(e){console.error(e)}}catch(e){console.error(e)}},a.parseStack=function(e){for(var t=e.split("\n"),r=[],i=0;i<t.length;i++)t[i]&&(t[i].trim().startsWith("at")?r.push(t[i]):0==i&&navigator.userAgent.indexOf("Chrome")>-1?r.push("    "+t[i]):r.push("    at "+t[i]));return r.join("\n")},a.ieErrorHandler=function(e,t,r){return WebSquare.logger.printLog(WebSquare.language.getMessage("E_exception_IERuntimeError",r,window.event.errorCharacter,window.event.errorCode,t,e,a.getSignature(a.ieErrorHandler.caller))),a.printInternalSource(),!0},a.printInternalSource=function(){for(var e=0;e<WebSquare.BootLoader.globalEvalArr.length;e++){var t=[],r="\n<<Internal JavaScript Source Block",i=WebSquare.BootLoader.globalEvalArr[e];if(i)for(var a=i.split(WebSquare.scriptIdentifier),n=a.length>1?1:0,o=1,s=!0,l=0;l<a.length;l++)if(""!=a[l]){var u=a[l].split("\n"),c=u[0]+"",d=c.indexOf('";');d>0&&(c=u[0].substring(0,d),u[0]=u[0].substring(d+2)),1===n?t.push(r+" ["+c+"]["+e+"] Start>>"):t.push(r+"["+e+"] Start>>"),s&&(s=!1,t.push("\n"),t.push("["),1===n&&t.push(c+":"),t.push(WebSquare.BootLoader.fillZero(o,4)),t.push("]"),o++);for(var p=0,h=u.length;p<h;p++)t.push("\n"),t.push("["),1===n&&t.push(c+":"),t.push(WebSquare.BootLoader.fillZero(o,4)),t.push("]"),t.push(u[p]),o++;1===n?t.push(r+" ["+c+"]["+e+"] End>>\n"):t.push(r+"["+e+"] End>>\n")}var f=t.join("");WebSquare.logEnableFlag&&WebSquare.logMsgArray.push(f),WebSquare.printConsole&&console.log(f),WebSquare.remoteConsole&&WebSquare.remoteLogMsgArray.push(f)}WebSquare.BootLoader.globalEvalArr=[]},a.ffErrorHandler=function(e,t,r){return"Error loading script"==e?(WebSquare.BootLoader.printError("Module ["+t+"] Does not exist."),!1):(WebSquare.core.browserCheck.moz&&r++,WebSquare.logger.printLog(WebSquare.language.getMessage("E_exception_FFRuntimeError",r,t,e,a.getSignature(a.ffErrorHandler.caller))),a.printInternalSource(),!0)},a.getSignature=function(e,t){if(void 0===t&&(t=0),t>10)return"    ...(omission)";if(null==e||"null"==e)return"";try{var r="";null!=e.caller&&(r=e.toString()!=e.caller.toString()?a.getSignature(e.caller,++t):"    ...(recursion)")
;var i,n=e.toString(),o=n.indexOf('["');return-1==o?-1==(i=n.indexOf(")"))?"    at "+n+"\n"+r:"    at "+n.substring(0,i+1)+"\n"+r:-1==(i=n.indexOf('"',o+2))?"    at "+n+"\n"+r:"    at "+n.substring(o+2,i)+"\n"+r}catch(t){return e}},a.crossOrigin=function(e){try{void 0!==e&&null!=e||(e={}),null!=this.crossOriginChecked||WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/debug/@skipCrossOrigin"))||(WebSquare.logger.printLog("WebSquare "+e.name+" fail : ["+e.message+"]from : ["+location.toString()+"]"),this.crossOriginChecked=!0)}catch(e){WebSquare.logger.printLog("exception.crossOrigin error.")}}):(a.printError=function(){},a.printStackTrace=function(){},a.parseStack=function(){},a.ieErrorHandler=function(){},a.printInternalSource=function(){},a.ffErrorHandler=function(){},a.getSignature=function(){},a.crossOrigin=function(){})},813:(e,t,r)=>{r.d(t,{r:()=>a});var i=r(2710),a={isEmpty:function(e){return!e||0===e.length},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},matchTagName:function(e,t,r){if(!e)throw"no json given";return r&&(t=this.applyNS(t,r)),this.matchType(e,WebSquare.Elem.type.element)&&e.N===t},matchType:function(e,t){return e.T&&e.T===t},getChildNodes:function(e){return e.E?e.E:[]},findChild:function(e,t){for(var r=this.getChildNodes(e),i=[],a=0;a<r.length;a++)if(r[a].N===t)return i.push(r[a]);return i},applyNS:function(e,t){var r=e;return t===WebSquare.core._XML_NAMESPACE.SCHEMA?r=e:t===WebSquare.core._XML_NAMESPACE.XFORMS?r="xf:"+e:t===WebSquare.core._XML_NAMESPACE.XHTML||t===WebSquare.core._XML_NAMESPACE.XML||t===WebSquare.core._XML_NAMESPACE.XSL?r=e:t===WebSquare.core._XML_NAMESPACE.EVENTS?r="ev:"+e:t===WebSquare.core._XML_NAMESPACE.W2&&(r="w2:"+e),r},dropNS:function(e){if(e)return e.substring(e.indexOf(":")+1)},getNS:function(e){if(e){var t=e.indexOf(":")>-1?e.indexOf(":"):e.length;return e.substring(0,t)}},walk_DFS:function(e,t){for(var r=[],i=[e];i.length>0;){for(var a=i.pop(),n=this.getChildNodes(a),o=n.length-1;o>=0;o--)i.push(n[o]);var s=t(a);null!=s&&r.push(s)}return r},walk_DFS_async:async function(e,t){for(var r=[],i=[e];i.length>0;){for(var a=i.pop(),n=this.getChildNodes(a),o=n.length-1;o>=0;o--)i.push(n[o]);var s=await t(a);null!=s&&r.push(s)}return r},walk_BFS:function(e,t){for(var r=[],i=[e];i.length>0;){for(var a=i.shift(),n=this.getChildNodes(a),o=0;o<n.length;o++)i.push(n[o]);var s=t(a);null!=s&&r.push(s)}return r},getNodesByTagName:function(e,t,r){if(!e)throw"no json given";r&&(t=this.applyNS(t,r));return this.walk_DFS(e,(function(e){if(e.N===t)return e}))},getAttribute:function(e,t){var r=e.A;if(r)return r[t]},getAttributes:function(e){var t=e.A;if(!t)return[];var r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(i);return r},getAttributesObject:function(e){if(e.A)return e.A},appendChild:function(e,t){return e.E?e.E.push(t):e.E=[t],t},removeChild:function(e,t){for(var r=this.getChildNodes(e),i=0;i<r.length;i++)if(r[i]===t)return r.splice(i,1);return null},createNode:function(e){return{N:e,T:WebSquare.Elem.type.element,A:{}}},setAttribute:function(e,t,r){e.A[t]=r},removeAttribute:function(e,t){delete e.A[t]},_object_create:function(e){var t=function(){};return t.prototype=e,new t},cloneNode:function(e,t,r,i,a,n){if(null===e||"object"!=typeof e)return e;if(!0!==t){var o={};for(var s in e)"parent"!==s&&e.hasOwnProperty(s)&&(o[s]=e[s]);return o}if("function"==typeof e.clone&&e.clone!==WebSquare.xfControl.prototype.clone)return e.clone(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(e.nodeType&&"function"==typeof e.cloneNode)return e.cloneNode(!0);void 0===r&&(r=[],i=[]),null==a?a=0:a++;for(var l,u=r.length,c=0;c<u;c++)if(e===r[c])return i[c];if("[object Array]"==Object.prototype.toString.call(e)){var d=e.slice();r.push(e),i.push(d);for(c=d.length;c--;)d[c]=this.cloneNode(d[c],!0,r,i,a,n);return d}if(!0===n)l={};else{var p=Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__
;p||(p=e.constructor.prototype),l=this._object_create(p)}r.push(e),i.push(l);var h={parent:!0};for(var s in e)!0!==h[s]&&(l[s]=this.cloneNode(e[s],!0,r,i,a,n));return l},getCDataNodeValue:function(e){var t="";return e.E&&e.E.length>0&&(t=e.E[0].cdata||""),t},getTextNodeValue:function(e){var t="";return e.E&&e.E.length>0&&(t=e.E[0].text||""),t},getValue:function(e,t,r){for(var i="",a=this.getChildNodes(e),n=0;n<a.length;n++)if(a[n].N==t){var o=this.getNodesByTagName(e,t)[0];if(!r){var s=this.getChildNodes(o)[0];void 0!==s&&(i=3==s.T?s.text:4==s.T?s.cdata:"");break}i=this.getAttribute(o,r)}return i.wq_trim()},findNodes:function(e,t){var r=function(e){return e.A&&e.A===name?e:[]}.bind(this);return this.walk_DFS(e,r)},serialize:function(e){return JSON.stringify(e,(function(e,t){if("parent"!==e)return t}))},setJSONByPath:function(e,t,r){try{if("string"!=typeof t||null==e)return;for(var a=t.wq_trim().split("."),n=0;e&&("object"==typeof e||"function"==typeof e)&&n<a.length-1;)e=e[a[n++]];e[a[a.length-1]]=r}catch(e){i.Y.printStackTrace(e,null,this)}},getJSONByPath:function(e,t){try{if("string"!=typeof t||null==e)return e;for(var r=t.wq_trim().split("."),a=0;e&&("object"==typeof e||"function"==typeof e)&&a<r.length;)e=e[r[a++]];return e}catch(e){i.Y.printStackTrace(e,null,this)}}}},8713:(e,t,r)=>{r.d(t,{B:()=>i});var i={getMessage:function(e,...t){try{var r="";if(!e)return"";void 0===WebSquareLang[e]?(WebSquare.logger.printLog("'"+e+"' is not defined."),r=""):r=WebSquareLang[e];for(var i=0;i<t.length;i++)try{r=r.replace(new RegExp("%"+(i+1),"g"),t[i])}catch(e){WebSquare.logger.printLog(e.message)}return r}catch(e){WebSquare.logger.printLog(e.message)}}}},2327:(e,t,r)=>{r.d(t,{Y:()=>u,v:()=>l});var i=r(582),a=r(8109),n=r(2536),o=r(2710),s=r(8713),l={_skipLog:function(e){e.printLog=function(){},e.changeClientName=function(){},e.sendRemoteLog=function(){},e.printLog1=function(){},e.getFileName=function(){},e.getLogTime=function(){},e.getLog=function(){},e.getErrorLog=function(){},e.clearLog=function(){},e.showLog=function(){},e.saveLog=function(){},e.showDebugMsg=function(){},e.showErrorMsg=function(){},e.alertObject=function(){},e.getObjectStr=function(){},e.showObject=function(){},e._showObject=function(){},e.getFunctionName=function(){},e.showContextMenu=function(){},e.setGlobalDebug1=function(){},e.setGlobalDebug2=function(){},e.getGlobalDebug=function(){return!1},e.getEventDebug=function(){return!1},e.setEventDebug=function(){},e.getVersion=function(){},e.getVersionString=function(){return i.q.ver},e.getFileVersion=function(){},e.getFileVersionString=function(){return i.q.buildDate},e.contextMenuAddRow=function(){},e.contextMenuAddRow1=function(){},e.hideContextMenu=function(){},e.dumpCSS=function(){},e.debug=!1,e.debugKey="",i.q.logMsgArray=[]}};if(!0===i.q.skipLog)l._skipLog(l);else{l._initImport=function(){a.Q.browserCheck.safari?(document.oncontextmenu=function(e){if(e.ctrlKey&&2==e.button)return WebSquare.event.stopEvent(e),!1},document.onmousedown=l.showContextMenu):document.oncontextmenu=l.showContextMenu,document.onclick=l.hideContextMenu},i.q._initImportList.push("logger"),l.printLog=function(e){try{if(!WebSquare.logEnableFlag)return;if(WebSquare.logMsgArrayLength++,WebSquare.isPrintLog){i.q.logMsgCurrentLength+=e.length,i.q.logMsgLength+=e.length,(WebSquare.logMsgArray.length>500||i.q.logMsgCurrentLength>5e4)&&(delete i.q.logMsgArray,i.q.logMsgArray=[],i.q.logMsgCurrentLength=e.length,WebSquare.logMsgArray.push(l.getLogTime()+" "+l.getFileName()+"] Delete logs for reducing memory usage. Total logs : "+i.q.logMsgArrayLength+", bytes : "+WebSquare.logMsgLength));var t=a.Q.getLogTime(),r=" "+l.getFileName()+"] "+e;WebSquare.logMsgArray.push(t+r),WebSquare.printConsole&&console.log(t+r),i.q.remoteConsole&&WebSquare.remoteLogMsgArray.push(t+i.q.logFileName+r)}}catch(e){console.error(e)}},l.print=function(){window.print()},l.changeClientName=function(){if(WebSquare.logEnableFlag){
l.clientName||(l.clientName=a.Q.getCookie("remote_client_name"),l.clientName||(l.clientName="Client_"+parseInt(i.q.safeRandom()),a.Q.setCookie("remote_client_name",l.clientName)));var e=prompt(s.B.getMessage("E_logger_changeClientName"),l.clientName);e&&(l.clientName=e,a.Q.setCookie("remote_client_name",l.clientName))}},i.q.remoteConsole&&(l.sendRemoteLog=function(e){if(WebSquare.logEnableFlag&&(l.clientName||(l.clientName=a.Q.getCookie("remote_client_name"),l.clientName||(l.clientName="Client_"+parseInt(i.q.safeRandom()),a.Q.setCookie("remote_client_name",l.clientName))),i.q.remoteConsole)){try{if(WebSquare.remoteLogMsgArray.length>0){e=JSON.stringify({clientName:l.clientName,logs:i.q.remoteLogMsgArray});i.q.remoteLogMsgArray=[];var t=null;a.Q.useActiveXObject?t=new ActiveXObject(n.I._XMLHTTP_PROGIDS[0]):window.XMLHttpRequest&&(t=new XMLHttpRequest),t.open("POST",i.q._resourceURI+"fiddle/logAggregator.jsp",!1),t.send(e),t=null}}catch(e){o.Y.printStackTrace(e)}window.setTimeout("logger.sendRemoteLog()",1e3)}},window.setTimeout("logger.sendRemoteLog()",1e3)),l.printLog1=function(e){try{WebSquare.logEnableFlag&&WebSquare.logMsgArray.push("             "+l.getFileName()+"] "+e)}catch(e){console.error(e)}},l.getFileName=function(){if(WebSquare.logEnableFlag){var e=location.pathname;try{var t=e.lastIndexOf("/");t>-1&&t<e.length-1&&(e=e.substring(t+1)),(t=e.lastIndexOf("."))>-1&&(e=e.substring(0,t))}catch(e){o.Y.printStackTrace(e)}return e}},l.getLogTime=function(e){if(WebSquare.logEnableFlag){var t=null,r=(t="undefined"==e||null==e?new Date:new Date(e)).getTime(),a=r-i.q.logTime,n=WebSquare.text.fillZero(t.getHours(),2)+":"+WebSquare.text.fillZero(t.getMinutes(),2)+":"+WebSquare.text.fillZero(t.getSeconds(),2)+"."+WebSquare.text.fillZero(t.getMilliseconds(),3);return a<1e5?(i.q.logTotalTime+=a,n+=" "+WebSquare.text.fillZero(a,5)+" "+WebSquare.text.fillZero(WebSquare.logTotalTime,6)):n+=" 00000 000000",i.q.logTime=r,n}},l.getLog=function(e){if(WebSquare.logEnableFlag){if(e){var t=l.getLog();return l.clearLog(),t}var r="";try{window.parent!==window.self&&window.parent.WebSquare&&""!=(r=window.parent.logger.getLog())&&(r="Parent Log["+window.parent.name+"] \n"+r)}catch(e){o.Y.printStackTrace(e)}try{return""==r?WebSquare.logMsgArray.join("\n"):WebSquare.logMsgArray.join("\n")+"\n\n\n"+r}catch(e){o.Y.printStackTrace(e)}}},l.getErrorLog=function(){if(WebSquare.logEnableFlag){i.q.errorLogMsgArray=[];for(var e=0;e<WebSquare.logMsgArray.length;++e)(WebSquare.logMsgArray[e].indexOf("오류")>-1||WebSquare.logMsgArray[e].indexOf("에러")>-1||WebSquare.logMsgArray[e].indexOf("Runtime Error")>-1||WebSquare.logMsgArray[e].indexOf("Error occurs")>-1||WebSquare.logMsgArray[e].indexOf("error occurred")>-1)&&WebSquare.errorLogMsgArray.push(WebSquare.logMsgArray[e]);var t="";try{window.parent!==window.self&&window.parent.WebSquare&&""!=(t=window.parent.logger.getErrorLog())&&(t="\n----------------------------------------Parent Log["+window.parent.name+"]----------------------------------------\n"+t)}catch(e){o.Y.printStackTrace(e)}try{return""==t?WebSquare.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n"):WebSquare.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n")+"\n\n\n"+t}catch(e){o.Y.printStackTrace(e)}}},l.clearLog=function(){var e=l.getLog();try{window.parent!==window.self&&window.parent.WebSquare&&window.parent.logger.clearLog()}catch(e){o.Y.printStackTrace(e)}try{i.q.logMsgArray=[]}catch(e){o.Y.printStackTrace(e)}return e},l.showLog=function(){if(WebSquare.logEnableFlag){var e,t="";if(WebSquare.domain&&(t="?domain="+WebSquare.text.URLEncoder(WebSquare.domain)),a.Q.browserCheck.android||a.Q.browserCheck.iphone||a.Q.browserCheck.ipad||a.Q.browserCheck.ipod||a.Q.browserCheck.blackberry)(e=n.I.getConfiguration("logMsgMobileURL"))||(e=i.q.baseURI+a.Q.inquiresPath("message/logMsgMobile.html")),e+=t,
window.open(e);else(e=n.I.getConfiguration("logMsgURL"))||(e=i.q.baseURI+a.Q.inquiresPath("message/logMsg.html")),e+=t,window.open(e,"_blank","top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no")}},l.saveLog=function(){if(WebSquare.logEnableFlag){var e=l.getLog(),t=n.I.getXMLHTTPObject();t.open("POST",i.q._resourceURI+"/engine/servlet/saveLog.jsp",!1),t.send(e),t=null}},l.showDebugMsg=function(e,t,r){if(WebSquare.logEnableFlag){var s;if(void 0!==t&&(e._config=t),void 0!==r&&(e.title=r),"object"==typeof e)s=e;else{s=new Object;try{s["debug info"]=null!=e?e.toString():""}catch(e){o.Y.printStackTrace(e)}}var l="";WebSquare.domain&&(l="?domain="+WebSquare.text.URLEncoder(WebSquare.domain));var u=n.I.getConfiguration("debugMsgURL");u||(u=i.q.baseURI+a.Q.inquiresPath("message/debugMsg.html")),WebSquare.net.showWindow(u+l,s,"dialogHeight: 700pt; dialogWidth: 580pt; edge: Raised; center: Yes; help: No; edge: raised; resizable: Yes; status: No;")}},l.showErrorMsg=function(e){if(WebSquare.logEnableFlag){var t="";WebSquare.domain&&(t="?domain="+WebSquare.text.URLEncoder(WebSquare.domain));var r=n.I.getConfiguration("errorMsgURL");r||(r=i.q.baseURI+a.Q.inquiresPath("message/errorMsg.html")),WebSquare.net.showWindow(r+t,e,"dialogHeight: 300pt; dialogWidth: 280pt; edge: Raised; center: Yes; help: No; resizable: Yes; status: No;")}},l.alertObject=function(e,t){var r="";try{if("string"==typeof e)r=e;else if("object"==typeof e)if(null==e)r+=" null";else try{for(var i in e){var a=i+"               ";a=a.substring(0,30);try{r+=a+":  "+e[i]+"\n"}catch(e){o.Y.printStackTrace(e)}}}catch(e){r+=s.B.getMessage("E_logger_InnerBlindObject")}}catch(e){o.Y.printStackTrace(e)}1==t?$l(r):alert(r)},l.getObjectStr=function(e,t,r){try{if(!WebSquare.logEnableFlag)return;for(var i="",a=0;a<e;a++)i+="\t";if(e>r.maxDepth)return i+"[...]";var n="";if("string"==typeof t||"number"==typeof t)n=t;else if("object"==typeof t)if(null==t)n+=" null";else try{for(var u in t){var c=u+"               ";c=c.substring(0,25);try{if(isNaN(u)){if(r.exclude&&r.exclude.indexOf(u)>-1)continue;if(r.include&&-1==r.include.indexOf(u))continue}if(!r.includeFunction&&"function"==typeof t[u])continue;if("object"==typeof t[u]&&null!=t[u]){if(!r.includeFunction&&0==(u+"").indexOf("on"))continue;if(!r.includeFunction&&void 0!==t[u].innerHTML){n+=i+c+": [DOM Obejct]\n";continue}if(t[u].documentElement||t[u].ownerDocument){n+=i+c+": [XML Obejct]\n"+i+WebSquare.xml.serialize(t[u])+"\n";continue}n+=i+c+":\n"+l.getObjectStr(e+1,t[u],r)+"\n"}else n+=i+c+": "+t[u]+"\n"}catch(e){o.Y.printStackTrace(e)}}}catch(e){n+=s.B.getMessage("E_logger_InnerBlindObject")}return n}catch(e){o.Y.printStackTrace(e)}},l.showObject=function(e,t){if(WebSquare.logEnableFlag){var r=new Object,i="";try{if(WebSquare.xml.isDocument(e))try{i+=WebSquare.xml.indent(e)}catch(e){i+=s.B.getMessage("E_logger_InnerBlindObject")}else if("string"==typeof e)i=e;else if("object"==typeof e)if(null==e)i+=" null";else try{for(var a in e){var n=a+"               ";if(n=n.substring(0,15),null==e[a])i+=n+":  null\n";else if(WebSquare.xml.isDocument(e[a]))i+=n+":  \n"+WebSquare.xml.indent(e[a]);else if("object"==typeof e[a])try{i+=n+":  "+l._showObject(e[a],1)}catch(e){i+=n+":  [object]\n"}else try{"function"==typeof e[a]?i+=n+":  "+o.Y.getSignature(e[a])+"\n":i+=n+":  "+e[a]+"\n"}catch(e){i+=n+":  \n"}}}catch(e){i+=s.B.getMessage("E_logger_InnerBlindObject")}}catch(e){o.Y.printStackTrace(e)}null==t||""==t?r.Object=i:r[t]=i,l.showDebugMsg(r,"text",s.B.getMessage("E_logger_ObjectInfo"))}},l._showObject=function(e,t){if(WebSquare.logEnableFlag){for(var r="\n",i="",a="",n=0;n<t;n++)i+="\t";try{if(WebSquare.xml.isDocument(e))try{r+=i+a+":  \n"+WebSquare.xml.indent(e)}catch(e){r+=s.B.getMessage("E_logger_InnerBlindObject")}else if("object"==typeof e)if(null==e)r+=" null";else for(var u in e)if(a=(a=u+"               ").substring(0,15),
null==e[u])r+=a+":  null\n";else if(WebSquare.xml.isDocument(e[u]))r+=i+a+":  \n"+WebSquare.xml.indent(e[u]);else if("object"==typeof e[u])try{r+=i+a+":  \n"+l._showObject(e[u],t++)}catch(e){r+=i+a+":  [object]\n"}else try{"function"==typeof e[u]?r+=i+a+":  "+o.Y.getSignature(e[u])+"\n":r+=i+a+":  "+e[u]+"\n"}catch(e){r+=i+a+":  \n"}}catch(e){r+=s.B.getMessage("E_logger_InnerBlindObject")}return r+="\n"}},l.getFunctionName=function(e){if(null==e||"null"==e)return"";try{var t=e.toString();if(-1==t.indexOf("anonymous")){var r=t.indexOf("function"),i=t.indexOf("(");return t.substring(r+8,i).wq_trim()}}catch(t){return e}return""},a.Q.browserCheck.android||a.Q.browserCheck.iphone||a.Q.browserCheck.ipad||a.Q.browserCheck.ipod||a.Q.browserCheck.blackberry?(l.getGlobalDebug=function(){return!1},l.getEventDebug=function(){return!1}):(a.Q.browserCheck.moz||a.Q.browserCheck.chrome||a.Q.browserCheck.ieAllVersion||a.Q.browserCheck.opera||a.Q.browserCheck.safari)&&(l.showContextMenu=function(e){if(WebSquare.logEnableFlag&&!1!==WebSquare.logEnableContextMenu){e=e||event;var t="block"==n.I.getConfiguration("debugMenu")||"blockAll"==n.I.getConfiguration("debugMenu");if(n.I.browserCheck.moz||n.I.browserCheck.chrome){if(!e.ctrlKey||3!=e.which||t&&!WebSquare.logEnableContextMenu)return!0}else if(n.I.browserCheck.ieAllVersion){if(!e.ctrlKey&&!e.crtlLeft||t&&!WebSquare.logEnableContextMenu)return!0}else if(n.I.browserCheck.opera){if(!(e.ctrlKey&&e.shiftKey&&(!t||WebSquare.logEnableContextMenu)||e.ctrlKey&&e.button==2(!t||WebSquare.logEnableContextMenu)))return!0}else if(n.I.browserCheck.safari&&(!e.ctrlKey||2!=e.button||t&&!WebSquare.logEnableContextMenu))return!0;var r=window.innerWidth-e.clientX,i=window.innerHeight-e.clientY,a=document.getElementById("_contextMenuLayer");void 0!==a&&null!=a||(a=document.createElement("div"),document.body.insertBefore(a,null),a.id="_contextMenuLayer",a.style.position="absolute"),a.style.left=r<182?(window.pageXOffset||document.documentElement.scrollLeft)+e.clientX-182+"px":(window.pageXOffset||document.documentElement.scrollLeft)+e.clientX+"px",a.style.top=i<176?(window.pageYOffset||document.documentElement.scrollTop)+e.clientY-176+"px":(window.pageYOffset||document.documentElement.scrollTop)+e.clientY+"px";var o=JSON.stringify({x:WebSquare.event.getClientX(e),y:WebSquare.event.getClientY(e)});a.style.zIndex="20000",a.style.visibility="visible",a.style.display="";var u="";u+="<div onselectstart='return false' style='position:relative; overflow-x:hidden; overflow-y: auto; width:175px;height:250px; border:4px solid #e7e7e7; '>",u+="<table width='175' border='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>",u+=l.contextMenuAddRow("WebSquare.logger.showLog",s.B.getMessage("E_logger_ContextmenuSeeLog"),o),u+=l.contextMenuAddRow1("WebSquare.util.getAddress",s.B.getMessage("E_logger_ContextmenuSeeAddress"),o),u+=l.contextMenuAddRow("WebSquare.util.getRQ",s.B.getMessage("E_logger_ContextmenuSeeQR"),o),u+=l.contextMenuAddRow1("WebSquare.util.viewSource",s.B.getMessage("E_logger_ContextmenuSeeSource"),o),u+=l.contextMenuAddRow("WebSquare.util.viewCollection",s.B.getMessage("E_logger_ContextmenuSeeCollection"),o),u+=l.contextMenuAddRow("WebSquare.util.viewSubmission",s.B.getMessage("E_logger_ContextmenuSeeSubmission"),o);n.I.getConfiguration("/WebSquare/debug/@fiddle");l.globalDebug1?u+=l.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1",s.B.getMessage("E_logger_ContextmenuStopDebugOnScreen"),o):u+=l.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1",s.B.getMessage("E_logger_ContextmenuStartDebugOnScreen"),o),WebSquare.logger.eventDebug?u+=WebSquare.logger.contextMenuAddRow("WebSquare.logger.setEventDebug()",WebSquare.language.getMessage("E_logger_ContextmenuStopEventDebug"),o):u+=WebSquare.logger.contextMenuAddRow("WebSquare.logger.setEventDebug()",WebSquare.language.getMessage("E_logger_ContextmenuStartEventDebug"),o),
u+=l.contextMenuAddRow1("WebSquare.logger.print",s.B.getMessage("E_logger_ContextmenuPrint"),o),u+=l.contextMenuAddRow("WebSquare.util.reinitializeTop",s.B.getMessage("E_logger_ContextmenuPageReload"),o),u+=l.contextMenuAddRow("WebSquare.util.reinitializeWframe",s.B.getMessage("E_logger_ContextmenuPageReloadWframe"),o,"[false, "+o+"]"),u+=l.contextMenuAddRow1("parent.WebSquare.logger.getFileVersion",s.B.getMessage("E_logger_ContectmenuFileInfo"),o),u+=l.contextMenuAddRow("WebSquare.logger.getVersion",s.B.getMessage("E_logger_ContextmenuVersion"),o),u+="</table></div>",n.I._safeInnerHTML(a,u);for(var c=a.getElementsByTagName("td"),d=0;d<c.length;d++)c[d].getAttribute("data-onclick")&&WebSquare.event.addListener(c[d],"onclick",(function(){var e=this.getAttribute("data-onclick");e=e.replace(/[\(][\s]*[\)]/g,"");var t=this.getAttribute("data-point");l.hideContextMenu(t);var r=this.getAttribute("data-param"),i=[];r?i=JSON.parse(r):i.push(t);var a=WebSquare.util.getGlobalFunction(e);"function"==typeof a&&a.apply(a,i)}));return!1}},l.setGlobalDebug1=function(){WebSquare.logEnableFlag&&(l.globalDebug1=!l.globalDebug1,l.hideContextMenu())},l.setGlobalDebug2=function(){if(WebSquare.logEnableFlag){if(l.getGlobalDebug())WebSquare.cookie.setCookie("globalDebug","false");else"debug"==prompt(s.B.getMessage("E_logger_EnterPassword"),"")?WebSquare.cookie.setCookie("globalDebug","true"):(WebSquare.cookie.setCookie("globalDebug","false"),alert(s.B.getMessage("E_logger_IncorrectPassword")));l.hideContextMenu()}},l.getGlobalDebug=function(){try{if(!WebSquare.logEnableFlag)return;var e=parseInt(WebSquare.cookie.getCookie("lastAccess"),10);isNaN(e)&&(e=(new Date).getTime());var t=(new Date).getTime();return t-e<12e5?(WebSquare.cookie.setCookieAsync("lastAccess",t+""),"true"==WebSquare.cookie.getCookie("globalDebug")):(WebSquare.cookie.setCookie("globalDebug","false"),!1)}catch(e){o.Y.printStackTrace(e)}return!1},l.getEventDebug=function(){try{if(!WebSquare.logEnableFlag)return;return"true"==WebSquare.cookie.getCookie("eventDebug")}catch(e){o.Y.printStackTrace(e)}return!1},l.setEventDebug=function(){WebSquare.logEnableFlag&&(l.eventDebug=!l.eventDebug,WebSquare.cookie.setCookie("eventDebug",l.eventDebug),l.hideContextMenu())},l.getVersion=function(){WebSquare.logEnableFlag&&alert("WebSquare AI v6.0\nWebSquare AI Engine v6.0.0\n"+WebSquare.text.BASE64Decode(WebSquare.ver)+"\n\n  Copyright ⓒ 2006  INSWAVE Systems, Inc All Rights Reserved.\n")},l.getVersionString=function(){return WebSquare.text.BASE64Decode(WebSquare.ver)},l.getFileVersion=function(){WebSquare.logEnableFlag&&alert("FileName : "+i.q.w2xPath+"\nBuildDate : "+WebSquare.buildDate)},l.getFileVersionString=function(){return i.q.buildDate},l.contextMenuAddRow=function(e,t,r,i,a){if(WebSquare.logEnableFlag){var n="font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer; ";!0===a&&(n+="border-top:1px dotted #9fbcd4; ");var o='<tr><td onmouseover=\'this.style.backgroundColor="b8d5f2";this.style.color="003a89";\' onmouseout=\'this.style.backgroundColor="#FFFFFF";this.style.color="222222";\' ';o+="style='"+n+"'";var s="";return i&&(s=" data-param='"+i+"'"),o+=" data-point='"+r+"' data-onclick='"+e+"'"+s+">"+t+"</td></tr>"}},l.contextMenuAddRow1=function(e,t,r,i){return l.contextMenuAddRow(e,t,r,i,!0)},l.hideContextMenu=function(e){if(WebSquare.logEnableFlag&&(WebSquare&&n.I&&n.I.browserCheck))if(n.I.browserCheck.moz||n.I.browserCheck.chrome||n.I.browserCheck.ieAllVersion)void 0!==(t=document.getElementById("_contextMenuLayer"))&&null!=t&&(t.style.visibility="hidden",t.style.display="none");else if(n.I.browserCheck.opera||n.I.browserCheck.safari){var t;if(!e.ctrlKey)void 0!==(t=document.getElementById("_contextMenuLayer"))&&null!=t&&(t.style.visibility="hidden",t.style.display="none")}}),l.dumpCSS=function(){
if(WebSquare.logEnableFlag&&n.I.browserCheck.ie)for(var e=document.styleSheets,t=0;t<e.length;t++){var r=e[t];alert(r.href+"/n"+r.cssText)}},l.enableLog=function(){i.q.logEnableFlag=!0},l.disableLog=function(){l.clearLog(),i.q.logEnableFlag=!1},l.enableContextMenu=function(){"blockAll"!=n.I.getConfiguration("debugMenu")&&(i.q.logEnableContextMenu=!0)},l.disableContextMenu=function(){"function"==typeof l.hideContextMenu&&l.hideContextMenu(),i.q.logEnableContextMenu=!1},l.debug=!1,l.debugKey="";var u={getScope:function(e){try{for(var t="string"==typeof e?document.getElementById(e):e,r=window;null!=t&&t!=document.body;){var i=WebSquare.idToUUID[t.getAttribute("id")];if(null!=i){var a=WebSquare.idCache[i];a&&a.scope_obj&&(r=a.scope_obj.scope);break}t=t.parentNode}return r}catch(e){o.Y.printStackTrace(e,null,this)}},getFrame:function(e){try{return WebSquare.debug.getScope(e).scwin.$w.getFrame().id}catch(e){o.Y.printStackTrace(e,null,this)}}}}},400:(e,t,r)=>{r.d(t,{E:()=>u,Q:()=>l});var i=r(582),a=r(2710),n=r(2536),o=r(1263),s=r(9107),l={checkMaxLength:function(e,t){if(void 0!==e&&void 0!==e.maxLength&&e.maxLength>-1&&t.length>e.maxLength){var r=t.length-e.maxLength;t=t.substring(r)}return t},checkAllowChar:function(e,t){var r=e,i="";if(void 0!==t&&null!=t&&""!=t){for(var a=new RegExp("["+t+"]"),n=0;n<r.length;n++){var o=r.charAt(n);null!=o.match(a)&&(i+=o)}return i}return r},checkIgnoreChar:function(e,t){var r=e,i="";if(void 0!==t&&null!=t&&""!=t){for(var a=new RegExp("["+t+"]"),n=0;n<r.length;n++){var o=r.charAt(n);null!=o.match(a)||(i+=o)}return i}return r},getSelection:function(e){var t={start:0,end:0};try{if("selectionStart"in e)t.start=e.selectionStart,t.end=e.selectionEnd;else{var r=document.selection.createRange().getBookmark(),i=e.createTextRange();i.moveToBookmark(r);var n=e.createTextRange();n.collapse(!0),n.setEndPoint("EndToStart",i);var o=n.text.length,s=i.text.length;t.start=o,t.end=o+s}}catch(e){a.Y.printStackTrace(e)}return t},setSelection:function(e,t){try{if(e.setSelectionRange)e.focus(),e.setSelectionRange(t.start,t.end);else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",t.end),r.moveStart("character",t.start),r.select()}}catch(t){a.Y.printStackTrace(t,null,this),null!=e&&null!=e.focus&&e.focus()}},getCaretPos:function(e){var t=0;try{if(o.Z.isIE())for(var r=document.selection.createRange().duplicate(),i=e.createTextRange();r.compareEndPoints("StartToStart",i)>0;)r.moveStart("character",-1),t++;else t=e.selectionStart}catch(e){a.Y.printStackTrace(e)}return t},setCaretPos:function(e,t){try{if(o.Z.isIE()){var r=e.createTextRange();r.move("character",t),r.select()}else e.selectionStart=t,e.selectionEnd=t}catch(e){a.Y.printStackTrace(e)}},checkString:function(e,t){var r=e.render.value;if(n.I.browserCheck.moz){if(0==t.charCode)return;if(-1!=e.maxLength&&r.length>=e.maxLength){if(e.render.selectionStart!=e.render.selectionEnd)return;return void t.preventDefault()}}var i=t.charCode?t.charCode:t.keyCode;if(!(1==t.ctrlKey&&86==i||1==t.ctrlKey&&118==i)){var a=String.fromCharCode(i);if(void 0!==e.ignoreChar&&null!=e.ignoreChar&&""!=e.ignoreChar){var o=new RegExp("["+e.ignoreChar+"]");if(null!=a.match(o))return n.I.browserCheck.ie?void(t.returnValue=!1):void t.preventDefault()}if(void 0!==e.allowChar&&null!=e.allowChar&&""!=e.allowChar){o=new RegExp("["+e.allowChar+"]");if(null==a.match(o))return n.I.browserCheck.ie?void(t.returnValue=!1):void t.preventDefault()}if(""!=e.characterCase&&"upper"==e.characterCase&&t.keyCode>=97&&t.keyCode<=122&&(t.keyCode-=32),""!=e.characterCase&&"lower"==e.characterCase&&s.f.keyCode>=65&&s.f.keyCode<=90&&(s.f.keyCode+=32),"number"==e.valueType){if(0!=e.getCaretPos()&&(45==s.f.keyCode||43==s.f.keyCode))return n.I.browserCheck.ie?void(t.returnValue=!1):void t.preventDefault();if(("+"==r.charAt(0)||"-"==r.charAt(0))&&0==e.getCaretPos())return n.I.browserCheck.ie?void(t.returnValue=!1):void t.preventDefault()
;if(r.indexOf(".")>-1&&46==t.keyCode)return n.I.browserCheck.ie?void(t.returnValue=!1):void t.preventDefault()}}},validateValue:function(e,t){return"true"==t.mandatory&&""==e.wq_trim()?(t.isValid="false","true"==t.displayMessage&&(t.inValidMessage=t.id+" has to be filled "),!1):-1!=t.minLength&&e.length<t.minLength?(t.isValid="false","true"==t.displayMessage&&(t.inValidMessage=t.id+" has to be same or more than "+t.minLength),!1):!(-1!=t.maxLength&&e.length>t.maxLength)||(t.isValid="false","true"==t.displayMessage&&(t.inValidMessage=t.id+" has to be same or less than "+t.maxLength),!1)},validateEffect:function(e,t){""!=t.invalid_background_color&&(t.render.style.backgroundColor=t.invalid_background_color),""!=t.invalid_color&&(t.render.style.color=t.invalid_color)},getPosition:function(e){var t=e.indexOf("."),r=0;if(t>-1){for(var i=e.substring(t),a=0;a<i.length;a++){"#"!=(o=i.charAt(a))&&"0"!=o||r++}r-=2*r}else for(var n=0;n<e.length;n++){var o;"0"==(o=e.charAt(n))&&r++}return r},checkComma:function(e){return-1!=e.indexOf(",")},formatCurrency:function(e,t,r,i,a,n){if(""==(e+="").wq_trim())return"";if(void 0===t||null==t||""==t)return parseFloat(e)+"";a||(a=","),n||(n=".");var o=new RegExp("\\[("+n+"*)\\]","g"),s=new RegExp("["+n+"]+[#0]+"),l=new RegExp("["+a+"]+[#0]+"),u=new RegExp("["+n+"][0-9]*"),c=t.match(o),d=(t=t.replace(o,"")).match(s),p=(d=null!=d?d.join(""):n).length-1,h=(t=t.replace(s,"")).match(l),f=(h=null!=h?h.join(""):a).length-1;t=t.replace(l,"");var g=new WebSquare.numberFormatter(e,a,n);if(i){null==c&&(c="[floor]");var m=e.match(u);if(d=n,m&&m.toString().length>=2)for(var b=m.toString().length,y=0;y<b-1;y++)d+="0"}g.setPrecision(p,c),g.cutZeroDecimal(d);var S=g.getValueWithDelimiter(a,f,i);i&&e.slice(-1)==n&&(S+=n),!i||"-"!==e&&"+"!==e||(S=e);var v=t.substr(0,t.indexOf("#")),w=t.substr((t.lastIndexOf("#")>t.lastIndexOf("0")?t.lastIndexOf("#"):t.lastIndexOf("0"))+1,t.length-1-t.lastIndexOf("#"));return v&&(S=v+S),w&&(S+=w),S},formatFloat:function(e,t,r,i,a,n){if(""==(e+="").wq_trim())return"";if(void 0===t||null==t||""==t)return e+"";a||(a=","),n||(n=".");var o=new RegExp("\\[("+n+"*)\\]","g"),s=new RegExp("["+n+"]+[#0]+"),l=new RegExp("["+a+"]+[#0]+"),u=new RegExp("["+n+"][0-9]*"),c=t.match(o),d=(t=t.replace(o,"")).match(s),p=(d=null!=d?d.join(""):n).length-1,h=(t=t.replace(s,"")).match(l),f=(h=null!=h?h.join(""):a).length-1;t=t.replace(l,"");var g=new WebSquare.numberFormatter(e,a,n);if(i){null==c&&(c="[floor]");var m=e.match(u);if(d=n,m&&m.toString().length>=2)for(var b=m.toString().length,y=0;y<b-1;y++)d+="0"}g.setPrecision(p,c),g.cutZeroDecimal(d);var S=g.getValueWithDelimiter(a,f,i);i&&e.slice(-1)==n&&(S+=n),!i||"-"!==e&&"+"!==e||(S=e);var v=t.substr(0,t.indexOf("#")),w=t.substr(t.lastIndexOf("#")+1,t.length-1-t.lastIndexOf("#"));return v&&(S=v+S),w&&(S+=w),S},formatEuroCurrency:function(e,t,r,i,a,n){if(""==(e+="").wq_trim())return"";if(void 0===t||null==t||""==t)return parseFloat(e)+"";a||(a="."),n||(n=",");var o=new RegExp("\\[("+a+"*)\\]","g"),s=new RegExp("["+n+"]+[#0]+"),l=new RegExp("["+a+"]+[#0]+"),u=new RegExp("["+n+"][0-9]*"),c=t.match(o),d=(t=t.replace(o,"")).match(s),p=(d=null!=d?d.join(""):n).length-1,h=(t=t.replace(s,"")).match(l),f=(h=null!=h?h.join(""):a).length-1;t=t.replace(l,"");var g=new WebSquare.numberFormatter(e,a,n);if(i){null==c&&(c="[floor]");var m=e.match(u);if(d=n,m&&m.toString().length>=2)for(var b=m.toString().length,y=0;y<b-1;y++)d+="0"}g.setPrecision(p,c),g.cutZeroDecimal(d);var S=g.getValueWithDelimiter(a,f);i&&e.slice(-1)==n&&(S+=n),!i||"-"!==e&&"+"!==e||(S=e);var v=t.substr(0,t.indexOf("#")),w=t.substr(t.lastIndexOf("#")+1,t.length-1-t.lastIndexOf("#"));return v&&(S=v+S),w&&(S+=w),S},formatRupeeCurrency:function(e,t,r,i,a,n){var o=t;if(""==(e+="").wq_trim())return"";if(void 0===t||null==t||""==t)return parseFloat(e)+"";if(a||(a=","),n||(n="."),t.indexOf(";")>-1){for(var s=t.split(";"),l="",u=0;u<s.length;u++){var c=(l=s[u].wq_trim()).match(WebSquare.text.formatRupeeCRe1)
;if(c&&c.length>0){var d=c[0].replace("[","").replace("]","");if(new Function("return Number("+e+")"+d)())break}}if(l)return WebSquare.text.formatRupeeCurrency(e,l.replace(WebSquare.text.formatRupeeCRe1,""),r,i,a,n)}var p=new RegExp("\\[("+n+"*)\\]","g"),h=new RegExp("["+n+"]+[#0]+"),f=new RegExp("["+a+"]+[#0]+"),g=new RegExp("["+n+"][0-9]*"),m=t.match(p),b=(t=t.replace(p,"")).match(h),y=(b=null!=b?b.join(""):n).length-1,S=(t=t.replace(h,"")).substr(0,t.indexOf("#")),v=t.substr(t.lastIndexOf("#")+1,t.length-1-t.lastIndexOf("#")),w=t.match(f);w=null!=w?w.join(""):a,t=t.replace(f,"");var C=new WebSquare.numberFormatter(e,a,n);if(i){null==m&&(m="[floor]");var q=e.match(g);if(b=n,q&&q.toString().length>=2){var W=q.toString().length;for(u=0;u<W-1;u++)b+="0"}}C.setPrecision(y,m),C.cutZeroDecimal(b);var _=C.getFormattedValue(o);return i&&e.slice(-1)==n&&(_+=n),!i||"-"!==e&&"+"!==e||(_=e),S&&(_=S+_),v&&(_+=v),_},formatTengeCurrency:function(e,t,r,i,a,n){if(""==(e+="").wq_trim())return"";if(void 0===t||null==t||""==t)return parseFloat(e)+"";a||(a=" "),n||(n=",");var o="";e.length>1&&("+"==e.charAt(0)||"-"==e.charAt(0))&&(o=e.charAt(0),e=e.substr(1));var s=new RegExp("\\[(.*)\\]","g"),l=new RegExp("["+n+"]+[#0]+"),u=new RegExp("["+a+"]+[#0]+"),c=new RegExp("["+n+"][0-9]*"),d=t.match(s),p=(t=t.replace(s,"")).match(l),h=(p=null!=p?p.join(""):n).length-1,f=(t=t.replace(l,"")).match(u),g=(f=null!=f?f.join(""):a).length-1;t=t.replace(u,"");var m=new WebSquare.numberFormatter(e,a,n);if(i){null==d&&(d="[floor]");var b=e.match(c);if(p=n,b&&b.toString().length>=2)for(var y=b.toString().length,S=0;S<y-1;S++)p+="0"}m.setPrecision(h,d),m.cutZeroDecimal(p);var v=m.getValueWithDelimiter(a,g);i&&e.slice(-1)==n&&(v+=n),!i||"-"!==e&&"+"!==e||(v=e);var w=t.substr(0,t.indexOf("#")),C=t.substr(t.lastIndexOf("#")+1,t.length-1-t.lastIndexOf("#"));return w&&(v=w+v),C&&(v+=C),o+v},formatDate:function(e,t,r,i){if(void 0!==r&&null!=r&&""!=r||(r="yyyyMMdd"),!i&&e.length!==r.length)return e;void 0!==t&&null!=t&&""!=t||(t="yyyy/MM/dd");for(var a=0;a<e.length&&a<r.length;a++){var n=r.charAt(a),o=e.charAt(a);"yMdHmS".indexOf(n)>=0&&(t=t.replace(n,o))}if(t.indexOf("E")>=0){var s=WebSquare.date._parseDate(e,r);if(WebSquare.date._getDay(s.slice(0,3).join(""),!1)>=0){var l=new Date(s[0],s[1]-1,s[2],s[3],s[4],s[5]);t=WebSquare.date.getFormattedDate(l,t)}else t=t.wq_replaceAll("E","")}return i&&(t=(t=t.replace(/(\{|\}|\[|\]|\/|\?|\.|\,|\;|\:|\)|\*|\~|\`|\!|\^|\-|\_|\+|\<|\>|\@|\#|\$|\%|\&|\\|\=|\(|\'|\"|\s)(y|M|d|H|m|S)/g,"")).replace(/(y|M|d|H|m|S)/g,"")),t},formatTime:function(e,t,r){if(void 0!==r&&null!=r&&""!=r||(r="HHmmss"),void 0!==t&&null!=t&&""!=t||(t="HH:mm"),""==e)return"";for(var i=0;i<e.length&&i<r.length;i++){var a=r.charAt(i),n=e.charAt(i);"Hms".indexOf(a)>=0&&(t=t.replace(a,n))}return t=t.replace(/H|m|s/g,"0")},formatTextMask:function(e,t,r){if(void 0===t||null==t||""==t)return e;if(void 0===e||null==e||""==e)return"";if(r)var i=new RegExp("[^"+r+"]","g"),a=e.replace(i,"");else a=e.replace(/\D/g,"");if(void 0===a||null==a||""==a)return"";for(var n=t,o=0,s=0;s<n.length;s++)if("#"==n[s]&&(n=s>0?n.substr(0,s)+a[0]+n.substr(s+1):a[0]+n.substr(s+1),a.length>0&&(a=a.substr(1)),0==a.length)){o=s+1;break}return o==n.length-1&&"#"!==n[o]?n=n.substr(0,o+1):0!==o&&(n=n.substr(0,o)),n},formatReverseTextMask:function(e,t,r){if(void 0===t||null==t||""==t)return e;if(void 0===e||null==e||""==e)return"";for(var i=0;i<t.length;i++)"#"==t[i]&&1;if(r)var a=new RegExp("[^"+r+"]","g"),n=e.replace(a,"");else n=e.replace(/\D/g,"");if(void 0===n||null==n||""==n)return"";var o=t,s=0;for(i=o.length-1;i>=0;i--)if("#"==o[i]&&(o=i>0?o.substr(0,i)+n[n.length-1]+o.substr(i+1):n[n.length-1]+o.substr(i+1),0==(n=n.substr(0,n.length-1)).length)){s=i;break}return 1==s&&"#"!==o[0]?o=o.substr(0):0!==s&&(o=o.substr(s)),o},formatNumberMask:function(e,t,r){if(void 0===t||null==t||""==t)return e;if(void 0===e||null==e||""==e)return"";var i=e.replace(/\D/g,"")
;if("-"!==e&&(void 0===i||null==i||""==i))return"";for(var a=i.length-1;a>=0&&"0"==i[a];a--);if(i=i.substr(0,a+1),/^[0\D]+$/g.test(e)&&"0"==t[0]){var n=0;"-"==e[0]&&(n=1);for(a=n;a<e.length&&("0"==e[a]&&"0"==t[a]);a++);i=1==n?e.substr(1,a-1):e.substr(0,a)}if("-"!==e&&(void 0===i||null==i||""==i))return"";var o=t;if("-"==e[0]&&1==e.length)o=e[0];else{var s=0;for(a=0;a<o.length;a++)if(("#"==o[a]||"0"==o[a])&&(o=a>0?o.substr(0,a)+i[0]+o.substr(a+1):i[0]+o.substr(a+1),i.length>0&&(i=i.substr(1)),0==i.length)){s=a+1;break}for(;s<o.length;){if("#"==o[s]){for(s-=1;!/\d/g.test(o[s]);)s-=1;o=o.substr(0,s+1);break}s+=1}}return"-"==e[0]&&1!=e.length?e[0]+o:o},formatReverseNumberMask:function(e,t){if(void 0===t||null==t||""==t)return e;if(void 0===e||null==e||""==e)return"";for(var r=0,i=0;i<t.length;i++)"#"==t[i]&&(r+=1),"0"==t[i]&&(r+=1);var a=e.replace(/\D/g,"");if("-"!==e&&(void 0===a||null==a||""==a))return"";for(i=0;i<a.length&&"0"==a[i];i++);if(a=a.substr(i),/^[0\D]+$/g.test(e)&&(a="0"),a.length>r&&(a=a.substr(0,a.length-1)),"-"!==e&&(void 0===a||null==a||""==a))return"";var n=t;if("-"==e[0]&&1==e.length)n=e[0];else{var o=0;for(i=n.length-1;i>=0;i--)if(("#"==n[i]||"0"==n[i])&&(n=i>0?n.substr(0,i)+a[a.length-1]+n.substr(i+1):a[a.length-1]+n.substr(i+1),0==(a=a.substr(0,a.length-1)).length)){o=i-1;break}for(;o>=0;){if("#"==n[o]){for(;!/\d/g.test(n[o]);)o+=1;n=n.substr(o);break}o-=1}}return"-"==e[0]&&1!=e.length?e[0]+n:n},formatText:function(e,t){if(e+="",void 0===t||null==t||""==t)return e;for(var r="",i=e.length-1,a=t.length-1;a>=0&&i>=0;a--){var n=t.charAt(a);"#"!=n?r=n+r:(r=e.charAt(i)+r,i--)}return i>-1&&i<e.length&&(r=e.substring(0,i+1)+r),a>-1&&-1==t.substring(0,a+1).indexOf("#")&&(r=t.substring(0,a+1)+r),r},format:function(e,t,r,i){return"number"==r?WebSquare.text.formatCurrency(e,t):"currency"==r?WebSquare.text.formatEuroCurrency(e,t,i):"date"==r?WebSquare.text.formatDate(e,t,i):"time"==r?WebSquare.text.formatTime(e,t,i):WebSquare.text.formatText(e,t)},getValidString:function(e,t,r,i){return e},unformatCurrency:function(e,t){for(var r="",i=t.length,a=0;a<i;a++){var n=t.charAt(a);","!=n&&("$"==n?-1==e.indexOf("$")&&(r+=n):"\\"==n?-1==e.indexOf("\\")&&(r+=n):"+"==n?-1==e.indexOf("+")&&(r+=n):"-"==n?-1==e.indexOf("-")&&(r+=n):r+=n)}return r},unformatDate:function(e,t){if(void 0!==e&&null!=e&&""!=e||(e="yyyy/MM/dd"),t.length!=e.length)return t;var r="",i=e.indexOf("yyyy"),a=e.indexOf("MM"),n=e.indexOf("dd");return-1!=i&&(r+=t.substr(i,4)),-1!=a&&(r+=t.substr(a,2)),-1!=n&&(r+=t.substr(n,2)),r},unformatDate2:function(e,t,r){if(void 0!==e&&null!=e&&""!=e||(e="yyyy/MM/dd"),t.length!==e.length)return t;void 0!==r&&null!=r&&""!=r||(r=e.replace(/(\{|\}|\[|\]|\/|\?|\.|\,|\;|\:|\)|\*|\~|\`|\!|\^|\-|\_|\+|\<|\>|\@|\#|\$|\%|\&|\\|\=|\(|\'|\"|\s)/g,"")),t=t.replace(/[a-zA-Z]+/g,"");for(var i=0;i<e.length&&i<t.length;i++){var a=e.charAt(i),n=t.charAt(i);"yMdHmS".indexOf(a)>=0&&(r=r.replace(a,n))}return r},unformatTime:function(e,t){if(void 0!==e&&null!=e){if(t.length!=e.length)return t;""==e&&(e="HH:mm:SS");var r="",i=e.indexOf("HH"),a=e.indexOf("mm"),n=e.indexOf("SS");return-1!=i&&(r+=t.substr(i,2)),-1!=a&&(r+=t.substr(a,2)),-1!=n&&(r+=t.substr(n,2)),r}},unformatText:function(e,t){if(void 0===e||null==e||""==e)return t;e=e.substring(e.indexOf(","));for(var r="",i=t.length-1,a=e.length-1;a>=0&&i>=0;a--){var n=e.charAt(a),o=t.charAt(i);("#"==n&&"#"!=o||n!=o)&&(r=o+r),i--}return i>-1&&(r=t.substring(0,i+1)+r),r},unformat:function(e){if(void 0===e.formatArray||void 0===e.formatArray.displayFormat||null==e.formatArray.displayFormat)return e.render.value;if("format"!=e.status)return e.render.value;e.status="unformat";var t=e.render.value,r=e.formatArray.displayFormat,i=e.valueType;return void 0!==i&&null!=i&&"number"==i?WebSquare.text.unformatCurrency(r,t):void 0!==i&&null!=i&&"date"==i?WebSquare.text.unformatDate(r,t):void 0!==i&&null!=i&&"time"==i?WebSquare.text.unformatTime(r,t):WebSquare.text.unformatText(r,t)},dynamicMask:function(e,t,r){try{
var i=0,n=e.replace(/[^a-z^A-Z^0-9]/g,""),o={};for(i=0;i<t.length;i++){var s=t[i],l=s.replace(/[^#^S^X]/g,"").length,u=t[i+1],c=0;if(u){if(c=u.replace(/[^#^S^X]/g,"").length,n.length>c)continue;if(n.length<=c){o=WebSquare.text.maskit(e,u,r);break}}else{if(n.length>l){n=n.substring(0,l),o=WebSquare.text.maskit(n,s,r);break}if(n.length<=l){o=WebSquare.text.maskit(e,s,r);break}}}return o}catch(e){a.Y.printStackTrace(e,null,this)}},whichMask:function(e,t){try{for(var r in t){var i=t[r];if(e.length<=i.length){for(var n=!1,o=0;o<i.length;o++)if(!0===/^[*]/.test(i[o])){n=!0;break}return{key:r,mask:t[r],aster:n}}}return""}catch(e){a.Y.printStackTrace(e,null,this)}},_findValidValue:function(e,t){try{return!(!t||t.escape||!t.pattern.test(e))}catch(e){a.Y.printStackTrace(e,null,this)}},_removeInValidValue:function(e,t,r,i){try{var n="",o=i;function l(i){for(var a=-1,n=0;n<o.print().length;n++)if("sign"===o.findNodeAt(n).marked)0;else if(++a===i)break;var s=e[i],l=t[i];return!!r[l].pattern.test(s)}for(var s=0;s<e.length;s++){if(!0!==l(s)){n="";break}n+=e[s]}return n}catch(u){a.Y.printStackTrace(u,null,this)}},insertValidationLength:function(e,t,r){try{var i=e[t[t.length-1]].length,n=!0;return r.length>i&&(n=!1),n}catch(e){a.Y.printStackTrace(e,null,this)}},insertCharValidationFormat:function(e,t,r,i){try{var n=this.whichMask(t,e),o=!0;return this._removeInValidValue(t,n.mask,r,i)!==t&&(o=!1),o}catch(e){a.Y.printStackTrace(e,null,this)}},maskit:function(e,t,r){try{e=e||"",t=t||"";for(var i=0,n=0,o="",s="",l=0;i<t.length&&n<e.length;){var u=r[p=t[i]],c=e[n];u&&!u.escape?(u.pattern.test(c)&&(o+=c,s+=c,i++),n++):(u&&u.escape&&(p=t[++i]),o+=p,c===p&&n++,i++)}for(var d="";i<t.length;){var p;if(r[p=t[i]])break;l=1,d+=p,i++}return{orgValue:s,value:o+d,position:l}}catch(e){a.Y.printStackTrace(e,null,this)}},maskit2:function(e,t,r,i,n){try{var o=!(!n||void 0===n.notFormattingLastChar||null===n.notFormattingLastChar)&&n.notFormattingLastChar,s=n&&void 0!==n.nowInputCharIndex&&null!==n.nowInputCharIndex?n.nowInputCharIndex:-1;e=e||"";var l=t.key||"",u="",c=0,d=0,p="",h="",f="",g=0,m=0;for(!0!==i.isEmpty()&&i.clear();c<l.length&&d<e.length;){var b="",y=r[w=l[c]],S=e[d];if(y&&!y.escape){if(y.pattern.test(S))"*"===w?(p+=d===s&&!0===o?S:"*",f+="*"):(p+=S,f+=S),b="value",h+=S,u+=S,c++;else if(!0!==this._findValidValue(S,y))return{};i.insertAt(m,S,b),m++,d++}else y&&y.escape&&(w=l[++c]),p+=w,u+=w,i.insertAt(m,w,"sign"),m++,S===w&&d++,c++}for(var v="";c<l.length;){var w;if(r[w=l[c]])break;g=1,i.insertAt(m,w,"sign"),m++,v+=w,c++}return{orgValue:h,orgAsterValue:f,value:p+v,realValue:u+v,position:g}}catch(e){a.Y.printStackTrace(e,null,this)}},deleteMaskChar:function(e,t,r){try{var i=r.selectionStart,n=r.selectionEnd;if(i!=n){if(8==e.keyCode||46==e.keyCode){for(var o=r.value,u=0,c=0,d=i-1;d>=0;d--)0==/^[0-9a-zA-Z]/.test(o.charAt(d))&&u++;var p=(p=o.substring(0,i)+o.substring(n,o.length)).replace(/[^0-9^a-z^A-Z]/g,""),h=l.dynamicMask(p,t._editFormat,t._editTokens);r.value=h.value,t._editValue=h.orgValue;for(d=i-1;d>=0;d--)0==/^[0-9a-zA-Z]/.test(h.value.charAt(d))&&c++;var f=i+(c-u);r===document.activeElement&&r.setSelectionRange(f,f),s.f.stopEvent(e)}}else if(i==n)if(8==e.keyCode){var g=(o=r.value).charAt(i-1),m=(u=0,c=0,1);for(d=i-1;d>=0;d--)0==/^[0-9a-zA-Z]/.test(o.charAt(d))&&u++;if(0==/^[0-9a-zA-Z]/.test(g))for(d=i-1;d>=0&&0==/^[0-9a-zA-Z]/.test(o.charAt(d));d--)m++;p=o.substring(0,i-m)+o.substring(i,o.length),h=l.dynamicMask(p,t._editFormat,t._editTokens);r.value=h.value,t._editValue=h.orgValue;for(d=i-2;d>=0;d--)""!=h.value.charAt(d)&&0==/^[0-9a-zA-Z]/.test(h.value.charAt(d))&&c++;(f=i+(c-u)-1)<0&&(f=0),r===document.activeElement&&r.setSelectionRange(f,f),s.f.stopEvent(e)}else if(46==e.keyCode){for(g=(o=r.value).charAt(i),u=0,c=0,m=1,d=i-1;d>=0;d--)0==/^[0-9a-zA-Z]/.test(o.charAt(d))&&u++;if(0==/^[0-9a-zA-Z]/.test(g))for(d=i;d<o.length&&0==/^[0-9a-zA-Z]/.test(o.charAt(d));d++)m++
;p=(p=o.substring(0,i)+o.substring(i+m,o.length)).replace(/[^0-9^a-z^A-Z]/g,""),h=l.dynamicMask(p,t._editFormat,t._editTokens);r.value=h.value,t._editValue=h.orgValue;for(d=i-1;d>=0;d--)0==/^[0-9a-zA-Z]/.test(h.value.charAt(d))&&c++;f=i+(c-u);r===document.activeElement&&r.setSelectionRange(f,f),s.f.stopEvent(e)}}catch(e){a.Y.printStackTrace(e,null,this)}},deleteMaskChar2:function(e,t,r){try{var i=r.selectionStart,n=r.selectionEnd,o=r.value.length,l=t,u=t.linkedList,c=this,d=i-u.countOneWayTarget(i-1,"sign","left"),p=!0,h=this.whichMask(t.removeSignValue,t.removeSignToken),f=this.maskit2(t.removeSignValue,h,t._editTokens,u);if(!f||""===f.orgValue)return s.f.preventDefault(e),void WebSquare.logger.printLog("Warning : Delete failed.");function C(e,t){var r=c.whichMask(e,l.removeSignToken);return f=c.maskit2(e,r,l._editTokens,u),!0!==WebSquare.util.isEmptyObject(f)&&!1!==t}if(i!=n){if(8==e.keyCode||46==e.keyCode){for(var g=0,m=i;m<n;m++)"sign"===u.findNodeAt(m).marked&&g++;if(n-i===g)return s.f.preventDefault(e),void WebSquare.logger.printLog("Warning : Delete failed.");u.removeRange(i,n-1),u.removeValues("sign")}}else if(i==n)if(8==e.keyCode){if(!(i-1>=0))return;u.removeValues("sign"),null!=u.findNodeAt(d-1)&&d-1>=0&&(u.removeAt(d-1),d--)}else if(46==e.keyCode){if(!(i<o))return;u.removeValues("sign"),null!=u.findNodeAt(d)&&d<u.print().length?u.removeAt(d):p=!1}var b=u.print().join("");if(!1===C(b,p))return s.f.preventDefault(e),WebSquare.logger.printLog("Warning : Delete failed."),u.clear(),void c.maskit2(l.removeSignValue,h,l._editTokens,u);t.removeSignValue=b,r.value=f.value,t._editValue=f.orgValue;var y=-1,S=0,v=0;for(m=0;m<u.print().length;m++)if("value"===u.findNodeAt(m).marked&&d===++S){y=m;break}for(m=y+1;m<u.print().length&&"sign"===u.findNodeAt(m).marked;m++)v++;var w=y+1+v;w<0&&(w=0),r===document.activeElement&&r.setSelectionRange(w,w),s.f.stopEvent(e)}catch(e){a.Y.printStackTrace(e,null,this)}},BASE64Encoder:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Array,i=0;i<64;i++)r[i]=t.charAt(i);var a=new Array;i=0;65279!=e.charCodeAt(0)&&(e=String.fromCharCode(65279)+e);var n=e.length;for(n%3==1&&(e+=String.fromCharCode(0)+String.fromCharCode(0)),n%3==2&&(e+=String.fromCharCode(0));i+2<e.length;)a[a.length]=r[e.charCodeAt(i)>>10],a[a.length]=r[(1008&e.charCodeAt(i))>>4],a[a.length]=r[(15&e.charCodeAt(i))<<2|e.charCodeAt(i+1)>>14],a[a.length]=r[(16128&e.charCodeAt(i+1))>>8],a.length%76==0&&(a[a.length]="\n"),a[a.length]=r[(252&e.charCodeAt(i+1))>>2],a[a.length]=r[(3&e.charCodeAt(i+1))<<4|e.charCodeAt(i+2)>>12],a[a.length]=r[(4032&e.charCodeAt(i+2))>>6],a[a.length]=r[63&e.charCodeAt(i+2)],a.length%76==0&&(a[a.length]="\n"),i+=3;return n%3==1&&(a.pop(),a.pop(),a.pop(),a.pop(),28==n&&a.pop(),a[a.length-1]="="),n%3==2&&(a[a.length-1]=a[a.length-2]="="),a.join("")},BASE64Decoder:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Array,i=0;i<64;i++)r[t.charAt(i)]=i;var a=new Array;i=0;e=(e=e.replace(/\n|\r/g,"")).replace(/=/g,"");for(var n=parseInt(3*e.length/4)/2;i<e.length;)a[a.length]=r[e.charAt(i)]<<10|r[e.charAt(i+1)]<<4|r[e.charAt(i+2)]>>2,a[a.length]=(3&r[e.charAt(i+2)])<<14|r[e.charAt(i+3)]<<8|r[e.charAt(i+4)]<<2|r[e.charAt(i+5)]>>4,a[a.length]=(15&r[e.charAt(i+5)])<<12|r[e.charAt(i+6)]<<6|r[e.charAt(i+7)],i+=8;a=a.slice(1,n);var o="";try{o=String.fromCharCode.apply(document,a)}catch(e){for(i=0;i<a.length;i++)o+=String.fromCharCode(a[i])}return o},BASE64Encode:function(e){try{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",i=0;e=WebSquare.text.UTF8Encode(e);do{var n=e.charCodeAt(i++),o=e.charCodeAt(i++),s=e.charCodeAt(i++),l=(3&(n=n||0))<<4|(o=o||0)>>4&15,u=(15&o)<<2|(s=s||0)>>6&3,c=63&s;o?s||(c=64):u=c=64,r+=t.charAt(n>>2&63)+t.charAt(l)+t.charAt(u)+t.charAt(c)}while(i<e.length);return r}catch(e){a.Y.printStackTrace(e)}},BASE64Decode:function(e){try{
var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",i=0;do{var n=t.indexOf(e.charAt(i++)),o=t.indexOf(e.charAt(i++)),s=t.indexOf(e.charAt(i++)),l=t.indexOf(e.charAt(i++)),u=(63&n)<<2|o>>4&3,c=(15&o)<<4|s>>2&15,d=(3&s)<<6|63&l;r+=String.fromCharCode(u)+(c?String.fromCharCode(c):"")+(d?String.fromCharCode(d):"")}while(i<e.length);return WebSquare.text.UTF8Decode(r)}catch(e){a.Y.printStackTrace(e)}},UTF8Encode:function(e){try{e=e.replace(/\r\n/g,"\n");for(var t,r="",i=0;i<e.length;i++)(t=e.charCodeAt(i))<128?r+=String.fromCharCode(t):t>127&&t<2048?(r+=String.fromCharCode(t>>6|192),r+=String.fromCharCode(63&t|128)):(r+=String.fromCharCode(t>>12|224),r+=String.fromCharCode(t>>6&63|128),r+=String.fromCharCode(63&t|128));return r}catch(e){a.Y.printStackTrace(e)}},UTF8Decode:function(e){try{for(var t="",r=0,i=0;r<e.length;)(i=e.charCodeAt(r))<128?(t+=String.fromCharCode(i),r++):i>191&&i<224?(t+=String.fromCharCode((31&i)<<6|63&e.charCodeAt(r+1)),r+=2):(t+=String.fromCharCode((15&i)<<12|(63&e.charCodeAt(r+1))<<6|63&e.charCodeAt(r+2)),r+=3);return t}catch(e){a.Y.printStackTrace(e)}},BASE64URLEncoder:function(e){return escape(WebSquare.text.BASE64Encoder(e))},BASE64URLDecoder:function(e){return WebSquare.text.BASE64Decoder(unescape(e))},fillZero:function(e,t){var r,i=e+"";if(isNaN(i))return e;if(i.length>=t)return i;for(r=t-i.length;r>0;)switch(r){case 1:r=0,i="0"+i;break;case 2:r=0,i="00"+i;break;case 3:r=0,i="000"+i;break;case 4:r=0,i="0000"+i;break;case 5:r=0,i="00000"+i;break;case 6:r=0,i="000000"+i;break;case 7:r=0,i="0000000"+i;break;case 8:r=0,i="00000000"+i;break;case 9:r=0,i="000000000"+i;break;case 10:r=0,i="0000000000"+i;break;case 11:r=0,i="00000000000"+i;break;case 12:r=0,i="000000000000"+i;break;case 13:r=0,i="0000000000000"+i;break;case 14:r=0,i="00000000000000"+i;break;case 15:r=0,i="000000000000000"+i;break;default:r-=15,i="000000000000000"+i}return i},isKorean:function(e){if(null!=e&&e.length>0){for(var t=0,r=0;r<e.length;r++)t|=WebSquare.text.getLocale(e.charAt(r));if(!(-4&t))return!0}return!1},getLocale:function(e){var t=0;if(e.length>0){var r=e.charCodeAt(0);t=r>=44032&&r<=55203?1:r>=4352&&r<=4601||r>=12593&&r<=12686?2:r>=48&&r<=57?4:r>=32&&r<=47||r>=58&&r<=64||r>=91&&r<=96||r>=123&&r<=126?8:r>=65&&r<=90?16:r>=97&&r<=122?32:48}return t},URLEncoder:function(e){if("number"==typeof e)return e;var t="";if(null==e||0==e.length)return t;for(var r=0;r<e.length;r++){var i="";if(" "==e.charAt(r))t+="+";else if(e.charCodeAt(r)>=48&&e.charCodeAt(r)<=57||e.charCodeAt(r)>=65&&e.charCodeAt(r)<=90||e.charCodeAt(r)>=97&&e.charCodeAt(r)<=122||"@"==e.charAt(r)||"."==e.charAt(r)||"-"==e.charAt(r)||"*"==e.charAt(r)||"_"==e.charAt(r))t+=e.charAt(r);else if(null!=(i=WebSquare.text.getEUCKR(e.charCodeAt(r)))&&i>=42145)t+="%"+(i>>8).toString(16)+"%"+(255&i).toString(16);else if(e.charCodeAt(r)<=126){var a=e.charCodeAt(r).toString(16);1==a.length?t+="%0"+a:t+="%"+a}else t+="%3f"}return t},URLDecoder:function(e){var t="";if(null==e||0==e.length)return t;for(var r=0;r<e.length;r++)if("+"==e.charAt(r))t+=" ";else if("%"!=e.charAt(r))t+=e.charAt(r);else if(r+5<=e.length){var i=e.substring(r+1,r+3);"%"==e.charAt(r+3)&&parseInt(i,16)>160?(i=(i+=e.substring(r+4,r+6)).toUpperCase(),t+=String.fromCharCode(WebSquare.text.getUNICODE(parseInt(i,16))),r+=5):(t+=String.fromCharCode(parseInt(i,16)),r+=2)}else if(r+2<=e.length){i=e.substring(r+1,r+3);t+=String.fromCharCode(parseInt(i,16)),r+=2}else t+=e.charAt(r);return t},getEUCKR:function(e){WebSquare.text.EUCKR||WebSquare.text.setEUCKR(),WebSquare.text.UNICODE||WebSquare.text.setUNICODE();for(var t=16,r=0,i=WebSquare.text.UNICODE.length-1,a=Math.round((r+i)/2);t-- >0;)if(WebSquare.text.UNICODE[a]>e)i=a,a=Math.round((r+i)/2);else{if(!(WebSquare.text.UNICODE[a]<e))return WebSquare.text.EUCKR[a];r=a,a=Math.round((r+i)/2)}return""},getUNICODE:function(e){WebSquare.text.EUCKR||WebSquare.text.setEUCKR(),WebSquare.text.UNICODE||WebSquare.text.setUNICODE()
;for(var t=16,r=0,i=WebSquare.text.EUCKR.length-1,a=Math.round((r+i)/2);t-- >0;)if(WebSquare.text.EUCKR[a]>e)i=a,a=Math.round((r+i)/2);else{if(!(WebSquare.text.EUCKR[a]<e))return WebSquare.text.UNICODE[a];r=a,a=Math.round((r+i)/2)}return 63},isFinalConsonant:function(e){var t=e.charCodeAt(e.length-1);return!(t<44032||t>55197)&&(t-16)%28!=0},arraySort:function(e,t){for(var r=new Array,i=0;i<e.length;i++)r.push(e[i]);return void 0===t?r.sort():r.sort(t)},setEUCKR:function(){for(var e=[42145],t=1;t<94;t++)e[t]=e[t-1]+1;for(e[t]=e[t-1]+2979,t++;t<2444;t++)e[t]=e[t-1]+((t-188)%94==0?163:1);WebSquare.text.EUCKR=e},setUNICODE:function(){for(var e=[12593],t=1;t<94;t++)e[t]=e[t-1]+1;for(e[t]=e[t-1]+31346,t++;t<2444;t++)e[t]=e[t-1]+"#%%###(#######$####%&*#$##)#%&-$)&&6#%%#$(#$###%###&&*#$##)##$%#*#$##&%&&+$+#%%#$$%##$$#(#%&$(#$$)&&+%#)#%&*#$$)&&+$+#%%###'##$$#(#%&.#)5+#%&*#$+&&6#%%##)#$$)>#%%#$(#$$#&$##$&$(#$##&%#%&*#$##)#)R##$&*#$##)#%.%$)&&-#'%>#%$$*#$$##'#).#)#6)&&*#&)>#%&)##$$#(*.#)#%&*#%*&&*#->#%$$$'##$$&A#%&*#$$)##$%###(#$####$$##%&*#$##)#%&*'E#$#&$#'#$##(##%&*#$##)#%&*#%#%&&:#%&$(#$$'##&&.F&&*#$+#%&+$$)#%%#*#$$)6*>&&*#-#)*#&)#%&##(#$$#&$&&6#%&$(#$$'$##$%####&##$####&##%&*#$##)Z##$%#$#'#$$$%$#%&*#$##)&&.#)&:#%%#$$&#$$$$%&&66*&&*#$+>#%&*#$$)6*7)&&+$$)&&*')#%%#$(#$$)>#%%#*#$###(#%&*#$##(##%&*#$##a#%&$#'#$##(##%&*#$##)6F#%&/)*6>&V#%&)#'E>&&*#&E#%%#*#$+&&*#-&&*#$$)#%&*#$###&###%&*#$##)#%1$E#%&*#$##(##%&*#$$)#%&*#$##)&/$+#%&*#$$)&3=*&&*#$$)&&+$$)#%&*#$$)6*>#%&*%$)#%&*#$$)#%&*#$$#%#@#%&*#$$)#%$####(#$$#%$##%&*#$###(#)/E#%&$(#$$#'##%&*#$##)#%&-##$'>#$#&$(#$$)&2#E&&+$$)&&+$+##$%###(#$$&$#&&+$+>&&6&&*%+&&*%G#%%#$(#$##$$%####%####'#$$&%#%&*#$##&%#%/I#%%#$(#$$#(#%%#*#$##)#%&+$##&%&:##$&*#$$)&2*6*#%&*#-&:#%%###(#$$&#$*.*>#%&/)&&*%$)#%&*#$G#%&$(#$$##'#%&$(#$##(##%&*#$##)#1J#%%#*%##)7)#1#$##E#%&*#&a>7)#%&*%$}7)&&*#I#%&*#$$)#$#%###(#$##&%#%&*#$##)#%&*#$$)&&*')####%#$#'#$##'$#%&*#$##)#%&*#$##)&&/)##$&$(#$$&%#%&/)&&*%#*&&*#$+#%&*#$$)#%%#*#$$$$#$6*#%&*')#%&*#$$)#)*%$)#%&#)#$$E#%%#)##$$'$#$#&*#%#(##%&*#%#>E#%&$(#%#)&&V:#%%#$(#&)#%2*6*&&*#->#%&*#&)6*>&O)#%&$'##-&&*.#%&*#$$)#%##$##'##$##&#$#%&*#$##)#%&%'#$$&$#&&+-#%#$###(######$$$#%&*#$$)##$&$#'#####&###&&*#$#*#%&##$%##$$$'#%&*#$##)#%.%$)#%&*#$$)#%&*#$$)#%&##(#$$)#%&*#%#)#%&*#&)#%&*#$$)#%&*#$$$'#%&($#$$#######&&*%+#%&##'##$###&$#%$##$(#$###(#%&*#$##)#%$$*')&&6#%&$(#$$#(#%&*#$$)&&*#%#)>#%&$(#$$##&##)+$$)6#)&&*#$$)#%3)#%&##(#$$)6*>#%&*#$+&&*.#%&*#$$E#%%#$(#$$#%#$#%$$%'#$##)#%&*#$##)&3E#%&*#$##)7)6F#%&*#$$$'#).*6*&&*#B)#%&*#&)6#E>>2%$E#%&*#&#'##%$$*#$###(#%&*#$##)&$$*'E#%&*#$##)#%&*#$$)&2*&3)#%&*#$$)&&/E&&*#$$)2.#%&*#$$)6*&:&&*#$$)&&*')#%&*#$$E#%%##)#$$)#%&*#$$)#%&*#$##)#6E#%%#*#$##)#%&*#$$)&&*#$##)>#%&*#$$)#%&*')7)*6>#%&*#$$)&&/)7)#%&*#$$)&&*.#%&*#&E#%&*#$$)#%&#)#$##)#%&*#$##)7E#%&$(#$##)#%&*#$$)&2*&:#%&*#$$'$&:>&1$)>#%&*#$$)6*>#%&*#&)&&*')#%%#$(#$+&&*#-#%&*#$$)##$&$(#$##&%#%&*#$##)#Y#%&*#$##)#%&*#$$)&&*#%#)*+$+#%&*#$$)7E&:&&+$+#%%#$(#$$)7E&&*%+&&*%$)&&*#$G#%&*#$$)#%&'%#$$)#%&*#$##)7E#%&$(#$$)#%&*#$$)#%&*#$##)&&+-#%&'%#$$&%#%&-$)#%1$)#%&+$$)&&+$+#%&'%%$)&&*')#%&/)#%&*#$$)#%&*%$)#%$###)#$$&%&&*#&)#%&*#$$".substr(t-95,1).charCodeAt(0)-34;WebSquare.text.UNICODE=e},linkedList:function(){try{function e(e,t){return{value:e,next:null,marked:t}}function t(){return{head:null,tail:null,prev:null,isEmpty:function(){return null===this.head},insertAt:function(t,r,i){if(0===t){(a=e(r,i)).next=this.head,this.head=a,this.tail||(this.tail=a)}else{for(var a=e(r,i),n=this.head,o=null,s=0;s<t;)o=n,n=n.next,s++;a.prev=o,a.next=n,o.next=a,n||(this.tail=a)}},findNodeAt:function(e){if(e<0)return null;for(var t=this.head,r=0;t;){if(r===e)return t;t=t.next,r++}return null},removeAt:function(e){var t=this.head,r=null,i=0;if(0===e)this.head=t.next,this.head||(this.tail=null);else{for(;i<e;)r=t,t=t.next,i++;r.next=t.next,t.next||(this.tail=r)}},removeRange:function(e,t){if(!(e<0||e>=this.length||t<0||t>=this.length)){for(var r=this.head,i=null,a=0;a<e;)i=r,r=r.next,a++;for(var n=t-e+1;r&&n>0;){var o=r.next;i?i.next=o:this.head=o,
o||(this.tail=i),r=o,n--,this.length--}}},removeValues:function(e){for(var t=this.head,r=null;t;)e===t.marked?t===this.head?(this.head=t.next,this.head||(this.tail=null)):(r.next=t.next,t.next||(this.tail=r)):r=t,t=t.next},findExcluding:function(e){for(var t=[],r=this.head;r;)r.marked!==e&&t.push(r.value),r=r.next;return t},countOneWayTarget:function(e,t,r){var i=0,a=0,n=this.head;if(e<0)return a;for(;n;)if("left"===r){if(n.marked===t&&a++,i>=e)break;n=n.next,i++}else if("right"===r){if(i<e){n=n.next,i++;continue}n.marked===t&&a++,n=n.next}return a},modifyMarkedAttributeAtIndex:function(e,t){if(!(e<0||e>=this.length))for(var r=this.head,i=0;r;){if(i===e){r.marked=t;break}r=r.next,i++}},print:function(){for(var e=this.head,t=[];e;)t.push(e.value),e=e.next;return t},clear:function(){this.head=null,this.tail=null}}}return t()}catch(r){a.Y.printStackTrace(r,null,this)}}},u=function(e,t,r){this.sign="",this.integer=new Array,this.decimal=new Array,this.delimiter=t||",",this.decimalDelimiter=r||".";var i="",a="",n=e.split(this.decimalDelimiter);1==n.length?(i=n[0],a=""):n.length>1&&(i=n[0],a=n[1]),"+"!=i.charAt(0)&&"-"!=i.charAt(0)||(this.sign=i.charAt(0),i=i.substr(1));var o=i.match(new RegExp("[^0]+[0-9]*"));i=null!=o?o.join(""):"0";for(var s=0;s<i.length;s++)this.integer.push(parseInt(i.charAt(s)));for(s=0;s<a.length;s++)this.decimal.push(parseInt(a.charAt(s)))};u.prototype.getValue=function(){var e="";return e+=this.sign,this.integer.length>0&&(e+=this.integer.join("")),this.decimal.length>0&&(e+=".",e+=this.decimal.join("")),e},u.prototype.setPrecision=function(e,t){null==e&&(e=0),null==t&&(t="[round]");var r=0;"[round]"==t?r=5:"[floor]"==t?r=0:"[ceil]"==t&&(r=9);var i=this.decimal.length;if(e+1>i)for(var a=0;a<e+1-i;a++)this.decimal.push(0);else this.decimal=this.decimal.slice(0,e+1);var n=0;this.decimal[e]+r>9&&(n=1);for(a=e-1;a>=0;a--)this.decimal[a]+=n,this.decimal[a]>9?(n=1,this.decimal[a]-=10):n=0;if(this.decimal.pop(),0!=n)for(a=this.integer.length-1;a>=0;a--)this.integer[a]+=n,this.integer[a]>9?(n=1,this.integer[a]-=10):n=0;if(0!=n){this.integer.push(0);for(a=this.integer.length-1;a>=1;a--)this.integer[a]=this.integer[a-1];this.integer[0]=1}},u.prototype.getValueWithDelimiter=function(e,t,r){var i="";if(null==t||t<=0)return this.getValue();if(i+=this.sign,this.integer.length>0)for(var a=this.integer.length%t,n=0,o=0;o<this.integer.length;o++)(o+1)%t==a&&(i+=this.integer.slice(n,o+1).join(""),o+1<this.integer.length&&(i+=e||this.delimiter),n=o+1);return this.decimal.length>0&&(i+=this.decimalDelimiter,i+=this.decimal.join("")),"-0"!==i||r||(i="0"),i},u.prototype.getFormattedValue=function(e){var t="";if(!e)return this.getValue();t+=this.sign;var r=[];i.q.extend(r,this.integer);for(var a=[],n=(e.indexOf(this.decimalDelimiter)>-1?e.substring(0,e.indexOf(this.decimalDelimiter)):e.substring(0)).split(this.delimiter).reverse(),o=0;o<this.integer.length&&0!=r.length;o++){for(var s=n[o%n.length].length,l=[],u=0;u<s;u++)l.push(r.pop());a.push(l.reverse().join(""))}return t+=a.reverse().join(this.delimiter),this.decimal.length>0&&(t+=this.decimalDelimiter,t+=this.decimal.join("")),t},u.prototype.cutZeroDecimal=function(e){for(var t=e.lastIndexOf("0")-1,r=this.decimal.length-1;r>=0&&0==this.decimal[r]&&r>t;)this.decimal.pop(),r--}},1263:(e,t,r)=>{r.d(t,{Z:()=>p});var i,a,n,o,s=r(582),l=r(8109),u=r(2710),c=r(2536),d=r(2327),p={loadedUserComponent:{},loadedUserComponentPluginName:{},loadedUserComponentURL:{},loadedInheritComponent:{},loadedInheritComponentPluginName:{},loadedInheritComponentURL:{}},h=window.document;p._initImport=function(){p.getTopWindow.getAttribute=WebSquare.session.getAttribute,p.getTopWindow.removeAttribute=WebSquare.session.removeAttribute,p.getTopWindow.removeSession=WebSquare.session.removeSession,p.getTopWindow.setAttribute=WebSquare.session.setAttribute},s.q._initImportList.push("util"),p.isEmptyObject=function(e){try{for(var t in e)if(e.hasOwnProperty(t))return!1
;return JSON.stringify(e)===JSON.stringify({})}catch(e){u.Y.printStackTrace(e,null,this)}},p.documentWrite=function(e,t){if(void 0!==t&&null!=t&&""!=t){var r=h.getElementById(t);c.I._safeInnerHTML(r,e)}else h.write(e)},p.numericSort=function(e,t){return parseInt(e,10)-parseInt(t,10)},p.getNumber=function(e){var t=e+"",r=t.replace(/,/g,"");return null!=r.match(/[^0-9.-]/g)?(d.v.printLog("Not a Number :"+t),NaN):(""==r&&(r="0"),-1==r.indexOf(".")?parseInt(r,10):parseFloat(r))},p.setNumber=function(e){if(null!=e){var t=e+"";if(0!=t.length){var r="",i="",a="";"+"!=t.substring(0,1)&&"-"!=t.substring(0,1)||(r=t.substring(0,1),t=t.substring(1)),t.indexOf(".")>-1&&(a=t.substring(t.indexOf(".")),t=t.substring(0,t.indexOf(".")));for(var n=t.length-3;n>=1;n-=3)i=","+t.substring(n,n+3)+i;return r+(i=t.substring(0,n+3)+i)+a}}},p.parseInt=function(e,t){var r=parseInt(e,10);return void 0!==t&&!isNaN(t)&&isNaN(r)?t:r},p.parseFloat=function(e,t){var r=parseFloat(e);return void 0!==t&&!isNaN(t)&&isNaN(r)?t:r},p.parseArray=function(e){for(var t="[",r=0;r<e.length;r++){var i=e[r];"string"==typeof i&&(i.indexOf('"')>=0&&(i=i.replaceAll('"','\\"')),i='"'+i+'"'),r<e.length-1?t+=i+",":t+=i}return t+="]"},p.getDate=function(e){var t=e+"";if(10==t.length){return t.replace(/[^0-9]/g,"")}return t},p.setDate=function(e,t){var r=e+"";if(t||(t="/"),8==r.length&&/^[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]{1}$/g.test(t))return r.substring(0,4)+t+r.substring(4,6)+t+r.substring(6,8)},p.getTime=function(e){var t=e+"";if(5==t.length||8==t.length){return t.replace(/[^0-9]/g,"")}return t},p.setTime=function(e){var t=e+"";if(4==t.length)return t.substring(0,2)+":"+t.substring(2,4)},p.getAddress=function(e){var t,r=WebSquare.util.getFrameFromPoint(e),i=null;r&&(i=WebSquare.idCache[r]);var a=location.toString();if(null!=i&&i.frameDoc){t=""+i.getURL(i.getSrc())}else t=a,WebSquare.util.isEncodeParameter()&&!WebSquare.net.paramObj.w2xPath&&(WebSquare.util.getEncodeParameterOption("onlyParam")||(t=(t=t.replace(location.search,WebSquare.util.decodeParameter(location.search))).replace(location.hash,WebSquare.util.decodeParameter(location.hash))));prompt(t,t)},p.getRQ=function(e){try{var t,r=p.getFrameFromPoint(e),i=null;r&&(i=s.q.idCache[r]),null!=i&&i.frameDoc?t=i.getURL(i.getSrc(),{msaName:i._getMsaName(),baseURI:!0}):(t=location.toString(),p.isEncodeParameter()&&!WebSquare.net.paramObj.w2xPath&&(p.getEncodeParameterOption("onlyParam")||(t=(t=t.replace(location.search,p.decodeParameter(location.search))).replace(location.hash,p.decodeParameter(location.hash)))));var a=encodeURIComponent(WebSquare.text.BASE64Encode(t)),n="";n=WebSquare.domain?(n="?domain="+WebSquare.text.URLEncoder(WebSquare.domain))+"&qrAddr="+a:"?qrAddr="+a;var o=c.I.getConfiguration("viewSourceURL");o||(o=c.I.getURL(l.Q.inquiresPath("message/QR.html"),{baseURI:!0})),window.open(o+n,"_blank","top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no")}catch(e){u.Y.printStackTrace(e,null,this)}},p.viewSource=function(e){var t=WebSquare.util.getFrameFromPoint(e),r="scope=",i="";WebSquare.domain?(i="?domain="+WebSquare.text.URLEncoder(WebSquare.domain),null!=t&&(i=i+"&"+r+t)):null!=t&&(i="?"+r+t);var a=c.I.getConfiguration("viewSourceURL");a||(a=s.q.baseURI+l.Q.inquiresPath("message/viewSource.html")),window.open(a+i,"_blank","top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no")},p.viewCollection=function(e){var t=WebSquare.util.getFrameFromPoint(e),r="scope=",i="";WebSquare.domain?(i="?domain="+WebSquare.text.URLEncoder(WebSquare.domain),null!=t&&(i=i+"&"+r+t)):null!=t&&(i="?"+r+t);var a=c.I.getConfiguration("viewCollectionURL");a||(a=s.q.baseURI+l.Q.inquiresPath("message/viewCollection.html")),window.open(a+i,"_blank","top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no")},
p.viewInstance=function(){var e="";WebSquare.domain&&(e="?domain="+WebSquare.text.URLEncoder(WebSquare.domain));var t=c.I.getConfiguration("viewInstanceURL");t||(t=s.q.baseURI+l.Q.inquiresPath("message/viewInstance.html")),window.open(t+e,"_blank","top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no")},p.viewFiddle=function(e){var t=WebSquare.util.getFrameFromPoint(e),r="scope=",i="";WebSquare.domain?(i="?domain="+WebSquare.text.URLEncoder(WebSquare.domain),null!=t&&(i=i+"&"+r+t)):null!=t&&(i="?"+r+t);var a=c.I.getConfiguration("fiddleURL");a||(a=s.q.baseURI+l.Q.inquiresPath("fiddle/fiddle.html")),window.open(a+i,"_blank","top=30,height=710,left=50,width=1100,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no")},p.viewSubmission=function(e){try{var t=WebSquare.util.getFrameFromPoint(e),r="scope=",i="";WebSquare.domain?(i="?domain="+WebSquare.text.URLEncoder(WebSquare.domain),null!=t&&(i=i+"&"+r+t)):null!=t&&(i="?"+r+t);var a=c.I.getConfiguration("viewSubmissionURL");a||(a=s.q.baseURI+l.Q.inquiresPath("message/viewSubmission.html")),window.open(a+i,"_blank","top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no")}catch(e){u.Y.printStackTrace(e)}},p.getSource=async function(e,t){var r,i=null;t&&(i=WebSquare.idCache[t]);var a;return a="xml"===(r=null!=i&&i.frameDoc&&i.frameDoc.xmlDocument?i.frameDoc:WebSquare.WebSquaredoc).getType()?null!=r.xmlDocument_org?r.xmlDocument_org:r.xmlDocument:null!=i&&i!==WebSquare.strictModeFrame?await WebSquare.xml.load(i.getMsaSrc()):await WebSquare.xml.load(c.I.getPageURL(WebSquare.w2xPath,{skipUri:!0})),void 0!==e&&"raw"==e?WebSquare.xml.serialize(a):void 0!==e&&"text"==e?WebSquare.xml.indent(a):WebSquare.xml.indent(a,"html")},p.getInstance=function(e){return void 0!==e&&"raw"==e?WebSquare.xml.serialize(WebSquare.ModelUtil.getInstanceByXPath("/").xmlNode.parentNode):void 0!==e&&"text"==e?WebSquare.xml.indent(WebSquare.ModelUtil.getInstanceByXPath("/").xmlNode.parentNode):WebSquare.xml.indent(WebSquare.ModelUtil.getInstanceByXPath("/").xmlNode.parentNode,"html")},p.printRange=function(e){var t="?id="+e;WebSquare.domain&&(t+="&domain="+WebSquare.text.URLEncoder(WebSquare.domain));var r=c.I.getConfiguration("printRangeURL");r||(r=s.q.baseURI+l.Q.inquiresPath("message/printRange.html")),window.open(r+t,"_blank","top=0,height=670,left=0,width=1000,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no")},p.evalProp=function(e,t){return l.Q.evalProp(e,t)},p.setCursor=function(e){h.body.style.cursor=e;var t=h.getElementsByTagName("div");if(null!=t)for(var r=0;r<t.length;r++)"undefined"!=t[r].id&&"none"!=t[r].currentStyle.display&&"hidden"!=t[r].currentStyle.visibility&&(t[r].style.cursor=e)},p.setCursorAsync=function(e){var t="WebSquare.util.setCursor('"+e+"');";window.setTimeout(t,1)},p.toPixel=function(e,t){if(-1!=String(e).indexOf("%")){var r=parseInt(e);return parseInt(r/100*("x"==t?screen.availWidth:screen.availHeight))}return e},p.dbltoHexacode=function(e){e=Math.floor(e);for(var t="0123456789ABCDEF",r=t.substr(15&e,1);e>15;)r=t.substr(15&(e>>=4),1)+r;return r},p.hexacodetoDbl=function(e){return parseInt(e,16)},p.isOdd=function(e){return parseInt(e)%2!=0},p.isInteger=function(e){var t=parseInt(e,10);return!isNaN(t)&&(e==t&&e.toString()==t.toString())},p.isExist=function(e,t){return null!=t[e]},p.isDef=function(e,t){return null==t&&(t=window),null!=t[e]&&void 0!==t[e]},p.getTDIndex=function(e){try{for(;"TABLE"!=e.tagName;){if("TD"==e.tagName){for(var t=e.parentNode.childNodes,r=0;r<t.length;r++)if(t.item(r)==e)return r;break}e=e.parentNode}}catch(e){u.Y.printStackTrace(e)}return-1},p.getTRIndex=function(e){try{for(;"TABLE"!=e.tagName;){if("TR"==e.tagName){for(var t=e.parentNode.childNodes,r=0;r<t.length;r++)if(t.item(r)==e)return r;break}e=e.parentNode}}catch(e){u.Y.printStackTrace(e)}
return-1},p.getSiblingIndex=function(e){try{if(!e)return-1;for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}catch(e){u.Y.printStackTrace(e)}return-1},p.getObjectValue=function(e,t,r){return void 0!==e&&null!=e&&void 0!==e[t]&&""!=e[t]?e[t]:void 0===r?null:r},p.objToXML=function(e){var t=WebSquare.xml.parse("<object/>");for(var r in e)"string"==typeof r&&"string"==typeof e[r]&&WebSquare.xml.setValue(t.documentElement,r,"value",e[r]);return t},p.getBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&"true"==e.toLowerCase()},p.checkUpdate=function(){},p.registContextMenu=function(e,t){var r=e,i=WebSquare.util.makeContextMenuString(t).menuStr;"string"==typeof e&&(r=c.I.getComponentById(e)),"object"==typeof r&&(void 0!==r.render&&null!=r.render&&(r=r.render),c.I.browserCheck.opera?r.onmousedown=function(e){if(e.ctrlKey){WebSquare.util.contextObject=WebSquare.event.getTarget(e);var r=window.innerWidth-WebSquare.event.getClientX(e),a=window.innerHeight-WebSquare.event.getClientY(e),n=h.getElementById("_contextMenuLayer");void 0!==n&&null!=n||(n=h.createElement("div"),h.body.insertBefore(n,null),n.id="_contextMenuLayer",n.style.position="absolute"),n.style.left=r<182?window.pageXOffset+WebSquare.event.getClientX(e)-182:window.pageXOffset+WebSquare.event.getClientX(e),n.style.top=a<176?window.pageYOffset+WebSquare.event.getClientY(e)-176:window.pageYOffset+WebSquare.event.getClientY(e);var o=19*t.size()+9;return t.size()>15&&(o="295px"),n.style.height=o,n.style.overflow="hidden",n.style.zIndex="20000",n.style.visibility="visible",c.I._safeInnerHTML(n,i),!1}return!0}:r.oncontextmenu=function(e){WebSquare.util.contextObject=WebSquare.event.getTarget(e);var t=h.getElementById("_contextMenuLayer"),r=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,n=WebSquare.event.getClientX(e)+r,o=WebSquare.event.getClientY(e)+a;void 0!==t&&null!=t||((t=h.createElement("div")).id="_contextMenuLayer",t.style.position="absolute",document.body.appendChild(t)),t.style.zIndex="20000",t.style.visibility="visible",c.I._safeInnerHTML(t,i);var s=t.offsetWidth+10,l=t.offsetHeight+10;return n+s>r+document.documentElement.clientWidth&&(n=r+document.documentElement.clientWidth-s-10),o+l>a+document.documentElement.clientHeight&&(o=a+document.documentElement.clientHeight-l-10),t.style.left=n+"px",t.style.top=o+"px",!1})},p.removeContextMenu=function(e){var t=e;"string"==typeof e&&(t=c.I.getComponentById(e)),"object"==typeof t&&(void 0!==t.render&&null!=t.render&&(t=t.render),t.oncontextmenu=null)},p.makeContextMenuString=function(e){for(var t="",r=175,i=0;i<e.size();i++){var a=e.elementAt(i),n=WebSquare.xml.getAttribute(a,"name","value"),o=WebSquare.util.getWidth(n)+30;r<o&&(r=o)}if(c.I.browserCheck.ieAllVersion){var s=19*e.size()+10;e.size()>15&&(s=295),t+="<div id='contextLayer' onselectstart='return false' style='overflow-x:hidden; overflow-y: auto; width:"+(r+5)+"px; height:"+s+"px; '>",t+="<table width='"+r+"' border='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>"}else{s=19*e.size()+10;e.size()>15&&(s=286),t+="<div onselectstart='return false' style='position:relative; overflow:auto; width:"+r+"px;height:"+s+"px; border:4px solid #e7e7e7; '>",t+="<table width='"+r+"' border='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>"}for(i=0;i<e.size();i++){a=e.elementAt(i);"true"==WebSquare.xml.getAttribute(a,"separator","value")?t+=d.v.contextMenuAddRow1(WebSquare.xml.getAttribute(a,"method","value"),WebSquare.xml.getAttribute(a,"name","value")):t+=d.v.contextMenuAddRow(WebSquare.xml.getAttribute(a,"method","value"),WebSquare.xml.getAttribute(a,"name","value"))}var l={};return l.menuStr=t,l.width=r,l},p.getElement=function(e){window._elements||(window._elements=[]);var t=h.createElement(e);return window._elements.push(t),t},p.getURLString=function(e){try{
if(-1!=e.toLowerCase().indexOf("url")){var t=e.indexOf("("),r=e.indexOf(")"),i=e.substring(t+1,r);return i=i.replace(/\"/g,"")}}catch(e){u.Y.printStackTrace(e)}},p.toHexColor=function(e){try{if(-1!=e.indexOf("rgb")){var t=e.indexOf("("),r=e.indexOf(")"),i=e.substring(t+1,r).split(","),a=parseInt(i[0]).toString(16),n=parseInt(i[1]).toString(16),o=parseInt(i[2]).toString(16);return 1==a.length&&(a="0"+a),1==n.length&&(n="0"+n),1==o.length&&(o="0"+o),"#"+a+n+o}return e}catch(e){u.Y.printStackTrace(e)}},window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){return"float"==t&&(t="styleFloat"),t=t.capitalizeStyle(),e&&e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),document.documentElement.currentStyle?p.getStyleProperty=function(e,t){t=t.wq_trim().capitalizeStyle();var r=e.currentStyle[t];return t.toLowerCase().indexOf("color")>-1?this.toHexColor(r):r}:window.getComputedStyle?p.getStyleProperty=function(e,t){var r=document.defaultView.getComputedStyle(e,null).getPropertyValue(t);return t.toLowerCase().indexOf("color")>-1?this.toHexColor(r):r}:p.getStyleProperty=function(e,t){var r=e.style[t];return t.toLowerCase().indexOf("color")>-1?this.toHexColor(r):r},p.setSize=function(e){if(!c.I.browserCheck.ie){var t=WebSquare.util.getStyleProperty(e,"width"),r=WebSquare.util.getStyleProperty(e,"height"),i=parseInt(WebSquare.util.getStyleProperty(e,"border-left-width"))||0,a=parseInt(WebSquare.util.getStyleProperty(e,"border-right-width"))||0,n=parseInt(WebSquare.util.getStyleProperty(e,"border-top-width"))||0,o=parseInt(WebSquare.util.getStyleProperty(e,"border-bottom-width"))||0,s=parseInt(WebSquare.util.getStyleProperty(e,"padding-left"))||0,l=parseInt(WebSquare.util.getStyleProperty(e,"padding-right"))||0,u=parseInt(WebSquare.util.getStyleProperty(e,"padding-top"))||0,d=parseInt(WebSquare.util.getStyleProperty(e,"padding-bottom"))||0;""!=t&&t.indexOf("px")>=0&&(e.style.width=parseInt(t)-i-a-s-l),""!=r&&r.indexOf("px")>=0&&(e.style.height=parseInt(r)-n-o-u-d)}},p.getWidth=function(e,t,r){t=null==t?"":t,r=null==r?"":r;var i=WebSquare.util.getRulerSpan();return i.style.cssText=t,i.style.visibility="hidden",i.style.position="absolute",i.style.width="",i.className=r,c.I._safeInnerHTML(i,e),i.style.top="-10000px",i.style.left="-10000px",i.offsetWidth},p.getRulerSpan=function(e,t){var r=h.getElementById("__rulerSpan__");return null==r&&((r=h.createElement("span")).id="__rulerSpan__",r.style.visibility="hidden",r.style.position="absolute",h.body.appendChild(r)),r.style.cssText=e,r.style.visibility="hidden",r.style.position="absolute",r.className=t,r},p.getImageUrl=function(e,t){var r=WebSquare.util.getRulerSpan();return r.style.cssText=e,r.style.visibility="hidden",r.style.position="absolute",r.className=t,r.style.top="-10000px",r.style.left="-10000px",WebSquare.util.getStyleProperty(r,"background-image")},p.getHeight=function(e,t,r){var i=WebSquare.util.getRulerSpan();return i.style.width=t,null!=r?(i.style.fontSize=r.style.fontSize,i.style.fontFamily=r.style.fontFamily,i.style.fontWeight=r.style.fontWeight):(i.style.fontSize="",i.style.fontFamily="",i.style.fontWeight=""),c.I._safeInnerHTML(i,e),i.style.top="-10000px",i.style.left="-10000px",i.offsetHeight},p.getHeight2=function(e,t,r,i){var a=WebSquare.util.getRulerSpan();a.style.cssText=r,a.className=i,a.style.visibility="hidden",a.style.height="",a.style.position="",a.style.padding="0 0 0 0 ",a.style.width=WebSquare.util.getStyleProperty(a,"width"),a.style.fontSize=WebSquare.util.getStyleProperty(a,"font-size")||"12px",a.style.fontFamily=WebSquare.util.getStyleProperty(a,"font-family")||"",a.style.fontWeight=WebSquare.util.getStyleProperty(a,"font-weight")||"",c.I._safeInnerHTML(a,e),a.style.top="-10000px",a.style.left="-10000px";var n=a.offsetHeight;return 0==n&&(n=parseInt(a.style.fontSize)),n},p.setVerticalAlignMiddle=function(e,t){
var r=WebSquare.util.getStyleProperty(e,"height"),i=WebSquare.util.getStyleProperty(e,"vertical-align");i=""==i?"middle":i;var a=WebSquare.util.getStyleProperty(e,"padding-top");if((""==a||"0px"==a)&&"middle"==i&&""!=r&&r.indexOf("px")>=0){var n=document.createElement("div");e.appendChild(n),c.I._safeInnerHTML(n,t),(s=WebSquare.util.getRulerSpan(e.style.cssText,e.className)).style.height="",s.style.top="-10000px",s.style.left="-10000px",c.I._safeInnerHTML(s,t);var o=s.offsetHeight;n.style.marginTop=(parseInt(r)-o)/2}else if((""==a||"0px"==a)&&"bottom"==i&&""!=r&&r.indexOf("px")>=0){var s;n=document.createElement("div");e.appendChild(n),c.I._safeInnerHTML(n,t),(s=WebSquare.util.getRulerSpan(e.style.cssText,e.className)).style.height="",s.style.top="-10000px",s.style.left="-10000px",c.I._safeInnerHTML(s,t);o=s.offsetHeight;var l=parseInt(r)-o-3;n.style.marginTop=l}else c.I._safeInnerHTML(e,t)},p.getChildNodeAt=function(e,t){try{for(var r=WebSquare.util.first(e),i=0;null!=r&&i<t;)r=WebSquare.util.next(r),i++;return r}catch(e){u.Y.printStackTrace(e)}},p.prev=function(e){do{e=e.previousSibling}while(e&&1!=e.nodeType);return e},p.next=function(e){do{e=e.nextSibling}while(e&&1!=e.nodeType);return e},p.first=function(e){return null==(e=e.firstChild)?e:e&&1!=e.nodeType?WebSquare.util.next(e):e},p.last=function(e){return(e=e.lastChild)&&1!=e.nodeType?WebSquare.util.prev(e):e},p.parent=function(e,t){t=t||1;for(var r=0;r<t;r++)null!=e&&(e=e.parentNode);return e},p.getEvent=function(e){try{e=e||event}catch(e){u.Y.printStackTrace(e)}return e},p.getStringByteSize=function(e,t){try{if(!e)return 0;var r=c.I.getConfiguration("/WebSquare/byteCheckEncoding/@value");switch(r||(r="UTF-8"),r=r.toUpperCase()){case"UTF-8":return WebSquare.util.getByteLengthUtf8(e,t);case"EUC-KR":return WebSquare.util.getByteLengthEUCKR(e,t);default:return WebSquare.util.getByteLength(e,t)}}catch(e){u.Y.printStackTrace(e,null,this)}},p.getByteLength=function(e,t){try{for(var r=0,i=(t=t||"",[]),a=0;a<t.length;a++)i.push(escape(t.charAt(a)));for(var n=0;n<e.length;n++){var o=escape(e.charAt(n));if(i.length>0){for(var s=!1,l=0;l<i.length;l++)if(o===i[l]){s=!0;break}if(s)continue}1==o.length?r++:-1!=o.indexOf("%u")?r+=2:-1!=o.indexOf("%")&&(r+=o.length/3)}return r}catch(e){u.Y.printStackTrace(e,null,this)}},p.getByteLengthEUCKR=function(e,t){try{t=t||"";for(var r=0,i="",a="",n=0;n<e.length;n++){if(a=e.charAt(n),t.length>0){for(var o=!1,s=0;s<t.length;s++)if(a===t[s]){o=!0;break}if(o)continue}"0000"<=(i=("0000"+e.charCodeAt(n).toString(16).toUpperCase()).slice(-4))&&i<="007F"?r++:r+=2}return r}catch(e){u.Y.printStackTrace(e,null,this)}},p.getByteLengthUtf8=function(e,t){for(var r=0,i=(t=t||"",[]),a=0;a<t.length;a++)i.push(escape(t.charAt(a)));for(var n=0;n<e.length;n++){var o=escape(e.charAt(n));if(i.length>0){for(var s=!1,l=0;l<i.length;l++)if(o===i[l]){s=!0;break}if(s)continue}r+=WebSquare.util.getCharByteSize(e.charAt(n))}return r},p.getStringByByteSize=function(e,t,r){if(!e)return"";var i=c.I.getConfiguration("/WebSquare/byteCheckEncoding/@value");return i||(i="UTF-8"),"UTF-8"===(i=i.toUpperCase())?WebSquare.util.getByteStringByLengthUtf8(e,t,r):WebSquare.util.getByteStringByLength(e,t,r)},p.getByteStringByLength=function(e,t,r){for(var i=0,a=(r=r||"",[]),n=0;n<r.length;n++)a.push(escape(r.charAt(n)));for(var o=0;o<e.length;o++){var s=escape(e.charAt(o));if(a.length>0){for(var l=!1,u=0;u<a.length;u++)if(s===a[u]){l=!0;break}if(l)continue}if(1==s.length?i++:-1!=s.indexOf("%u")?i+=2:-1!=s.indexOf("%")&&(i+=s.length/3),i>t)return e.substring(0,o)}return e},p.getByteStringByLengthUtf8=function(e,t,r){for(var i=0,a=(r=r||"",[]),n=0;n<r.length;n++)a.push(escape(r.charAt(n)));for(var o=0;o<e.length;o++){var s=escape(e.charAt(o));if(a.length>0){for(var l=!1,u=0;u<a.length;u++)if(s===a[u]){l=!0;break}if(l)continue}if((i+=WebSquare.util.getCharByteSize(e.charAt(o)))>t)return e.substring(0,o)}return e},p.getCharByteSize=function(e){if(!e||0==e.length)return 0;var t=e.charCodeAt(0)
;return t<=127?1:t<=2047?2:t<=65535?3:4},p.getImageStyle=function(e,t){var r="",i=e.toLowerCase();if(i.indexOf("background-image")>=0){var a=(i=i.substring(i.indexOf("background-image"))).split(";")[0].split(":");a.shift(),(r=a.join("").wq_trim()).startsWith("url")&&"("==(r=r.substring(3).wq_trim()).charAt(0)&&")"==r.charAt(r.length-1)&&(r=c.I.getImageURL(r.substring(1,r.length-1)))}else r=WebSquare.skin.makeBackgroundImageUrl(t);return""!=r&&"none"!=r&&(r="background-image:url("+r+")"),r},p.getInnerText=function(e){var t="";try{void 0===(t=e.innerText)&&(t=e.textContent)}catch(e){u.Y.printStackTrace(e)}return t},p.getTextNodeValue=function(e){try{var t=null;if(e)for(var r=e.firstChild;null!=r;r=r.nextSibling)if(3==r.nodeType){t=r.nodeValue;break}return t}catch(e){d.v.printLog("dataController.getTextNodeValue :"+e.message),u.Y.printStackTrace(e)}},p.browserVersion=function(){try{return c.I.browserVersion()}catch(e){u.Y.printStackTrace(e)}},p.isIE=function(e){try{var t=c.I.browserCheck.ieVersion[e];return null!=t||(t=c.I.browserCheck.ie,e&&(e+="",t=t&&e.indexOf(c.I.browserVersion())>-1,c.I.browserCheck.ieVersion[e]=t)),t}catch(e){u.Y.printStackTrace(e)}},p.isIEAllVersion=function(e){try{var t=c.I.browserCheck.ieVersion[e];return null!=t||(t=c.I.browserCheck.ieAllVersion,e&&(e+="",t=t&&e.indexOf(c.I.browserVersion())>-1,c.I.browserCheck.ieVersion[e]=t)),t}catch(e){u.Y.printStackTrace(e)}},p.isFF=function(e){try{var t=c.I.browserCheck.mozVersion[e];return null!=t||(t=c.I.browserCheck.moz,e&&(e+="",t=t&&e.indexOf(c.I.browserVersion())>-1,c.I.browserCheck.mozVersion[e]=t)),t}catch(e){u.Y.printStackTrace(e)}},p.isChrome=function(e){try{var t=c.I.browserCheck.chromeVersion[e];return null!=t||(t=c.I.browserCheck.chrome,e&&(e+="",t=t&&e.indexOf(c.I.browserVersion())>-1,c.I.browserCheck.chromeVersion[e]=t)),t}catch(e){u.Y.printStackTrace(e)}},p.isSafari=function(e){try{var t=c.I.browserCheck.safariVersion[e];return null!=t||(t=c.I.browserCheck.safari,e&&(e+="",t=t&&e.indexOf(c.I.browserVersion())>-1,c.I.browserCheck.safariVersion[e]=t)),t}catch(e){u.Y.printStackTrace(e)}},p.isOpera=function(e){try{var t=c.I.browserCheck.operaVersion[e];return null!=t||(t=c.I.browserCheck.opera,e&&c.I.browserVersion()&&(e+="",t=t&&e.indexOf(c.I.browserVersion())>-1,c.I.browserCheck.operaVersion[e]=t)),t}catch(e){u.Y.printStackTrace(e)}},p.isSpartan=function(){try{return c.I.browserCheck.spartan}catch(e){u.Y.printStackTrace(e)}},p.isChromeEdge=function(e){try{var t=c.I.browserCheck.chromeEdgeVersion[e];return null!=t||(t=c.I.browserCheck.chromeEdge,e&&(e+="",t=t&&e.indexOf(c.I.browserVersion())>-1,c.I.browserCheck.chromeEdgeVersion[e]=t)),t}catch(e){u.Y.printStackTrace(e)}},p.isMobile=function(){try{var e=c.I.browserCheck.isMobile;return null!=e?e:(e=!!(c.I.browserCheck.android||c.I.browserCheck.iphone||c.I.browserCheck.ipad||c.I.browserCheck.ipod||c.I.browserCheck.blackberry),c.I.browserCheck.isMobile=e,c.I.browserCheck.isMobile)}catch(e){u.Y.printStackTrace(e)}},p._isMobileDevice=function(){try{return!!(c.I.browserCheck.android||c.I.browserCheck.iphone||/iPad/.test(navigator.userAgent)||c.I.browserCheck.ipod||c.I.browserCheck.blackberry)}catch(e){u.Y.printStackTrace(e)}},p.isNull=function(e){return void 0===e||null==e},p.isNumber=function(e){return!WebSquare.util.isNull(e)&&e.constructor==Number},p.isString=function(e){return!WebSquare.util.isNull(e)&&e.constructor==String},p.isArray=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"function"==typeof e.splice&&!e.propertyIsEnumerable("length")},p.isRegExp=function(e){return!WebSquare.util.isNull(e)&&e instanceof RegExp},p.isKorean=function(e){if("string"!=typeof e)return!1;return/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(e)},p.XMLToHTML=function(e){if(void 0===e.tagName&&3==e.nodeType)return document.createTextNode(e.nodeValue);var t=document.createElement(e.tagName),r=WebSquare.WebSquareparser.parseAttribute(e);try{for(var i in r)"style"!=i?"className"!=i?t[i]=r[i]:t.className=r[i]:t.style.cssText=r[i]
}catch(e){u.Y.printStackTrace(e,null,this)}for(var a=e.firstChild;null!=a;a=a.nextSibling)1==a.nodeType?t.appendChild(this.XMLToHTML(a)):2!=a.nodeType&&3!=a.nodeType&&4!=a.nodeType||t.appendChild(document.createTextNode(a.nodeValue));return t},p.setPrecision=function(e){try{return"number"==typeof e&&(e=parseFloat(e.toFixed(10)),e=parseFloat(e.toPrecision(15))),e}catch(e){u.Y.printStackTrace(e)}},p.sum=function(e,t){try{if(!(e.length>0))return e;void 0!==t&&null!=t||(t={});for(var r=0,i=0,a=0;a<e.length;a++){"string"==typeof e[a]&&""==e[a].replace(/^\s+|\s+$/g,"")&&(e[a]="0");var n=e[a]-0;r+=n,i+=Math.abs(n)}var o=Math.round(Math.log(Math.max(i),10)*Math.LOG10E);o=null!==o&&!isNaN(o)&&isFinite(o)?o:0;var s=this.getPrecision(t.displayFormat);if(parseInt(r,10)===r&&0===s);else if(Math.abs(r)<1)r=-0===(r=parseFloat(r.toFixed(o>10?0:10-o)))?0:r;else if(Math.abs(r)<1e12){var l=Math.max(12,o+s);r=parseFloat(r.toPrecision(l))}else r=o+s<17?parseFloat(r.toPrecision(o+s)):Math.round(r);return r}catch(e){u.Y.printStackTrace(e)}},p.getPrecision=function(e){var t=0;try{if(!e||"string"!=typeof e)return 0;var r=new RegExp("\\[(.*)\\]","g"),i=new RegExp("[.]+[#0]+"),a=e.replace(r,"").match(i);t=(a=null!=a?a.join(""):".").length-1}catch(e){u.Y.printStackTrace(e)}return t},p.dynamicCreate=function(e,t,r,i,a,n,o){try{var s=o&&o.id;if(p.getComponentById(e,s))return void d.v.printLog("dynamicCreate error : ID duplcation.\nA component with the provided ID already exists."+e);var l=null;!r.nodeType||1!==r.nodeType&&9!==r.nodeType?"string"==typeof r&&(l=WebSquare.xml.parse(r))&&(l=!0===WebSquare.convertPageXML?WebSquare.xmljs.xml2json(l).E[0]:l.documentElement,r={}):(l=9==r.nodeType?r.documentElement:r,r={}),null==l&&(r.pluginName=t);var h,f=null;if(n){var g=WebSquare.util.getComponentById(n,o.id);g&&(f=g.uuid)}else o&&(f=o.uuid);r._idCollisionCheck=!0,null==o||!o.options||"wframe"!==o.options.pluginName&&"pageInherit"!==o.options.pluginName&&"udc2"!==o.options.pluginName&&"pageFrame"!==o.options.pluginName||(r.scope_obj=o),!0===WebSquare.convertPageXML&&c.I.isXML(l)&&(l=WebSquare.xmljs.xml2json(l).E[0]);var m=!0;!r||"wframe"!==r.pluginName&&"pageFrame"!==r.pluginName||(r.preload=!0,r.src||(m=!1)),h=null==l||"true"!==c.I.getConfiguration("/WebSquare/dynamicCreate/parseChild/@value")?WebSquare.controlFactory.createControl(e,r,l,r.scope_obj||null,!0,f):WebSquare.controlFactory.create(e,r,l,r.scope_obj||null,f);var b=WebSquare.controlFactory._awaitObj.key.length>0||WebSquare.controlFactory._asyncList.length>0||"function"==typeof h.initAsync||h.constructor===Promise;if(m&&b){var y=WebSquare.controlFactory.initAsync(),S=(s=r.scope_obj&&r.scope_obj.id,y.then((function(t,r){return h.constructor===Promise?h.then((function(t,r){var n=p.getComponentById(e,s);return p._dynamicCreateAfter(n,a,i)})):p._dynamicCreateAfter(h,a,i)})));return d.v.printLog("$p.dynamicCreate : return promise because engine files are not ready."),S}return p._dynamicCreateAfter(h,a,i),h}catch(e){u.Y.printStackTrace(e)}},p._dynamicCreateAfter=function(e,t,r){try{return t&&e.modelControl.setItemset(t.nodeset,t.label,t.value),e.appendTo(r||WebSquare.getBody()),e.activate(),e.onComplete(),t&&e.refreshItemset(),e}catch(e){u.Y.printStackTrace(e)}},p.getComponentById=function(e,t){try{var r=e;if(!t&&WebSquare.strictModeFrame&&WebSquare.strictModeFrame.id!==e&&(t=WebSquare.strictModeFrame.id),t){var i=WebSquare.util.getComponentById(t);if(null!=i)for(var a=i;null!=a&&null!=a.scope;a=a.scope_obj){if(null!=a.scope[e]){r=a.scope[e].id;break}if(a.scope_obj===a)break;if(WebSquare.strictMode)break}}return WebSquare.idCache[WebSquare.idToUUID[r]]||window[r]}catch(e){u.Y.printStackTrace(e,null,this)}},p.getEventTarget=function(e){var t={};try{return void 0!==e&&null!=e&&""!=e&&(t.pluginName=e.options.pluginName,t.id=e.org_id,t.realId=e.id),t}catch(e){return u.Y.printStackTrace(e,null,this),t}},p.getGlobalFunction=function(e,t){try{if("function"==typeof e)return e;if("string"!=typeof e||!e)return null
;if(!0===/^\s*function/.test(e))return new Function("return "+e)();var r=e.wq_trim(),i=r.indexOf("("),a=r.indexOf(")",i),n=[];i>=0&&a>=0&&(n=r.slice(i+1,a).split(","),r=r.slice(0,i)),t&&r.slice(0,t.length+1)===t+"_"&&(r=r.slice(t.length+1)),r=r.split(".");var o,s=0,l=null,d=!1;if(t){if(null!=(o=WebSquare.util.getComponentById(t)))for(var p=o;null!=p&&null!=p.scope;p=p.scope_obj){for(var h=p.scope[r[s++]];h&&("object"==typeof h||"function"==typeof h)&&s<r.length;)h=h[r[s++]];if("function"==typeof(l=h))break;if(p.scope_obj===p)break;if(WebSquare.strictMode)break}if("function"!=typeof l)try{l=new Function("return "+e)(),d=!0}catch(e){l=null}}else{for(h=r[0]&&window[r[s++]]||null;h&&("object"==typeof h||"function"==typeof h)&&s<r.length;)h=h[r[s++]];if("function"==typeof h)l=h,d=!0;else try{l=new Function("return "+e)(),d=!0}catch(e){l=null}}if(i>=0&&a>=0&&"function"==typeof l){for(var f=0;f<n.length;f++)try{n[f]=new Function("return "+n[f])()}catch(e){n[f]}l=l.apply(l,n)}else if(d&&"function"==typeof l){var g=c.I.getConfiguration("/WebSquare/wpack/common/@name");if(g&&"string"==typeof g){var m,b=new RegExp("^("+g.replace(/,/g,"|")+")$");o&&o.scope&&(m=o.scope[WebSquare.noConflictFunction]);for(f=0;f<r.length-1;f++)if(b.test(r[f])){var y=l.toString();y.slice(y.indexOf("(")+1,y.indexOf(")")).split(",")[0].wq_trim()===WebSquare.noConflictFunction&&(l=l.bind(l,m));break}}}return l}catch(e){u.Y.printStackTrace(e,null,this)}},p.createPopup=function(e,t,r,i,a,n,o,s,l,c,d){try{WebSquare.uiplugin.popup.createPopup(e,t,r,i,a,n,o,s,l,c,d)}catch(e){u.Y.printStackTrace(e,null,this)}},p.openPopup=function(e,t,r,i){try{WebSquare.uiplugin.popup.openPopup(e,t,r,i)}catch(e){u.Y.printStackTrace(e,null,this)}},p.getPopupParam=function(){try{return WebSquare.uiplugin.popup.getPopupParam()}catch(e){u.Y.printStackTrace(e,null,this)}},p.closePopup=function(e,t){try{var r="";r=null==e?WebSquare.net.getParameter("popupID"):e,null==e&&opener&&opener.WebSquare?opener.WebSquare.uiplugin.popup.callClose(r,t):parent!==window&&null!=parent.WebSquare?(parent.WebSquare.uiplugin.popup&&parent.WebSquare.uiplugin.popup.callClose(r,t),WebSquare.uiplugin.popup&&WebSquare.uiplugin.popup.callClose(r,t)):WebSquare.uiplugin.popup.callClose(r,t)}catch(e){u.Y.printStackTrace(e,null,this)}},p.getPopup=function(e,t){try{return WebSquare.uiplugin.popup?WebSquare.uiplugin.popup.getPopup(e,t):null}catch(e){u.Y.printStackTrace(e,null,this)}},p.getPopupList=function(e,t){try{return WebSquare.uiplugin.popup?WebSquare.uiplugin.popup.getPopupList(e,t):[]}catch(e){u.Y.printStackTrace(e,null,this)}},p.getPopupWindow=function(e,t){try{return WebSquare.uiplugin.popup?WebSquare.uiplugin.popup.getPopupWindow(e,t):null}catch(e){u.Y.printStackTrace(e,null,this)}},p.getPopupWindowList=function(e,t,r){try{return WebSquare.uiplugin.popup?WebSquare.uiplugin.popup.getPopupWindowList(e,t,r):[]}catch(e){u.Y.printStackTrace(e,null,this)}},p.getAllPopupList=function(){try{return WebSquare.uiplugin.popup?WebSquare.uiplugin.popup.getAllPopupList():[]}catch(e){u.Y.printStackTrace(e,null,this)}},p.getAllPopupWindowList=function(e){try{return WebSquare.uiplugin.popup?WebSquare.uiplugin.popup.getAllPopupWindowList(e):[]}catch(e){u.Y.printStackTrace(e,null,this)}},p.isPopup=function(){try{return null!=window.opener&&!window.opener.closed}catch(e){return!1}},p.isPopup2=function(){try{return(window.self!==window.parent||null!=window.opener)&&((window.self!==window.parent||!window.opener||!window.opener.closed)&&(window.self===window.parent||!1!==WebSquare.isWebSquarePopup))}catch(e){return!1}},p.isWFramePopup=function(){try{return!1}catch(e){u.Y.printStackTrace(e,null,this)}},p.getPopupUrl=function(){try{return WebSquare.net.getParameter("w2xPath")}catch(e){u.Y.printStackTrace(e,null,this)}},p.getPopupId=function(){try{return WebSquare.net.getParameter("popupID")}catch(e){u.Y.printStackTrace(e,null,this)}},p.getFrameId=function(){try{return null}catch(e){u.Y.printStackTrace(e,null,this)}},
p.getFrame=function(){try{return null}catch(e){u.Y.printStackTrace(e,null,this)}},p.getParentWindow=function(){try{var e=opener||parent||window;if(!WebSquare.strictMode)return e;try{return e.WebSquare&&e.WebSquare.strictModeFrame?e.WebSquare.strictModeFrame.scope:e}catch(t){return e}}catch(e){u.Y.printStackTrace(e,null,this)}},p.getTopWindow=function(){try{var e=top;if(!WebSquare.strictMode)return e;try{return e.WebSquare&&e.WebSquare.strictModeFrame?e.WebSquare.strictModeFrame.scope:e}catch(t){return e}}catch(e){u.Y.printStackTrace(e,null,this)}},p.getMainFrame=function(){try{return WebSquare.strictMode?WebSquare.strictModeFrame.scope:window}catch(e){u.Y.printStackTrace(e,null,this)}},p.jQuerySelector=function(e){try{if("undefined"!=typeof jQuery&&null!=jQuery)return jQuery(e)}catch(e){u.Y.printStackTrace(e,null,this)}},p.getDocumentSize=function(e){try{return"height"==(e=e.toLowerCase())?document.documentElement.clientHeight||document.body.clientHeight:"width"==e?document.documentElement.clientWidth||document.body.clientWidth:void d.v.printLog("getDocumentSize : wrong sizeName["+e+"]")}catch(e){u.Y.printStackTrace(e)}},p.getSubmissionURL=function(e,t){try{var r;r="string"==typeof WebSquare.hybridSubmissionURL&&""!=WebSquare.hybridSubmissionURL?WebSquare.hybridSubmissionURL:c.I.getConfiguration("/WebSquare/hybrid/submissionURL");var i=WebSquare.util.appendingPathComponent(r,e);return c.I._getMsaSrc(i,t)}catch(e){u.Y.printStackTrace(e)}},p.appendingPathComponent=function(e,t){try{if(t.indexOf("://")>0||0==e.length)return t;var r=e.length;return"/"==e.charAt(r-1)?"/"==t.charAt(0)?e+t.substr(1):e+t:"/"==t.charAt(0)?e+t:e+"/"+t}catch(e){u.Y.printStackTrace(e)}},p.setDocumentLang=function(e){try{document.documentElement.setAttribute("xml:lang",e)}catch(e){u.Y.printStackTrace(e,null,this)}},p.setDisabled=function(e){try{var t,r,i,a=[],n=[],o=e.componentId,s=e.disabled,l=e.excludeIdList,c=e.includeIdList,p=e.includeAll,h=e.excludeAll,f=e.skipTab;if(!(t=o?WebSquare.util.getComponentById(o):WebSquare.getBody())||!t.options||!t.options.pluginName)return d.v.printLog("[WebSquare.util.setDisabled]id: The component with the provided ID cannot be found."),{doneComponents:a,skipComponents:n};if(WebSquare.util.isArray(c)){r||(r={});for(var g=0;g<c.length;g++)r[c[g]]=!0}else c&&(r=c);if(WebSquare.util.isArray(l)){i||(i={});for(g=0;g<l.length;g++)i[l[g]]=!0}else l&&(i=l);var m=WebSquare.util.getDisabledComponentIdList(t,s),b=m.targetComponents;n=m.skipComponents;for(g=0;g<b.length;g++){if(S=WebSquare.util.getComponentById(b[g])){var y=S.options.disabled;if(!r)try{y!==s&&S.setDisabled(s,f),a.push(S.id)}catch(e){d.v.printLog("[WebSquare.util.setDisabled]["+S.id+"] Failed to disable the component. Please verify the component status.")}if(r&&p)try{(r[S.id]||r[S.org_id])&&(y!==s&&S.setDisabled(s,f),a.push(S.id))}catch(e){d.v.printLog("[WebSquare.util.setDisabled]["+S.id+"] Failed to disable the component. Please verify the component status.")}if(i&&h)try{(i[S.id]||i[S.org_id])&&y===s&&S.setDisabled(!s,f)}catch(e){d.v.printLog("[WebSquare.util.setDisabled]["+S.id+"] Failed to disable the component. Please verify the component status.")}}}if(c&&!p)for(g=0;g<c.length;g++){if((y=(S=WebSquare.util.getComponentById(c[g])).options.disabled)!==s)try{S.setDisabled(s,f)}catch(e){d.v.printLog("[WebSquare.util.setDisabled]["+S.id+"] Failed to disable the component. Please verify the component status.")}}if(l&&!h)for(g=0;g<l.length;g++){if((y=(S=WebSquare.util.getComponentById(l[g])).options.disabled)===s)try{S.setDisabled(!s,f)}catch(e){d.v.printLog("[WebSquare.util.setDisabled]["+S.id+"] Failed to disable the component. Please verify the component status.")}}for(g=0;g<n.length;g++){var S;if((y=(S=WebSquare.util.getComponentById(n[g])).options.disabled)!==s)try{S.setDisabled(s,f)}catch(e){d.v.printLog("[WebSquare.util.setDisabled]["+S.id+"] Failed to disable the component. Please verify the component status.")}}return{doneComponents:a,skipComponents:n}
}catch(e){u.Y.printStackTrace(e,null,this)}},p.getDisabledComponentIdList=function(e,t,r){try{if(r||((r={}).targetComponents=[],r.skipComponents=[]),e||(e=WebSquare.getBody()),e&&e.options&&"body"==e.options.pluginName);else{if("stop"==e.activeStatus)return r;if(!e.id||!e.options||!e.options.pluginName&&!e.options.udcName)return r;e.options.disabled===t?r.skipComponents.push(e.id):r.targetComponents.push(e.id)}for(var i=0;i<e.childControlList.length;i++){var a=e.childControlList[i];a&&WebSquare.util.getComponentById(a.id)&&a.options&&(a.options.pluginName||a.options.udcName)&&WebSquare.util.getDisabledComponentIdList(a,t,r)}return r}catch(e){u.Y.printStackTrace(e,null,this)}},p.getIgnoreKeyPressCodes=function(){return{8:"backspace",9:"tab",37:"left",38:"up",39:"right",40:"down",36:"home",35:"end",4:"insert",46:"del",33:"pageup",34:"pagedown"}},p.getKeyCode=function(e,t){var r,i=WebSquare.text.getCaretPos(e.render),a=-1;if(a=i<=1?e.render.value.charCodeAt(0):e.render.value.charCodeAt(i-1),null!=t&&(r=t.charCode||t.keyCode||t.which),r)return 0==r||229==r||r>=48&&a>=0?a:r},p.setDomain=function(e){try{WebSquare.domain=e,document.domain=e}catch(e){u.Y.printStackTrace(e)}},p.getChildren=function(e,t){try{if(e||(e=e||WebSquare.getBody(),t&&(t.recursive=!1)),t){for(var r=[],i=void 0===t.excludeInnerComp?WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/util/excludeInnerComp/@value")):WebSquare.util.getBoolean(t.excludeInnerComp),a=void 0===t.excludeContainerComp?WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/util/excludeContainerInnerComp/@value")):WebSquare.util.getBoolean(t.excludeContainerComp),n=t.recursive?e.getAllChildren({excludeInnerComp:i,excludeContainerInnerComp:a,excludePlugin:t.excludePlugin,excludeId:t.excludeId}):e.getChildren(),o=!!t.excludePlugin&&" "+t.excludePlugin+" ",s=!!t.includePlugin&&" "+t.includePlugin+" ",l=!!t.excludeId&&" "+t.excludeId+" ",c=0;c<n.length;c++)(!l||l.indexOf(" "+n[c].id+" ")<0)&&(!o||o.indexOf(" "+n[c].options.pluginName+" ")<0)&&(!s||s.indexOf(" "+n[c].options.pluginName+" ")>-1)&&r.push(n[c]);return r}return e.getChildren().slice(0)}catch(e){u.Y.printStackTrace(e)}},p.addClearMemory=function(e){try{e&&c.I.userClearMemoryStack.push(e)}catch(e){u.Y.printStackTrace(e)}},p.loadUserComponent=async function(e,t,r,i,a,n,o){try{var s;o||(o=e);var l=[],p=!0===n?"Inherit":"User",h=WebSquare.util["loaded"+p+"ComponentURL"][e];s="false"!==a&&null!=h?"string"==typeof h&&"xml"===WebSquare.jsLoader.getPageTypeByString(h)?WebSquare.xml.parse(h):h:await WebSquare.jsLoader._loadObj(e);var f,g=c.I.isXML(s)?"xml":"js",m=[],b=WebSquare.util.getBoolean(c.I.getConfiguration("/WebSquare/supportW2Udc/@value"));if(t&&r)m.push(r);else if("xml"===g)for(var y=WebSquare.xml.findNodes(s.documentElement,"//@pluginName"),S=0;S<y.length;S++)m.push(y[S].value);else{f=WebSquare.jsonUtil.walk_DFS(s,(function(e){if(e.A&&e.A.pluginName)return e}));for(S=0;S<f.length;S++)m.push(f[S].A.pluginName)}if(!WebSquare.util["loaded"+p+"Component"][e+"#"+m[0]]){var v=WebSquare.w2xHome;for(S=0;S<m.length;S++){var w,C=m[S];if(C.indexOf("_")>-1||b)if(WebSquare.util["loaded"+p+"ComponentPluginName"][C]){var q=WebSquare.util["loaded"+p+"ComponentPluginName"][C].split("#")[0];q!=e?d.v.printLog("ERROR : udc name ["+C+"] already exists in another udc file : ["+e+","+q+"]"):d.v.printLog("ERROR : udc name ["+C+"] already exists in same udc file : ["+e+"]")}else{w=t&&r?"xml"===g?WebSquare.xml.findNode(s.documentElement,"//*[@id='"+t+"']"):WebSquare.jsonUtil.walk_DFS(s,(function(e){if(e.A&&e.A.id===t)return e})):"xml"===g?WebSquare.xml.findNode(s.documentElement,"//*[@pluginName='"+C+"']"):f[S];var W=o.lastIndexOf("/");if(WebSquare.w2xHome=W<0?"/":o.slice(0,o.lastIndexOf("/"))+"/",w){if("xml"===g){for(var _=w.firstChild;null!=_;_=_.nextSibling)if("w2:style"===_.nodeName||"style"===_.nodeName){var x="";x=b?WebSquare.xml.getTextNodeValue(_):WebSquare.xml.getCDataNodeValue(_),
WebSquare.cssManager.addInternalCSS(x)}else if("script"===_.nodeName){var I=WebSquare.util.getBoolean(_.getAttribute("scopeExternal"))||i&&i.options.scopeExternal,T=_.getAttribute("scopeVariable")||"",k=_.getAttribute(_,"msaName"),L=WebSquare.jsonUtil.getAttribute(_,"wpack"),A=WebSquare.Parser.parseExternalScript({uri:_.getAttribute("src"),cache:_.getAttribute("cache"),lazy:_.getAttribute("defer"),frameObj:i,scopeExternal:I,scopeVariable:T,msaName:k,wpack:L});A instanceof window.Promise&&l.push(A)}else if("link"===_.nodeName){var E=WebSquare.Parser.parseAttribute(_);if(E.href){var D={frameObj:i,msaName:E.msaName};E.href=WebSquare.util.getAbsolutePath(c.I._getMsaSrc(E.href,D))}null==E.type&&(E.type="text/css"),null==E.rel&&(E.rel="stylesheet"),WebSquare.skin.addImport(E,!0,{scopeObj:i})}w.setAttribute("udcHome",WebSquare.w2xHome)}else l=WebSquare.jsonUtil.walk_DFS(w,(function(e){if(e.N)switch(e.N){case"style":case"w2:style":var t=WebSquare.jsonUtil.getCDataNodeValue(e);WebSquare.cssManager.addInternalCSS(t);break;case"link":var r=WebSquare.Parser.parseAttribute(e);if(r.href){var a={frameObj:i,msaName:r.msaName};r.href=WebSquare.util.getAbsolutePath(c.I._getMsaSrc(r.href,a))}null==r.type&&(r.type="text/css"),null==r.rel&&(r.rel="stylesheet"),WebSquare.skin.addImport(r,!0,{scopeObj:i});break;case"script":var n=new WebSquare.Elem(e),o=WebSquare.util.getBoolean(n.getAttribute("scopeExternal"))||i&&i.options.scopeExternal,s=n.getAttribute("scopeVariable")||"",l=n.getAttribute("msaName"),u=WebSquare.jsonUtil.getAttribute(n,"wpack"),d=WebSquare.Parser.parseExternalScript({uri:n.getAttribute("src"),cache:n.getAttribute("cache"),lazy:n.getAttribute("defer"),frameObj:i,scopeExternal:o,scopeVariable:s,msaName:l,wpack:u});if(d instanceof window.Promise)return d}})),WebSquare.jsonUtil.setAttribute(w,"udcHome",WebSquare.w2xHome);WebSquare.util["loaded"+p+"Component"][e+"#"+C]=w,WebSquare.util["loaded"+p+"ComponentPluginName"][C]=e+"#"+C,WebSquare.util["loaded"+p+"ComponentURL"][e]="xml"===g?WebSquare.xml.serialize(s):s,i&&(i.userComponentList.push(e+"#"+C),i.userPluginList.push(C))}}else d.v.printLog("ERROR : The udc pluginName provided is invalid. The correct format should be ProjectName_ComponentName. Please update the pluginName accordingly. ["+e+","+C+"]")}"xml"===g?WebSquare.Parser.WebSquareParser.prototype.parseScript(s,null,null,!0):WebSquare.jsonParser.prototype.parseScript(s,null,null,!0),WebSquare.w2xHome=v}var M=WebSquare.Elem.api.getElementsByTagName(s,"head")[0],N=WebSquare.Elem.api.getElementsByTagName(M,"require",c.I._XML_NAMESPACE.W2);for(S=0;S<N.length;S++){e=c.I.getPageURL(N[S].getAttribute("src")),t=N[S].getAttribute("id"),r=N[S].getAttribute("pluginName"),a=N[S].getAttribute("cache");WebSquare.util.loadUserComponent(e,t,r,i,a)}var R=i?i.uuid:"";await Promise.allSettled(l).then((function(e){for(var t=0;t<e.length;t++)if("fulfilled"===e[t].status){var r=e[t].value;if(r){var i=WebSquare.idCache[R];WebSquare.Parser._parseExternalScriptAfter(r,i)}}})).catch((function(e){console.error(e)}))}catch(e){u.Y.printStackTrace(e)}},p.loadInheritComponent=async function(e,t,r,i,a){try{return await WebSquare.util.loadUserComponent(e,t,r,i,a,!0)}catch(e){u.Y.printStackTrace(e)}},p.unloadUserComponent=function(e,t,r){},p.setTimeout=function(e,t){try{var r=(new Date).getTime(),i=t.key||e.toString().slice(0,30),a=t.delay||t.max||1,n=t.max||0,o=t.caller||window,s=t.args||[],l=WebSquare.userTimerHash[i];return l||(l=WebSquare.userTimerHash[i]={thread:null,timeoutKey:null,startTime:r}),l.thread=function(){window.WebSquare&&WebSquare.userTimerHash&&delete WebSquare.userTimerHash[i],t.before_call&&t.before_call.call(o,l);var r=e.apply(o,s);t.callback&&t.callback.call(o,r)},clearTimeout(l.timeoutKey),n<=0||r-l.startTime<n?(t.before_set&&t.before_set.call(o,l),l.timeoutKey=setTimeout(l.thread,a),t.after_set&&t.after_set.call(o,l)):l.thread(),i}catch(e){u.Y.printStackTrace(e,null,this)}},p.clearTimeout=function(e,t){try{
"function"==typeof e&&(e=e.toString().slice(0,30));var r=WebSquare.userTimerHash[e];r&&(clearTimeout(r.timeoutKey),t&&r.thread(),WebSquare.userTimerHash[e]=null,delete WebSquare.userTimerHash[e])}catch(e){u.Y.printStackTrace(e,null,this)}},p.setInterval=function(e,t){try{var r=t.key||e.toString().slice(0,30),i=t.delay||1,a=t.caller,n=t.args,o=WebSquare.userIntervalHash[r];return o||(o=WebSquare.userIntervalHash[r]={thread:null,timeoutKey:null}),n?(a||(a=window),o.thread=function(){e.apply(a,n)}):o.thread=a?function(){e.call(a)}:function(){e()},null!=o.timeoutKey&&clearInterval(o.timeoutKey),o.timeoutKey=setInterval(o.thread,i),r}catch(e){u.Y.printStackTrace(e,null,this)}},p.clearInterval=function(e,t){try{"function"==typeof e&&(e=e.toString().slice(0,30));var r=WebSquare.userIntervalHash[e];r&&(clearInterval(r.timeoutKey),t&&r.thread(),WebSquare.userIntervalHash[e]=null,delete WebSquare.userIntervalHash[e])}catch(e){u.Y.printStackTrace(e,null,this)}},p.getTimeoutKeyList=function(){var e=[];for(var t in WebSquare.userTimerHash)e.push(t);return e},p.getIntervalKeyList=function(){var e=[];for(var t in WebSquare.userIntervalHash)e.push(t);return e},p.setData=function(e,t){try{WebSquare.userData[e]=t}catch(e){u.Y.printStackTrace(e,null,this)}},p.getData=function(e){try{return WebSquare.userData[e]||null}catch(e){u.Y.printStackTrace(e,null,this)}},p.removeData=function(e){try{if("object"==typeof WebSquare.userData[e])for(var t in WebSquare.userData[e])delete WebSquare.userData[e][t];WebSquare.userData[e]=null,delete WebSquare.userData[e]}catch(e){u.Y.printStackTrace(e,null,this)}},p.url=function(e,t){try{null==t&&(t={});var r={msaName:t.msaName};if(null==t.shortURL&&(t.shortURL=e.indexOf("?w2xPath")<0&&e.indexOf("#w2xPath")<0&&e.slice(e.lastIndexOf(".")).startsWith(".xml")),!t.shortURL)return void("#"==e.charAt(0)?location.hash=e:t.replaceHistory?location.replace(e):location.assign(e));null==t.spa&&(t.spa="true"==c.I.getConfiguration("/WebSquare/spa/@value"));var i="";if(t.param)for(var a in t.param)WebSquare.util.getEncodeParameterOption("onlyParam")?i+="&"+WebSquare.util.encodeParameter(a)+"="+WebSquare.text.URLEncoder(t.param[a]):i+="&"+a+"="+WebSquare.text.URLEncoder(t.param[a]);var n="w2xPath";if(WebSquare.util.getEncodeParameterOption("pathName")?n=WebSquare.util.getEncodeParameterOption("pathName"):WebSquare.util.isEncodeParameter()&&(n=WebSquare.util.encodeParameter("w2xPath")),d.v.printLog("before change url"),t.spa){var o=c.I.getURL(e,r);(b=(m=location.toString()).indexOf("#"))<0&&(b=m.length);var l=m.substring(0,b);y=WebSquare.util.isEncodeParameter()?WebSquare.util.getEncodeParameterOption("onlyParam")?l+"#"+n+"="+o+i:l+"#"+n+"="+WebSquare.util.encodeParameter(o+i):l+"#"+n+"="+o+i;var p=t.transition?t.transition.toLowerCase():"",h="",f=c.I.getXMLHTTPObject(),g=s.q.baseURI+"suffix.txt?postfix="+(new Date).getTime()+s.q.safeRandom();if(f.open("GET",g,!1),f.send(null),f.status>="400"||(h=f.responseText.wq_trim(),WebSquare.suffix!=h&&(WebSquare.suffix=h,t.forceReload=!0)),f=null,t.urlHashText&&(y=WebSquare.util.isEncodeParameter()?l+WebSquare.util.encodeParameter("#"+t.urlHashText+i):l+"#"+t.urlHashText+i,WebSquare.spaURLMapping[t.urlHashText]=WebSquare.text.URLDecoder(o),"sessionStorage"in window&&sessionStorage.setItem("wq_spaURLMapping",JSON.stringify(WebSquare.spaURLMapping))),t.forceReload){if("onhashchange"in window?window.onhashchange=null:clearInterval(WebSquare.util._hashTestKey),t.replaceHistory)switch(p){case"fadeout":$("body").fadeOut(1e3,(function(){location.replace(y)}));break;case"slideup":$("body").slideUp(1e3,(function(){location.replace(y)}));break;default:location.replace(y)}else switch(p){case"fadeout":$("body").fadeOut(1e3,(function(){location.assign(y)}));break;case"slideup":$("body").slideUp(1e3,(function(){location.assign(y)}));break;default:location.assign(y)}if(c.I.firePageunload||c.I.onurlchange||(c.I.firePageunload=!0,WebSquare.event.fireEvent(WebSquare.getBody(),"onpageunload")),
!c.I.onurlchange)"true"!==c.I.getConfiguration("/WebSquare/clearMemory/@value")&&WebSquare.clearMemory(),wq_reload(y)}else if(WebSquare.w2xPath="",y==m)WebSquare.util.onhashchange();else if(c.I.urlchangebyapi=!0,t.replaceHistory)switch(p){case"fadeout":$("body").fadeOut(1e3,(function(){location.replace(y)}));break;case"slideup":$("body").slideUp(1e3,(function(){location.replace(y)}));break;default:location.replace(y)}else switch(p){case"fadeout":$("body").fadeOut(1e3,(function(){location.assign(y)}));break;case"slideup":$("body").slideUp(1e3,(function(){location.assign(y)}));break;default:location.assign(y)}}else{var m,b;o=c.I.getURL(e,r);(b=(m=location.toString()).indexOf("?"))<0&&(b=m.indexOf("#"))<0&&(b=m.length);var y;l=m.substring(0,b);if(y=WebSquare.configPath?l+"?w2Config="+WebSquare.configPath+"&"+n+"=":l+"?"+n+"=",WebSquare.util.isEncodeParameter()?WebSquare.util.getEncodeParameterOption("onlyParam")?y=y+o+i:y+=WebSquare.util.encodeParameter(o+i):y=y+o+i,"onhashchange"in window?window.onhashchange=null:clearInterval(WebSquare.util._hashTestKey),WebSquare.event.fireEvent(WebSquare.getBody(),"onpageunload"),t.replaceHistory)switch(p){case"fadeout":$("body").fadeOut(1e3,(function(){location.replace(y)}));break;case"slideup":$("body").slideUp(1e3,(function(){location.replace(y)}));break;default:location.replace(y)}else switch(p){case"fadeout":$("body").fadeOut(1e3,(function(){location.assign(y)}));break;case"slideup":$("body").slideUp(1e3,(function(){location.assign(y)}));break;default:location.assign(y)}}}catch(e){u.Y.printStackTrace(e)}},p.clearPage=function(){return c.I.onclearpage=!0,WebSquare.util.url(WebSquare.net.getBlankXML(),{spa:!0,forceReload:!0})},p.reinitializeWframe=function(e,t){try{var r=JSON.stringify(t),i=WebSquare.util.getFrameFromPoint(r),a=null;i&&(a=WebSquare.idCache[i]),a&&a.reload()}catch(e){u.Y.printStackTrace(e)}},p.reinitialize=function(e){try{if(d.v.printLog("before redraw page"),e)"onhashchange"in window?window.onhashchange=null:clearInterval(WebSquare.util._hashTestKey),c.I.finalize(),location.reload();else{var t=WebSquare.net.getParameter("w2xPath");""!=t&&t==WebSquare.w2xPath||(location.hash=location.hash+"#w2xPath="+WebSquare.w2xPath),WebSquare.w2xPath="",WebSquare.util.onhashchange()}}catch(e){u.Y.printStackTrace(e)}},p.reinitializeTop=function(){try{var e=WebSquare.util.getTop();e.WebSquare&&e.WebSquare.util.reinitialize(!1)}catch(e){u.Y.printStackTrace(e)}},p.onhashchange=async function(e){try{var t=!1,r="",i=WebSquare.util.getUrlHashText();if(null!=i&&(t=!0,r=i),t||(r=WebSquare.net.getParameter("w2xPath")),""==r)return void location.toString().indexOf("."+WebSquare.w2xExtension);if(r==WebSquare.w2xPath)return;if(!c.I.urlchangebyapi&&""!==WebSquare.w2xPath&&location.hash.indexOf("w2xPath")<0&&!t)return;for(var a in"onhashchange"in window?window.onhashchange=null:window.clearInterval(WebSquare.util._hashTestKey),l.Q.performanceCheck)l.Q.performanceCheck[a]=new Date;l.Q.printLog("[SPA1] The user request for new XML page. ");var n=location.href;if(c.I.onurlchange=!0,c.I.onclearpage=!1,c.I.finalize(),c.I.onurlchange=!1,c.I.urlchangebyapi=!1,c.I.onclearpage||!t&&WebSquare.net.getParameter("w2xPath")!=r)return c.I.onclearpage=!1,location.replace(n),"true"!==c.I.getConfiguration("/WebSquare/clearMemory/@value")&&WebSquare.clearMemory(),void window.wq_reload(n);c.I.onclearpage=!1,l.Q.performanceCheck.mid1=new Date,l.Q.printLog("[SPA2] Clear page resources. Time:"+(l.Q.performanceCheck.mid1.getTime()-l.Q.performanceCheck.start.getTime())+"ms"),WebSquare.w2xPath=r;WebSquare.w2xPath=WebSquare.w2xPath.replace(/[\\]/g,"/");var o=WebSquare.w2xPath.lastIndexOf("/");""==WebSquare.net.getParameter("w2xHome")?WebSquare.w2xHome=o>-1?WebSquare.w2xPath.substring(0,o+1):"/":WebSquare.w2xHome=WebSquare.net.getParameter("w2xHome"),WebSquare.logFileName=o>-1?" "+WebSquare.w2xPath.substring(o+1):" "+WebSquare.w2xPath;var s=WebSquare.net.getParameter("w2xDocumentRoot")
;"/"==s||"\\"==s?WebSquare.w2xDocumentRoot="":""!=s&&(WebSquare.w2xDocumentRoot=s),d.v.printLog("w2xDocumentRoot["+WebSquare.w2xDocumentRoot+"]"),d.v.printLog("w2xHome        ["+WebSquare.w2xHome+"]"),d.v.printLog("w2xPath        ["+WebSquare.w2xPath+"]"),d.v.printLog("w2xTheme       ["+WebSquare.w2xTheme+"]"),await l.Q.loadEngineModuleAsync(!0),c.I._createGlobalVariable(),WebSquare._loadCSS({isSPA:!0,w2xPath:r});var p,h=c.I.getConfiguration("/WebSquare/spa/defer/@function"),f=parseInt(c.I.getConfiguration("/WebSquare/spa/defer/@delay"),10)||0;h&&(p=WebSquare.util.getGlobalFunction(h));var g=!1;"function"==typeof p&&f>0&&(g=p(r)),!0===g?WebSquare.util.setTimeout(WebSquare.util._onhashchange,{key:"WebSquare.util._onhashchange",caller:this,delay:f,args:[r]}):WebSquare.util._onhashchange(r)}catch(e){u.Y.printStackTrace(e)}},p._onhashchange=function(e){if(!WebSquare.initialize(e,!0)){"onhashchange"in window?window.onhashchange=WebSquare.util.onhashchange:WebSquare.util._hashTestKey=window.setInterval(WebSquare.util._hashTest,50),d.v.printLog("Runtime Error : "+e+" load failed.");var t=WebSquare.language.getMessage("E_initializer_XMLLoadFailError",e);WebSquare.loadErrorHandler({code:"E_initializer_XMLLoadFailError",msg:t})}},p.getUrlHashText=function(){try{var e=null;for(var t in WebSquare.spaURLMapping)for(var r=location.hash.slice(1).split(/[\&\?\#]/),i=0;i<r.length;i++)if(t===r[i]){e=WebSquare.spaURLMapping[t];break}return e}catch(e){u.Y.printStackTrace(e,null,this)}},p._stopProcess=function(e){if(e||location.hash&&location.hash.lastIndexOf("w2xPath")>=0){var t=WebSquare.util.getUrlHashText();if(null==t&&(t=WebSquare.net.getParameter("w2xPath")),!t)return!1;if(t!=WebSquare.w2xPath)return d.v.printLog("[SPA_Exception] Event Activation Canceled by New Page Request : #w2xPath="+t),WebSquare.util.onhashchange(),!0}return!1},p.isSPA=function(){return location.hash&&location.hash.lastIndexOf("w2xPath")>=0||null!=WebSquare.util.getUrlHashText()},p.movePage=async function(e){try{var t=e;for(var r in"onhashchange"in window?window.onhashchange=null:clearInterval(WebSquare.util._hashTestKey),l.Q.performanceCheck)l.Q.performanceCheck[r]=new Date;if(l.Q.printLog("[SPA1] The user request for new XML page. "),c.I.onurlchange=!0,c.I.onclearpage=!1,"true"===c.I.getConfiguration("/WebSquare/spa/autoReload/@value").toLowerCase()){for(var i in c.I.memoryLeakComponent)if(null!=WebSquare.componentsCache[i]){if(!WebSquare.hybridApp&&Number(c.I.getConfiguration("/WebSquare/spa/autoReload/@"+i))<=Object.keys(WebSquare.componentsCache[i]).length){try{if(n=c.I.getConfiguration("/WebSquare/spa/autoReload/@userFunction"))"function"==typeof(o=WebSquare.util.getGlobalFunction(n))&&o(e);else WebSquare.util.url(e,{spa:!1})}catch(e){u.Y.printStackTrace(e)}return}c.I.memoryLeakComponentCount+=Object.keys(WebSquare.componentsCache[i]).length*c.I.memoryLeakComponent[i]}var a=c.I.getConfiguration("/WebSquare/spa/autoReload/@count");if(a=""==a?NaN:Number(a),!WebSquare.hybridApp&&c.I.memoryLeakComponentCount>0&&c.I.memoryLeakComponentCount>a){try{var n,o;if(n=c.I.getConfiguration("/WebSquare/spa/autoReload/@userFunction"))"function"==typeof(o=WebSquare.util.getGlobalFunction(n))&&o(e);else WebSquare.util.url(e,{spa:!1})}catch(e){u.Y.printStackTrace(e)}return}}c.I.finalize(),c.I.onurlchange=!1,c.I.urlchangebyapi=!1,c.I.onclearpage=!1,l.Q.performanceCheck.mid1=new Date,l.Q.printLog("[SPA2] Clear page resources. Time:"+(l.Q.performanceCheck.mid1.getTime()-l.Q.performanceCheck.start.getTime())+"ms"),WebSquare.w2xPath=t;WebSquare.w2xPath=WebSquare.w2xPath.replace(/[\\]/g,"/");var s=WebSquare.w2xPath.lastIndexOf("/");""==WebSquare.net.getParameter("w2xHome")?WebSquare.w2xHome=s>-1?WebSquare.w2xPath.substring(0,s+1):"/":WebSquare.w2xHome=WebSquare.net.getParameter("w2xHome"),WebSquare.logFileName=s>-1?" "+WebSquare.w2xPath.substring(s+1):" "+WebSquare.w2xPath;var h=WebSquare.net.getParameter("w2xDocumentRoot")
;"/"==h||"\\"==h?WebSquare.w2xDocumentRoot="":""!=h&&(WebSquare.w2xDocumentRoot=h),d.v.printLog("w2xDocumentRoot["+WebSquare.w2xDocumentRoot+"]"),d.v.printLog("w2xHome        ["+WebSquare.w2xHome+"]"),d.v.printLog("w2xPath        ["+WebSquare.w2xPath+"]"),d.v.printLog("w2xTheme       ["+WebSquare.w2xTheme+"]"),await l.Q.loadEngineModuleAsync(!0);var f=WebSquare.util._stopProcess;if(p._stopProcess=function(){},!await WebSquare.initialize(t,!0)){"onhashchange"in window?window.onhashchange=WebSquare.util.onhashchange:WebSquare.util._hashTestKey=setInterval(WebSquare.util._hashTest,50),d.v.printLog("Runtime Error : "+t+" load failed.");var g=WebSquare.language.getMessage("E_initializer_XMLLoadFailError",t);WebSquare.loadErrorHandler({code:"E_initializer_XMLLoadFailError",msg:g})}for(var m in c.I.clearTimer("WebSquare_startOnload"),WebSquare.DataCollection.activated=!0,WebSquare.DataCollection.comp)WebSquare.DataCollection.comp[m].activate();WebSquare.getBody().activate(),l.Q.performanceCheck.mid6=new Date,l.Q.printLog("[SPA7][EVENT] Event Activation. Time:"+(l.Q.performanceCheck.mid6.getTime()-l.Q.performanceCheck.mid5.getTime())+"ms"),WebSquare.startOnLoad(!0),"onhashchange"in window?window.onhashchange=WebSquare.util.onhashchange:WebSquare.util._wait_for_iframe_reload(),WebSquare.getBody().onComplete(),WebSquare.DataCollection.api.onComplete(),WebSquare.util._stopProcess=f}catch(e){u.Y.printStackTrace(e)}},"onhashchange"in window||(p._hashTest=function(){if(WebSquare.util._hash){if(WebSquare.util._hash!=location.hash)WebSquare.util._hash=location.hash,WebSquare.util.onhashchange();else if(WebSquare.util._hiddenFrame&&!WebSquare.util._iframe_wait){try{var e=document.getElementById(WebSquare.util._hiddenFrame.id);if(null!=e){var t=e.contentWindow.location.search.slice(1);if(t!=WebSquare.w2xPath){var r=location.hash.lastIndexOf("#w2xPath");if(r<0)location.hash.length>0?location.hash=location.hash+"&w2xPath="+t:location.hash="#w2xPath="+t;else{var i=location.hash.substring(r+1).search(/[\&\?\#]/)+1;i<0?location.hash=location.hash.slice(0,r)+"#w2xPath="+t:(location.hash=location.hash.slice(0,r)+"#w2xPath="+t+location.hash.substring(r+i),alert(location.hash.slice(0,r)),alert(t),alert(location.hash.substring(r+i))),alert(location.hash)}}}else document.body.appendChild(WebSquare.util._hiddenFrame)}catch(e){u.Y.printStackTrace(e)}e=null}}else WebSquare.util._hash=location.hash},p._makeFrame=function(){try{var e=document.createElement("iframe");e.id="wq_hidden_frame_for_spa_history",e.src=s.q._resourceURI+"blank.html?"+WebSquare.w2xPath,e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.style.display="none",WebSquare.util._hiddenFrame=document.body.appendChild(e),e=null}catch(e){u.Y.printStackTrace(e)}},p._wait_for_iframe_reload=function(e){(e||location.hash&&location.hash.lastIndexOf("w2xPath")>=0)&&WebSquare.util._iframe_wait&&(WebSquare.util._hiddenFrame.contentWindow.location.search.slice(1)!=WebSquare.w2xPath?setTimeout(WebSquare.util._wait_for_iframe_reload,5):(WebSquare.util._iframe_wait=!1,WebSquare.util._hashTestKey=setInterval(WebSquare.util._hashTest,50)))}),p.setFullView=function(e){try{function t(){var t=window.innerWidth||document.body.clientWidth,r=window.innerHeight||document.body.clientHeight;if(null!==e&&"function"==typeof e){var i=e();if(null!==i&&"object"==typeof i&&i.baseHeight&&i.baseWidth){var a,n,o=t/i.baseWidth,s=r/i.baseHeight;(a=o>s?s:o)<(n=!isNaN(parseFloat(i.minZoom))&&isFinite(i.minZoom)?i.minZoom:.5)&&(a=n),WebSquare.util.isIEAllVersion()&&(document.body.style.width=document.documentElement.offsetWidth/a+"px",document.body.style.height=document.documentElement.offsetHeight/a+"px"),WebSquare.util.zoomed(document.body,a),WebSquare.util.isIEAllVersion()||WebSquare.util.traverseAndZoom(document,a),WebSquare.util.fullViewed=!0,WebSquare.util.fullViewRatio=a,document.documentElement.style.overflow="hidden"
}else!isNaN(parseFloat(i))&&isFinite(i)&&(WebSquare.util.isIEAllVersion()&&(document.body.style.width=document.documentElement.offsetWidth/a+"px",document.body.style.height=document.documentElement.offsetHeight/a+"px"),WebSquare.util.zoomed(document.body,i),WebSquare.util.isIEAllVersion()||WebSquare.util.traverseAndZoom(document,i),WebSquare.util.fullViewed=!0,WebSquare.util.fullViewRatio=i,document.documentElement.style.overflow="hidden")}}WebSquare.getBody().event.addListener(window,"onresize",t),t()}catch(r){u.Y.printStackTrace(r)}},p.getMetaValue=function(e){try{var t="",r=WebSquare.Elem.api.getElementsByTagName(WebSquare.WebSquaredoc.getPageInfo(),"head")[0];return r&&(t=WebSquare.Elem.api.getAttribute(r,e)),t}catch(e){u.Y.printStackTrace(e)}},p.traverseAndZoom=function(e,t){for(var r=e.getElementsByTagName("iframe"),i=0;i<r.length;i++)r[i].contentWindow.WebSquare.util.zoomed(r[i].contentWindow.document.body,t),r[i].contentWindow.WebSquare.util.traverseAndZoom(r[i].contentWindow.document,t)},p.zoomed=function(e,t){if(l.Q.browserCheck.moz&&e&&e.style)e.style.MozTransform="scale("+t+")",e.style.MozTransformOrigin="left top";else if(e&&e.style&&(e.style.zoom=t,l.Q.fullViewClass)){l.Q.fullViewClass=!1;for(var r=document.getElementsByTagName("style"),i=0;i<r.length;i++)if(r[i].textContent==l.Q.fullViewClassCssText){document.getElementsByTagName("head")[0].removeChild(r[i]);break}}},p.createProgressBar=function(e){try{if(e&&e.id){var t=WebSquare.util.dynamicCreate(e.id,"progressbar",e);t.render.style.zIndex=4500,t.setStyle("position","absolute")}else d.v.printLog("Please set Progressbar options id")}catch(e){u.Y.printStackTrace(e)}},p.getNextTabbableComp=function(e){try{var t,r=function(e){if(null!=WebSquare.tabOrder[e]&&null!=WebSquare.tabOrder[e].nextTabID){var t=WebSquare.tabOrder[e].nextTabID,i=WebSquare.util.getComponentById(t);if(i)return!0===i.getReadOnly()||!0===i.getDisabled()||$("#"+t+":visible").length<1?r(t):t}};return t=r(e),WebSquare.util.getComponentById(t)||WebSquare.util.getComponentById(e)}catch(e){u.Y.printStackTrace(e)}},p.getPreTabbableComp=function(e){try{var t,r=function(e){if(null!=WebSquare.tabOrder[e]&&null!=WebSquare.tabOrder[e].preTabID){var t=WebSquare.tabOrder[e].preTabID,i=WebSquare.util.getComponentById(t);if(i)return!0===i.getReadOnly()||!0===i.getDisabled()||$("#"+t+":visible").length<1?r(t):t}};return t=r(e),WebSquare.util.getComponentById(t)||WebSquare.util.getComponentById(e)}catch(e){u.Y.printStackTrace(e)}},p.setNextTabPageComp=function(e,t){try{var r=WebSquare.util.getComponentById(e);if(r&&("wframe"==r.options.pluginName||"pageFrame"==r.options.pluginName||r.options.udcName)){var i,a=null;if(t&&t.firstTabID&&(r.options.firstTabID=t.firstTabID),t&&t.lastTabID&&(r.options.lastTabID=i=t.lastTabID),r.options.nextTabID){a=$("#"+r.id+" *:wq:tabbable"),null==WebSquare.tabOrder[r.id]&&(WebSquare.tabOrder[r.id]={});var n=null;r.options.udcName?r.parentFrame&&void 0!==WebSquare.idCache[r.parentFrame]&&(n=WebSquare.idCache[r.parentFrame].id):n=r.scope_id;var o,s=null!=n?WebSquare.util.getComponentById(r.options.nextTabID,n).id:r.options.nextTabID;if(WebSquare.tabOrder[r.id].nextTabID=s,i)o=null!=n?WebSquare.util.getComponentById(r.options.lastTabID,n).id:r.options.lastTabID;else{var l=$(a[a.length-1]).wq()[0];l&&(o=l.id)}o&&(null==WebSquare.tabOrder[s]&&(WebSquare.tabOrder[s]={}),WebSquare.tabOrder[s].preTabID=o,null==WebSquare.tabOrder[o]&&(WebSquare.tabOrder[o]={}),WebSquare.tabOrder[o].nextTabID=s)}if(null!=WebSquare.tabOrder[r.id]&&null!=WebSquare.tabOrder[r.id].preTabID){var c,d=null;if(null!=r.options.firstTabID)d=null!=n?WebSquare.util.getComponentById(r.options.firstTabID,n).id:r.options.firstTabID;else null==a&&(a=$("#"+r.id+" *:wq:tabbable")),(c=$(a[0]).wq()[0])&&(d=c.id);if(d){var p=WebSquare.tabOrder[r.id].preTabID;WebSquare.tabOrder[p].nextTabID=d,null==WebSquare.tabOrder[d]&&(WebSquare.tabOrder[d]={}),WebSquare.tabOrder[d].preTabID=p}}}}catch(e){u.Y.printStackTrace(e)}},
p.setNextTabID=function(e,t,r){try{if(null!=t){null==WebSquare.tabOrder[e]&&(WebSquare.tabOrder[e]={});var i=p.getComponentById(e,r),a=i.getGenerator(),n=!1;"generator"==a.options.pluginName&&(n=!0);var o=r||i.scope_id;if(i.options.inheritedCompName&&(o=WebSquare.idCache[i.parentFrame].id),n)if(!p.getComponentById(t)){var s=p.getDataPrefix("g_index"),l=(p.getDataPrefix("original_id"),i.element.getAttribute(s));t=a.id+"_"+l+"_"+t}var c=WebSquare.util.getComponentById(t,o);t=null!=o?c.id:t;if(WebSquare.tabOrder[t]&&c&&("wframe"===c.options.pluginName||"pageFrame"===c.options.pluginName||c.options.udcName))if(WebSquare.tabOrder[t].preTabID!==e){var d=null;if(o||(c.options.udcName?c.parentFrame&&void 0!==WebSquare.idCache[c.parentFrame]&&(o=WebSquare.idCache[c.parentFrame].id):o=c.scope_id),null!=WebSquare.tabOrder[c.id]){var h,f=null;if(null!=c.options.firstTabID)f=null!=o?WebSquare.util.getComponentById(c.options.firstTabID,o).id:c.options.firstTabID;else null==d&&(d=$("#"+c.id+" *:wq:tabbable")),(h=$(d[0]).wq()[0])&&(f=h.id);f&&(WebSquare.tabOrder[e].nextTabID=f,null==WebSquare.tabOrder[f]&&(WebSquare.tabOrder[f]={}),WebSquare.tabOrder[f].preTabID=e)}}else WebSquare.tabOrder[e].nextTabID=t;else WebSquare.tabOrder[e].nextTabID=t;null==WebSquare.tabOrder[t]&&(WebSquare.tabOrder[t]={}),WebSquare.tabOrder[t].preTabID=e}}catch(e){u.Y.printStackTrace(e)}},p._getTabbableComp=function(e){WebSquare.util._getTabbableComp;try{var t=[];return e&&(t=e.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"]), [disabled]:not([disabled="true"], [aria-hidden]:not([aria-hidden="true"])')),t}catch(e){u.Y.printStackTrace(e)}},p.autoFocus=function(e,t){WebSquare.util.autoFocus;try{var r=WebSquare.util.getStringByByteSize(t,e.options.maxByteLength+2,e.options.byteCheckIgnoreChar),i=WebSquare.util.getByteLength(r)===e.options.maxByteLength&&!0!==WebSquare.util.isKorean(t.charAt(t.length-1)),a=WebSquare.util.getByteLength(r)>e.options.maxByteLength;e.options.autoFocus&&(i||a)&&WebSquare.util._autoFocus(e)}catch(e){u.Y.printStackTrace(e)}},p._autoFocus=function(e){WebSquare.util.autoFocus;try{if(null!=WebSquare.tabOrder[e.id]&&null!=WebSquare.tabOrder[e.id].nextTabID){var t=WebSquare.util.getNextTabbableComp(e.id);t&&t.focus()}else{var r=WebSquare.util.getGlobalFunction(c.I.getConfiguration("/WebSquare/nextTabFunction/@value"));"function"==typeof r&&r.call(e,e.id)}}catch(e){u.Y.printStackTrace(e)}},p.multipleExcelDownload=function(e){try{for(var t,r=e.common,i=e.excelInfo,a={},n=[],o=[],s=!0,l=[],p="",h=r.action||r.advancedExcelDownloadURL||"",f=0;f<i.length;f++){for(var g in a={},n=[],a=i[f],r)a[g]=r[g];if(a.dataProvider=a.dataProvider||"",a.splitProvider=a.splitProvider||"",""==a.dataProvider&&!1,""==a.sheetName){s=!1;break}var m;m=a.sheetName;for(var b=0;b<o.length;b++)if(o[b]==a.sheetName){a.sheetName=a.sheetName+"("+b+")";break}o.push(m),n=a.infoArr,p=a.wframeId||"",null!=(t=WebSquare.util.getComponentById(a.gridId,p))&&null!=t.delayedDrawObj&&t.setRedrawStatus("draw");var y=parseInt(a.rowsByN);switch(a.rowsByN=y>100?y:100,a.dataLength=t.getDataLength(),a.type+""){case"":case"0":a.type=0;break;case"2":a.type=2;break;default:a.type=1}if(0===a.type||1===a.type){0==f&&(!0===a.showProcess?(a.processMsg=a.processMsg||"composing excel data...",WebSquare.layer.showProcessMessage(a.processMsg,{scope:e.scopeId||a.wframeId||""})):WebSquare.getBody().showModal("w2modal_gridDownload")),a.cellInfo=[],a.isPlainDataCol=[],a.isSelectCol=[],a.isBasicCol=[],a.isExpCol=[],a.isCustomCol=[],a.isCustomModelCol=[],a.isCustomType=[],a.isEscapeFormatter=[];var S=t.oneRowDataLength;for(b=0;b<S;b++){var v=t.getCellInfo(b),w=v.options.inputType;a.cellInfo[b]=v,a.isCustomType[b]="custom"===w,a.isPlainDataCol[b]="checkbox"===w||"image"===w||"radio"===w||"autofinder"===w,a.isSelectCol[b]="select"===w||"checkcombobox"===w||"autoComplete"===w,a.isExpCol[b]="expression"===w,a.isCustomModelCol[b]=v.useCustomModelFormatter,
a.isCustomCol[b]=v.useCustomFormatter,a.isBasicCol[b]=!(a.isPlainDataCol[b]||a.isSelectCol[b]||a.isExpCol[b]||a.isCustomModelCol[b]||a.isCustomType[b]),a.isEscapeFormatter[b]=v.useEscapeFormatter}}var C;a.multiexcel=!0,a.massStorage=!1,a.dataHandler=a.dataHandler||"",C=""!=a.dataHandler?t.sendExcelData(a,n,""):t.makeExcelData(0,[],a,n),0==l.length?(l=C)[0]="<vector result='"+i.length+"'>":(C[1]="<data vectorkey='"+f+"'><hashtable>",C.pop(),C.shift(),l.pop(),(l=l.concat(C)).push("</vector>"))}if(0==s&&d.v.printLog("sheetName has not been set. Set the properties sheetName."),1==s){var q=r.msaName||t._getMsaName()||"";if(""!=q){var W="";""!=h&&(W=h),h=c.I.getServletURL(t,q,"xmlToExcel2.wq",W),a.useXHR=!0,a.userExcel=!0}""==h&&(h=t.options.advancedExcelDownloadURL),a.scopeId=e.scopeId||a.wframeId||"",c.I.excelDownload(h,l.join(""),"post",a),t.xmlData=null,void 0===a.showProcess||!1===a.showProcess?WebSquare.getBody().hideModal():!0===a.showConfirm&&this.hideDownloadLayer()}}catch(e){u.Y.printStackTrace(e,null,this)}},p.multipleExcelUpload=function(e){try{if(!e&&e.common)return;if(!e&&e.excelInfo)return;var t={status:[],uploadType:[],columnIds:[],dataList:[],gridID:[],wframeId:[]},r=e.common,i=e.excelInfo,a="",n=r.processMsg||"";n=WebSquare.text.BASE64URLEncoder(n);var o,s=r.action||"",d=r.postMsg||"false",p="",h="",f="",g=r.callbackFunction||"",m=e.scopeId,b=[];b.push("<vector result='"+i.length+"'>");for(var y=0;y<i.length;y++){var S={};f=(q=i[y]).wframeId||"";var v=WebSquare.util.getComponentById(q.gridId,f),w=v.element._elementType;b.push("<data vectorkey='"+y+"'>"),b.push("<hashtable>");var C="";C="json"===w?WebSquare.xmljs.json2xml(v.element._element,{changeKey:{"w2:select":"w2:column"}}):WebSquare.xml.serialize(v.element),b.push("<data hashkey='style'>"+C+"</data>");var q,W=(q=q||{}).type||"0",_=q.removeColumns||"",x=q.startRowIndex||"0",I=q.startColumnIndex||"0",T=q.endColumnIndex||"-1",k=q.sheetNo||"0",L=q.headerExist||"0";0===q.footerExist&&(q.footerExist="0");var A=q.footerExist||"1",E=q.append||"0",D=q.hidden||"0",M=q.fillHidden||"0",N=q.optionParam||"",R=q.skipSpace||"0",O=q.insertColumns||[],P="";if(v.options.dataList){var F=v.modelControl.getDataComp(v.options.dataList);null!=F&&(P=F.id)}var Y=q.status||"R",j=q.delim||",",B="",U="",V=q.pwd||"",H=r.loadingMode||"POI";h=r.maxFileSize||"-1";var z=q.cellDataConvertor||"",X=q.decimal||"4";o=q.useModalDisable||"false";for(var $=q.useMaxByteLength||"false",Z=r.advancedExcelUploadURL||"",K=0;K<O.length;K++){var J=O[K],G=J.columnIndex+""||"",Q=J.columnValue+""||"";""!=G&&(B=B+U+G+","+Q,U="|")}if(L=parseInt(L,10),E=parseInt(E,10),D=parseInt(D,10),A=parseInt(A,10),S.header=1==L?"true":"false",S.footer=1==A?"true":"false",S.append=1==E?"true":"false",S.removeColumns=_,S.fillHidden=1==M?"true":"false",S.hidden=1==D?"true":"false",S.type=1==W?"true":"false",S.uploadType=W,S.skipSpace=1==R?"true":"false",S.insertColumns=B,S.optionParam=N,S.msaName=r.msaName||"",""==Z){var ee=r.msaName||v._getMsaName()||"";if(""!=ee){var te="";""!=s&&(te=s),s=c.I.getServletURL(v,ee,"excelToGrid2.wq",te),d="true"}else s=v.options.advancedExcelUploadURL}else s=Z;S.gridID=v.id;var re=[];for(K=v.defaultColCnt;K<v.hiddenList.length;K++)1==v.hiddenList[K]&&re.push(K-v.defaultColCnt);S.columnNum=v.getTotalCol(),S.expressionColumns=v.getExpressionColumnArr().join(","),S.hiddenColumns=re.join(","),S.headerRows=v.getElementById(v.id+"_head_table").rows.length,S.gridStartRow=x||"1",S.gridStartCol=I||"1",S.gridEndCol=T,S.gridSheetNo=k||"0",S.domain="",WebSquare.domain&&(S.domain=WebSquare.text.URLEncoder(WebSquare.domain)),S.delim=j,S.dataList=P,S.columnIds=v.cellIdList.join(","),S.status=Y,S.pwd=V,S.loadingMode=H,S.maxFileSize=h,S.cellDataConvertor=z,S.decimal=X,S.useMaxByteLength=$+"","grid"==v.initializeType&&v.options.ref&&q.instanceBind&&(S.instanceBind=q.instanceBind);a=q.popupUrl||v.options.advancedExcelMultiUploadPopupURL;var ie=q.advancedHidden||"0",ae=""
;""!=S.pwd&&(ae=WebSquare.text.BASE64Encoder(S.pwd)),S.pwd=ae,b.push("<data hashkey='type' value='"+S.type+"'/>"),b.push("<data hashkey='header' value='"+S.header+"'/>"),b.push("<data hashkey='footer' value='"+S.footer+"'/>"),b.push("<data hashkey='append' value='"+S.append+"'/>"),b.push("<data hashkey='removeColumns' value='"+S.removeColumns+"'/>"),b.push("<data hashkey='fillHidden' value='"+S.fillHidden+"'/>"),b.push("<data hashkey='hidden' value='"+S.hidden+"'/>"),b.push("<data hashkey='uploadType' value='"+S.uploadType+"'/>"),b.push("<data hashkey='skip_space' value='"+S.skipSpace+"'/>"),b.push("<data hashkey='insertColumns' value='"+S.insertColumns+"'/>"),b.push("<data hashkey='optionParam' value='"+S.optionParam+"'/>"),b.push("<data hashkey='gridID' value='"+S.gridID+"'/>"),b.push("<data hashkey='columnNum' value='"+S.columnNum+"'/>"),b.push("<data hashkey='expressionColumns' value='"+S.expressionColumns+"'/>"),b.push("<data hashkey='hiddenColumns' value='"+S.hiddenColumns+"'/>"),b.push("<data hashkey='headerRows' value='"+S.headerRows+"'/>"),b.push("<data hashkey='gridStartRow' value='"+S.gridStartRow+"'/>"),b.push("<data hashkey='gridStartCol' value='"+S.gridStartCol+"'/>"),b.push("<data hashkey='gridEndCol' value='"+S.gridEndCol+"'/>"),b.push("<data hashkey='gridSheetNo' value='"+S.gridSheetNo+"'/>"),b.push("<data hashkey='domain' value='"+S.domain+"'/>"),b.push("<data hashkey='delim' value='"+S.delim+"'/>"),b.push("<data hashkey='dataList' value='"+S.dataList+"'/>"),b.push("<data hashkey='columnIds' value='"+S.columnIds+"'/>"),b.push("<data hashkey='status' value='"+S.status+"'/>"),b.push("<data hashkey='pwd' value='"+S.pwd+"'/>"),b.push("<data hashkey='loadingMode' value='"+S.loadingMode+"'/>"),b.push("<data hashkey='maxFileSize' value='"+S.maxFileSize+"'/>"),b.push("<data hashkey='cellDataConvertor' value='"+S.cellDataConvertor+"'/>"),b.push("<data hashkey='decimal' value='"+S.decimal+"'/>"),b.push("<data hashkey='useMaxByteLength' value='"+S.useMaxByteLength+"'/>"),b.push("<data hashkey='advancedHidden' value='"+S.advancedHidden+"'/>"),b.push("<data hashkey='bodyRows' value='"+v.struct.body.rowArr.length+"'/>"),b.push("<data hashkey='msaName' value='"+S.msaName+"'/>"),b.push("</hashtable>"),b.push("</data>"),t.status.push(S.status),t.uploadType.push(S.uploadType),t.columnIds.push(S.columnIds),t.dataList.push(S.dataList),t.gridID.push(S.gridID),t.wframeId.push(f)}b.push("</vector>"),a+="?gridID="+S.gridID,WebSquare.domain&&(a+="&domain="+S.domain),a+=1==ie?"&advancedHidden=true":"&advancedHidden=false",a+="&multi=true",t.processMsg=n,t.maxFileSize=h,t.useModalDisable=o,t.action=s,t.append=E,t.delim=j,t.callbackFunction=g,t.scopeId=m,t.postMsg=d,t.loadingMode=H,WebSquare._excelMultiInfo=JSON.stringify(t),WebSquare._excelMultiUploadInfo=b.join(""),p=void 0===r.features||"string"!=typeof r.features?"top=280,height=137,left=160,width=446,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no":r.features,a=l.Q.getEngineUri(a),window.open(a,"fileupWindow",p)}catch(e){u.Y.printStackTrace(e,null,this)}},p.multipleDataListDownload=function(e){try{for(var t,r=e.common,i=e.excelInfo,a={},n=[],o=[],s=!0,l=[],p="",h=r.action||r.dataListDownloadURL||"",f=0;f<i.length;f++){for(var g in a={},n=[],a=i[f],r)a[g]=r[g];if(a.dataProvider=a.dataProvider||"",a.splitProvider=a.splitProvider||"",""==a.dataProvider&&!1,""==a.sheetName){s=!1;break}var m;m=a.sheetName;for(var b=0;b<o.length;b++)if(o[b]==a.sheetName){a.sheetName=a.sheetName+"("+b+")";break}o.push(m),n=a.infoArr,p=a.wframeId||"",t=WebSquare.util.getComponentById(a.dataListId,p);var y=parseInt(a.rowsByN);switch(a.rowsByN=y>100?y:100,a.dataLength=t.getDataLength(),a.type+""){case"":case"0":a.type=0;break;case"2":a.type=2;break;default:a.type=1}0==f&&(!0===a.showProcess?(a.processMsg=a.processMsg||"composing excel data...",WebSquare.layer.showProcessMessage(a.processMsg)):WebSquare.getBody().showModal("w2modal_gridDownload"));var S;a.multiexcel=!0,
a.dataHandler=a.dataHandler||"",S=""!=a.dataHandler?WebSquare.util.sendDataList(t,a,n,""):WebSquare.util.makeDataListData(t,0,[],a,n),0==l.length?(l=S)[0]="<vector result='"+i.length+"'>":(S[1]="<data vectorkey='"+f+"'><hashtable>",S.pop(),S.shift(),l.pop(),(l=l.concat(S)).push("</vector>"))}if(0==s&&d.v.printLog("sheetName has not been set. Set the properties sheetName."),1==s){var v=r.msaName||t.scope_obj._getMsaName()||"";if(""!=v){var w="";""!=h&&(w=h),h=c.I.getServletURL(t,v,"dataListToExcel.wq",w),a.useXHR=!0,a.userExcel=!0}""==h&&(h=WebSquare.baseServletURI+"dataListToExcel.wq"),a.scopeId=e.scopeId||a.wframeId||"",c.I.excelDownload(h,l.join(""),"post",a),!1===a.showProcess?WebSquare.getBody().hideModal():!0===a.showConfirm&&(window.gridExceldownloadIframe.style.display="none",window.downloadGridId=null,WebSquare.getBody().hideModal())}}catch(e){u.Y.printStackTrace(e,null,this)}},p.makeDataListData=function(e,t,r,i,a){try{var n=r.length,o=t+i.rowsByN;o=o<i.dataLength?o:i.dataLength;var s=i.separator||",";if(""==i.dataProvider&&""==i.splitProvider&&(o=i.dataLength,n=(r=e.getAllData()).length),!(o<i.dataLength&&""==i.dataProvider&&""==i.splitProvider)){var l;if(""==i.dataProvider&&""==i.splitProvider)if(r.length>=2)if(n>0){var d=r[0],p=r[n-1];r[0]='<array><![CDATA[["'+d,r[n-1]=p+'"]]]></array>',l=r.join('"'+s+'"'),r[0]=d,r[n-1]=p}else l="<array><![CDATA[["+r+"]]]></array>";else l="<array><![CDATA[["+(1===r.length?'"'+r[0]+'"':"")+"]]]></array>";else l="<array><![CDATA[[ ]]]></array>";return WebSquare.util.sendDataList(e,i,a,l)}WebSquare.util.makeDataListData(e,o,r,i,a)}catch(t){var h=c.I.getConfiguration("/WebSquare/dataList/excel/download/errorHandler/@value"),f=WebSquare.util.getGlobalFunction(h,e.scope_id);"function"==typeof f&&f.call(e,e.id),u.Y.printStackTrace(t,null,e)}},p.sendDataList=function(e,t,r,i){var a=WebSquare.xml.encode(t.fileName)||"excel",n=t.sheetName||"sheet",o=(t.type,t.multipleSheet||"true"),s=t.removeColumns||"",l=t.startRowIndex||"0",u=t.startColumnIndex||"0",c=t.headerColor||"",d=t.headerFontName||"",p=t.headerFontSize||"",h=t.headerFontColor||"",f=t.bodyColor||"",g=t.bodyFontName||"",m=t.bodyFontSize||"",b=t.bodyFontColor||"",y=t.rowNumHeaderColor||"",S=t.rowNumHeaderFontName||"",v=t.rowNumHeaderFontSize||"",w=t.rowNumHeaderFontColor||"",C=t.rowNumBodyColor||"",q=t.rowNumBodyFontName||"",W=t.rowNumBodyFontSize||"",_=t.rowNumBodyFontColor||"",x=t.dataProvider||"",I=t.splitProvider||"",T=t.providerRequestXml||"",k=t.userDataXml||"",L=t.optionParam||"",A=t.bodyWordwrap||"",E=t.useEuroLocale||"false",D=t.useHeader||"true";t.printSet=t.printSet||{};var M=t.printSet.fitToPage||"false",N=t.printSet.landScape||"false",R=t.printSet.fitWidth||"1",O=t.printSet.fitHeight||"1",P=t.printSet.scale||"100",F=t.printSet.pageSize||"A4",Y=t.separator||",",j=t.freezePane||"",B=t.autoSizeColumn||"false",U=t.displayGridlines||"",V=t.useDataFormat||"false",H=(t.columnOrder,WebSquare.xml.encode(t.rowNumHeaderValue)||""),z=t.rowNumVisible+""=="true",X=t.startRowNumber||"0",$=t.bodyNumberDefaultValue||"",Z=t.numberToText||"false",K=t.rowHeight||"-1",J=t.headerRowHeight||"-1",G=t.maxDataSize||-1;G=parseInt(G,10);var Q=t.pwd||"",ee=t.headerAutoFilter||"false";t.httpReadOnly=t.httpReadOnly+""=="true";t.dataListDownloadURL;var te=t.useXHR||"false";t.useXHR=te+""=="true";var re=t.openFile||"false",ie=t.macroFileName||"",ae=t.useMacro||"false",ne=t.sameSite||"",oe=t.msaName||"",se=e.element,le="";if(se&&"JSON"==se.elementType){le="<w2:dataList id='"+se.id+"' baseNode='list' repeatNode='map'>",le+="<w2:columnInfo>";for(var ue=0;ue<se.columnInfo.length;ue++){var ce=se.columnInfo[ue];le+="<w2:column id='"+ce.id+"' name='"+ce.name+"' dataType='"+ce.dataType+"'/>"}le+="</w2:columnInfo>",le+="</w2:dataList>"}else le=WebSquare.xml.serialize(se);var de=[];if(de.push("<vector result='1'>"),de.push("<data vectorkey='0'><hashtable>"),de.push("<data hashkey='style'>"+le+"</data>"),t.dataHandler=t.dataHandler||"",""!=t.dataHandler){
var pe=WebSquare.util.getGlobalFunction(t.dataHandler,e.scope_id);if("function"==typeof pe){var he=pe.call(e,e.id);Y=t.separator||",";i='<array><![CDATA[["'+he.join('"'+Y+'"')+'"]]]></array>'}}de.push("<data hashkey='data'>"+i+"</data>"),de.push("<data hashkey='rowNumVisible' value='"+z+"'/>"),de.push("<data hashkey='fileName' value='"+a+"'/>"),de.push("<data hashkey='sheetName' value='"+n+"'/>"),de.push("<data hashkey='multipleSheet' value='"+o+"'/>"),de.push("<data hashkey='stRowIndex' value='"+l+"'/>"),de.push("<data hashkey='stColIndex' value='"+u+"'/>"),de.push("<data hashkey='removeColumns' value='"+s+"'/>"),de.push("<data hashkey='headerColor' value='"+c+"'/>"),de.push("<data hashkey='headerFontName' value='"+d+"'/>"),de.push("<data hashkey='headerFontSize' value='"+p+"'/>"),de.push("<data hashkey='headerFontColor' value='"+h+"'/>"),de.push("<data hashkey='bodyColor' value='"+f+"'/>"),de.push("<data hashkey='bodyFontName' value='"+g+"'/>"),de.push("<data hashkey='bodyFontSize' value='"+m+"'/>"),de.push("<data hashkey='bodyFontColor' value='"+b+"'/>"),z&&(de.push("<data hashkey='rowNumHeaderColor' value='"+y+"'/>"),de.push("<data hashkey='rowNumHeaderFontName' value='"+S+"'/>"),de.push("<data hashkey='rowNumHeaderFontSize' value='"+v+"'/>"),de.push("<data hashkey='rowNumHeaderFontColor' value='"+w+"'/>"),de.push("<data hashkey='rowNumBodyColor' value='"+C+"'/>"),de.push("<data hashkey='rowNumBodyFontName' value='"+q+"'/>"),de.push("<data hashkey='rowNumBodyFontSize' value='"+W+"'/>"),de.push("<data hashkey='rowNumBodyFontColor' value='"+_+"'/>")),de.push("<data hashkey='dataProvider' value='"+x+"'/>"),de.push("<data hashkey='splitProvider' value='"+I+"'/>"),de.push("<data hashkey='providerRequestXml' value=''>"+T+"</data>"),de.push("<data hashkey='userDataXml' value=''>"+k+"</data>"),de.push("<data hashkey='optionParam' value='"+L+"'/>"),""!=A&&de.push("<data hashkey='bodyWordwrap' value='"+A+"'/>"),de.push("<data hashkey='useEuroLocale' value='"+E+"'/>"),de.push("<data hashkey='useHeader' value='"+D+"'/>"),de.push("<data hashkey='fitToPage' value='"+M+"'/>"),de.push("<data hashkey='landScape' value='"+N+"'/>"),de.push("<data hashkey='fitWidth' value='"+R+"'/>"),de.push("<data hashkey='fitHeight' value='"+O+"'/>"),de.push("<data hashkey='scale' value='"+P+"'/>"),de.push("<data hashkey='pageSize' value='"+F+"'/>"),de.push("<data hashkey='separator' value='"+Y+"'/>"),de.push("<data hashkey='freezePane' value='"+j+"'/>"),de.push("<data hashkey='autoSizeColumn' value='"+B+"'/>"),de.push("<data hashkey='displayGridlines' value='"+U+"'/>"),de.push("<data hashkey='useDataFormat' value='"+V+"'/>"),de.push("<data hashkey='rowNumHeaderValue' value='"+H+"'/>"),de.push("<data hashkey='startRowNumber' value='"+X+"'/>"),de.push("<data hashkey='bodyNumberDefaultValue' value='"+$+"'/>"),de.push("<data hashkey='numberToText' value='"+Z+"'/>"),de.push("<data hashkey='rowHeight' value='"+K+"'/>"),de.push("<data hashkey='headerRowHeight' value='"+J+"'/>"),de.push("<data hashkey='pwd' value='"+Q+"'/>"),de.push("<data hashkey='headerAutoFilter' value='"+ee+"'/>"),de.push("<data hashkey='openFile' value='"+re+"'/>"),de.push("<data hashkey='macroFileName' value='"+ie+"'/>"),de.push("<data hashkey='useMacro' value='"+ae+"'/>"),""!=ne&&de.push("<data hashkey='sameSite' value='"+ne+"'/>"),""!=oe&&(de.push("<data hashkey='msaName' value='"+oe+"'/>"),te="true"),""!=te&&de.push("<data hashkey='useXHR' value='"+te+"'/>"),null!=r&&void 0!==r||(r=[]),de.push("<data hashkey='information'><vector result='"+r.length+"'>");for(ue=0;ue<r.length;ue++){var fe=r[ue];for(var ge in fe.rowSpan=fe.rowSpan||"1",fe.colSpan=fe.colSpan||"1",de.push("<data vectorkey='"+ue+"'><hashtable>"),fe)"text"==ge?de.push("<data hashkey='"+ge+"' value='"+WebSquare.xml.encode(fe[ge])+"'/>"):de.push("<data hashkey='"+ge+"' value='"+fe[ge]+"'/>");de.push("</hashtable></data>")}return de.push("</vector></data>"),de.push("</hashtable></data>"),de.push("</vector>"),de},
p.mirrorView=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t="height="+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)+",width="+e+",location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no",r="";WebSquare.domain&&(r="?domain="+WebSquare.text.URLEncoder(WebSquare.domain));var i=s.q._resourceURI+"mirrorView.html";window.open(i+r,"_blank",t)},p.watermark=function(e,t){try{void 0!==t&&null!=t||(t={});var r=t.canvasId||"watermarkCanvas",i=t.target&&t.target.render,a=i?t.target.render:document.body,n=t.lineGap||300,o=e,s=document.getElementById(r);s||((s=document.createElement("canvas")).id=r,s.style.position=i?"relative":"fixed",s.style.pointerEvents="none",s.style.top="0px",s.style.left="0px",s.style.right="0px",s.style.bottom="0px",s.setAttribute("data-watermark_msg",o),s.setAttribute("data-watermark_target",i?t.target.uuid:""),s.setAttribute("data-watermark_linegap",n),a.appendChild(s),a.setAttribute("data-watermark_canvas",r),i||WebSquare.event.addListener(window,"onresize",WebSquare.util._watermarkResize)),WebSquare.util._watermarkRedraw(a)}catch(e){u.Y.printStackTrace(e,null,this)}},p._watermarkDate=function(){try{var e=new Date;return WebSquare.text.fillZero(e.getFullYear(),4)+"-"+WebSquare.text.fillZero(e.getMonth()+1,2)+"-"+WebSquare.text.fillZero(e.getDate(),2)+" "+WebSquare.text.fillZero(e.getHours(),2)+":"+WebSquare.text.fillZero(e.getMinutes(),2)+":"+WebSquare.text.fillZero(e.getSeconds(),2)}catch(e){u.Y.printStackTrace(e,null,this)}},p._watermarkResize=function(e){try{var t=WebSquare.event.getTarget(e);WebSquare.util.setTimeout((function(e){WebSquare.util._watermarkRedraw(e)}),{key:"wq_watermark",max:70,args:[t]})}catch(e){u.Y.printStackTrace(e,null,this)}},p._watermarkRedraw=function(e){try{var t,r=e&&e!==self;t=r?document.getElementById(e.getAttribute("data-watermark_canvas")):document.getElementById(document.body.getAttribute("data-watermark_canvas")),r?(t.width=e.clientWidth,t.height=e.clientHeight):(t.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight);var i=t.getContext("2d");i.globalAlpha=.2,i.rotate(6.9*Math.PI/4),i.fillStyle="#000",i.font="bold 30px Sans-Serif";var a=i.measureText(" ").width,n=WebSquare.util._watermarkDate(),o=i.measureText(n).width;i.font="bold 50px Sans-Serif";var s=i.measureText(" ").width,l=t.getAttribute("data-watermark_msg"),c=i.measureText(l).width,d=parseInt(t.getAttribute("data-watermark_linegap"));if(c<o)for(;c<o;)l+=" ",c+=s;else for(;c>o;)n+=" ",o+=a;function p(e,r){for(var a=Math.ceil(i.measureText(e).width),n=Math.ceil(t.width/a)+1,o=(e=new Array(n).join(e),0);o<Math.ceil(t.width/d);o++)i.fillText(e,-600,r+o*d)}p(l+="     ",250),i.font="bold 30px Sans-Serif",p(n+="        ",300)}catch(h){u.Y.printStackTrace(h,null,this)}},p._watermarkRemove=function(e){try{if(!WebSquare.util._watermarkArr)return;for(var t=WebSquare.util._watermarkArr.length-1;t>=0;t--){WebSquare.util._watermarkArr[t]===e&&WebSquare.util._watermarkArr.splice(t,1);var r=document.getElementById(e);r&&r.parentNode.removeChild(r)}}catch(e){u.Y.printStackTrace(e,null,this)}},p.redrawComponent=function(e,t){try{var r=WebSquare.util.getComponentById(e),i=t;null==t&&r.render&&(i=r.render.parentElement);var a=r.element.cloneNode(!0),n=r.options.pluginName;return r.remove(),WebSquare.util.dynamicCreate(e,n,a,i)}catch(e){u.Y.printStackTrace(e,null,this)}},p.emptySelection=function(){try{window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}catch(e){u.Y.printStackTrace(e,null,this)}},p.exportJSChartAll=function(e){try{var t=e.type,r=e.fcArr||[],i=e.fileName,a=e.direction||"vertical",n={}
;if(r.length>0)for(var o=0;o<r.length;o++)n["fc_"+r[o]]=FusionCharts.items["fc_"+r[o]];else for(var o in FusionCharts.items)n[o]=FusionCharts.items[o];var s="",l=0,d=0,p=0,h=0,f=0,g=0;for(var o in n)if(n[o].options.containerElement)if("horizontal"==a.toLowerCase()){d+=n[o].options.containerElement.offsetWidth;var m=n[o].options.containerElement.offsetHeight;m>p&&(p=m),(b=n[o].getSVGString())&&(b=(b=(b=b.wq_replaceAll('shape-rendering="default"',"shape-rendering='auto'")).wq_replaceAll('visibility=""',"visibility='inherit'")).wq_replaceAll('text-anchor="undefined"',"text-anchor='start'"),WebSquare.util.isIEAllVersion(11)&&(b=(b=b.wq_replaceAll("&quot;","")).wq_replaceAll(location.href,"")),"zoomline"==n[o].options.chartType.toLowerCase()&&(b=b.wq_replaceAll('stroke-dasharray="-','stroke-dasharray="')),"pie3d"!=n[o].options.chartType.toLowerCase()&&"doughnut3d"!=n[o].options.chartType.toLowerCase()||(b=b.wq_replaceAll('font-family="15"','font-family="Verdana"'))),s+="<g transform='translate("+g+",0)'>"+b+"</g>",g+=n[o].options.containerElement.offsetWidth}else{l+=n[o].options.containerElement.offsetHeight;var b,y=n[o].options.containerElement.offsetWidth;y>h&&(h=y),(b=n[o].getSVGString())&&(b=(b=(b=b.wq_replaceAll('shape-rendering="default"',"shape-rendering='auto'")).wq_replaceAll('visibility=""',"visibility='inherit'")).wq_replaceAll('text-anchor="undefined"',"text-anchor='start'"),WebSquare.util.isIEAllVersion(11)&&(b=(b=b.wq_replaceAll("&quot;","")).wq_replaceAll(location.href,"")),"zoomline"==n[o].options.chartType.toLowerCase()&&(b=b.wq_replaceAll('stroke-dasharray="-','stroke-dasharray="')),"pie3d"!=n[o].options.chartType.toLowerCase()&&"doughnut3d"!=n[o].options.chartType.toLowerCase()||(b=b.wq_replaceAll('font-family="15"','font-family="Verdana"'))),s+="<g transform='translate(0,"+f+")'>"+b+"</g>",f+=n[o].options.containerElement.offsetHeight}s="horizontal"==a.toLowerCase()?"<svg width='"+d+"' height='"+p+"' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+s+"</svg>":"<svg width='"+h+"' height='"+l+"' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+s+"</svg>";var S=encodeURI(s+"ExportType="+t+"ExportFileName="+i);c.I.download("engine/servlet/exportFusionChart.jsp",S,"post"),n=null}catch(e){u.Y.printStackTrace(e,null,this)}},p.getRuntimeId=function(e,t){try{var r="";if(WebSquare.idToUUID[e]&&WebSquare.idCache[WebSquare.idToUUID[e]])r=e;else{var i=c.I._getGlobalVariable();if(i)for(var a=i.split(","),n=0;n<a.length;n++){if(e===a[n].wq_trim()){r=e;break}}}return r}catch(e){return u.Y.printStackTrace(e,null,this),""}},p.serialize=function(e){var t={header:{ip:(e=e||{}).ip?e.ip:"",method:e.method?e.method:"HEAD",status:e.status?e.status:"-1",auth:e.auth?e.auth:"",sender:e.sender?e.sender:"",receiver:e.receiver?e.receiver:"",pageURL:WebSquare.w2xPath,pageName:e.pageName?e.pageName:"",extension:e.extension?e.extension:{},comps:{}},body:{}},r={header:!1,body:!1,validate:!1};switch(t.header.method){case"HEAD":r.header=!0,r.body=!0;break;case"HEADCOMP":r.header=this._serializeHeaderComps("top",window,t.header.comps),r.body=!0;break;case"HEADBODY":r.header=this._serializeHeaderComps("top",window,t.header.comps),r.body=this._serializeBody("top",window,t.body);break;default:return!1}return r.validate=this._serializeValidate(t),!!(r.validate&&r.header&&r.body)&&JSON.stringify(t)},p._serializeHeaderComps=function(e,t,r){if("string"!=typeof e||arguments.length<=1)return!1;var i=t,a=i.WebSquare.DataCollection.comp;for(var n in r[e]={},a)r[e][n]=n;var o=i.WebSquare.idCache;for(var n in o){var s=o[n];switch(s.constructor){case i.WebSquare.DataCollection.dataList:case i.WebSquare.DataCollection.dataMap:break;case i.WebSquare.uiplugin.iframe:this._serializeHeaderComps(s.id,i.document.getElementById(s.id).contentWindow,r[e]);break;default:s.options.serializable&&(r[e][s.id]=s.id)}}return!0},p._serializeBody=function(e,t,r){
if("string"!=typeof e||arguments.length<=1)return!1;var i=t;r[e]=JSON.parse(i.WebSquare.DataCollection.api._getArrayEvalString());var a=i.WebSquare.idCache;for(var n in a){var o=a[n];switch(o.constructor){case i.WebSquare.DataCollection.dataList:case i.WebSquare.DataCollection.dataMap:break;case i.WebSquare.uiplugin.iframe:this._serializeBody(o.id,i.document.getElementById(o.id).contentWindow,r[e]);break;default:o.options.serializable&&(r[e][o.id]=o.serialize())}}return!0},p._serializeValidate=function(e){return!0},p.parse=function(e){return JSON.parse(e)},p._restore=function(e,t,r){var i=r;if(i.WebSquare){var a=i.WebSquare.DataCollection.comp;for(var n in t){var o=a[n]||i.WebSquare.idCache[n]||i[n];if(o)switch(o.constructor){case i.WebSquare.DataCollection.dataList:case i.WebSquare.DataCollection.dataMap:i.WebSquare.DataCollection.api._setArrayEvalString("{"+n+":"+JSON.stringify(t[n])+"}");break;case i.WebSquare.uiplugin.iframe:this._restore(o.id,t[o.id],i.document.getElementById(o.id).contentWindow);break;default:o.options&&o.options.serializable&&o.restore(t[n])}}}},p.restore=function(e,t){try{var r={};if("string"==typeof e)r=JSON.parse(e);else{if("object"!=typeof e)return!1;r=e}return this._restore("top",r.body.top,t||window.top),!0}catch(e){u.Y.printStackTrace(e,null,this)}return!1},p.getFrameFromPoint=function(e){try{for(var t=JSON.parse(e),r=document.elementFromPoint(t.x,t.y),i=null;r&&"BODY"!==r.tagName;){if("DIV"==r.tagName&&(WebSquare.xfControl.prototype.__hasClass(r,"w2wframe")||WebSquare.xfControl.prototype.__hasClass(r,"w2pageFrame"))){var a=WebSquare.util.getComponentById(r.getAttribute("id"));if(a&&a.options&&a.options.scope){i=a.uuid;break}}r=r.parentNode}return null==i&&WebSquare.strictModeFrame&&(i=WebSquare.strictModeFrame.uuid),i}catch(e){u.Y.printStackTrace(e,null,this)}},p.getAbsolutePath=function(e){try{if(!e||"string"!=typeof e)return"";var t=document.createElement("a");t.setAttribute("href",e);var r=WebSquare.util._getAbsolutePath(t.href.toString());return t=null,r}catch(e){return""}},p._getAbsolutePath=function(e){try{var t=e.indexOf("?");return t<0&&(t=e.length),e.slice(0,t)}catch(e){return""}},p.getFrameByPath=function(e,t,r){try{var i;if("/"===(e=e.wq_trim()).charAt(0))i=WebSquare.util.getComponentById(e.slice(1));else{var a=e.split("/");i=WebSquare.util.getComponentById(t)||"";for(var n=0;n<a.length;n++){var o=a[n];""===o||"."===o||(".."===o?i=i.scope_obj||"":i&&i.options&&("wframe"===i.options.pluginName||"pageFrame"===i.options.pluginName||"pageInherit"===i.options.pluginName)?i.options.scope&&(i=i.getObj(a[n])):i=WebSquare.util.getComponentById(a[n]))}}return r&&"component"===r.returnType?i:i.id}catch(e){u.Y.printStackTrace(e)}},p.getComponentByPath=function(e,t){try{return WebSquare.util.getFrameByPath(e,t,{returnType:"component"})}catch(e){u.Y.printStackTrace(e)}},p.getFocusedComponentId=function(e){try{for(var t=e||document.activeElement;t&&"BODY"!==t.tagName.toUpperCase();){var r=t.getAttribute("id")&&"idToUUID"in WebSquare&&WebSquare.idToUUID[t.getAttribute("id")]&&WebSquare.idCache[WebSquare.idToUUID[t.getAttribute("id")]],i=t.getAttribute("id")&&WebSquare.componentIdCache&&WebSquare.componentIdCache[t.getAttribute("id")],a=r||i;if(a&&a.getFocusedComponentId&&("function"==typeof a.getFocusedComponentId||"[object Function]"===a.getFocusedComponentId.toString()))return a.getFocusedComponentId();if(a)return a.id;t=t.parentNode}return""}catch(e){u.Y.printStackTrace(e,null,this)}},p.arrayDiff=function(e,t,r){if(!this.isArray(t))return e.slice();for(var i=t.length,a=e.length,n=-1,o=[];++n<a;){for(var s=e[n],l=!1,u=0;u<i;u++){var c=t[u];if(r&&r.call(null,s,c)){l=!0;break}if(s===c){l=!0;break}}!1===l&&o.push(s)}return o},p.scopingFuncBody=function(e,t,r,i){try{if(void 0!==i&&null!=i||(i={}),"string"!=typeof e)return!0===r?e:null;var a,n=WebSquare.util.getBoolean(c.I.getConfiguration("/WebSquare/wpack/@use"));if(t){var o=!0===n?"":"\n"
;a="scopeObj"===r?"WebSquare.scope_obj="+t+".id;\n with("+t+".scope){\n var udc_obj = "+t+".id;\n"+e+" \nWebSquare.scope_obj=null;\n}":"WebSquare.scope_obj="+t+";"+o+" with(WebSquare.util.getComponentById('"+t+"').scope){"+o+" var udc_obj = "+t+";\n"+(!0===r?"":" var ret = ")+e+" \n WebSquare.scope_obj=null;"+(!0===r?"":"\n return ret;")+"\n}"}else{a=(o=!0===n?"\n":"")+(!0===r?"":"return ")+e+"\n"}return a}catch(e){u.Y.printStackTrace(e,null,this)}},p.isNullReg=function(e){try{return e.source===/\/^[a-z0-9_-]{3,16}$\//gi.source||"/^[a-z0-9_-]{3,16}$/"===e.source}catch(e){return u.Y.printStackTrace(e,null,this),!1}},p.setScreenView=function(e){try{if(!WebSquare.util.isTop())return;void 0!==e&&null!=e||(e={});var t=parseInt(e.baseWidth,10),r=parseInt(e.baseHeight,10),i=parseFloat(e.maxRatio,10)||1e3,a=parseFloat(e.minRatio,10)||.001;if(i=Math.max(i,a),a=Math.min(a,a),"screen"===e.type){var n=(c.I.browserCheck.ipad||c.I.browserCheck.iphone||c.I.browserCheck.ipod)&&Math.floor(Math.abs(window.orientation/90))>=1&&window.orientation%90==0,o=n?window.screen.height:window.screen.width,s=n?window.screen.width:window.screen.height,l=o/t,d=s/r;if(!0===e.useRelativeScale)l=Math.min(Math.max(l,a),i),d=Math.min(Math.max(d,a),i),WebSquare.util._applyRelativeScreenView(l,d,t,r);else{var p=!0===e.allowScroll?Math.max(l,d):Math.min(l,d);if(1===(p=Math.min(Math.max(p,a),i)))WebSquare.util.clearScreenView();else{var h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;document.documentElement.scrollHeight||document.body.scrollHeight;WebSquare.util._applyScreenView(p,h,f)}}}}catch(e){u.Y.printStackTrace(e,null,this)}},p._applyScreenView=function(e,t,r){try{if(!WebSquare.util.isTop())return;var i="body {-webkit-transform : scale("+e+");-moz-transform : scale("+e+");-ms-transform : scale("+e+");-o-transform : scale("+e+");transform : scale("+e+");transform-origin : 0 0;-ms-transform-origin : 0 0;width : "+t/e+"px;height : "+r/e+"px;}",a=document.getElementsByTagName("head")[0];l.Q.fullViewClass=!0,l.Q.fullViewed=!0,l.Q.fullViewRatio=e;var n=null;c.I.browserCheck.ie?((n=document.createElement("style")).setAttribute("type","text/css"),n.styleSheet.cssText=i):(n=document.createElementNS("http://www.w3.org/1999/xhtml","style")).appendChild(document.createTextNode(i)),n.setAttribute("data-screenview","true"),a.appendChild(n)}catch(e){u.Y.printStackTrace(e,null,this)}},p._applyRelativeScreenView=function(e,t,r,i){try{if(!WebSquare.util.isTop())return;var a="body {-webkit-transform : scale("+e+","+t+");-moz-transform : scale("+e+","+t+");-ms-transform : scale("+e+","+t+");-o-transform : scale("+e+","+t+");transform : scale("+e+","+t+");transform-origin : 0 0;-ms-transform-origin : 0 0;width : "+r+"px;height : "+i+"px;}",n=document.getElementsByTagName("head")[0];l.Q.fullViewClass=!0,l.Q.fullViewed=!0,l.Q.fullViewRatio=e;var o=null;c.I.browserCheck.ie?((o=document.createElement("style")).setAttribute("type","text/css"),o.styleSheet.cssText=a):(o=document.createElementNS("http://www.w3.org/1999/xhtml","style")).appendChild(document.createTextNode(a)),o.setAttribute("data-screenview","true"),n.appendChild(o)}catch(e){u.Y.printStackTrace(e,null,this)}},p.clearScreenView=function(){try{if(!WebSquare.util.isTop()||!l.Q.fullViewClass)return;for(var e=document.getElementsByTagName("style"),t=0;t<e.length;t++){var r=e[t];if("true"===r.getAttribute("data-screenview")){r.parentNode.removeChild(r);break}}l.Q.fullViewClass=!1,l.Q.fullViewed=!1,l.Q.fullViewRatio=1}catch(e){u.Y.printStackTrace(e,null,this)}},p.getTop=function(){try{for(var e=self,t=0;t<1e3;t++)try{if(e.parent===e)break;if(void 0===e.parent.WebSquare||null==e.parent.WebSquare)break;e=e.parent}catch(e){break}return e}catch(e){return u.Y.printStackTrace(e,null,this),self}},p.isTop=function(){try{return WebSquare.util.getTop()===self}catch(e){return u.Y.printStackTrace(e,null,this),!1}},
p.isTouchDevice=function(){try{var e=" -webkit- -moz- -o- -ms- ".split(" ");return!!(navigator.maxTouchPoints>0||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)||function(e){return window.matchMedia&&window.matchMedia(e).matches}(["(",e.join("touch-enabled),("),"heartz",")"].join(""))}catch(e){return u.Y.printStackTrace(e,null,this),!1}},p.cloneObject=function(e,t){try{if("object"!=typeof e||null==e)return null;void 0!==t&&null!=t||(t={});var r=t.scope,i=t.exclude,a=!0===t.skipFunction,n=JSON.stringify(e,(function(e,t){return i&&!0===i[e]?void 0:null==t?t:t===window?"@wq_window":t===window.opener?"@wq_opener":t===window.parent?"@wq_parent":t===window.top?"@wq_top":"function"==typeof t?a?void 0:"@wq_function#"+t.toString():"object"==typeof t&&t.constructor===RegExp?"@wq_regExp#"+t.toString():t}));return JSON.parse(n,(function(e,t){try{if("string"!=typeof t||"@wq_"!==t.slice(0,4))return t;if("@wq_window"===t||"@wq_opener"===t||"@wq_parent"===t||"@wq_top"===t)return window[t.slice(4)];if("@wq_function#"===t.slice(0,13))return new Function(WebSquare.util.scopingFuncBody(t.slice(13),r))();if("@wq_regExp#"===t.slice(0,11))return new Function("return "+t.slice(11))()}catch(e){return t}}))}catch(e){return u.Y.printStackTrace(e,null,this),null}},p._copyOptions=function(e){try{var t={};for(var r in e)t[r]=r instanceof Array?e[r].slice(0):e[r];return t.__copyOptions=!0,t}catch(e){return u.Y.printStackTrace(e,null,this),null}},p.isHybrid=function(){try{return WebSquare.hybridApp}catch(e){return u.Y.printStackTrace(e,null,this),!1}},p.encodeParameter=(a=function(e,t){for(var r=-1,a=0;a<i.length;a++)if(i[a]==e){r=a;break}return r<0?e:i[(r+t)%i.length]},n=function(e,t){for(var r=0,i=(e=WebSquare.text.BASE64Encode(e)).length-1;i>=0&&"="==e[i];i--)r+=1;e=e.substring(0,e.length-r);var n="";for(i=0;i<e.length;i++)n=n.concat(a(e[i],Number(t)));return n},o=function(e,t){if(!e)return e;i||function(e){i=[];for(var t=[".","/","-","_","+"],r=0;r<26;r++)i.push(String.fromCharCode(r+65)),r<10?i.push(String.fromCharCode(r+48)):r>=e%8+12&&r<e%8+12+t.length&&i.push(t[r-(e%8+12)]),i.push(String.fromCharCode(r+97))}(t+100);for(var r="",a=0,o="";a<e.length;)"?"!=e[a]&&"&"!=e[a]&&"#"!=e[a]&&"="!=e[a]?o+=e[a]:(o.length>0&&(r+=n(o,t),o=""),r+=e[a]),a++;return o.length>0&&(r+=n(o,t)),r},function(e){var t=WebSquare.util.getEncodeParameterOption("key");t&&0!=t.length||(t=0),t=parseInt(t);try{return o(e,t)}catch(e){return""}}),p.decodeParameter=function(){var e,t=function(t,r){for(var i=-1,a=0;a<e.length;a++)if(e[a]==t){i=a;break}return i<0?t:((i=e.length-(r+e.length-i)%e.length)==e.length&&(i=0),e[i])},r=function(e,r){for(var i="",a=0;a<e.length;a++)i=i.concat(t(e[a],Number(r)));for(;i.length%4!=0;)i+="=";return i=WebSquare.text.BASE64Decode(i)},i=function(t,i){if(!t)return t;t=t.replace(" ","+"),e||function(t){e=[];for(var r=[".","/","-","_","+"],i=0;i<26;i++)e.push(String.fromCharCode(i+65)),i<10?e.push(String.fromCharCode(i+48)):i>=t%8+12&&i<t%8+12+r.length&&e.push(r[i-(t%8+12)]),e.push(String.fromCharCode(i+97))}(i+100);for(var a="",n=0,o="";n<t.length;){"?"!=t[n]&&"&"!=t[n]&&"#"!=t[n]&&"="!=t[n]?o+=t[n]:(o.length>0&&(a+=r(o,i),o=""),a+=t[n]),n++}return o.length>0&&(a+=r(o,i)),a};return function(e){var t=WebSquare.util.getEncodeParameterOption("key");t&&0!=t.length||(t=0),t=parseInt(t);try{return i(e,t)}catch(e){return""}}}(),p.isEncodeParameter=function(){try{return WebSquare.util.getBoolean(c.I.getConfiguration("/WebSquare/encodeParameter/@value"))||!1}catch(e){return u.Y.printStackTrace(e,null,this),!1}},p.getEncodeParameterOption=function(e){try{if("pathName"==e)return c.I.getConfiguration("/WebSquare/encodeParameter/@pathName")||"";if("fallback"==e)return WebSquare.util.getBoolean(c.I.getConfiguration("/WebSquare/encodeParameter/@fallback"))||!1;if(WebSquare.util.isEncodeParameter()){if("value"==e)return WebSquare.util.getBoolean(c.I.getConfiguration("/WebSquare/encodeParameter/@value"))||!1
;if("key"==e)return c.I.getConfiguration("/WebSquare/encodeParameter/@key")||"";if("onlyParam"==e)return WebSquare.util.getBoolean(c.I.getConfiguration("/WebSquare/encodeParameter/@onlyParam"))||!1}return!1}catch(e){return u.Y.printStackTrace(e,null,this),!1}},p.getMediaInfo=function(){try{var e;e="json"===WebSquare.WebSquaredoc.getType()?WebSquare.jsonUtil.getNodesByTagName(WebSquare.WebSquaredoc.getPageInfo(),"screen",WebSquare.core._XML_NAMESPACE.W2):WebSquare.xml.getElementsByTagName(WebSquare.WebSquaredoc.getPageInfo(),"screen",c.I._XML_NAMESPACE.W2);for(var t={currentScreen:p.getCurrentScreen(e),mediaInfo:[]},r=0;r<e.length;r++)t.mediaInfo[r]={},t.mediaInfo[r].name=WebSquare.Elem.api.getAttribute(e[r],"name"),t.mediaInfo[r].viewport=WebSquare.Elem.api.getAttribute(e[r],"viewport").split("x"),t.mediaInfo[r].pageSize=WebSquare.Elem.api.getAttribute(e[r],"pageSize").split("x");return t}catch(e){u.Y.printStackTrace(e,null,this)}},p.getCurrentScreen=function(e){try{for(var t,r=p._getBrowserWidth(),i=null,a=t=9999,n=null,o=0;o<e.length;o++){var s=WebSquare.Elem.api.getAttribute(e[o],"viewport"),l=s.indexOf("x");-1!=l?a>(t=(i=Number(s.substring(0,l)))>=r?i:9999)&&(a=t,n=WebSquare.Elem.api.getAttribute(e[o],"name")):(t=9999,n=WebSquare.Elem.api.getAttribute(e[o],"name"))}return n}catch(e){u.Y.printStackTrace(e,null,this)}},p._getDefaultProperties=function(e,t,r){try{if(!e)return;var i,a,n,o;WebSquare._defaultPropertiesComp||(WebSquare._defaultPropertiesComp=[]);var s={},l=e.split(".");l.length>3?(a=l.pop(),o=l.pop(),n=l.pop()):(o=l.pop(),n=l.pop().toLowerCase()),"dataList"==o||"dataMap"==o||"linkedDataList"==o||"aliasDataMap"==o||"aliasDataList"==o||"aliasLinkedDataList"==o?(n="dataCollection",s.type=o):s.pluginName=o;var d,p,h,f=t?t.split(","):[],g=r?r.split(","):[];if(f.length!==g.length)return;if(a)if("gridView"!=o&&"grid"!=o||"column"!=a)if("tableLayout"==o){p=s.pluginName+"_"+a;for(b=0;b<f.length;b++)s[f[b]]=g[b],p+="_"+f[b]+"_"+g[b];s.pluginName="group"}else if("accordion"==o){if("panels"==a){i=this.initPanel(this.panelInfoArr[b]),p="accordion_panels";for(b=0;b<f.length;b++)s[f[b]]=g[b],p+="_"+f[b]+"_"+g[b];s.pluginName="panels"}}else{if("dataList"!=o||"column"!=a)return null;p="dataList_column",h="col";for(b=0;b<f.length;b++)s[f[b]]=g[b],p+="_"+f[b]+"_"+g[b],h+="_"+f[b]+"_"+g[b];s.columnInfo=[{id:h}]}else{p=s.pluginName+"_"+a,h="col";for(var m="",b=0;b<f.length;b++)s[f[b]]=g[b],p+="_"+f[b]+"_"+g[b],h+="_"+f[b]+"_"+g[b],m+=" "+f[b]+'="'+g[b]+'"';m+=' id="'+h+'"';var y="";y+="<w2:"+s.pluginName+' xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms" id="'+p+'">',y+='<w2:header style="">',y+='<w2:row style="">',y+="<w2:column></w2:column>",y+="</w2:row>",y+="</w2:header>",y+='<w2:gBody style="">',y+='<w2:row style="">',y+="<w2:column"+m+"></w2:column>",y+="</w2:row>",y+="</w2:gBody>",y+="</w2:"+s.pluginName+">",d=(d=WebSquare.xml.parse(y)).documentElement}else{p=s.pluginName||s.type;for(b=0;b<f.length;b++)s[f[b]]=g[b],p+="_"+f[b]+"_"+g[b];"tableLayout"==s.pluginName&&(s.pluginName="group")}if(WebSquare._defaultPropertiesComp.indexOf(p)>-1)return"column"==a&&h?"dataCollection"==n?i.getCellInfo(h).options:c.I.getComponentById(p).cellInfoHash[h].options:"Submission"==o?c.I.getComponentById(p):c.I.getComponentById(p).options;var S=null;if("dataCollection"==n){if(s.id=p,s.option={},WebSquare.DataCollection.api.create(s),i=c.I.getComponentById(p))return WebSquare._defaultPropertiesComp.push(p),"column"==a?i.getCellInfo(h).options:i.options}else if("tag"==o)i=new WebSquare.tag(p,null,{});else{if("Submission"==o)return WebSquare.ModelUtil.createSubmission({id:p}),(i=c.I.getComponentById(p))&&WebSquare._defaultPropertiesComp.push(p),i;i=WebSquare.controlFactory.createControl(p,s,d,null,!0)}return i&&(i.appendTo(WebSquare.getBody()),i.activate(),i.onComplete(),WebSquare._defaultPropertiesComp.push(p),
S="column"==a&&h?i.cellInfoHash[h].options:i.options),S}catch(e){return u.Y.printStackTrace(e,null,this),null}},p.loadLocale=function(e){try{requires(e),l.Q.importCache[e]}catch(e){return u.Y.printStackTrace(e,null,this),!1}},p.deleteLocale=function(e){try{l.Q.importCache[e]="",WebSquare.WebSquareLang={}}catch(e){return u.Y.printStackTrace(e,null,this),!1}},p.getEscape=function(e,t){try{var r=t?c.I.getConfig(t):"";e=e||r.escape;var i=c.I.getConfiguration("escape");return e||i}catch(e){u.Y.printStackTrace(e,null,this)}},p.updateSuffix=function(e){try{var t=c.I.getXMLHTTPObject(),r=WebSquare.baseURI+"suffix.txt?postfix="+(new Date).getTime()+s.q.safeRandom();t.open("GET",r,!0),t.onreadystatechange=function(){p.updateSuffixCallback(t,e)},t.send(null)}catch(e){u.Y.printStackTrace(e,null,this)}},p.updateSuffixCallback=function(e,t){try{if(4==e.readyState){if(e.status&&(200>e.status||300<=e.status)||0===e.status);else e.responseText.wq_trim()!=s.q.suffix&&(s.q.suffix=e.responseText.wq_trim(),d.v.printLog("suffix.txt updated."));if(t.callback&&""!=t.callback){var r=p.getGlobalFunction(t.callback,t.scopeId);r&&r()}e.onreadystatechange=function(){},e=null}}catch(e){u.Y.printStackTrace(e,null,this)}},p.isHTML5=function(){try{if(null===document.doctype)return!1;var e=document.doctype;return"<!DOCTYPE html>"==="<!DOCTYPE "+e.name+(e.publicId?' PUBLIC"'+e.publicId+'"':"")+(!e.publicId&&e.systemId?" SYSTEM":"")+(e.systemId?' "'+e.systemId+'"':"")+">"}catch(e){u.Y.printStackTrace(e,null,this)}},p.setLanguagePack=async function(e){var t=c.I.getConfiguration("/WebSquare/languagePack/url[@lang='"+e+"']/@value");return t=l.Q.getEngineUri(t),l.Q.writeAsync(t)},p.getStyleFromCssStr=function(e,t){try{var r=null;if(!t)return r;for(var i=e.split(" "),a=0;a<i.length;a++)for(var n=0;n<document.styleSheets.length;n++){var o=document.styleSheets[n];try{o.cssRules}catch(e){continue}for(var s=0;o.cssRules&&s<o.cssRules.length;s++){var l=o.cssRules[s],c=l.selectorText;if(c){var d=c.lastIndexOf(".");if(-1!=d)if(c.slice(d)=="."+i[a]){r||(r={});for(var p=0;p<t.length;p++){var h=t[p];""!=l.style[h]&&(r[h]=l.style[h])}n=document.styleSheets.length;break}}}}return r}catch(e){u.Y.printStackTrace(e,null,this)}},p._getChromeVersion=function(){try{var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):void 0}catch(e){u.Y.printStackTrace(e,null,this)}},p.getDataPrefix=function(e){try{return 1==s.q.dataPrefix&&(e="data-"+e),e}catch(e){u.Y.printStackTrace(e,null,this)}},p.setPerformanceUse=function(e){try{s.q._performance.use=p.getBoolean(e)}catch(e){u.Y.printStackTrace(e,null,this)}},p.requestAnimationFrame=function(e,t){try{if(window.requestAnimationFrame)window.requestAnimationFrame(e);else setTimeout(e,t||5)}catch(e){u.Y.printStackTrace(e,null,this)}},p.isExecCommandSupported=function(){try{return!(!document.execCommand||"function"!=typeof document.execCommand)}catch(e){u.Y.printStackTrace(e,null,this)}},p._getCrossFilterPath=function(e,t){var r=e;t||(t=""),e.startsWith("//")&&(r=e.replace(/^\/+/g,"/"),d.v.printLog("Access is denied for the specified path. The double slashes ('//') in the path will be replaced by a single slash ('/')")),e=e.toLowerCase();var i,a,n=c.I.getConfiguration("/WebSquare/w2xPathCrossFilter/@enable"),o=c.I.getConfiguration("/WebSquare/w2xPathCrossFilter/@allowOrigins");if(o=o.toLowerCase(),t=t.toLowerCase(),"true"==n&&"*"!=o&&(e.startsWith("http://")||e.startsWith("https://"))){i=(i=e.replace(/^https?:\/\/+/g,"")).substring(0,i.indexOf("/"));var s=(a=new RegExp(/^https?:\/\/+/g).exec(e))[0]+i==location.origin;""!=o&&""!=t?o=o+","+t:""==o&&(o=t),-1!=o.indexOf(a[0]+i)||s||(r=e.replace(/^https?:\/\/+/g,"/"),d.v.printLog("Access is denied for the specified path. 'https://' in the path will be replaced by a '/'"))}return r},p.jsAsync=async function(e,t){try{var r=WebSquare.noConflictFunction;return window[r].main()[r].jsAsync(e,t)}catch(e){u.Y.printStackTrace(e)}},p.loadPageCommon=async function(e,t,r,i){try{
var a=WebSquare.noConflictFunction;return window[a].main()[a].loadPageCommon(e)}catch(e){u.Y.printStackTrace(e)}},p.loadMSACommon=async function(e){try{var t=WebSquare.noConflictFunction;return window[t].main()[t].loadMSACommon(e)}catch(e){u.Y.printStackTrace(e)}},p.loadGlobalCommon=async function(e){try{if(!(e instanceof Array))throw new Error("$p.loadGlobalCommon error : invalid parameter. The infoArray must be of array type.");var t=c.I.projectCommonVariable;window[t]||(window[t]={});for(var r=[],i=[],a=0;a<e.length;a++){var n=e[a],o=n.src,s=n.name,l=n.reload,p=n.spaCache;if("string"==typeof o&&"string"==typeof s&&o&&s){s=s.replace(t+".",""),!0!==l&&(c.I._msaHash[s]||c.I._projectCommonHash[s]);var h=WebSquare.jsLoader._loadObj(o);if(h instanceof window.Promise){r.push(h);var f={name:s,src:o,spaCache:p};i.push(f)}}else{var g="$p.loadGlobalCommon partial error : invalid info. src : "+o+", name : "+s;d.v.printLog(g),r.push(Promise.reject(new Error(g)))}}await c.I._loadWebSquareCommon("projectCommon",r,i)}catch(e){u.Y.printStackTrace(e)}},p._getBrowserWidth=function(){try{return window.top===window.self?window.innerWidth:"number"==typeof WebSquare._innerWidthDiff?window.outerWidth-WebSquare._innerWidthDiff:window.outerWidth}catch(e){u.Y.printStackTrace(e)}},function(e){var t={},r={},i=/^[^?#]*\//.exec(location.href)[0],a=/^[\w-]+\:\/\/\/?[^\/]+/.exec(i)[0],n=document.createElement("script"),o="boolean"==typeof n.preload||n.readyState&&"uninitialized"==n.readyState,s=!o&&!0===n.async||WebSquare.util.isIE(10)&&"async"in n,p=o&&!s,f=1,g=3;function m(e){v(e)&&!e._done&&(e(),e._done=1)}function b(e){var t=e.split("/"),r=t[t.length-1],i=r.indexOf("?");return-1!=i?r.substring(0,i):r}function y(e,t){var i={},a="";if("string"==typeof t&&t){var n=c.I._msaServerHash[t];n&&(a=n.origin||"")}if("object"==typeof e)for(var o in e)e[o]&&(i={name:o,url:a+e[o]});else i={name:b(e),url:a+e};var s=r[i.url];if(s)return s;for(var e in r)if(r[e]==i.url)return r[e];return r[i.url]=i,i}function S(e,t){if(e){"object"==typeof e&&(e=[].slice.call(e));for(var r=0;r<e.length;r++)t.call(e,e[r],r)}}function v(e){return"[object Function]"==Object.prototype.toString.call(e)}function w(e){for(var t in e=e||r)if(e[t].state!=g)return!1;return!0}function C(e,t){e.state||(e.state=0,e.onpreload=[],W({src:e.url,type:"cache"},(function(){!function(e){e.state=f,S(e.onpreload,(function(e){e.call()}))}(e)})))}function q(e,r){return void 0!==WebSquare.scriptCachedList[e.url]&&null!==WebSquare.scriptCachedList[e.url]||("false"===c.I.getConfiguration("/WebSquare/spa/scriptCache/@value")?WebSquare.scriptCachedList[e.url]=0:WebSquare.scriptCachedList[e.url]=1),e.state==g&&WebSquare.scriptCachedList[e.url]>1?(WebSquare.scriptCachedList[e.url]++,r?r():void 0):2==e.state?WebSquare.util.ready(e.url,r,e.name):0==e.state?e.onpreload.push((function(){q(e,r)})):(e.state=2,"false"!==c.I.getConfiguration("/WebSquare/spa/scriptCache/@value")&&WebSquare.scriptCachedList[e.url]++,void W(e.url,(function(){e.state=g,r&&r(),S(t[e.url],(function(e){m(e)})),w()&&S(t.ALL,(function(e){m(e)}))})))}function W(e,t){try{var r=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=h.createElement("script");i.type="text/"+(e.type||"javascript");var a=c.I.getConfiguration("/WebSquare/script/@encoding");i.charset=a||"utf-8";var n=c.I.getConfiguration("/WebSquare/script/@postfix"),o=l.Q.getEngineUri(e.src||e);"environment"===n&&(o=l.Q.getResourcePostfix(e.src||e)),i.src=o,i.async=!1,i.setAttribute("data-wqexternal","true"),WebSquare.util.isIE(10)?(i.onload=function(){t.done||(i.onload=null,i=void 0,t(),t.done=!0)},i.onerror=function(){t(),t.done=!0}):i.onreadystatechange=i.onload=function(){var e=i.readyState;t.done||e&&!/loaded|complete/.test(e)||(i.onload=i.onreadystatechange=null,i=void 0,t(),t.done=!0)},WebSquare.util.isIE()||(i.onerror=function(){t(),t.done=!0}),r.appendChild(i),r=null}catch(e){u.Y.printStackTrace(e,null,this)}}e.ready=function(e,i,a){v(a)&&(i=a,e="ALL")
;var n=r[e];if(n&&n.state==g||"ALL"==e&&w())return m(i),WebSquare.util;var o=t[e];return o?o.push(i):o=t[e]=[i],WebSquare.util},e.js=function(...e){var t=e.slice(0),r=t[t.length-1],n="";if("string"==typeof r&&c.I._msaServerHash[r]&&(n=t.pop()),s){d.v.printLog("[WebSquare.util.js]script loading[script_ordered_async]"),w=t[t.length-1],f={},W=-1,v(w)||(w=null),S(t,(function(e,t){e!=w&&(e=y(e,n),f[e.url]||W++,f[e.url]=e)}));var o=0;for(var u in f)!function(e,t){q(e,w&&t==W?function(){m(w)}:null)}(f[u],o),o++;return WebSquare.util}if(p){d.v.printLog("[WebSquare.util.js]script loading[script_cache]");var h=[],f={};for(o=0;o<t.length;o++)!function(e){v(e)?h.push(e):(f[e]||h.push(e),f[e]=e)}(t[o]);t=h;var g=[].slice.call(t,1),b=g[0];return b?(S(g,(function(e){v(e)||C(y(e,n))})),q(y(t[0],n),v(b)?b:function(){WebSquare.util.js.apply(null,g)})):q(y(t[0],n)),WebSquare.util}d.v.printLog("[WebSquare.util.js]script loading[XHR]");var w=t[t.length-1],W=(f={},-1);v(w)||(w=null),S(t,(function(e,t){e!=w&&(e=y(e,n),f[e.url]||W++,f[e.url]=e)}));o=0;for(var u in f)!function(e,t){var r,n,o,s=(r=e.url,n="",o=/^\w+\:\/\//,/^\/\/\/?/.test(r)?r=location.protocol+r:o.test(r)||"/"==r.charAt(0)||(r=(n||"")+r),o.test(r)?r:("/"==r.charAt(0)?a:i)+r);0==s.indexOf(a)?l.Q.globalEval(l.Q.loadUri(s)):q(e,null),w&&t==W&&m(w)}(f[u],o),o++;return WebSquare.util}}(p)},3477:(e,t,r)=>{r.d(t,{G:()=>o,N:()=>n});var i=r(582),a=r(2710),n={},o=function(){};o.prototype.validate=function(){return!0},o.prototype.setMandatory=function(e){this.validator&&(0==e?this.validator.removeCommand(new n.mandatoryCommand(this.options.mandatory)):this.validator.addCommand(new n.mandatoryCommand(e)),this.onPropertyChange("mandatory",e)),this.options.mandatory=e},o.prototype.getMandatory=function(){return this.options.mandatory},o.prototype.setMinLength=function(e){this.validator&&(this.validator.removeCommand(new n.minLengthCommand(this.options.minLength)),this.validator.addCommand(new n.minLengthCommand(e))),this.options.minlength=e},o.prototype.getMinLength=function(){return this.options.minlength},o.prototype.setMaxLength=function(e){"float"!=this.options.dataType&&"euro"!==this.options.dataType&&"rupee"!==this.options.dataType&&"tenge"!==this.options.dataType?(""===e||-1==e?(this.validator&&this.validator.removeCommand(new n.maxLengthCommand(this.options.maxLength,this.options.useMaxLength)),this.options.maxlength=e,this.render&&"input"==this.render.tagName.toLowerCase()&&!this.options.useMaxLength&&this.render.removeAttribute("maxLength")):(this.validator&&(this.validator.removeCommand(new n.maxLengthCommand(this.options.maxLength,this.options.useMaxLength)),this.validator.addCommand(new n.maxLengthCommand(e,this.options.useMaxLength))),this.options.maxlength=e,this.render&&"input"==this.render.tagName.toLowerCase()&&!this.options.useMaxLength&&(this.render.maxLength=e)),this.render&&"input"==this.render.tagName.toLowerCase()&&!this.options.useMaxLength&&(""===e||-1==e?this.render.removeAttribute("maxlength"):this.render.maxLength=e)):this.setFloatMaxLength(e.toString(),this.options.decimalDelimiter,this.options.delimiter)},o.prototype.getMaxLength=function(){return"float"===this.options.dataType||"true"===this.options.floatNumber?this.floatMaxlength:this.options.maxlength},o.prototype.setFloatMaxLength=function(e,t,r){try{""===e||-1==e?(this.validator&&this.validator.removeCommand(new n.maxFloatLengthCommand(this.options.maxLength)),this.options.maxlength=e,this.render&&"input"==this.render.tagName.toLowerCase()&&this.render.removeAttribute("maxLength")):(this.validator&&(this.validator.removeCommand(new n.maxFloatLengthCommand(this.options.maxLength)),this.validator.addCommand(new n.maxFloatLengthCommand(e,t,r))),this.options.maxlength="-1"),this.floatMaxlength=e}catch(e){a.Y.printStackTrace(e)}},o.prototype.setMinByteLength=function(e){this.validator&&(this.validator.removeCommand(new n.minByteLengthCommand(this.options.minByteLength)),
this.validator.addCommand(new n.minByteLengthCommand(e))),this.options.minByteLength=e},o.prototype.getMinByteLength=function(){return this.options.minByteLength},o.prototype.setMaxByteLength=function(e){try{""===e||-1==e?this.validator&&this.validator.removeCommand(new n.maxByteLengthCommand(this.options.maxByteLength)):this.validator&&(this.validator.removeCommand(new n.maxByteLengthCommand(this.options.maxByteLength)),this.validator.addCommand(new n.maxByteLengthCommand(e))),this.options.maxByteLength=e}catch(e){a.Y.printStackTrace(e)}},o.prototype.getMaxByteLength=function(){return this.options.maxByteLength},o.prototype.getAllowChar=function(){return this.options.allowChar},o.prototype.setIgnoreChar=function(e){this.options.ignoreChar=e},o.prototype.getIgnoreChar=function(){return this.options.ignoreChar},o.prototype.getDisplayMessage=function(){return this.options.displaymessage},o.prototype.getInvalidMessage=function(){return this.options.invalidMessage},n.validateCommand=function(){},n.validateCommand.prototype.executeValidate=function(e){return alert("you should override 'executeValidate'"),!0},n.validateCommand.prototype.executeValidateString=function(e){return alert("you should override 'executeValidateString'"),e},n.validateCommand.prototype.executeValidateKeyPress=function(e,t,r){return alert("you should override 'executeValidateKeyPress'"),!0},n.validateCommand.prototype.executeValidateKeyDown=function(e,t,r){return alert("you should override 'executeValidateKeyPress'"),!0},n.validateCommand.prototype.executeValidateKeyInput=function(e,t,r){return alert("you should override 'executeValidateKeyInput'"),!0},n.validateCommand.prototype.executeInvalidMessage=function(){return alert("you should override 'executeInvalidMessage'"),"invalidMessage"},n.validateCommand.prototype.getType=function(){return alert("you should override 'getType'"),""},n.validateCommand.prototype.getValue=function(){return alert("you should override 'getValue'"),""},n.validateCommand.prototype.getDetail=function(){return alert("you should override 'getDetail'"),""},n.invalidObject=function(e,t){try{this.invalidCommand=t,this.callerId=e}catch(e){a.Y.printStackTrace(e)}},n.invalidObject.prototype.getCaller=function(){var e=null;try{e=WebSquare.core.getComponentById(this.callerId)}catch(e){a.Y.printStackTrace(e)}return e},n.invalidObject.prototype.getType=function(){return this.invalidCommand?this.invalidCommand.getType():""},n.invalidObject.prototype.getDetail=function(){return this.invalidCommand?this.invalidCommand.getDetail():""},n.invalidObject.prototype.getValue=function(){return this.invalidCommand?this.invalidCommand.getValue():""},n.invalidObject.prototype.getPrefix=function(){return null},n.validateInvoker=function(e,t){try{if(this.commandList=[],t=t||{},this.invalidMessage=t.invalidMessage||"",this.displaymessage=t.displaymessage||!1,this.invalidMessageFunc=t.invalidMessageFunc||null,t._scope_obj_uuid_bak?this.scopeId=t._scope_obj_uuid_bak&&WebSquare.idCache[t._scope_obj_uuid_bak]&&WebSquare.idCache[t._scope_obj_uuid_bak].id:this.scopeId=t._scope_obj_uuid&&WebSquare.idCache[t._scope_obj_uuid]&&WebSquare.idCache[t._scope_obj_uuid].id,this.invalidMessageFunc&&(this.invalidMessageFunc.indexOf("(")<0&&(this.invalidMessageFunc+="()"),this.invalidMsgFuncName=this.invalidMessageFunc.substring(0,this.invalidMessageFunc.indexOf("(")),this.tmpFunc=this.invalidMessageFunc.replace(this.invalidMsgFuncName,"_validator_.doValidate")),this.callerId=e,void 0!==t.mandatory&&1==t.mandatory&&this.addCommand(new n.mandatoryCommand(t.mandatory)),void 0!==t.allowChar&&""!=t.allowChar&&this.addCommand(new n.allowCharCommand(t.allowChar)),void 0!==t.ignoreChar&&""!=t.ignoreChar&&this.addCommand(new n.ignoreCharCommand(t.ignoreChar)),void 0!==t.maxlength&&-1!=t.maxlength)if(t.useMaxLength&&"number"===t.dataType){var r=[t.delimeter||t.delimiter||","].join("");this.addCommand(new n.ignoreCharCommand(r)),
this.addCommand(new n.maxLengthCommand(t.maxlength,t.useMaxLength))}else"float"===t.datatype?this.addCommand(new n.maxFloatLengthCommand(t.maxlength)):this.addCommand(new n.maxLengthCommand(t.maxlength));void 0!==t.minlength&&-1!=t.minlength&&this.addCommand(new n.minLengthCommand(t.minlength)),void 0!==t.maxByteLength&&-1!=t.maxByteLength&&this.addCommand(new n.maxByteLengthCommand(t.maxByteLength,t.byteCheckIgnoreChar)),void 0!==t.minByteLength&&-1!=t.minByteLength&&this.addCommand(new n.minByteLengthCommand(t.minByteLength)),void 0!==t.validator&&""!=t.validator&&this.addCommand(new n.commandAdapter(t.validator,this.scopeId))}catch(e){a.Y.printStackTrace(e)}},n.validateInvoker.prototype.addCommand=function(e,t){try{!0===t?this.commandList.unshift(e):this.commandList.push(e)}catch(e){a.Y.printStackTrace(e)}},n.validateInvoker.prototype.removeCommand=function(e){try{for(var t=new Array,r=0;r<this.commandList.length;r++)this.commandList[r].getType()!=e.getType()&&t.push(this.commandList[r]);this.commandList=t}catch(e){a.Y.printStackTrace(e)}},n.validateInvoker.prototype.clearCommand=function(){try{this.commandList=null,this.commandList=[]}catch(e){a.Y.printStackTrace(e)}},n.validateInvoker.prototype.applyPriority=function(){},n.validateInvoker.prototype.validate=function(e,t){try{var r=!0,i="";this.obfuscator_invalidObject=null;for(var o=0;o<this.commandList.length;o++)if(!this.commandList[o].executeValidate(e,t)){r=!1,i+=this.commandList[o].executeInvalidMessage()+"\n",this.obfuscator_invalidObject=new n.invalidObject(this.callerId,this.commandList[o]);break}if(0==r){if(""!=this.invalidMessage&&null!=this.invalidMessage&&(i=this.invalidMessage),this.invalidMessageFunc&&this.obfuscator_invalidObject)try{i=new Function("_validator_","return "+this.tmpFunc)(this)}catch(e){i=""}if(1==this.displaymessage&&i)try{alert(i)}catch(e){a.Y.printStackTrace(e)}}return r}catch(e){a.Y.printStackTrace(e)}},n.validateInvoker.prototype.doValidate=function(...e){var t=WebSquare.util.getGlobalFunction(this.invalidMsgFuncName,this.scopeId);if("function"==typeof t)return t.apply(this.obfuscator_invalidObject,e)},n.validateInvoker.prototype.validateString=function(e){try{this.applyPriority();for(var t=0;t<this.commandList.length;t++)e=this.callerId?this.commandList[t].executeValidateString(e,this.callerId):this.commandList[t].executeValidateString(e);return e}catch(e){a.Y.printStackTrace(e)}},n.validateInvoker.prototype.validateKeyPress=function(e,t,r,i){try{if(!(1!=r.metaKey&&1!=r.ctrlKey||67!=r.charCode&&99!=r.charCode&&86!=r.charCode&&118!=r.charCode))return!0;for(var o=!0,s=0;s<this.commandList.length;s++)if(!this.commandList[s].executeValidateKeyPress(e,t,r,i)){o=!1,this.obfuscator_invalidObject=new n.invalidObject(this.callerId,this.commandList[s]);break}return o}catch(r){a.Y.printStackTrace(r)}},n.validateInvoker.prototype.validateKeyDown=function(e,t,r){try{if(!(1!=r.metaKey&&1!=r.ctrlKey||67!=r.charCode&&99!=r.charCode&&86!=r.charCode&&118!=r.charCode))return!0;for(var i=!0,n=0;n<this.commandList.length;n++)if(!this.commandList[n].executeValidateKeyDown(e,t,r)){i=!1;break}return i}catch(r){a.Y.printStackTrace(r)}},n.validateInvoker.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.validateInvoker.prototype.validateKeyInput=function(e,t,r){try{for(var i=!0,n=t,o=0;o<this.commandList.length;o++){var s=this.commandList[o].executeValidateKeyInput(e,t,r);if("string"==typeof s?n=s:i=s,!i)break}return{str:n,valid:i}}catch(r){a.Y.printStackTrace(r)}},n.mandatoryCommand=function(e){this.mandatory=e},i.q.extend(n.mandatoryCommand.prototype,n.validateCommand.prototype),n.mandatoryCommand.prototype.getType=function(){return"mandatory"},n.mandatoryCommand.prototype.getDetail=function(){return{}},n.mandatoryCommand.prototype.getValue=function(){return""},n.mandatoryCommand.prototype.executeValidate=function(e){try{return null!=e&&""!=e}catch(e){a.Y.printStackTrace(e)}},n.mandatoryCommand.prototype.executeValidateString=function(e){return e},
n.mandatoryCommand.prototype.executeValidateKeyPress=function(e){return!0},n.mandatoryCommand.prototype.executeValidateKeyDown=function(e){return!0},n.mandatoryCommand.prototype.executeValidateKeyInput=function(e){return!0},n.mandatoryCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_mandatory")},n.maxLengthCommand=function(e,t){this.maxLength=parseInt(e,10)||0,this.useMaxLength=!!t},i.q.extend(n.maxLengthCommand.prototype,n.validateCommand.prototype),n.maxLengthCommand.prototype.getType=function(){return"maxLength"},n.maxLengthCommand.prototype.getDetail=function(){return{}},n.maxLengthCommand.prototype.getValue=function(){return this.maxLength},n.maxLengthCommand.prototype.executeValidate=function(e){if(this.useMaxLength)return"-"!==e.charAt(0)&&"+"!==e.charAt(0)||(e=e.substr(1)),!(e.length>this.maxLength);var t=!0;return e.length>this.maxLength&&(t=!1),t},n.maxLengthCommand.prototype.executeValidateString=function(e){try{if(this.useMaxLength){var t="";return"-"!==e.charAt(0)&&"+"!==e.charAt(0)||(t=e.charAt(0),e=e.substr(1)),e.length>this.maxLength?t+e.substr(0,this.maxLength):t+e}return e&&e.length>this.maxLength&&(e=e.substr(0,this.maxLength)),e}catch(e){a.Y.printStackTrace(e)}},n.maxLengthCommand.prototype.executeValidateKeyPress=function(e,t,r,i){try{if(this.useMaxLength){var n=WebSquare.text.getSelection(e),o=r.keyCode||r.charCode,s=o-48<0||o-48>9?r.key:o-48+"";t=t.substr(0,n.start)+s+t.substr(n.end);return this.executeValidate(t)}return e.maxLength=i>0?i:this.maxLength,!0}catch(r){a.Y.printStackTrace(r)}},n.maxLengthCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.maxLengthCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.maxLengthCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_maxLength",this.maxLength)},n.minLengthCommand=function(e){this.minLength=e||0},i.q.extend(n.minLengthCommand.prototype,n.validateCommand.prototype),n.minLengthCommand.prototype.getType=function(){return"minLength"},n.minLengthCommand.prototype.getDetail=function(){return{}},n.minLengthCommand.prototype.getValue=function(){return this.minLength},n.minLengthCommand.prototype.executeValidate=function(e){try{var t=!0;return e.length<this.minLength&&(t=!1),t}catch(e){a.Y.printStackTrace(e)}},n.minLengthCommand.prototype.executeValidateString=function(e){return e},n.minLengthCommand.prototype.executeValidateKeyPress=function(e,t,r){return!0},n.minLengthCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.minLengthCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.minLengthCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_minLength",this.minLength)},n.maxFloatLengthCommand=function(e,t,r){this.decimalDelimiter=t||".",this.delimiter=r||",";var i=e.split(".")[0]||"*",a=e.split(".")[1]||"0";this.currentIntegerCount=0,this.currentFractionCount=0,this.integerMaxLength="*"!==i&&""!==i&&"-1"!==i&&i?parseInt(i,10):1/0,this.fractionMaxLength="*"!==a&&""!==a&&"-1"!==a&&a?parseInt(a,10):1/0},i.q.extend(n.maxFloatLengthCommand.prototype,n.validateCommand.prototype),n.maxFloatLengthCommand.prototype.getType=function(){return"maxFloatLength"},n.maxFloatLengthCommand.prototype.getDetail=function(){var e="init",t="Invalid input value.",r=0;return-1!=this.integerMaxLength&&this.currentIntegerCount>this.integerMaxLength?(r=1,t="Value exceeds maximum digits allowed for the integer part.",e="integer",this.currentIntegerCount=0):-1!=this.fractionMaxLength&&this.currentFractionCount>this.fractionMaxLength?(r=2,t="The number of decimal places exceeds the maximum allowed.",e="fraction",this.currentFractionCount=0):(e="init",r=3),{currentState:e,code:r,message:t}},n.maxFloatLengthCommand.prototype.getValue=function(){var e=this.integerMaxLength===1/0?"*":this.integerMaxLength,t=this.fractionMaxLength===1/0?"*":this.fractionMaxLength
;return e+this.decimalDelimiter+t},n.maxFloatLengthCommand.prototype.executeValidate=function(e){var t=e.charAt(0)||e[0];"+"!==t&&"-"!==t||(e=e.split(t).join(""));var r=e.split(this.decimalDelimiter);if(2!==r.length||r[1]||(r=[r[0]]),1==r.length){if((i=r[0].wq_trim()).length>this.integerMaxLength)return this.currentIntegerCount=i.length,!1}else{if(2!=r.length)return!1;var i=r[0].wq_trim(),a=r[1].wq_trim();if(i.length>this.integerMaxLength||a.length>this.fractionMaxLength)return this.currentIntegerCount=i.length,this.currentFractionCount=a.length,!1}return!0},n.maxFloatLengthCommand.prototype.executeValidateString=function(e){try{var t="",r=e.charAt(0)||e[0];"+"!==r&&"-"!==r||(t=r,e=e.split(r).join(""));var i=e.split(this.decimalDelimiter);if(2!==i.length||i[1]||(i=[i[0]]),1==i.length)(n=i[0].wq_trim()).length>this.integerMaxLength&&(e=e.substr(0,this.integerMaxLength));else if(i.length>1){var n=i[0].wq_trim(),o=i[1].wq_trim();n.length>this.integerMaxLength&&(n=n.substr(0,this.integerMaxLength)),o.length>this.fractionMaxLength&&(o=o.substr(0,this.fractionMaxLength)),e=n+this.decimalDelimiter+o}return t+e}catch(e){a.Y.printStackTrace(e)}},n.maxFloatLengthCommand.prototype.executeValidateKeyPress=function(e,t,r,i){if(WebSquare.util.isFF()&&0===r.charCode)return this.executeValidate(t.split(this.delimiter).join(""));t=e.value;var a=WebSquare.text.getSelection(e),n=r.keyCode||r.charCode,o=n-48<0||n-48>9?String.fromCharCode(n):n-48+"";o=96<=n&&n<=105?n-96+"":o,o=110==n||190==n?".":o,o=r.metaKey||r.ctrlKey||46!=n&&110!=n&&190!=n?o:".";var s=(t=t.substr(0,a.start)+o+t.substr(a.end)).split(this.delimiter).join("");return this.executeValidate(s)},n.maxFloatLengthCommand.prototype.executeValidateKeyDown=function(e,t,r){var i=r.keyCode||r.charCode,a=e.value.split(this.delimiter).join("");return!!(r.shiftKey&&187==i||189==i||(r.metaKey||r.ctrlKey)&&65==i||(r.metaKey||r.ctrlKey)&&67==i||(r.metaKey||r.ctrlKey)&&86==i||(r.metaKey||r.ctrlKey)&&88==i||(r.metaKey||r.ctrlKey)&&90==i||i>=33&&i<=40||107==i||109==i||(110===i||190===i||173===i)&&"."===this.decimalDelimiter||8==i||13==i||12==i||144==i||9==i||46==i||45==i)||this.executeValidate(a)},n.maxFloatLengthCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.maxFloatLengthCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_maxFloatLength",this.integerMaxLength,this.fractionMaxLength)},n.maxByteLengthCommand=function(e,t){this.maxByteLength=e||0,this.byteCheckIgnoreChar=t||""},i.q.extend(n.maxByteLengthCommand.prototype,n.validateCommand.prototype),n.maxByteLengthCommand.prototype.getType=function(){return"maxByteLength"},n.maxByteLengthCommand.prototype.getDetail=function(){return{}},n.maxByteLengthCommand.prototype.getValue=function(){return this.maxByteLength},n.maxByteLengthCommand.prototype.executeValidate=function(e){try{var t=!0;return WebSquare.util.getStringByteSize(e,this.byteCheckIgnoreChar)>this.maxByteLength&&(t=!1),t}catch(e){a.Y.printStackTrace(e)}},n.maxByteLengthCommand.prototype.executeValidateString=function(e){try{for(var t=WebSquare.util.getStringByteSize(e,this.byteCheckIgnoreChar);e.length>0&&t>this.maxByteLength;)e=e.substr(0,e.length-1),t=WebSquare.util.getStringByteSize(e,this.byteCheckIgnoreChar);return e}catch(e){a.Y.printStackTrace(e)}},n.maxByteLengthCommand.prototype.executeValidateKeyPress=function(e,t,r){return!0},n.maxByteLengthCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.maxByteLengthCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.maxByteLengthCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_maxByteLength",this.maxByteLength)},n.minByteLengthCommand=function(e){this.minByteLength=e||0},i.q.extend(n.minByteLengthCommand.prototype,n.validateCommand.prototype),n.minByteLengthCommand.prototype.getType=function(){return"minByteLength"},n.minByteLengthCommand.prototype.getDetail=function(){return{}},
n.minByteLengthCommand.prototype.getValue=function(){return this.minByteLength},n.minByteLengthCommand.prototype.executeValidate=function(e){try{var t=!0;return WebSquare.util.getStringByteSize(e)<this.minByteLength&&(t=!1),t}catch(e){a.Y.printStackTrace(e)}},n.minByteLengthCommand.prototype.executeValidateString=function(e){return e},n.minByteLengthCommand.prototype.executeValidateKeyPress=function(e,t,r){return!0},n.minByteLengthCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.minByteLengthCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.minByteLengthCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_minByteLength",this.minByteLength)},n.allowCharCommand=function(e){this.allowChar=e,this.regExp=new RegExp("["+e+"]","g")},i.q.extend(n.allowCharCommand.prototype,n.validateCommand.prototype),n.allowCharCommand.prototype.getType=function(){return"allowChar"},n.allowCharCommand.prototype.getDetail=function(){return{}},n.allowCharCommand.prototype.getValue=function(){return this.allowChar},n.allowCharCommand.prototype.executeValidate=function(e){try{var t=!0;return""!=e&&(e.match(this.regExp)||(t=!1)),t}catch(e){a.Y.printStackTrace(e)}},n.allowCharCommand.prototype.executeValidateString=function(e){try{var t=e.match(this.regExp);return e=t?t.join(""):""}catch(e){a.Y.printStackTrace(e)}},n.allowCharCommand.prototype.executeValidateKeyPress=function(e,t,r){try{var i=!0;if(r){var n=r.charCode?r.charCode:r.keyCode;String.fromCharCode(n).match(this.regExp)||(i=!1),WebSquare.util.isFF()&&0==r.charCode&&(i=!0),WebSquare.util.isOpera()&&WebSquare.util.isOpera()&&WebSquare.util.getIgnoreKeyPressCodes()[n]&&(i=!0)}return i}catch(r){a.Y.printStackTrace(r)}},n.allowCharCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.allowCharCommand.prototype.executeValidateKeyInput=function(e,t,r){for(var i,a=[];null!==(i=this.regExp.exec(t));)a.push(i[0]);return a.join("")},n.allowCharCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_allowChar",this.allowChar)},n.ignoreCharCommand=function(e){this.ignoreChar=e,this.regExp=new RegExp("["+e+"]","g")},i.q.extend(n.ignoreCharCommand.prototype,n.validateCommand.prototype),n.ignoreCharCommand.prototype.getType=function(){return"ignoreChar"},n.ignoreCharCommand.prototype.getDetail=function(){return{}},n.ignoreCharCommand.prototype.getValue=function(){return this.ignoreChar},n.ignoreCharCommand.prototype.executeValidate=function(e){try{var t=!0;return""!=e&&e.match(this.regExp)&&(t=!1),t}catch(e){a.Y.printStackTrace(e)}},n.ignoreCharCommand.prototype.executeValidateString=function(e){try{return e=e.replace(this.regExp,"")}catch(e){a.Y.printStackTrace(e)}},n.ignoreCharCommand.prototype.executeValidateKeyPress=function(e,t,r){try{var i=!0;if(r){var n=r.charCode?r.charCode:r.keyCode;String.fromCharCode(n).match(this.regExp)&&(i=!1)}return i}catch(r){a.Y.printStackTrace(r)}},n.ignoreCharCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.ignoreCharCommand.prototype.executeValidateKeyInput=function(e,t,r){try{return t=t.replace(this.regExp,"")}catch(r){a.Y.printStackTrace(r)}},n.ignoreCharCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_ignoreChar",this.ignoreChar)},n.numberCommand=function(e,t){e||(e=","),t||(t="."),this.pattern=new RegExp("^[+-]?[0-9]*["+t+"]?[0-9]*"),this.delimiter=e,this.decimalDelimiter=t},i.q.extend(n.numberCommand.prototype,n.validateCommand.prototype),n.numberCommand.prototype.getType=function(){return"number"},n.numberCommand.prototype.getDetail=function(){return{}},n.numberCommand.prototype.getValue=function(){return""},n.numberCommand.prototype.executeValidate=function(e){try{return!0}catch(e){a.Y.printStackTrace(e)}},n.numberCommand.prototype.executeValidateString=function(e){try{var t=e.match(/[0-9\+\-\.]+/g);return e=t?t.join(""):""}catch(e){a.Y.printStackTrace(e)}},
n.numberCommand.prototype.executeValidateKeyPress=function(e,t,r){try{var i=!0;if(r){var n=r.charCode?r.charCode:r.keyCode,o=String.fromCharCode(n),s=WebSquare.text.getSelection(e),l=t.substr(0,s.start)+o+t.substr(s.end),u=l.match(this.pattern);i=!(!u||u+""!=l),(WebSquare.util.isFF()&&0==r.charCode||WebSquare.util.isOpera()&&WebSquare.util.getIgnoreKeyPressCodes()[n])&&(i=!0)}return i}catch(r){a.Y.printStackTrace(r)}},n.numberCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.numberCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.numberCommand.prototype.executeInvalidMessage=function(){return""},n.digitCommand=function(e,t){e||(e=","),t||(t="."),this.delimiter=e,this.decimalDelimiter=t},i.q.extend(n.digitCommand.prototype,n.validateCommand.prototype),n.digitCommand.prototype.getType=function(){return"digit"},n.digitCommand.prototype.getDetail=function(){return{}},n.digitCommand.prototype.getValue=function(){return""},n.digitCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.digitCommand.prototype.executeValidate=function(e){try{return!0}catch(e){a.Y.printStackTrace(e)}},n.digitCommand.prototype.executeValidateString=function(e){try{var t="";"+"!==e.charAt(0)&&"-"!==e.charAt(0)||(t=e.charAt(0),e=e.substr(1));var r=e.match(/[^0]+[0-9]*/g);if(null!=r){var i="";null!=e.match(/^0+[^0-9]/)&&(i="0"),r=i+r.join("")}else r=""!==e?"0":"";return e=t+r}catch(e){a.Y.printStackTrace(e)}},n.digitCommand.prototype.executeValidateKeyPress=function(e,t,r){return!0},n.digitCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.digitCommand.prototype.executeInvalidMessage=function(){return""},n.floatCommand=function(e,t,r){this.currentState="init",this.pattern=new RegExp("^[+-]?[0-9]*["+t+"]?[0-9]*$"),this.numberPattern=new RegExp("[0-9\\+\\-\\"+t+"]+","g"),this.delimiter=e||",",this.decimalDelimiter=t||".",this.applyFormat=r||"all"},i.q.extend(n.floatCommand.prototype,n.validateCommand.prototype),n.floatCommand.prototype.getType=function(){return"float"},n.floatCommand.prototype.getDetail=function(){return"error"===this.currentState?{currentState:"init",code:3,message:"Invalid input value."}:{}},n.floatCommand.prototype.getValue=function(){return""},n.floatCommand.prototype.executeValidate=function(e){try{return""===e||""!==this.executeValidateString(e)}catch(e){a.Y.printStackTrace(e)}return!1},n.floatCommand.prototype.executeValidateString=function(e){try{this.currentState="init";var t=(e=e.split(this.delimiter).join("")).split(this.decimalDelimiter).join("."),r=this.pattern.test(e),i=parseFloat(t);if(!r||"number"!=typeof i||e[e.length-1]===this.decimalDelimiter){this.currentState="error";var n=e.match(this.numberPattern);return n?n.join(""):""}return e}catch(e){a.Y.printStackTrace(e)}return""},n.floatCommand.prototype.executeValidateKeyPress=function(e,t,r){return this.executeValidate(t)},n.floatCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_float")},n.floatCommand.prototype.executeValidateKeyDown=function(e,t,r){var i=r.keyCode||r.charCode,a=i-48<0||i-48>9?String.fromCharCode(i):i-48+"";if(a=96<=i&&i<=105?i-96+"":a,a=110!==i&&190!==i||"."!==this.decimalDelimiter?a:".",a=188===i&&","===this.decimalDelimiter?",":a,a=189===i||173===i||109===i?"-":a,a=r.metaKey||r.ctrlKey||46!==i&&110!==i&&190!==i||"."!==this.decimalDelimiter?a:".",a=r.shiftKey&&187===i||107==i?"+":a,(r.metaKey||r.ctrlKey)&&65===i||(r.metaKey||r.ctrlKey)&&67===i||(r.metaKey||r.ctrlKey)&&86===i||(r.metaKey||r.ctrlKey)&&88===i||(r.metaKey||r.ctrlKey)&&90===i||i>=33&&i<=40||8===i||13===i||(110===i||190===i||173===i)&&"."===this.decimalDelimiter||12==i||144==i||i>=112&&i<=123||i>=16&&i<=20||9===i||46===i||45==i||27===i)return!0;var n=WebSquare.text.getSelection(e),o=t.substr(0,n.start)+a+t.substr(n.end);return!!o.split(this.delimiter).join("").match(this.pattern)&&this.executeValidate(o)},n.floatCommand.prototype.executeValidateKeyInput=function(e,t,r){try{
if(!0!==this.pattern.test(t)){this.currentState="error";var i=t.match(this.numberPattern);return i?i.join(""):""}return!0}catch(r){a.Y.printStackTrace(r)}},n.dateCommand=function(e){this.dateHelper=new WebSquare.uiplugin.dateHelper,this.ioFormat=e||"yyyyMMddHHmmSS"},i.q.extend(n.dateCommand.prototype,n.validateCommand.prototype),n.dateCommand.prototype.getType=function(){return"date"},n.dateCommand.prototype.getDetail=function(){return{}},n.dateCommand.prototype.getValue=function(){return""},n.dateCommand.prototype.executeValidate=function(e,t){try{var r=!0,i=this.ioFormat.indexOf("yyyy"),n=this.ioFormat.indexOf("MM"),o=this.ioFormat.indexOf("dd"),s=this.ioFormat.indexOf("HH"),l=this.ioFormat.indexOf("mm"),u=this.ioFormat.indexOf("SS"),c=e.substr(i,4),d=e.substr(n,2),p=e.substr(o,2),h=e.substr(s,2),f=e.substr(l,2),g=e.substr(u,2);if("validateZero"===(t=t||{}).dateValidCheckType&&(isNaN(parseInt(c,10))||parseInt(c,10)<1))return r=!1;switch(e.length){case 4:(isNaN(parseInt(c,10))||parseInt(c,10)<1)&&(r=!1);break;case 6:(isNaN(parseInt(d,10))||parseInt(d,10)<1||parseInt(d,10)>12)&&(r=!1);break;case 8:(isNaN(parseInt(d,10))||parseInt(d,10)<1||parseInt(d,10)>12)&&(r=!1);var m=this.dateHelper.getMonthCount(c,d);(isNaN(parseInt(p,10))||parseInt(p,10)<1||parseInt(p,10)>m)&&(r=!1);break;case 10:(isNaN(parseInt(d,10))||parseInt(d,10)<1||parseInt(d,10)>12)&&(r=!1);m=this.dateHelper.getMonthCount(c,d);(isNaN(parseInt(p,10))||parseInt(p,10)<1||parseInt(p,10)>m)&&(r=!1),(isNaN(parseInt(h,10))||parseInt(h,10)<0||parseInt(h,10)>23)&&(r=!1);break;case 12:(isNaN(parseInt(d,10))||parseInt(d,10)<1||parseInt(d,10)>12)&&(r=!1);m=this.dateHelper.getMonthCount(c,d);(isNaN(parseInt(p,10))||parseInt(p,10)<1||parseInt(p,10)>m)&&(r=!1),(isNaN(parseInt(h,10))||parseInt(h,10)<0||parseInt(h,10)>23)&&(r=!1),(isNaN(parseInt(f,10))||parseInt(f,10)<0||parseInt(f,10)>59)&&(r=!1);break;case 14:(isNaN(parseInt(d,10))||parseInt(d,10)<1||parseInt(d,10)>12)&&(r=!1);m=this.dateHelper.getMonthCount(c,d);(isNaN(parseInt(p,10))||parseInt(p,10)<1||parseInt(p,10)>m)&&(r=!1),(isNaN(parseInt(h,10))||parseInt(h,10)<0||parseInt(h,10)>23)&&(r=!1),(isNaN(parseInt(f,10))||parseInt(f,10)<0||parseInt(f,10)>59)&&(r=!1),(isNaN(parseInt(g,10))||parseInt(g,10)<0||parseInt(g,10)>59)&&(r=!1);break;default:r=!1}return r}catch(e){a.Y.printStackTrace(e)}},n.dateCommand.prototype.executeValidateString=function(e){try{return e}catch(e){a.Y.printStackTrace(e)}},n.dateCommand.prototype.executeValidateKeyPress=function(e,t,r){try{return!0}catch(r){a.Y.printStackTrace(r)}},n.dateCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.dateCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.dateCommand.prototype.executeInvalidMessage=function(){return WebSquare.language.getMessage("V_error_date")},n.euroCommand=function(e,t){e||(e="."),t||(t=","),this.pattern=new RegExp("^[+-]?[0-9]*["+t+"]?[0-9]*"),this.delimiter=e,this.decimalDelimiter=t},i.q.extend(n.euroCommand.prototype,n.validateCommand.prototype),n.euroCommand.prototype.getType=function(){return"euro"},n.euroCommand.prototype.getDetail=function(){return{}},n.euroCommand.prototype.getValue=function(){return""},n.euroCommand.prototype.executeValidate=function(e){try{return!0}catch(e){a.Y.printStackTrace(e)}},n.euroCommand.prototype.executeValidateString=function(e){try{var t=e.match(/[0-9\+\-\,]+/g);return e=t?t.join(""):""}catch(e){a.Y.printStackTrace(e)}},n.euroCommand.prototype.executeValidateKeyPress=function(e,t,r){try{var i=!0;if(r){var n=WebSquare.event.getTarget(r),o=WebSquare.text.getCaretPos(n),s=r.charCode?r.charCode:r.keyCode,l=String.fromCharCode(s),u=t.substr(0,o)+l+t.substr(o),c=u.match(this.pattern);i=!(!c||c+""!=u),(WebSquare.util.isFF()&&0==r.charCode||WebSquare.util.isOpera()&&WebSquare.util.getIgnoreKeyPressCodes()[s])&&(i=!0)}return i}catch(r){a.Y.printStackTrace(r)}},n.euroCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},
n.euroCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.euroCommand.prototype.executeInvalidMessage=function(){return""},n.rupeeCommand=function(e,t){e||(e="."),t||(t=","),this.pattern=new RegExp("^[+-]?[0-9]*["+t+"]?[0-9]*"),this.delimiter=e,this.decimalDelimiter=t},i.q.extend(n.rupeeCommand.prototype,n.validateCommand.prototype),n.rupeeCommand.prototype.getType=function(){return"rupee"},n.rupeeCommand.prototype.getDetail=function(){return{}},n.rupeeCommand.prototype.getValue=function(){return""},n.rupeeCommand.prototype.executeValidate=function(e){try{return!0}catch(e){a.Y.printStackTrace(e)}},n.rupeeCommand.prototype.executeValidateString=function(e){try{var t=e.match(/[0-9\+\-\.]+/g);return e=t?t.join(""):""}catch(e){a.Y.printStackTrace(e)}},n.rupeeCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.rupeeCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.rupeeCommand.prototype.executeValidateKeyPress=function(e,t,r){try{var i=!0;if(r){var n=WebSquare.event.getTarget(r),o=WebSquare.text.getCaretPos(n),s=r.charCode?r.charCode:r.keyCode,l=String.fromCharCode(s),u=t.substr(0,o)+l+t.substr(o),c=u.match(this.pattern);i=!(!c||c+""!=u),(WebSquare.util.isFF()&&0==r.charCode||WebSquare.util.isOpera()&&WebSquare.util.getIgnoreKeyPressCodes()[s])&&(i=!0)}return i}catch(r){a.Y.printStackTrace(r)}},n.rupeeCommand.prototype.executeInvalidMessage=function(){return""},n.numberMaskCommand=function(e,t,r){this.masking=e,this.maskFormat=t,this.applyFormat=r,this.pattern=new RegExp("^[0-9-+]")},i.q.extend(n.numberMaskCommand.prototype,n.validateCommand.prototype),n.numberMaskCommand.prototype.getType=function(){return"mask"},n.numberMaskCommand.prototype.getDetail=function(){return{}},n.numberMaskCommand.prototype.getValue=function(){return""},n.numberMaskCommand.prototype.executeValidate=function(e){try{return!0}catch(e){a.Y.printStackTrace(e)}},n.numberMaskCommand.prototype.executeValidateString=function(e){try{return e}catch(e){a.Y.printStackTrace(e)}},n.numberMaskCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.numberMaskCommand.prototype.executeValidateKeyInput=function(e,t,r){try{if(r&&"all"==this.applyFormat){var i=WebSquare.event.getTarget(r),n=WebSquare.text.getCaretPos(i),o=t,s="-"==t[0]?t.length:t.length,l=this.masking,u=this.maskFormat;s="-"==t[0]?t.length-1:t.length;"reverse"==u&&s>l.length?/\d/g.test(t[n-1])&&(o=t.substr(0,n-1)+t.substr(n)):"default"==u&&s>l.length&&/\d/g.test(t[n-1])&&(o=t.substr(0,n-1)+t.substr(n))}return o}catch(r){a.Y.printStackTrace(r)}},n.numberMaskCommand.prototype.executeValidateKeyPress=function(e,t,r){try{var i=!0;if(r)if("all"==this.applyFormat){var n=WebSquare.event.getTarget(r),o=WebSquare.text.getSelection(n),s=r.charCode?r.charCode:r.keyCode,l=String.fromCharCode(s),u=this.masking,c=this.maskFormat,d="-"==t[0]?t.length-1:t.length,p=u.length;o.start==o.end&&(this.pattern.test(l)?"reverse"==c&&d>=p?"0"==u[0]?("0"!=t[0]&&"-"!=t[0]||"-"==t[0]&&"0"!=t[1])&&(i=!1):i=!1:"default"==c&&d>=p&&("0"==u[p-1]?"0"!=t[t.length-1]&&(i=!1):"#"==u[p-1]&&(i=!1)):i=!1)}else if("display"==this.applyFormat){n=WebSquare.event.getTarget(r),o=WebSquare.text.getSelection(n),s=r.charCode?r.charCode:r.keyCode,l=String.fromCharCode(s),u=this.masking,c=this.maskFormat,d="-"==t[0]?t.length-1:t.length,p=0;for(var h=0;h<u.length;h++)"0"!=u[h]&&"#"!=u[h]||(p+=1);o.start==o.end&&d>=p&&(i=!1),this.pattern.test(l)||(i=!1,0!=o.start||"-"!=r.key&&"Subtract"!=r.key||(i=!0))}return i}catch(r){a.Y.printStackTrace(r)}},n.numberMaskCommand.prototype.executeInvalidMessage=function(){return""},n.textMaskCommand=function(e,t,r,i){this.masking=e,this.maskFormat=t,this.applyFormat=r,i?(this.pattern=new RegExp("^["+i+"]"),this.rPattern=new RegExp("["+i+"]")):(this.pattern=new RegExp("^[0-9]"),this.rPattern=new RegExp("[0-9]"))},i.q.extend(n.textMaskCommand.prototype,n.validateCommand.prototype),n.textMaskCommand.prototype.getType=function(){return"mask"},
n.textMaskCommand.prototype.getDetail=function(){return{}},n.textMaskCommand.prototype.getValue=function(){return""},n.textMaskCommand.prototype.executeValidate=function(e){try{return!0}catch(e){a.Y.printStackTrace(e)}},n.textMaskCommand.prototype.executeValidateString=function(e){try{return e}catch(e){a.Y.printStackTrace(e)}},n.textMaskCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.textMaskCommand.prototype.executeValidateKeyInput=function(e,t,r){try{if(r){var i=WebSquare.event.getTarget(r),n=WebSquare.text.getCaretPos(i),o=t,s=this.masking,l=this.maskFormat;"reverse"==l&&t.length>s.length?this.rPattern.test(t[n-1])&&(o=t.substr(0,n-1)+t.substr(n)):"default"==l&&t.length>s.length&&this.rPattern.test(t[n-1])&&(o=t.substr(0,n-1)+t.substr(n))}return o}catch(r){a.Y.printStackTrace(r)}},n.textMaskCommand.prototype.executeValidateKeyPress=function(e,t,r){try{var i=!0;if(r)if("all"==this.applyFormat){var n=WebSquare.event.getTarget(r),o=WebSquare.text.getSelection(n),s=r.charCode?r.charCode:r.keyCode,l=this.masking,u=String.fromCharCode(s),c=t.length,d=l.length;o.start==o.end&&c>=d&&(i=!1),this.pattern.test(u)||(i=!1)}else if("display"==this.applyFormat){n=WebSquare.event.getTarget(r),o=WebSquare.text.getSelection(n),l=this.masking,s=r.charCode?r.charCode:r.keyCode,u=String.fromCharCode(s),c=t.length,d=0;for(var p=0;p<l.length;p++)"#"==l[p]&&(d+=1);o.start==o.end&&c>=d&&(i=!1),this.pattern.test(u)||(i=!1)}return i}catch(r){a.Y.printStackTrace(r)}},n.textMaskCommand.prototype.executeInvalidMessage=function(){return""},n.tengeCommand=function(e,t){e||(e=" "),t||(t=","),this.pattern=new RegExp("^[+-]?[0-9]*["+t+"]?[0-9]*"),this.delimiter=e,this.decimalDelimiter=t},i.q.extend(n.tengeCommand.prototype,n.validateCommand.prototype),n.tengeCommand.prototype.getType=function(){return"tenge"},n.tengeCommand.prototype.getDetail=function(){return{}},n.tengeCommand.prototype.getValue=function(){return""},n.tengeCommand.prototype.executeValidate=function(e){try{return!0}catch(e){a.Y.printStackTrace(e)}},n.tengeCommand.prototype.executeValidateString=function(e){try{var t=e.match(/[0-9\+\-]+/g);return e=t?t.join(""):""}catch(e){a.Y.printStackTrace(e)}},n.tengeCommand.prototype.executeValidateKeyPress=function(e,t,r){try{var i=!0;if(r){var n=WebSquare.event.getTarget(r),o=WebSquare.text.getCaretPos(n),s=r.charCode?r.charCode:r.keyCode,l=String.fromCharCode(s),u=t.substr(0,o)+l+t.substr(o),c=u.match(this.pattern);i=!(!c||c+""!=u),(WebSquare.util.isFF()&&0==r.charCode||WebSquare.util.isOpera()&&WebSquare.util.getIgnoreKeyPressCodes()[s])&&(i=!0)}return i}catch(r){a.Y.printStackTrace(r)}},n.tengeCommand.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.tengeCommand.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.tengeCommand.prototype.executeInvalidMessage=function(){return""},n.commandAdapter=function(e,t){this.userFunc=e,this.scopeId=t},i.q.extend(n.commandAdapter.prototype,n.validateCommand.prototype),n.commandAdapter.prototype.executeValidate=function(e){return!0},n.commandAdapter.prototype.getDetail=function(){return{}},n.commandAdapter.prototype.getType=function(){return"user"},n.commandAdapter.prototype.getValue=function(){return""},n.commandAdapter.prototype.executeValidateString=function(e,t){try{if("function"!=typeof this.userFunc)try{this.userFunc=WebSquare.util.getGlobalFunction(this.userFunc,this.scopeId)}catch(e){WebSquare.logger.printLog("executeValidateString initialize.")}return"function"==typeof this.userFunc&&(e=this.userFunc(e,t)),e}catch(e){a.Y.printStackTrace(e)}},n.commandAdapter.prototype.executeValidateKeyPress=function(e,t,r){return!0},n.commandAdapter.prototype.executeValidateKeyDown=function(e,t,r){return!0},n.commandAdapter.prototype.executeValidateKeyInput=function(e,t,r){return!0},n.commandAdapter.prototype.executeInvalidMessage=function(){return""}},4350:(e,t,r)=>{r.d(t,{_:()=>S});var i,a,n,o,s,l,u,c,d,p,h=r(8109),f=r(2710),g=r(2536),m=r(2327),b=r(8713),y=r(400),S=(r(2311),
{});S._MSMXL_PROGIDS=h.Q._MSMXL_PROGIDS,S.loadDocumentCache={},S.load=async function(e,t,r,i){var a=null,n=e;try{if(void 0!==t&&t&&void 0!==(a=S.loadDocumentCache[n])&&null!=a)return a;if("string"==typeof e){var o=await g.I.loadAsync(e,{useXML:!0});if(!o)return null;var s="object"==typeof(a=void 0!==i&&i?S._parse(o):S.parse(o));if((i||!h.Q.useWebSquareXMLParser)&&h.Q.useActiveXObject&&0!=a.parseError.errorCode){if(m.v.debug){var l="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";window.open(e,"_blank",l)}var u=new Object;throw u.ParserException=b.B.getMessage("E_xml_ErrorOccurLoadingXML"),u.ParserException+="\nerrorCode: "+a.parseError.errorCode,u.ParserException+="\nfilepos : "+a.parseError.filepos,u.ParserException+="\nline    : "+a.parseError.line,u.ParserException+="\nlinepos : "+a.parseError.linepos,u.ParserException+="\nreason  : "+a.parseError.reason,u.ParserException+="srcText   : "+a.parseError.srcText,u.ParserException+="\nurl : "+a.parseError.url,a=null,u}if(!s){if(m.v.debug){l="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";window.open(e,"_blank",l)}return m.v.printLog("ERROR : "+b.B.getMessage("E_xml_ErrorOccurLoadingXMLWithURL",n)),null}}void 0!==t&&t&&(S.loadDocumentCache[n]=a)}catch(u){f.Y.printStackTrace(u,"xml.load")}return a},S.loadSafari=function(e){var t=h.Q.getXMLHTTPObject();t.open("GET",e,!1),t.send(null);var r=t.responseText;return t=null,this.parse(r)},S.parse=function(e,t){var r=null;try{if(h.Q.useWebSquareXMLParser){if("string"==typeof e){if(""==(e=e.wq_trim()))return m.v.printLog("ERROR : xml.load Error. String is empty."),null;"<"!=e.charAt(0)&&(e="<"+e+"/>")}else null==e||9!=e.nodeType&&1!=e.nodeType||(e=S.serialize(e));var i=new DOMImplementation;i.namespaceAware=!0,i.errorChecking=!1,i.preserveWhiteSpace=!0,r=i.loadXML(e)}else r=S._parse(e,t)}catch(e){return f.Y.printStackTrace(e,"xml.parse"),null}return r},S._parse=function(e,t){var r=null;try{if("string"==typeof e&&e.startsWith("<!DOCTYPE")){var i=e.indexOf("<",9);i>0&&(e=e.substring(i))}if(h.Q.useActiveXObject){if((r=new ActiveXObject(S._MSMXL_PROGIDS[0])).async=!1,r.validateOnParse=!1,"true"==g.I.getConfiguration("/WebSquare/preserveWhiteSpace/@value")&&(r.preserveWhiteSpace=!0),"string"==typeof e){if(""==(e=e.wq_trim()))return m.v.printLog("ERROR : xml.load Error. String is empty."),null;if("<"!=e.charAt(0)){var a="<"+e+"/>";r.loadXML(a)}else r.loadXML(e)}else null==e||9!=e.nodeType&&1!=e.nodeType||r.loadXML(e.xml);if(void 0!==t&&(1==t||"true"==t)){var n=g.I.getNamespaces(r),o="";for(var s in n)""!=s&&(o+="xmlns:"+s+'="'+n[s]+'" ');r.setProperty("SelectionLanguage","XPath"),r.setProperty("SelectionNamespaces",o)}}else if(g.I.supportDOM)try{var l=new DOMParser;if("string"==typeof e){if(""==(e=e.wq_trim()))return m.v.printLog("ERROR : xml.load Error. String is empty."),null;if("<"!=e.charAt(0)){a="<"+e+"/>";r=l.parseFromString(a,"text/xml")}else r=l.parseFromString(e,"text/xml")}else null==e||9!=e.nodeType&&1!=e.nodeType||(r=l.parseFromString(S.serialize(e),"text/xml"));if(r.async=!1,g.I.browserCheck.moz&&"parsererror"==r.documentElement.nodeName)return m.v.printLog("[Firefox]"+b.B.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)"),null;if((g.I.browserCheck.chrome||g.I.browserCheck.safari)&&r.getElementsByTagName("parsererror").length>0)return m.v.printLog("[Safari/Chrome]"+b.B.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)"),null}catch(e){return m.v.printLog("[DOMParser] "+b.B.getMessage("E_xml_ErrorOccurParsingXML")),f.Y.printStackTrace(e,"xml.parse"),null}if(void 0===r||null==r)return m.v.printLog("ERROR : "+b.B.getMessage("E_xml_XMLUnsupportedBrowser")),null;if(h.Q.useActiveXObject&&0!=r.parseError.errorCode){var u=new Object;throw u.ParserException=b.B.getMessage("E_xml_ErrorOccurParsingXML"),u.ParserException+="\nerrorCode      : "+r.parseError.errorCode,
u.ParserException+="\nfilepos        : "+r.parseError.filepos,u.ParserException+="\nline           : "+r.parseError.line,u.ParserException+="\nlinepos        : "+r.parseError.linepos,u.ParserException+="\nreason         : "+r.parseError.reason,u.ParserException+="\nsrcText        : "+r.parseError.srcText,u.ParserException+="\nurl            : "+r.parseError.url,u.ParserException+="string"==typeof e?"\n\n: "+e:"\n\n: "+e.xml,u}}catch(u){return f.Y.printStackTrace(u,"xml.parse"),null}return r},S.remove_xmlns_regexp=/xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml['"]|xmlns:w2=['"]http:\/\/www.inswave.com\/websquare['"]/,S.serialize=function(e){if(!e)return"";var t="";try{if(h.Q.useWebSquareXMLParser)try{var r=[];S._serialize(e,r),t=r.join("")}catch(e){f.Y.printStackTrace(e,"xml.serialize")}else if(h.Q.useActiveXObject)t=null!=(t=e.xml)?t.wq_trim():"";else if(g.I.websquareSerializer)try{r=[];S._serialize(e,r),t=r.join("")}catch(e){f.Y.printStackTrace(e,"xml.serialize")}else if(g.I.supportDOM){t=(new XMLSerializer).serializeToString(e)}}catch(e){f.Y.printStackTrace(e,"xml.serialize")}return t},S.noNameSpaceSerialize=function(e){var t=S.serialize(e);return"true"==g.I.getConfiguration("/WebSquare/removeXmlNameSpace/@value")&&(t=t.replace(S.remove_xmlns_regexp,"")),t},S.nodeSerialize=function(e,t){try{switch(void 0===t&&(t={}),void 0===t.standalone&&(t.standalone=null),void 0===t.encoding&&(t.encoding="UTF-8"),void 0===t.omitXmlDeclaration&&(t.omitXmlDeclaration=!1),void 0===t.includeNamespacePrefixes&&(t.includeNamespacePrefixes=null),void 0===t.cdataSectionElements&&(t.cdataSectionElements=[]),e.nodeType){case 1:for(var r="<"+e.tagName,i=0;i<e.attributes.length;++i){var a=e.attributes[i];null!=a&&(a.specified&&(r+=r.nodeSerialize(a,t)))}if(e.hasChildNodes()){r+=">";for(var n=e.firstChild;null!=n;n=n.nextSibling)r+=r.nodeSerialize(n,t);r+="</"+e.tagName+">"}else r+="></"+e.tagName+">";return r;case 2:return e.name.match(/^xmlns(:|$)/)&&!r.isVisiblyUtilized(e)?"":" "+e.name+'="'+e.value.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"';case 3:if(!r.isCDataSectionElement(e.parentNode))return e.data.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");case 4:return"<![CDATA["+e.data.replace(/]]>/g,"]]]]><![CDATA[>")+"]]>";case 7:return"<?"+e.target+" "+e.data+"?>";case 8:return"\x3c!--"+e.data+"--\x3e";case 9:r="";if(!t.omitXmlDeclaration)r+='<?xml version="1.0" encoding="'+("UTF-16"==t.encoding?"UTF-16":"UTF-8")+'"'+(null!=t.standalone?' standalone="'+(t.standalone?"yes":"no")+'"':"")+"?>\n\n";for(n=e.firstChild;null!=n;n=n.nextSibling)r+=r.nodeSerialize(n,t)+"\n";return r;case 10:r="<!DOCTYPE "+e.name+' PUBLIC "'+e.publicId+'" "'+e.systemId+'" [\n';return r+="]>";case 11:for(r="",n=e.firstChild;null!=n;n=n.nextSibling)r+=r.nodeSerialize(n,t);return r;default:m.v.printLog("Unsupported node: "+e.nodeName+" ("+e.nodeType+")")}}catch(e){f.Y.printStackTrace(e)}},S.isVisiblyUtilized=function(e,t){if(!t.includeNamespacePrefixes)return!0;var r=e.name.substring(6),i=new XPath("..").selectNode(e);for(var a in t.includeNamespacePrefixes){var n=t.includeNamespacePrefixes[a];if(n==r||"#default"==n&&""==r)return!0}return"xmlns"==e.name?null==i.prefix:new XPath("parent::"+r+":* or ..//@"+r+":*").evaluate(e)},S.isCDataSectionElement=function(e,t){for(var r in t.cdataSectionElements)if(t.cdataSectionElements[r].matches(e))return!0;return!1},S.indent=function(e,t){if(void 0===t){try{var r=[];return S._treeWalk2(e,r,0),r.join("")}catch(e){f.Y.printStackTrace(e,"xml.indent")}return null}try{r=[];return S._treeWalk(e,r,0),r.join("")}catch(e){f.Y.printStackTrace(e,"xml.indent")}return""},S._serialize=function(e,t){if(1==e.nodeType){if(t.push("<"),t.push(e.nodeName),e.attributes.length>0)for(var r=0;r<e.attributes.length;r++){var i=e.attributes.item(r);t.push(" "),t.push(i.name),t.push('="'),t.push(S._encode(i.nodeValue)),t.push('"')}if(e.hasChildNodes()){t.push(">");for(var a=e.childNodes,n=0;n<a.length;n++){
var o=a.item(n);S._serialize(o,t)}t.push("</"),t.push(e.nodeName),t.push(">")}else t.push("/>")}else if(3==e.nodeType)t.push(S._encode(e.nodeValue));else if(4==e.nodeType)t.push("<![CDATA["+e.nodeValue+"]]>");else if(7==e.nodeType)t.push("<?"+e.nodeName+" "+e.nodeValue+"?>\n");else if(8==e.nodeType)t.push("\x3c!--"+e.nodeValue+"--\x3e");else if(9==e.nodeType)for(a=e.childNodes,n=0;n<a.length;n++){o=a.item(n);S._serialize(o,t)}},S._treeWalk=function(e,t,r){var i=!1;if(r=r||0,1==e.nodeType){i=!0,r&&t.push("<br />");for(var a=0;a<r;a++)t.push("&nbsp;");if(t.push("<font color='blue'><b>&lt;"),t.push(e.nodeName),t.push("</b></font>"),e.attributes.length>0)for(a=0;a<e.attributes.length;a++){var n=e.attributes.item(a);n.nodeValue.indexOf('"')>-1?t.push(" <font color='red'>"+n.name+"</font>='<i><font color='#888888'>"+S.encode2(n.nodeValue)+"</font></i>'"):t.push(" <font color='red'>"+n.name+"</font>=\"<i><font color='#888888'>"+S.encode2(n.nodeValue)+'</font></i>"')}if(e.hasChildNodes()){t.push(">");for(var o=e.childNodes,s=!1,l=0;l<o.length;l++){var u=o.item(l);S._treeWalk(u,t,r+4)&&(s=!0)}if(s){t.push("<br />");for(a=0;a<r;a++)t.push("&nbsp;")}t.push("<font color='blue'><b>&lt;/"),t.push(e.nodeName),t.push("&gt;</b></font>")}else t.push("<font color='blue'><b>/&gt;</b></font>")}else if(3==e.nodeType){var c=e.nodeValue||"";c=c.trim(),t.push(S.encode2(c))}else if(4==e.nodeType)t.push("&lt;![CDATA["+S.encode1(e.nodeValue)+"]]&gt;");else if(7==e.nodeType)t.push("<b>&lt;?"+e.nodeName+" "+S.encode1(e.nodeValue)+"?&gt;</b>");else if(8==e.nodeType);else if(9==e.nodeType)for(o=e.childNodes,l=0;l<o.length;l++){u=o.item(l);S._treeWalk(u,t,r)}return i},S._treeWalk2=function(e,t,r){var i=!1;if(r=r||0,1==e.nodeType){i=!0,r&&t.push("\n");for(var a=0;a<r;a++)t.push(" ");if(t.push("<"),t.push(e.nodeName),e.attributes.length>0)for(a=0;a<e.attributes.length;a++){var n=e.attributes.item(a);t.push(" "),t.push(n.name),t.push('="'),t.push(S._encode(n.nodeValue)),t.push('"')}if(e.hasChildNodes()){t.push(">");for(var o=e.childNodes,s=!1,l=0;l<o.length;l++){var u=o.item(l);S._treeWalk2(u,t,r+4)&&(s=!0)}if(s){t.push("\n");for(a=0;a<r;a++)t.push(" ")}t.push("</"),t.push(e.nodeName),t.push(">")}else t.push("/>")}else if(3==e.nodeType){var c=e.nodeValue||"";c=c.trim(),t.push(S._encode(c))}else if(4==e.nodeType)t.push("<![CDATA["+e.nodeValue+"]]>");else if(7==e.nodeType)t.push("<?"+e.nodeName+" "+e.nodeValue+"?>\n");else if(8==e.nodeType)t.push("\x3c!--"+e.nodeValue+"--\x3e");else if(9==e.nodeType)for(o=e.childNodes,l=0;l<o.length;l++){u=o.item(l);S._treeWalk2(u,t,r)}return i},S.encode1=(i=/&/g,a=/</g,n=/>/g,o=/"/g,s=/\r\n/g,l=/\n/g,u=/\r/g,c=/ /g,d=/\t/g,function(e){var t=null;if(null==e)t="";else if("string"==typeof e)t=e;else{if(!S.isDocument(e))return e;t=S.serialize(e)}return t.replace(i,"&amp;").replace(a,"&lt;").replace(n,"&gt;").replace(o,"&quot;").replace(c,"&nbsp;").replace(d,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(s,"<br />").replace(l,"<br />").replace(u,"<br />")}),S.encode2=function(){var e=/&/g,t=/</g,r=/>/g,i=/\r\n/g,a=/\n/g,n=/\r/g,o=/ /g,s=/\t/g;return function(l){var u=null;if(null==l)u="";else if("string"==typeof l)u=l;else{if(!S.isDocument(l))return l;u=S.serialize(l)}return u.replace(e,"&amp;amp;").replace(t,"&amp;lt;").replace(r,"&amp;gt;").replace(o,"&nbsp;").replace(s,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(i,"<br />").replace(a,"<br />").replace(n,"<br />")}}(),S._encode=function(){var e=/&/g,t=/</g,r=/>/g,i=/"/g,a=/'/g;return function(n){return n.replace(e,"&amp;").replace(t,"&lt;").replace(r,"&gt;").replace(i,"&quot;").replace(a,"&apos;")}}(),S._decode=function(){var e=/&lt;/g,t=/&gt;/g,r=/&apos;/g,i=/&quot;/g,a=/&amp;/g,n=/&apos;;/g;return function(o){return o.replace(e,"<").replace(t,">").replace(r,"'").replace(i,'"').replace(a,"&").replace(n,"'")}}(),S.__decode=function(){var e=/&lt[;]{0,1}/g,t=/&gt[;]{0,1}/g,r=/&apos[;]{0,1}/g,i=/&quot[;]{0,1}/g,a=/&amp[;]{0,1}/g,n=/&apos[;]{0,1}/g,o=/&nbsp[;]{0,1}/g;return function(s){
return s.replace(e,"<").replace(t,">").replace(r,"'").replace(i,'"').replace(a,"&").replace(n,"'").replace(o," ")}}(),S.__decode2=function(){var e=/&lt[;]{0,1}/g,t=/&gt[;]{0,1}/g,r=/&apos[;]{0,1}/g,i=/&quot[;]{0,1}/g,a=/&amp[;]{0,1}/g,n=/&apos[;]{0,1}/g,o=/&nbsp[;]{0,1}/g;return function(s){return s.replace(e,"<").replace(t,">").replace(r,"'").replace(i,'"').replace(a,"&").replace(n,"'").replace(o," ")}}(),S.encode=function(){var e=/&/g,t=/</g,r=/>/g,i=/'/g,a=/"/g,n=/\r\n/g,o=/\n/g,s=/\r/g;return function(l){var u=null;if(null==l)u="";else if("string"==typeof l)u=l;else{if(!S.isDocument(l))return l;u=S.serialize(l)}return u.replace(e,"&amp;").replace(t,"&lt;").replace(r,"&gt;").replace(i,"&apos;").replace(a,"&quot;").replace(n,"&#xA;").replace(o,"&#xA;").replace(s,"&#xA;")}}(),S.decode=function(){var e=/&lt;/g,t=/&gt;/g,r=/&apos;/g,i=/&quot;/g,a=/&amp;/g,n=/&#xA;/g;return function(o){return o.replace(e,"<").replace(t,">").replace(r,"'").replace(i,'"').replace(a,"&").replace(n,"\n")}}(),S.isDocument=function(e){try{return"object"==typeof e&&void 0!==e.documentElement&&9==e.nodeType}catch(e){f.Y.printStackTrace(e,"xml.isDocument")}return!1},S.isDocumentString=function(e){var t;try{if(h.Q.useActiveXObject)(t=new ActiveXObject(S._MSMXL_PROGIDS[0])).async=!1,t.validateOnParse=!1,t.loadXML(e);else if("<"==e.wq_trim().charAt(0))(t=(new DOMParser).parseFromString(e,"text/xml")).async=!1;if(void 0===t||null==t)return!1;if(g.I.browserCheck.moz&&"parsererror"==t.documentElement.nodeName)return!1;if(h.Q.useActiveXObject&&0!=t.parseError.errorCode)return!1}catch(e){return!1}return!0},S.getElementsByTagName=function(e,t,r){if(!(g.I.browserCheck.ieAllVersion||h.Q.browserCheck.chrome||h.Q.browserCheck.safari||h.Q.browserCheck.opera||WebSquare.util.isMobile()))return g.I.browserCheck.moz?void 0===r?e.getElementsByTagName(t):e.getElementsByTagNameNS(r,t):e.getElementsByTagName(t);try{return void 0===r?t.indexOf(":")>=0?e.selectNodes(".//*['"+t+"'=name()]"):e.selectNodes(".//*['"+t+"'=local-name()]"):e.selectNodes(".//*['"+t+"'=local-name()]['"+r+"'=namespace-uri()]")}catch(a){if(void 0===r)return e.getElementsByTagName(t);var i=t;return r==g.I._XML_NAMESPACE.SCHEMA?i=t:r==g.I._XML_NAMESPACE.XFORMS?i="xf:"+t:r==g.I._XML_NAMESPACE.XHTML||r==g.I._XML_NAMESPACE.XML||r==g.I._XML_NAMESPACE.XSL?i=t:r==g.I._XML_NAMESPACE.EVENTS?i="ev:"+t:r==g.I._XML_NAMESPACE.W2&&(i="w2:"+t),e.getElementsByTagName(i)}},S.matchNode=function(e,t,r){if(void 0===r)return e.nodeName==t;var i=e.nodeName.split(":"),a=2==i.length?i[1]:i[0];return r==e.namespaceURI&&a==t},S.nodeInfoObj=(p={},function(e){var t=e.nodeName;if(!p[t]){var r=e.namespaceURI;if(void 0!==r&&""!==r){var i=t.split(":");p[t]={nodeName:i[i.length-1],uri:r}}else p[t]={nodeName:t}}return p[t]}),S.getLocalName=function(e){var t=e.nodeName.split(":");return 2==t.length?t[1]:t[0]},S.findNode=function(e,t){try{return e.selectSingleNode(t)}catch(e){f.Y.printStackTrace(e)}return null},S.findNodes=function(e,t){try{return e.selectNodes(t)}catch(e){f.Y.printStackTrace(e)}return null},S.createElement=function(e,t){var r,i;if(g.I.browserCheck.opera)r=e.createElementNS("",t);else if(g.I.browserCheck.ieAllVersion&&!h.Q.useActiveXObject){var a=t.indexOf(":");if(-1==a)i=S.parse("<"+t+"/>");else{var n=t.substring(0,a),o=g.I.getNamespaces(e);i=o[n]?S.parse("<"+t+" xmlns:"+n+'="'+o[n]+'"/>'):S.parse("<"+t+"/>")}null!=i&&(r=e.importNode(i.documentElement.cloneNode(!1),!1))}else r=e.createElement(t);return r},S.createNode=function(e,t,r){try{if(r&&g.I.browserCheck.ieAllVersion&&h.Q.useActiveXObject){var i=g.I.getNamespaces(e),a="";for(var n in i)""!=n&&(a+="xmlns:"+n+'="'+i[n]+'" ');9==e.nodeType?(e.setProperty("SelectionLanguage","XPath"),e.setProperty("SelectionNamespaces",a)):1==e.nodeType&&(e.ownerDocument.setProperty("SelectionLanguage","XPath"),e.ownerDocument.setProperty("SelectionNamespaces",a))}var o=e.selectSingleNode(t);if(null==o){var s=t.lastIndexOf("/");if(s>0){var l=t.substring(0,s),u=t.substring(s+1)
;if(null==u.match(/[@'"()=]/i)){var c=S.createNode(e,l);null!=c&&(9==e.nodeType?o=S.createElement(e,u):1==e.nodeType&&(o=S.createElement(e.ownerDocument,u)),o=S.appendChild(c,o))}else{var d=u.split(/[[=\]]/);if((4==d.length||3==d.length)&&null!=d[1].match(/^@/)){var p=S.createNode(e,l);null!=p&&(9==e.nodeType?o=S.createElement(e,d[0]):1==e.nodeType&&(o=S.createElement(e.ownerDocument,d[0])),o.setAttribute(d[1].wq_trim().slice(1),d[2].wq_replaceAll("'","")),o=S.appendChild(p,o))}}}else 1==e.nodeType&&"/"!=t.charAt(0)&&(o=S.createElement(e.ownerDocument,t),o=S.appendChild(e,o))}return o}catch(e){f.Y.printStackTrace(e)}return null},S.appendChild=function(e,t){var r;try{return e.ownerDocument==t.ownerDocument?r=e.appendChild(t):"function"==typeof e.ownerDocument.importNode?(r=e.ownerDocument.importNode(t,!0),r=e.appendChild(r)):r=e.appendChild(t)}catch(e){f.Y.printStackTrace(e)}},S.getValue=function(e,t,r){var i="";try{var a=e.selectSingleNode(t);if(null!=a)if(void 0!==r)i=a.getAttribute(r);else if(2==a.nodeType||3==a.nodeType||4==a.nodeType)i=null!=a.value?a.value:a.nodeValue;else for(var n=a.childNodes,o=0;o<n.length;o++){var s=n[o];(3==s.nodeType||4==s.nodeType)&&(i+=s.nodeValue)}null==i&&(i="")}catch(e){f.Y.printStackTrace(e)}return i},S.getAttribute=function(e,t,r){var i="";try{if("string"==typeof e&&(e=S.parse(e)),void 0===r)i=1==e.nodeType?e.getAttribute(t):e.documentElement.getAttribute(t);else{var a=null;null!=(a=1==e.nodeType?e.selectSingleNode(t):e.selectSingleNode("/*/"+t))&&(i=a.getAttribute(r)),null==i&&(i="")}null==i&&(i="")}catch(e){f.Y.printStackTrace(e)}return i},S.getString=function(e,t){return S.getAttribute(e,t,"value")},S.getChildren=function(e,t){var r=[];try{var i=e.selectSingleNode(t);if(null!=i)for(var a=i.childNodes,n=0;n<a.length;n++){var o=a.item(n);if(1==o.nodeType){var s={};s["@tagName"]=o.nodeName;var l=o.attributes;if(null!=l)for(var u=0;u<l.length;u++)s[l[u].nodeName]=l[u].nodeValue;r.push(s)}}}catch(e){f.Y.printStackTrace(e)}return r},S.setValue=function(e,t,r,i){try{var a=S.createNode(e,t);if(null!=a)if(void 0!==i)a.setAttribute(r,i);else{for(var n=a.childNodes,o=0;o<n.length;o++){var s=n.item(o);(3==s.nodeType||4==s.nodeType)&&a.removeChild(s)}var l=null;l=1==e.nodeType?e.ownerDocument.createTextNode(r):e.createTextNode(r),S.appendChild(a,l)}}catch(e){f.Y.printStackTrace(e)}},S.setAttribute=function(e,t,r,i){try{if("string"==typeof e&&(e=S.parse(e)),void 0===i)1==e.nodeType?e.setAttribute(t,r):e.documentElement.setAttribute(t,r);else{1==e.nodeType||(t="/*/"+t);var a=S.createNode(e,t);null!=a&&a.setAttribute(r,i)}}catch(e){f.Y.printStackTrace(e)}},S.setString=function(e,t,r){S.setAttribute(e,t,"value",r)},S.transform=async function(e,t,r){try{var i="false";(m.v.globalDebug1||m.v.getGlobalDebug())&&(i="true");var a=null;if("string"==typeof e)a=S._parse(e);else if(S.isDocument(e))a=h.Q.useWebSquareXMLParser?S._parse(S.serialize(e)):e;else{if("object"!=typeof e||void 0===e.type||"vector"!=e.type&&"hashtable"!=e.type)return"";a=h.Q.useWebSquareXMLParser?S._parse(S.serialize(e.toDocument())):e.toDocument()}var n=await S.load(t,!0,void 0,!0),o="";if(g.I.supportActiveX)o=a.transformNode(n);else if("undefined"!=typeof XSLTProcessor){var s=new XSLTProcessor;s.importStylesheet(n);var l=s.transformToDocument(a);(o=S.serialize(l)).indexOf("<transformiix:result")>-1&&(o=o.substring(o.indexOf(">")+1,o.lastIndexOf("<")))}else{var u=null;try{u=new ActiveXObject("Msxml2.XSLTemplate")}catch(e){f.Y.printStackTrace(e)}if(!u)return m.v.printLog("ERROR : transform is not supported."),"";var c=u,d=new ActiveXObject("Msxml2.FreeThreadedDOMDocument");d.loadXML(S.serialize(n)),c.stylesheet=d;var p=c.createProcessor();p.input=a,p.transform(),o=p.output}if(void 0!==r&&null!=r&&""!=r){var b=document.getElementById(r);if(g.I._safeInnerHTML(b,o+"<XSLINFO value='"+t+"'/>"),"true"==i){var y=/>[\s]*</g;(v={}).html=o.replace(y,">\n<"),v.xml=S.indent(a),v.xsl=S.indent(n),v.target=r,
m.v.showDebugMsg(v,"xml","Transform execution result")}}else if("true"==i){var v;y=/>[\s]*</g;(v={}).html=o.replace(y,">\n<"),v.xml=S.indent(a),v.xsl=S.indent(n),m.v.showDebugMsg(v,"xml","Transform execution result")}return void 0!==o&&"undefined"!=o?o:""}catch(e){f.Y.printStackTrace(e)}},S.hasChildElement=function(e){for(var t=e.firstChild;null!=t;t=t.nextSibling)if(1==t.nodeType)return!0;return!1},S.getChildrenByTagName=function(e,t,r){var i=new Array;if(void 0===r)for(var a=e.firstChild;null!=a;a=a.nextSibling){if(1==a.nodeType)(o=2==(n=a.nodeName.split(":")).length?n[1]:n[0])==t&&i.push(a)}else for(a=e.firstChild;null!=a;a=a.nextSibling)if(1==a.nodeType){var n,o=2==(n=a.nodeName.split(":")).length?n[1]:n[0];r==a.namespaceURI&&o==t&&i.push(a)}return i},S.getFirstChildElement=function(e){for(var t=e.firstChild;null!=t;t=t.nextSibling)if(1==t.nodeType)return t;return null},S.getFirstChildElements=function(e){for(var t=new Array,r=e.firstChild;null!=r;r=r.nextSibling)1==r.nodeType&&t.push(r);return t},S.getNextSiblingElement=function(e){for(var t=e.nextSibling;null!=t;t=t.nextSibling)if(1==t.nodeType)return t;return null},S.getTextNodeValue=function(e){for(var t=null,r="",i=e.firstChild;null!=i;i=i.nextSibling)3==i.nodeType&&(r+=i.nodeValue);return""!=r&&(t=r),t},S.setTextNodeValue=function(e,t){if(e&&1==e.nodeType)if(null==e.firstChild){var r=e.ownerDocument.createTextNode(t);S.appendChild(e,r)}else 3==e.firstChild.nodeType&&(e.firstChild.nodeValue=t)},S.getCDataNodeValue=function(e){for(var t=null,r=e.firstChild;null!=r;r=r.nextSibling)4==r.nodeType&&(t=r.nodeValue);return t},S.getCData=function(e,t){try{var r="",i=e.selectSingleNode("/*/"+t);if(null!=i)for(var a=i.getAttribute("encode"),n=0;n<i.childNodes.length;n++){var o=i.childNodes[n];if(4==o.nodeType){r=o.nodeValue,"base64"==a&&(r=y.Q.BASE64Decoder(r));break}}return null==r&&(r=""),r}catch(e){f.Y.printStackTrace(e)}},S.setCData=function(e,t,r){try{var i=null;r.indexOf("]]>")>=0?(i="base64",r=y.Q.BASE64Encoder(r)):i="text";var a=e.selectSingleNode("/*/"+t);if(null==a){var n=e.createElement(t);n.setAttribute("type","CDATA"),n.setAttribute("encode",i),n.appendChild(e.createCDATASection(r)),S.appendChild(e.documentElement,n)}else{for(var o=a.childNodes.length-1;o>=0;o--)4==a.childNodes[o].nodeType&&a.removeChild(a.childNodes[o]);a.setAttribute("type","CDATA"),a.setAttribute("encode",i),a.appendChild(e.createCDATASection(r))}}catch(e){f.Y.printStackTrace(e)}},S.nodeWellFormed=function(e){try{for(var t="",r="",i=!1,a=!1,n=0,o=0;o<e.length;o++){var s=e.charAt(o);if("="==s)'"'==e.charAt(o+1)?t+=s:(t=t+s+'"',a=!0);else if('"'==s)t+=s,i=0==i;else if(" "==s){if(" "==e.charAt(o-1))continue;n++,1==i?r=r+t+s:a?(r=r+t+'"'+s,a=!1):(1!=n&&'"'!=e.charAt(o-1)&&-1==t.indexOf("=")&&(t+='=""'),r=r+t+s),t=""}else">"==s?(1==a?(t=t+'"'+s,a=!1,i=!1):('"'!=e.charAt(o-1)&&-1==t.indexOf("=")&&(t+='=""'),t+=s),n=0):t+=s}return t.length>0&&(r+=t),r}catch(e){f.Y.printStackTrace(e)}}},1731:(e,t,r)=>{r.r(t),r.d(t,{udc:()=>a});var i=r(2536),a=function(e){if(null==e.id||(this.id=e.id,null==window[WebSquare.noConflict].comp[this.id])){this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.id||(this.id=this.uuid),WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid,window[this.id]=this,window[WebSquare.noConflict].comp[this.id]=this,this.scope_obj=WebSquare.idCache[e.scope_uuid],null!=this.scope_obj&&(this.org_id=e.org_id,this.scope_id=this.scope_obj.id,this.scope_obj.scope||(this.scope_obj.scope={}),this.org_id&&"string"==typeof this.org_id&&(this.scope_obj.scope[this.org_id]=this));var t={};if(null!=e.data){var r={};for(var a in e.data)"ev:"==a.slice(0,3)?t[a]=e.data[a]:"className"===a?t.className=e.data[a]:"style"===a?t.style=e.data[a]:"id"!==a&&(r[a]=e.data[a]);t.dataObject={type:"json",name:"param",data:r}}t.scope=!0,t.udc2Name=e.tagName||"",t.preload=!0,e.src&&(t.src=e.src),e.msaName&&(t.msaName=e.msaName),!0===e.pcc&&(t.pcc=!0),t._scope_obj_uuid=e.scope_uuid,t.pluginName="udc2"
;if(t.initScript||"true"!==i.I.getConfiguration("/WebSquare/udc/initScript/@value")||(t.initScript=i.I.getConfigurationJSON("/WebSquare/udc/initScript",{type:"json"}),t.initScript["#cdata"]&&(t.initScript=t.initScript["#cdata"],"function"==typeof t.initScript&&(t.initScript="("+t.initScript.toString()+")()"))),t.postScript||"true"!==i.I.getConfiguration("/WebSquare/udc/postScript/@value")||(t.postScript=i.I.getConfigurationJSON("/WebSquare/udc/postScript",{type:"json"}),t.postScript["#cdata"]&&(t.postScript=t.postScript["#cdata"],"function"==typeof t.postScript&&(t.postScript="("+t.postScript.toString()+")()"))),this._wqContent=new WebSquare.uiplugin.wframe("",t),this._wqContent._isUDC2=!0,this._wqContent.parentFrame=e.parentFrame,!0!==e.pcc){this._reservedName={property:["id","org_id","uuid","_wqContent","_reservedName"],function:["toHTML","preActivate","activate","remove","onComplete","appendTo","writeTo"],uniqueFunction:["initAsync","finalize"]},this._defaultFunc=["bind","unbind","trigger","show","hide","setDisabled","setReadOnly","getDisabled","getReadOnly","getChildren"];for(var n=this._reservedName.function.concat(this._defaultFunc),o=0;o<n.length;o++){var s=n[o];this[s]=function(e){return function(...t){return this._wqContent[e](...t)}}(s)}}}};a.prototype.initAsync=async function(){await this._wqContent.makeFrameUDC2(this)},a.prototype.finalize=function(){this.remove()},a.prototype._clone=function(e){try{var t=WebSquare.util._copyOptions(this.options);return t.id=e.getAttribute("id")||null,t.g_index=e.getAttribute("g_index"),WebSquare.controlFactory.createControl(null,t,e,this.scope_obj,!0,this.parentFrame)}catch(e){exception.printStackTrace(e,null,this)}},a.prototype._cloneRecursive=function(e){try{if(!e)return;var t=this._clone(e);return t._wqContent=new WebSquare.uiplugin.wframe("",this._wqContent.options),t._wqContent.initAsync=async function(){},t.initAsync=async function(){},t._wqContent.makeFrameUDC2Sync(t,!0,!0),t}catch(e){exception.printStackTrace(e,null,this)}},a.prototype.destroy=function(){try{this._wqContent.remove(),window[WebSquare.noConflict].comp[this.id]=null,delete window[WebSquare.noConflict].comp[this.id],WebSquare.idToUUID[this.id]=null,delete WebSquare.idToUUID[this.id],WebSquare.idCache[this.uuid]=null,delete WebSquare.idCache[this.uuid],window[this.id]&&(window[this.id]=null,delete window[this.id])}catch(e){exception.printStackTrace(e,null,this)}}},582:(e,t,r)=>{r.d(t,{q:()=>i});var i={_xv:"SP5",domain:null,baseURI:"",baseServletURI:"",baseThemeURI:"",sp5ResourcePath:"../websquare/_websquare_",w2xDocumentRoot:"",w2xHome:"/",w2xTheme:"",w2xExtension:"w5",printConsole:!1,remoteConsole:!1,errorConsole:!1,useWeinre:!1,weinreUrl:"http://debug._wg.co.kr/target/target-script-min.js",hybridSubmissionURL:"",isPrintLog:!0,hybridApp:!1,isHoneyComb:!1,userAgentPattern:{serializer:"Android 2.3.5[\\w\\W]+M110|Android 2.3.5[\\w\\W]+M250",XMLParser:"Opera[\\w\\W]+Version[\\w\\W]+1[\\d].[\\d]",URIEncoder:"Chrome[\\w\\W]16[.0-9*]*|Version[\\w\\W]+Safari+",XPathParser:"Edge"},msActiveXFilteringEnabled:!1,externalOption:{},WebSquaredoc:null,UUIDPrefix:"wq_uuid",UUID:0,scriptCachedList:{},moduleList:{},noConflict:"$w",noConflictFunction:"$p",styleSheetEarlyImport:0,styleSheetEarlyImportName:"",styleSheetEarlyImportList:[],_styleSheetEarlyImportListLoaded:!1,externalCSSList:[],externalCSSDOM:[],externalCSSURL:[],externalCSSRemainder:[],pageXMLString:null};i.nodeValueDeprecated=document.createAttribute&&null!=document.createAttribute("test").value,i.scriptIdentifier=';\n"wq_Log_$$H',i.targetInfo="",i.skipLog=!1,i.printError=!1,i.pluginCache="default",i.pluginCacheVariable="__WebSquare__pluginCache",i.suffix="",i.spaURLMapping={},i.dataObject={},i.isWebSquarePopup=!1,i.strictMode=!0,i.convertPageXML=!0,i.strictModeFrame=null,i.serverDiff=NaN,i.pageURLPrefix="",i.useLanguagePack=!1,i.nowRendering=!1,i.WebSquareCache=!1,i.WebSquareEngineCache=!1,i.appendChildType=null,i._bEngineReadyBeforeOnload=!1,i._bDocumentReady=!1,
i._initImportList=[],i._resourceURI="",i._bInitModule=!1,i.docType="html4.01",i.dataPrefix=!1,i._performance={use:!1},i.amdTimeout=20,i._dataObject=null,i._dataObjectFlag=!1,i._allowedOrigin="*",i._contextRoot="";try{window.top===window.self&&(i._innerWidthDiff=window.outerWidth-window.innerWidth)}catch(e){i._innerWidthDiff=null}if(null!=document.doctype&&"html"==document.doctype.name&&""==document.doctype.publicId&&""==document.doctype.systemId&&(i.docType="html5"),window.onload=function(){i._bDocumentReady=!0,!0===i._bEngineReadyBeforeOnload&&(i.initialize(i.w2xPath),i._bEngineReadyBeforeOnload=!1)},"sessionStorage"in window){var a=sessionStorage.getItem("wq_spaURLMapping");null!=a&&(i.spaURLMapping=JSON.parse(a))}try{if("undefined"!=typeof externalValue)for(var n in externalValue)void 0!==i[n]&&(i[n]=externalValue[n])}catch(e){alert("External Option Error! : "+e.toString())}null==window.WebSquareExternal&&(window.WebSquareExternal={}),"string"==typeof window.WebSquareExternal.w2xExtension&&(i.w2xExtension=window.WebSquareExternal.w2xExtension||i.w2xExtension),i.configPath="";var o;if((o=location.toString().indexOf("w2Config"))>=0){var s=location.toString().slice(o+9);i.configPath=s.slice(0,s.indexOf("config.js")+9)}"string"==typeof window.WebSquareExternal.w2Config&&(i.configPath=window.WebSquareExternal.w2Config||i.configPath),i.sp5ResourcePath=window.WebSquareExternal.sp5ResourcePath||i.sp5ResourcePath,i.document=document,i.ver="Ni4wXzAuMTE2Nk0uMjAyNDEwMTAuMDg1NDE4Xw==MS44",i.logMsgArray=[],i.remoteLogMsgArray=[],i.logTime=0,i.logTotalTime=0,i.buildDate="N/A",i.buildID="",i.uiplugin={},i.logFileName="",i.docTitle="",i.jsString={},i.jsStringOpt={},i.jsStringCore="",i.$integiry={flag:!0,passed:[],failed:[]},i.allPlugin="${allPlugin}",i.allPluginArr=[],i.clientLang=window.WebSquareExternal.clientLang||"",i._async=!0,i.dragdrop2={droppable:{},scrollable:{},scrollByDragDelay:300,scrollByDragSpeed:50},i.timerHash={},i.measureHash={},i.userTimerHash={},i.userIntervalHash={},i.userData={},i.logMsgArrayLength=0,i.logMsgCurrentLength=0,i.logMsgLength=0,i.componentsCache={},i.addListenerCnt=0,i.elementObjArr=[],i.selectboxCss=!1,i.triggerCss=!1,i.idCache={},i.idToUUID={},i.importsQueue={},i.controlMatchmarks={},i.lazyImportsArr=[],i.externalScriptArr=[],i.executePointScriptArr={},i.pageInheritScriptArr=[],i.pageInheritSubmissionList=[],i.pageInheritWorkflowList=[],i.configCache=[],i.configCacheObj=[],i.configCacheArray=[],i.eventCacheObj={},i.uiplugin={},function(){try{var e=function(e){try{if(!window.WebSquare)return;var t=new RegExp(WebSquare._allowedOrigin.replace("*","").replace(",","|"));if(!e.origin.match(t))return;if(!e.data||!e.data._wq_type)return;if("iframeLoaded"===e.data._wq_type)WebSquare.core._handleIframeLoaded();else if("iframeClicked"===e.data._wq_type){var r=WebSquare.getBody();r&&r._postClick()}else"onwindowloaded"===e.data._wq_type?WebSquare.core._handleWindowLoaded(e.data.uuid,e.data.origin):"dataObject"===e.data._wq_type?("number"==typeof e.data._innerWidthDiff&&window.top!==window.self&&(WebSquare._innerWidthDiff=e.data._innerWidthDiff),!0!==WebSquare._dataObjectFlag&&(WebSquare._dataObjectFlag=!0,WebSquare._dataObject=e.data.dataObject,WebSquare.core&&WebSquare.core._initDataObject())):"onwindowmousedown"===e.data._wq_type?WebSquare.idCache[e.data.uuid].handleFrameMouseDownEvent({}):"onwindowkeyup"===e.data._wq_type&&WebSquare.idCache[e.data.uuid].handleFrameKeyupEvent({keyCode:e.data.keyCode})}catch(e){console.error(e)}};if(window.addEventListener?window.addEventListener("message",e):window.attachEvent&&window.attachEvent("onmessage",e),window.parent!==window.self){var t={_wq_type:"iframeLoaded",href:location.href};window.parent.postMessage(t,i._allowedOrigin||void 0)}}catch(e){console.error(e)}}(),function(){try{var e=function(e,t){var r=e.indexOf(t);return r>-1&&(i.baseURI=e.substring(0,r),!0)};if(window.WebSquareExternal.baseURI)i.baseURI=window.WebSquareExternal.baseURI,
window.WebSquareExternal.baseServletURI?i.baseServletURI=window.WebSquareExternal.baseServletURI:i.baseServletURI=i.baseURI;else{for(var t=0;t<document.getElementsByTagName("script").length;t++){var r=document.getElementsByTagName("script")[t].src;if(e(r,"HybridPluginAll"))break;if(e(r,"bootloader.js"))break;if(!window.WebSquareExternal.baseServletURI){if(e(r,"javascript.wq?q=/bootloader"))break;if(e(r,"javascriptPluginAll.wq?q=/bootloader"))break}}var a;if(""==i.baseURI)if("file:"!=location.protocol)(a=location.pathname.lastIndexOf("/"))>-1?(i.baseURI=location.pathname.substring(0,a+1),"/"!=i.baseURI.charAt(0)&&(i.baseURI="/"+i.baseURI)):(a=location.pathname.lastIndexOf("\\"),i.baseURI=a>-1?location.pathname.substring(0,a+1):"./");else(a=location.pathname.lastIndexOf("/"))>-1?i.baseURI=location.pathname.substring(0,a+1):(a=location.pathname.lastIndexOf("\\"),i.baseURI=a>-1?location.pathname.substring(0,a+1):"./"),i.baseURI="file://"+i.baseURI;else if("file:"!=location.protocol){if(location.pathname.indexOf("/")>-1){if((n=i.baseURI.split("/")).length>0&&(".."==n[0]||"."==n[0])){(o=location.pathname.split("/")).pop();for(t=0;t<n.length;t++)if(".."==n[t])o.pop();else if("."!=n[t]){n=n.slice(t);break}i.baseURI=o.join("/")+"/"+n.join("/"),"/"!=i.baseURI.charAt(0)&&(i.baseURI="/"+i.baseURI)}}else if(location.pathname.indexOf("\\")>-1){if((n=i.baseURI.split("\\")).length>0&&(".."==n[0]||"."==n[0])){(o=location.pathname.split("\\")).pop();for(t=0;t<n.length;t++)if(".."==n[t])o.pop();else if("."!=n[t]){n=n.slice(t);break}i.baseURI=o.join("\\")+"\\"+n.join("\\")}}}else if(location.pathname.indexOf("/")>-1){if((n=i.baseURI.split("/")).length>0&&(".."==n[0]||"."==n[0])){(o=location.pathname.split("/")).pop();for(t=0;t<n.length;t++)if(".."==n[t])o.pop();else if("."!=n[t]){n=n.slice(t);break}i.baseURI="file://"+o.join("/")+"/"+n.join("/")}}else if(location.pathname.indexOf("\\")>-1){var n;if((n=i.baseURI.split("\\")).length>0&&(".."==n[0]||"."==n[0])){var o;(o=location.pathname.split("\\")).pop();for(t=0;t<n.length;t++)if(".."==n[t])o.pop();else if("."!=n[t]){n=n.slice(t);break}i.baseURI=o.join("\\")+"\\"+n.join("\\")}}window.WebSquareExternal.baseServletURI?i.baseServletURI=window.WebSquareExternal.baseServletURI:1==i.hybridApp?i.baseServletURI="":i.baseServletURI=i.baseURI}i._resourceURI=i.baseURI+"_websquare_/"}catch(e){console.error("websquare baseURI init error.",e)}}(),i.loadErrorHandler=function(e){var t=e.code,r=e.msg;switch(t){case"E_initializer_XMLLoadFailError":case"E_initializer_XMLLoadFailError1":var a=i.core.getConfiguration("/WebSquare/loadErrorHandler/@value");if(null!=a&&""!=a){a=a.replace("()","");var n=i.util.getGlobalFunction(a);"function"==typeof n?n(e):alert(r)}else alert(r)}},i.clearMemory=function(){try{var e;try{for(var t=[self],r=[],a=0;a<1e4&&!(t.length<=0);a++)for(var n=t.length,o=0;o<n;o++)try{var s=t.shift();a>0&&r.push(s);for(var l=0;l<s.window.length;l++)try{void 0!==s.frames[l].WebSquare&&!0!==s.frames[l]._wg.remove&&t.push(s.frames[l])}catch(e){i.logger.printLog("WebSquare frameClick fail")}}catch(e){i.logger.printLog("WebSquare frameClick fail [ "+e.message+" ]")}for(var u=0;u<1e4&&!(r.length<=0);u++)try{(s=r.pop()).WebSquare&&!0!==s._wg.remove&&s._wg.clearMemory()}catch(e){i.logger.printLog("WebSquare frameClick fail [ "+e.message+" ]")}for(o=0;o<t.length;o++)t[o]=null;for(o=0;o<r.length;o++)r[o]=null;t=null,r=null}catch(e){i.logger.printLog("clearMemory fail")}if(WebSquare&&i.core){i.core.firePageunload||i.core.onurlchange||!i.body||(i.core.firePageunload=!0,i.event.fireEvent(i.getBody(),"onpageunload"));var c=i.core.getConfiguration("/WebSquare/clearMemory/@userAfterFunction");i.core.clearCommon()}try{"onhashchange"in window?window.onhashchange=null:(clearInterval(i.util._hashTestKey),i.util._hiddenFrame&&(i.removeNode(i.util._hiddenFrame),i.util._hiddenFrame=null))}catch(e){i.logger.printLog("error : clear historyFrame exception"),i.exception.printStackTrace(e,null,this)}
for(var o in WebSquare&&i.body&&i.getBody().remove(),WebSquare&&i.strictModeFrame&&(i.strictModeFrame.remove(),i.strictModeFrame=null),WebSquare)WebSquare[o]=null,delete WebSquare[o];void 0!==window.imports&&(window.imports=null),void 0!==window.requires&&(window.requires=null),void 0!==$W._a&&($W._a=null),void 0!==_$W._a&&(_$W._a=null),void 0!==window.$W&&(window.$W=null),void 0!==window._$W&&(window._$W=null),WebSquare=null,window._$W=window.$W=window.WebSquare={logger:{printLog:function(){}},exception:{printStackTrace:function(){}},timerHash:{},remove:!0};try{c&&(e=window[c]())}catch(e){i.exception.printStackTrace(e,null,this)}return e}catch(e){i.exception.printStackTrace(e,null,this)}},i.extend=function(e,t){for(var r in t)e[r]=t[r];return e},i.extendKeepingType=function(e,t){for(var r in t){var i=t[r];switch(typeof e[r]){case"string":if(""==i)continue;"$blank"==i&&(i="");break;case"number":i=i&&i.toString().indexOf(".")>-1?parseFloat(i):parseInt(i,10);break;case"boolean":i=WebSquare.util.getBoolean(i)}e[r]=i}return e},i.setBody=function(e){i.body=e},i.getBody=function(){return i.body},i._discardElement=function(e){var t=document.getElementById("IELeakGarbageBin");t||((t=document.createElement("DIV")).id="IELeakGarbageBin",t.style.display="none",document.documentElement.appendChild(t)),t.appendChild(e),t.innerHTML=""},i.removeChildren=function(e){if(null==e||!e.childNodes)return-1;for(var t=e.childNodes.length;e.hasChildNodes();)i.removeNode(e.firstChild);return t},i.removeNode=function(e){return i.util.isIE()&&parseInt(i.core.browserVersion(),10)<8?(i._discardElement(e),e):e&&e.parentNode?e.parentNode.removeChild(e):void 0},i.initialize=async function(e,t){if(!e){var r=i.util.getUrlHashText();if(!r)return"onhashchange"in window&&null==window.onhashchange&&(window.onhashchange=i.util.onhashchange),!0;e=r}i.core._initDataObject(),await i.date._initServerDiff();var a=i.core.getConfiguration("/WebSquare/allValue/@value");if(i.allValue="$blank"==a?"":a||"all",i.dataPrefix="true"==i.core.getConfiguration("/WebSquare/dataPrefix/@value"),i.tabOrder={},i.initStyle={},i.strictMode&&null==i.strictModeFrame){var n=i.util.getBoolean(i.core.getConfiguration("/WebSquare/initScript/@value"))&&i.w2xPath!==i.net.getBlankXML(),o=i.util.getBoolean(i.core.getConfiguration("/WebSquare/postScript/@value"))&&i.w2xPath!==i.net.getBlankXML(),s="",l="",u=i.core.getConfiguration("/WebSquare/strictMode/@id");n&&(s=i.core.getConfigurationJSON("/WebSquare/initScript",{type:"json"}))["#cdata"]&&"function"==typeof(s=s["#cdata"])&&(s="("+s.toString()+")()",s=i.util.scopingFuncBody(s,u,!0)),o&&(l=i.core.getConfigurationJSON("/WebSquare/postScript",{type:"json"}))["#cdata"]&&"function"==typeof(l=l["#cdata"])&&(l="("+l.toString()+")()",l=i.util.scopingFuncBody(l,u,!0));var c=i.UUIDPrefix,d=i.UUID;i.UUIDPrefix="wq_strict";var p="",h="";if(e.indexOf("://")>=0)for(var f in i.core._msaServerHash){var g=i.core._msaServerHash[f].origin;if(e.startsWith(g)){p=f,h=e;break}}i.strictModeFrame=i.controlFactory.create(u,{pluginName:"wframe",scope:!0,scopeExternal:!0,strictFrame:!0,initScript:s,postScript:l,msaName:p,src:h},null,null,null,!0),i.UUIDPrefix=c,i.UUID=d}var m,b="";if(null==i.WebSquaredoc)try{if(i.pageXMLString)m=i.pageXMLString,i.pageXMLString=null;else{var y=i.core.getPageURL(e,{skipURL:!0,skipUri:!0});if(!y)return!0;m=await i.jsLoader._loadObj(y)}if(null!=m&&"loadError"!==m)return await i.jsLoader.start(m,{spa:t}),!0;"false"!=(b=i.core.getConfiguration("/WebSquare/pageFaultMsg/@value"))&&i.loadErrorHandler({code:"E_initializer_XMLLoadFailError",msg:i.language.getMessage("E_initializer_XMLLoadFailError",i.jsLoader.getUri(e))})}catch(t){"false"!=b&&i.loadErrorHandler({code:"E_initializer_XMLLoadFailError1",msg:i.language.getMessage("E_initializer_XMLLoadFailError1",e)}),i.exception.printStackTrace(t)}return!1},i.initializeByJSON=async function(e){return await i.jsLoader.start(e,{type:"js"})},i.startPopupApplication=async function(e){
return i.startApplication(e)},i.startPopupApplication1=async function(e){return i.startApplication1(e)},i.startPopupApplication2=async function(e){return i.startApplication2(e)},i.startApplication=async function(e,t){i.nowRendering=!0,await i.BootLoader._initImport(),"true"==i.core.getConfiguration("/WebSquare/localStorage/@defer")&&i.createLocalStorage();var r=i.core.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value"),a=i.util.getGlobalFunction(r);if("function"==typeof a&&0==a())return;await i.setMsaLanguagePack(),await i.startApplication1(e,t)},i.initializeComponent=function(e,t){if(null==i.WebSquaredoc){i.nowRendering=!0,"true"==i.core.getConfiguration("/WebSquare/localStorage/@defer")&&i.createLocalStorage(window);var r=i.core.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value"),a=i.util.getGlobalFunction(r);if("function"==typeof a)if(0==a())return;i.setLanguagePack(),e?(i.targetInfo=t,i.w2xPath=e):""!=i.net.getParameter("w2xPath")&&(i.w2xPath=i.net.getParameter("w2xPath"));i.w2xPath=i.w2xPath.replace(/[\\]/g,"/");var n=i.w2xPath.lastIndexOf("/"),o="",s="";"object"==typeof WebSquareExternal&&null!=WebSquareExternal&&(o=WebSquareExternal.w2xHome||"",s=WebSquareExternal.w2xDocumentRoot||""),""==o&&""==i.net.getParameter("w2xHome")?i.w2xHome=n>-1?i.w2xPath.substring(0,n+1):"/":i.w2xHome=o||i.net.getParameter("w2xHome"),i.logFileName=n>-1?" "+i.w2xPath.substring(n+1):" "+i.w2xPath;var l=i.core.getConfiguration("/WebSquare/DocumentRoot"),u=s||i.net.getParameter("w2xDocumentRoot");i.w2xDocumentRoot="/"==u||"\\"==u?"":""!=u?u:null!=l&&""!=l?l:"",i.logger.printLog("w2xDocumentRoot["+i.w2xDocumentRoot+"]"),i.logger.printLog("w2xHome        ["+i.w2xHome+"]"),i.logger.printLog("w2xPath        ["+i.w2xPath+"]"),i.logger.printLog("w2xTheme       ["+i.w2xTheme+"]"),i.initialize(i.w2xPath)}else i.initializeComponent_wframe(e,t)},i.initializeComponent_wframe=async function(e,t){try{requires("uiplugin.wframe");var r=new i.uiplugin.wframe(i.UUIDPrefix+"_"+i.UUID++,{src:e});await r.makeFrame(),r.createFlag=!0;var a=r.frameDoc.scriptSection;if(r.wframeScript.length>0)for(var n=0;n<r.wframeScript.length;n++)a+=r.wframeScript[n];i.BootLoader.globalEval(a),r.frameDoc.scriptSection="",r.setAction();for(n=0;n<t.length;n++){var o=t[n],s=i.idToUUID[o.component];if(s&&null!=i.idCache[s]){var l=o.target;"string"==typeof l&&(l=document.getElementById(l));var u=i.idCache[s];i.core._safeInnerHTML(l,u.toHTML()),u.activate(),u.onComplete()}}}catch(e){i.exception.printStackTrace(e,null)}},i.startApplication1=async function(e,t){var r="";if(e)i.w2xPath=e;else if(""!=(r=i.net.getParameter("w2xPath")))i.w2xPath=r;else if(""!=(r=i.net.getParameter("wq_spaParam")))try{var a=parent._wg.idCache[r].render.getAttribute("src").slice(0),n=a.lastIndexOf("w2xPath");if(n>=0){var o=a.slice(n),s=(o=o.split(/[\&\?\#]/)[0]).split("=");2==s.length&&(i.w2xPath=s[1].wq_trim())}else i.w2xPath=i.core.getConfiguration("/WebSquare/welcome-file/@value")}catch(e){i.w2xPath=i.core.getConfiguration("/WebSquare/welcome-file/@value")}else i._styleSheetEarlyImportListLoaded=!0,i.w2xPath=i.core.getConfiguration("/WebSquare/welcome-file/@value");i.w2xPath=i.w2xPath.replace(/[\\]/g,"/");var l=i.w2xPath.lastIndexOf("/"),u="",c="";"object"==typeof WebSquareExternal&&null!=WebSquareExternal&&(u=WebSquareExternal.w2xHome||"",c=WebSquareExternal.w2xDocumentRoot||""),""==u&&""==i.net.getParameter("w2xHome")?i.w2xHome=l>-1?i.w2xPath.substring(0,l+1):"/":i.w2xHome=u||i.net.getParameter("w2xHome"),i.logFileName=l>-1?" "+i.w2xPath.substring(l+1):" "+i.w2xPath;var d=i.core.getConfiguration("/WebSquare/DocumentRoot"),p=c||i.net.getParameter("w2xDocumentRoot");if(i.w2xDocumentRoot="/"==p||"\\"==p?"":""!=p?p:null!=d&&""!=d?d:"",i.logger.printLog("w2xDocumentRoot["+i.w2xDocumentRoot+"]"),i.logger.printLog("w2xHome        ["+i.w2xHome+"]"),i.logger.printLog("w2xPath        ["+i.w2xPath+"]"),i.logger.printLog("w2xTheme       ["+i.w2xTheme+"]"),
i.w2xPath==i.net.getBlankXML())return"onhashchange"in window||(i.util._hiddenFrame?null==document.getElementById(i.util._hiddenFrame.id)&&document.body.appendChild(i.util._hiddenFrame):i.util._makeFrame(),i.util._iframe_wait=!0,i.util._hiddenFrame.contentWindow.location.search=i.w2xPath),void("onhashchange"in window?window.onhashchange=i.util.onhashchange:i.util._wait_for_iframe_reload());!0!==t&&(!0===i._bDocumentReady?await i.initialize(i.w2xPath):i._bEngineReadyBeforeOnload=!0)},i.startOnLoad=function(e){i.jsLoader._startCallback2(e)},i.startApplication2=async function(e){try{i.startApplication1(e)}catch(e){i.exception.printStackTrace(e)}},i.setLanguagePack=function(){if(!i.useUserSystemLang)if(i.useLanguagePack=i.core.getConfiguration("/WebSquare/languagePack/@useLanguagePack"),"true"==i.useLanguagePack){var e=i.BootLoader.getBrowserLanguage();i.loagLanguagePack(e),i.systemLanguage=e}else i.WebSquareLang={}},i.setMsaLanguagePack=async function(){try{if(!i.useUserSystemLang)if(i.useLanguagePack=i.core.getConfiguration("/WebSquare/languagePack/@useLanguagePack"),"true"==i.useLanguagePack){var e=i.BootLoader.getBrowserLanguage();await i.loagLanguagePack(e),await i.msaLoagLanguagePack(e),i.systemLanguage=e}else i.WebSquareLang={}}catch(e){i.exception.printStackTrace(e)}},i.loagLanguagePack=function(e){try{(e=i.cookie.getCookie("system_language")||e)&&"null"!==e&&"undefined"!==e||(e="ko");var t=i.core.getConfiguration("/WebSquare/languagePack/url[@lang='"+e+"']/@value");return imports(t)}catch(e){i.exception.printStackTrace(e)}},i.msaLoagLanguagePack=function(e){try{for(var t=Promise.resolve(),r=i.core.getChildConfiguration("/WebSquare/msaLanguagePack",{singleMode:!0}),a=[],n=0;n<r.length;n++)if(r[n]["@lang"]===e&&r[n]["@msaName"]){var o={msaName:r[n]["@msaName"]},s=i.core.getURL(r[n]["@value"],o);s=s.replace(/(http:\/\/|https:\/\/)(.*?)(\/\/+)/g,(function(e,t,r,i){return t+r+i.replace(/\/\/+/g,"/")}));try{(t=i.BootLoader.loadAsync(s))instanceof window.Promise&&a.push(t)}catch(e){i.exception.printStackTrace(e)}}return a.length>0&&(t=Promise.allSettled(a).then((async function(e){for(var t=0;t<e.length;t++)if("rejected"===e[t].status&&e[t].reason)console.error(e[t].reason);else if("fulfilled"===e[t].status&&e[t].value){var r=e[t].value;if("string"==typeof r&&r.indexOf("{")>-1){var a=r.indexOf("{"),n=JSON.parse(r.slice(a));i.WebSquareLang||(i.WebSquareLang={}),i.extend(i.WebSquareLang,n)}}})).catch((function(e){console.error(e)}))),t}catch(e){return i.exception.printStackTrace(e),Promise.resolve()}},i.addMark=function(e){if(!window._fCoverage)try{parent!=window&&parent._fCoverage?window._fCoverage=parent._fCoverage:void 0!==window.opener&&null!=window.opener&&!window.opener.closed&&window.opener._fCoverage?window._fCoverage=opener._fCoverage:window._fCoverage={}}catch(e){window._fCoverage={}}void 0!==_fCoverage[e]?_fCoverage[e]++:_fCoverage[e]=1},i.ax_logger=function(e){},i._loadCSS=async function(e){var t={};"object"==typeof WebSquareExternal&&null!=WebSquareExternal&&(t=WebSquareExternal);var r=i.document.getElementsByTagName("head")[0],a=e&&e.isSPA,n="",o="";if(i.styleSheetEarlyImport>0){if(2==i.styleSheetEarlyImport){var s=document.createElement("link"),l="";l=1==i.WebSquareEngineCache?i.BootLoader.getEngineCachePostfix(i.styleSheetEarlyImportName):i.BootLoader.getRandomPostfix(i.styleSheetEarlyImportName);var u=i.BootLoader.inquiresPath("skin/");s.href=i.baseThemeURI+u+l,s.type="text/css",s.rel="stylesheet",r.appendChild(s),i.logger.printLog("import core css : "+s.href)}var c=i.net.getParameter("adaptive")||"",d=e&&e.w2xPath||t.w2xPath||i.net.getParameter("w2xPath")||i.w2xPath||i.core.getConfiguration("/WebSquare/welcome-file/@value");if(""==d)return;var p=/[\\]/g;d=d.replace(p,"/");var h="",f=i.core.getPageURL(d,{skipURL:!0,skipUri:!0});if(1==i.hybridApp&&f.indexOf("://")<0&&f.startsWith("/")&&(f=i.util.appendingPathComponent(i.w2xDocumentRoot,f)),!0!==i._async)h=await i.jsLoader.load(f,{useXML:!0,skipError:!0});var g=[]
;if(h&&"xml"===i.jsLoader.getPageTypeByString(h)){var m=h.indexOf("<html");m<0&&(m=h.indexOf("<HTML"))<0&&(m=h.indexOf("< html"))<0&&(m=h.indexOf("< HTML"));var b="";b=m>=0?h.slice(0,m):h;for(var y=-1;(y=b.indexOf("\x3c!--"))>=0;){var S=b.indexOf("--\x3e");b=S>=0?b.substring(0,y)+b.slice(S+3):b.substring(0,y)}if(!(o=t.w2xHome||i.net.getParameter("w2xHome"))){p=/[\\]/g;var v=(o=(o=t.w2xPath||i.net.getParameter("w2xPath")).replace(p,"/")).lastIndexOf("/");o=v>-1?o.substring(0,v+1):"/"}var w=i.core.getConfiguration("/WebSquare/DocumentRoot"),C=t.w2xDocumentRoot||i.net.getParameter("w2xDocumentRoot");n="/"==C||"\\"==C?"":""!=C?C:null!=w&&""!=w?w:"";for(var q=b.split(/xml-stylesheet/i),W=new RegExp("^\\s\\s*"),_=new RegExp("\\s\\s*$"),x=1;x<q.length;x++){var I=q[x].split('"');I.pop();for(var T={},k=0;k<I.length;k+=2)T[I[k].replace(W,"").replace("=","").replace(_,"")]=I[k+1];null==T.type&&(T.type="text/css"),null==T.rel&&(T.rel="stylesheet"),null!=T.href&&("/"!=T.href.substring(0,1)&&"\\"!=T.href.substring(0,1)&&(T.href=o+T.href),""!=n&&".."!=T.href.substring(0,2)&&(T.href=n+T.href));var L=!1,A=i.util.getAbsolutePath(T.href);for(k=0;k<i.styleSheetEarlyImportList.length;k++)if(A==i.util.getAbsolutePath(i.styleSheetEarlyImportList[k])){L=!0;break}for(;i.externalCSSRemainder.length>0;){var E=i.externalCSSRemainder.shift();if(A===i.util._getAbsolutePath(E.href.toString())){L=!0,g.push(A),i.externalCSSDOM.push(E);break}E.parentNode.removeChild(E)}L||(""!=c&&T.adaptive?c==T.adaptive&&i.externalCSSList.push(T):T.adaptive?i.util.isMobile()&&"mobile"==T.adaptive?i.externalCSSList.push(T):i.util.isMobile()||"pc"!=T.adaptive||i.externalCSSList.push(T):i.externalCSSList.push(T))}for(;i.externalCSSRemainder.length>0;){(E=i.externalCSSRemainder.shift()).parentNode.removeChild(E)}}!0!==i._async&&(i.pageXMLString=h||"loadError",h="")}if(a&&i.externalCSSList.length>0||(!a||a&&!1===i._styleSheetEarlyImportListLoaded)&&i.externalCSSList.length+i.styleSheetEarlyImportList.length>0)try{if(!a||a&&!1===i._styleSheetEarlyImportListLoaded){i._styleSheetEarlyImportListLoaded=!0;for(x=0;x<i.styleSheetEarlyImportList.length;x++){var D=i.styleSheetEarlyImportList[x];"/"!=D.substring(0,1)&&"\\"!=D.substring(0,1)&&(D=o+D),""!=n&&".."!=D.substring(0,2)&&(D=n+D);var M=i.BootLoader.getResourcePostfix(D),N=i.util.getAbsolutePath(D);i.styleSheetEarlyImportList[x]=N,(s=document.createElement("link")).href=M,s.type="text/css",s.rel="stylesheet",r.appendChild(s),i.externalCSSURL.push(N),i.logger.printLog("import user css(early_common) : "+D)}}for(x=0;x<i.externalCSSList.length;x++){s=document.createElement("link");var R=i.externalCSSList[x];if(R&&("string"==typeof R||"object"==typeof R)){if("string"==typeof R)R={href:R};"/"!=R.href.substring(0,1)&&"\\"!=R.href.substring(0,1)&&(R.href=o+R.href),""!=n&&".."!=R.href.substring(0,2)&&(R.href=n+R.href);M=i.BootLoader.getResourcePostfix(R.href);s.href=M,s.type=R.type||"text/css",s.rel=R.rel||"stylesheet",r.appendChild(s),i.externalCSSURL.push(i.util._getAbsolutePath(s.href.toString())),i.externalCSSDOM.push(s),i.logger.printLog("import user css(early_xml) : "+R.href)}}}catch(e){i.exception.printStackTrace(e,null)}r=null,i.skin.skinTag=i.externalCSSURL.slice(0).concat(g)},i.createLocalStorage=function(){try{null==WebSquare.localStorage&&(WebSquare.localStorage=function(){var e="websquare_localStorage_keyList",t=";";try{if("localStorage"in window&&"unknown"!=typeof window.localStorage&&null!==window.localStorage){var r=window.localStorage;return(l={}).length=r.length,l.key=function(e){e=Number(e);return isNaN(e)||e>=this.length||e<0?null:r.key(e)},l.getItem=function(e){return r.getItem(e)},l.setItem=function(i,a){var n=i.charAt(0);return/[a-zA-Z]/.exec(n)?i===e?($l(e+": This key is reserved.[localStorage]"),null):i.search(t)>=0?($l(";: The key name must not contain colon(;).[localStorage]"),null):(r.setItem(i,a),void(this.length=r.length)):($l("The key name must start with [a-zA-Z][localStorage]"),null)},l.removeItem=function(e){
r.removeItem(e),this.length=r.length},l.clear=function(){r.clear(),this.length=r.length},l.getAllItem=function(){var e={};for(var t in r)e[t]=r[t];return e},l}if(i.core.browserCheck.ie&&i.core.browserVersion()<"9"){var a="websquare_localStorage",n="",o={},s=function(){null==document.getElementById(o.id)&&((o=document.createElement("div")).id=a+"_div",o.style.display="none",o.style.position="absolute",o.style.top="-999999px",o.style.behavior='url("#default#userData")',document.body.appendChild(o),o.load(a),n=o.getAttribute(e)||"",l.length=n.split(t).length-1)};return(l={}).length=0,l.key=function(e){s();e=Number(e);return isNaN(e)||e>=this.length||e<0?null:n.split(t)[e]},l.getItem=function(e){return s(),o.getAttribute(e)},l.setItem=function(r,i){s();var l=r.charAt(0);if(!/[a-zA-Z]/.exec(l))return $l("The key name must start with [a-zA-Z]"),null;if(r===e)return $l(e+": This key is reserved.[localStorage]"),null;if(r.search(t)>=0)return $l(";: The key name must not contain colon(;).[localStorage]"),null;o.setAttribute(r,i),n.search(r)<0&&(n+=r+t,this.length++),o.setAttribute(e,n);try{o.save(a)}catch(e){$l(e.name+" : localstorage overflowed[localStorage]")}},l.removeItem=function(r){s(),o.removeAttribute(r);var i=n;n=i.replace(r+t,""),i!==n&&this.length--,o.setAttribute(e,n),o.save(a)},l.clear=function(){s();for(var r=n.split(t),i=0;i<r.length-1;i++)o.removeAttribute(r[i]);o.removeAttribute(e),n="",this.length=0,o.save(a)},l.getAllItem=function(){s();for(var e={},r=n.split(t),i=0;i<r.length-1;i++){var a=r[i];e[a]=o.getAttribute(a)}return e},l}return $l("localStorage creation error, falling back to sessionStorage."),null===(r=window.sessionStorage)?void $l("cannot create _wg.localStorage."):((l={}).length=r.length,l.key=function(e){e=Number(e);return isNaN(e)||e>=this.length||e<0?null:r.key(e)},l.getItem=function(e){return r.getItem(e)},l.setItem=function(i,a){var n=i.charAt(0);return/[a-zA-Z]/.exec(n)?i===e?($l(e+": This key is reserved.[localStorage]"),null):i.search(t)>=0?($l(";: The key name must not contain colon(;).[localStorage]"),null):(r.setItem(i,a),void(this.length=r.length)):($l("The key name must start with [a-zA-Z][localStorage]"),null)},l.removeItem=function(e){r.removeItem(e),this.length=r.length},l.clear=function(){r.clear(),this.length=r.length},l.getAllItem=function(){var e={};for(var t in r)e[t]=r[t];return e},l)}catch(i){var l;return $l("localStorage creation error, falling back to sessionStorage."),null===(r=window.sessionStorage)?void $l("cannot create _wg.localStorage."):((l={}).length=r.length,l.key=function(e){e=Number(e);return isNaN(e)||e>=this.length||e<0?null:r.key(e)},l.getItem=function(e){return r.getItem(e)},l.setItem=function(i,a){var n=i.charAt(0);return/[a-zA-Z]/.exec(n)?i===e?($l(e+": This key is reserved.[localStorage]"),null):i.search(t)>=0?($l(";: The key name must not contain colon(;).[localStorage]"),null):(r.setItem(i,a),void(this.length=r.length)):($l("The key name must start with [a-zA-Z][localStorage]"),null)},l.removeItem=function(e){r.removeItem(e),this.length=r.length},l.clear=function(){r.clear(),this.length=r.length},l.getAllItem=function(){var e={};for(var t in r)e[t]=r[t];return e},l)}}()),i.api&&(i.api.local=WebSquare.localStorage)}catch(e){i.exception.printStackTrace(e)}},i._jQuerySupport=async function(){try{if(!window.jQuery){var e=i.core.getConfiguration("/WebSquare/jquerySupport/@src");""!=e?(await i.BootLoader.importAsync(e),window.jQuery||(await inquires("externalJS/jquery/jquery-3.7.1.min.js"),$l("ERROR : Please verify the jquerySupport path in the config.xml file. The current version is "+$.fn.jquery))):await inquires("externalJS/jquery/jquery-3.7.1.min.js")}window.jQuery&&function(e){e.expr[":"].wq=function(t,r,a){var n=null;return!(!(n="idToUUID"in WebSquare?i.idCache[i.idToUUID[e(t).attr("id")]]:i.componentIdCache[e(t).attr("id")])||n.render!=t)&&(""===a[3]||null==a[3]||"*"==a[3]||n.options.pluginName==a[3].trim())};var t=function(e){return new t.fn.init(e)
},r=function(e,r){var i=this;if(this.length>0&&!this[0].getPluginName&&(i=t(this)),e)for(var a=0;a<i.length;a++){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);i[a][e].apply(i[a],n)}return i};function a(t,r){var i,a,o,s=t.nodeName.toLowerCase();return"area"===s?(a=(i=t.parentNode).name,!(!t.href||!a||"map"!==i.nodeName.toLowerCase())&&(!!(o=e("img[usemap='#"+a+"']")[0])&&n(o))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s&&t.href||r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}t.fn=t.prototype={constructor:t,init:function(t){if(!t[0].getPluginName)for(var r=0;r<t.length;r++){var a=null;(a="idToUUID"in WebSquare?i.idCache[i.idToUUID[e(t[r]).attr("id")]]:i.componentIdCache[e(t[r]).attr("id")])&&a.render==t[r]&&this.push(a)}},selector:"",length:0,size:e.fn.size,toArray:e.fn.toArray,pushStack:e.fn.pushStack,push:[].push,sort:[].sort,splice:[].splice,wq:r,jq:function(t,r){if(this[0].getPluginName){for(var i=[],a=0;a<this.length;a++)i.push(this[a].render);this.splice(0,this.length);for(a=0;a<i.length;a++)this.push(i[a])}if(t){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);return e(this)[t].apply(e(this),n)}return e(this)},get:function(e,t){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);return this[0][e].apply(this[0],r)},each:function(e){if("function"==typeof e)for(var t=0;t<this.length;t++)e.call(this[t],t,this[t])},map:function(e,t){if("function"==typeof t){var r=[];if("[object Array]"===Object.prototype.toString.call(e))for(var i=0;i<e.length;i++)r.push(t.call(e,e[i],i));else for(var i in e)r.push(t.call(e,e[i],i));return r}},animate:function(e){return this.jq("animate",e).wq()}},t.fn.init.prototype=t.fn,jQuery.fn.extend({wq:r}),jQuery.fn.extend(e.expr[":"],{focusable:function(t){return a(t,!isNaN(e.attr(t,"tabindex")))},showable:function(e){return n(e)},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return e(t).hasClass("w2grid")||e(t).hasClass("w2checkbox")||e(t).hasClass("w2anchor")||e(t).hasClass("w2anchor2")||e(t).hasClass("w2radio")||e(t).hasClass("w2radio_input")||e(t).hasClass("w2inputCalendar")||e(t).hasClass("w2inputCalendar_div")||e(t).hasClass("w2searchbox")||e(t).hasClass("w2textarea")||(i||r>=0)&&a(t,!i)}})}(jQuery)}catch(e){i.exception.printStackTrace(e)}},i._XMLSupport=function(){try{i.core.supportDOM&&(i.core.browserCheck.opera||i.document.implementation.hasFeature("XPath","3.0")&&(XMLDocument.prototype.selectNodes=function(e,t){if(e){void 0===t&&(t=this);for(var r=this.createNSResolver(this.documentElement),i=this.evaluate(e,t,r,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),a=[],n=0;n<i.snapshotLength;n++)a[n]=i.snapshotItem(n);return a}},XMLDocument.prototype.selectSingleNode=function(e,t){if(e){void 0===t&&(t=this);var r=this.selectNodes(e,t);return r.length>0?r[0]:null}},Document.prototype.selectNodes=XMLDocument.prototype.selectNodes,Document.prototype.selectSingleNode=XMLDocument.prototype.selectSingleNode,Element.prototype.selectNodes=function(e){if(e){for(var t=this.ownerDocument,r=t.createNSResolver(t.documentElement),i=t.evaluate(e,this,r,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),a=[],n=0;n<i.snapshotLength;n++)a[n]=i.snapshotItem(n);return a}},Element.prototype.selectSingleNode=function(e){if(e){var t=this.selectNodes(e);return t.length>0?t[0]:null}}))}catch(e){i.exception.printStackTrace(e)}},i._initImportFunction=function(){try{window._$W=WebSquare,window.$W=WebSquare,_$W._a=_$W.uiplugin,$W._a=_$W._a,window.WebSquareLang={},window.requires=i.BootLoader.requireAsync,window.imports=i.BootLoader.importAsync,window.inquires=i.BootLoader.inquires,window.$integrity=i.BootLoader.$integrity}catch(e){i.exception.printStackTrace(e)}},i._initWebsquareModule=function(){try{for(var e=0;e<i._initImportList.length;e++){for(var t=i._initImportList[e].split("."),r=i,a=0;a<t.length-1;a++)r=i[t[a]];r[t[t.length-1]]._initImport()}
i._initImportList=[]}catch(e){i.exception.printStackTrace(e)}},i._initModule=async function(){i._bInitModule=!0,i._XMLSupport(),await i._jQuerySupport(),await inquires("externalJS/papaparse.js"),window[i.noConflict]=i.api,window[i.noConflict].comp={},window.$l=i.logger.printLog,i._initWebsquareModule()},i._dynamicImport=async function(e,t){try{try{var r=new Function("u","return import(u)");if(r)return await r(e)}catch(r){var a;a=t&&t.altModulePath?t.altModulePath:e;var n=await i.BootLoader.loadAsync(a),o="export default ",s=n.slice(n.indexOf(o)+15);return new Function("return { default : "+s+"}")()}}catch(e){i.exception.printStackTrace(e)}},i._dynamicImportAMD=async function(e,t){try{return i.clearScriptHead(),!0===t?i._dynamicImportFunc(e):(await inquires("externalJS/requirejs/require.js"),window.requirejs.config({waitSeconds:i.amdTimeout}),new Promise((function(t,r){window.requirejs([e],(function(r){t(r),window.requirejs.undef(e)}),(function(r){i.logger.printLog(r.message);var a=i._dynamicImportFunc(e);t(a)}))})).catch((function(t){return i._dynamicImportFunc(e)})))}catch(e){i.exception.printStackTrace(e)}},i._dynamicImportFunc=async function(e){try{return i.BootLoader.loadAsync(e).then((function(e,t){var r=e,i="define(",a=r.slice(r.indexOf(i)+7),n=a.lastIndexOf(")");return a=a.slice(0,n),new Function("return "+a)()}))}catch(e){i.exception.printStackTrace(e)}},i._loadModuleDynamic=function(e){var t;switch(e){case"uiplugin.balloonTip":t=r.e(7989).then(r.bind(r,7989)).then((function(e,t){WebSquare.uiplugin.balloonTip=e.balloonTip}));break;case"uiplugin.group":t=r.e(3855).then(r.bind(r,3855)).then((function(e,t){WebSquare.uiplugin.group=e.group}));break;case"uiplugin.wframe":t=r.e(6537).then(r.bind(r,6537)).then((function(e,t){WebSquare.uiplugin.wframe=e.wframe}));break;case"uiplugin.textbox":t=r.e(4195).then(r.bind(r,4195)).then((function(e,t){WebSquare.uiplugin.textbox=e.textbox}));break;case"uiplugin.anchor":t=r.e(9023).then(r.bind(r,9023)).then((function(e,t){WebSquare.uiplugin.anchor=e.anchor}));break;case"uiplugin.selectbox":t=r.e(3391).then(r.bind(r,3391)).then((function(e,t){WebSquare.uiplugin.selectbox=e.selectbox,WebSquare.uiplugin.selectbox_native=e.selectbox_native}));break;case"uiplugin.input":t=r.e(8911).then(r.bind(r,8911)).then((function(e,t){WebSquare.uiplugin.input=e.input}));break;case"uiplugin.span":t=r.e(6013).then(r.bind(r,6013)).then((function(e,t){WebSquare.uiplugin.span=e.span}));break;case"uiplugin.calendar":t=r.e(6865).then(r.bind(r,6865)).then((function(e,t){WebSquare.uiplugin.calendar=e.calendar}));break;case"uiplugin.inputCalendar":t=r.e(4215).then(r.bind(r,4215)).then((function(e,t){WebSquare.uiplugin.inputCalendar=e.inputCalendar}));break;case"uiplugin.textarea":t=r.e(6097).then(r.bind(r,6097)).then((function(e,t){WebSquare.uiplugin.textarea=e.textarea}));break;case"uiplugin.checkcombobox":t=r.e(5943).then(r.bind(r,5943)).then((function(e,t){WebSquare.uiplugin.checkcombobox=e.checkcombobox}));break;case"uiplugin.autoComplete":t=r.e(8785).then(r.bind(r,8785)).then((function(e,t){WebSquare.uiplugin.autoComplete=e.autoComplete}));break;case"uiplugin.list":t=r.e(8641).then(r.bind(r,8641)).then((function(e,t){WebSquare.uiplugin.list=e.list}));break;case"uiplugin.floatingLayer":t=r.e(9575).then(r.bind(r,9575)).then((function(e,t){WebSquare.uiplugin.floatingLayer=e.floatingLayer}));break;case"uiplugin.radio":t=r.e(6855).then(r.bind(r,6855)).then((function(e,t){WebSquare.uiplugin.radio=e.radio}));break;case"uiplugin.spinner":t=r.e(2839).then(r.bind(r,2839)).then((function(e,t){WebSquare.uiplugin.spinner=e.spinner}));break;case"uiplugin.gridView":t=r.e(7613).then(r.bind(r,7613)).then((function(e,t){WebSquare.uiplugin.gridView=e.gridView,WebSquare.uiplugin.drilldown=e.drilldown,WebSquare.uiplugin.mappingController=e.mappingController,WebSquare.uiplugin.linkedMappingController=e.linkedMappingController,WebSquare.uiplugin.cellInfo=e.cellInfo,WebSquare.uiplugin.headerInfo=e.headerInfo}));break
;case"uiplugin.trigger":t=r.e(1143).then(r.bind(r,1143)).then((function(e,t){WebSquare.uiplugin.trigger=e.trigger}));break;case"uiplugin.button":t=r.e(2197).then(r.bind(r,2197)).then((function(e,t){WebSquare.uiplugin.button=e.button}));break;case"uiplugin.image":t=r.e(3947).then(r.bind(r,3947)).then((function(e,t){WebSquare.uiplugin.image=e.image}));break;case"uiplugin.pageList":t=r.e(9515).then(r.bind(r,9515)).then((function(e,t){WebSquare.uiplugin.pageList=e.pageList}));break;case"uiplugin.tabControl":t=r.e(5973).then(r.bind(r,5973)).then((function(e,t){WebSquare.uiplugin.tabControl=e.tabControl,WebSquare.uiplugin.content=e.content}));break;case"uiplugin.generator":t=r.e(3051).then(r.bind(r,3051)).then((function(e,t){WebSquare.uiplugin.generator=e.generator}));break;case"uiplugin.upload":t=r.e(6015).then(r.bind(r,6015)).then((function(e,t){WebSquare.uiplugin.upload=e.upload}));break;case"uiplugin.treeview":t=r.e(1363).then(r.bind(r,1363)).then((function(e,t){WebSquare.uiplugin.treeview=e.treeview}));break;case"uiplugin.treeview_virtual":t=r.e(6085).then(r.bind(r,6085)).then((function(e,t){WebSquare.uiplugin.treeview_virtual=e.treeview_virtual}));break;case"uiplugin.checkbox":t=r.e(5207).then(r.bind(r,5207)).then((function(e,t){WebSquare.uiplugin.checkbox=e.checkbox}));break;case"uiplugin.output":t=r.e(3927).then(r.bind(r,3927)).then((function(e,t){WebSquare.uiplugin.output=e.output}));break;case"uiplugin.window":t=r.e(973).then(r.bind(r,973)).then((function(e,t){WebSquare.uiplugin.window=e.wq_window}));break;case"uiplugin.windowContainer":t=r.e(4807).then(r.bind(r,4807)).then((function(e,t){WebSquare.uiplugin.windowContainer=e.windowContainer}));break;case"uiplugin.accordion":t=r.e(7647).then(r.bind(r,7647)).then((function(e,t){WebSquare.uiplugin.accordion=e.accordion,WebSquare.uiplugin.panels=e.panels}));break;case"uiplugin.widgetContainer":t=r.e(5815).then(r.bind(r,5815)).then((function(e,t){WebSquare.uiplugin.widgetContainer=e.widgetContainer,WebSquare.uiplugin.widget=e.widget}));break;case"uiplugin.panelContainer":t=r.e(3191).then(r.bind(r,3191)).then((function(e,t){WebSquare.uiplugin.panelContainer=e.panelContainer,WebSquare.uiplugin.panel=e.panel}));break;case"uiplugin.mapchart":case"uiplugin.mapchart":t=r.e(5701).then(r.bind(r,5701)).then((function(e,t){WebSquare.uiplugin.mapchart=e.mapchart}));break;case"uiplugin.gridLayout":case"uiplugin.gridLayout":t=r.e(1525).then(r.bind(r,1525)).then((function(e,t){WebSquare.uiplugin.gridLayout=e.gridLayout}));break;case"uiplugin.udc":t=Promise.resolve().then(r.bind(r,1731)).then((function(e,t){WebSquare.uiplugin.udc=e.udc}));break;case"uiplugin.pageFrame":t=Promise.all([r.e(6537),r.e(5703)]).then(r.bind(r,5703)).then((function(e,t){WebSquare.uiplugin.pageFrame=e.pageFrame}));break;case"uiplugin.pivot":t=r.e(8446).then(r.bind(r,8446)).then((function(e,t){WebSquare.uiplugin.pivot=e.pivot}));break;case"uiplugin.editor":t=r.e(2855).then(r.bind(r,2855)).then((function(e,t){WebSquare.uiplugin.editor=e.editor}));break;case"uiplugin.multiupload":t=r.e(4155).then(r.bind(r,4155)).then((function(e,t){WebSquare.uiplugin.multiupload=e.multiupload}));break;case"uiplugin.fusionchart":t=r.e(8807).then(r.bind(r,8807)).then((function(e,t){WebSquare.uiplugin.fusionchart=e.fusionchart}));break;case"uiplugin.fwFunnelChart":t=r.e(2635).then(r.bind(r,2635)).then((function(e,t){WebSquare.uiplugin.fwFunnelChart=e.fwFunnelChart}));break;case"uiplugin.fwPyramidChart":t=r.e(39).then(r.bind(r,39)).then((function(e,t){WebSquare.uiplugin.fwPyramidChart=e.fwPyramidChart}));break;case"uiplugin.fwSparkChart":t=r.e(9245).then(r.bind(r,9245)).then((function(e,t){WebSquare.uiplugin.fwSparkChart=e.fwSparkChart}));break;case"uiplugin.fwGaugeChart":t=r.e(4813).then(r.bind(r,4813)).then((function(e,t){WebSquare.uiplugin.fwGaugeChart=e.fwGaugeChart}));break;case"uiplugin.fwGanttChart":t=r.e(5735).then(r.bind(r,5735)).then((function(e,t){WebSquare.uiplugin.fwGanttChart=e.fwGanttChart}));break
;case"uiplugin.fwRealtimeChart":t=r.e(2083).then(r.bind(r,2083)).then((function(e,t){WebSquare.uiplugin.fwRealtimeChart=e.fwRealtimeChart}));break;case"uiplugin.fwBulletChart":t=r.e(1979).then(r.bind(r,1979)).then((function(e,t){WebSquare.uiplugin.fwBulletChart=e.fwBulletChart}));break;case"uiplugin.spinPicker":t=Promise.all([r.e(5805),r.e(4833)]).then(r.bind(r,4833)).then((function(e,t){WebSquare.uiplugin.spinPicker=e.spinPicker}));break;case"uiplugin.datePicker":t=Promise.all([r.e(5805),r.e(4833),r.e(6973)]).then(r.bind(r,6973)).then((function(e,t){WebSquare.uiplugin.datePicker=e.datePicker}));break;case"uiplugin.slider":t=r.e(2151).then(r.bind(r,2151)).then((function(e,t){WebSquare.uiplugin.slider=e.slider,WebSquare.uiplugin.thumb=e.thumb}));break;case"uiplugin.searchbox":t=r.e(6747).then(r.bind(r,6747)).then((function(e,t){WebSquare.uiplugin.searchbox=e.searchbox}));break;case"uiplugin.fliptoggle":t=r.e(8787).then(r.bind(r,8787)).then((function(e,t){WebSquare.uiplugin.fliptoggle=e.fliptoggle}));break;case"uiplugin.pageControl":t=r.e(3975).then(r.bind(r,3975)).then((function(e,t){WebSquare.uiplugin.pageControl=e.pageControl}));break;case"uiplugin.repeat":t=r.e(7479).then(r.bind(r,7479)).then((function(e,t){WebSquare.uiplugin.repeat=e.repeat,WebSquare.uiplugin.repeatAPI=e.repeatAPI}));break;case"uiplugin.graphicUtil":t=r.e(9776).then(r.bind(r,9776)).then((function(e,t){WebSquare.uiplugin.graphicUtil=e.graphicUtil}));break;case"uiplugin.roundRectangle":t=r.e(7143).then(r.bind(r,7143)).then((function(e,t){WebSquare.uiplugin.roundRectangle=e.roundRectangle}));break;case"uiplugin.multiselect":t=r.e(559).then(r.bind(r,559)).then((function(e,t){WebSquare.uiplugin.multiselect=e.multiselect}));break;case"uiplugin.Switch":t=r.e(3109).then(r.bind(r,3109)).then((function(e,t){WebSquare.uiplugin.Switch=e.Switch}));break;case"uiplugin.slideHide":t=r.e(4371).then(r.bind(r,4371)).then((function(e,t){WebSquare.uiplugin.slideHide=e.slideHide}));break;case"uiplugin.iframe":t=r.e(989).then(r.bind(r,989)).then((function(e,t){WebSquare.uiplugin.iframe=e.iframe}));break;case"uiplugin.layer":t=r.e(5771).then(r.bind(r,5771)).then((function(e,t){WebSquare.uiplugin.layer=e.layerU}));break;case"uiplugin.grid":t=r.e(7613).then(r.bind(r,7613)).then((function(e,t){return WebSquare.uiplugin.gridView=e.gridView,WebSquare.uiplugin.drilldown=e.drilldown,WebSquare.uiplugin.mappingController=e.mappingController,WebSquare.uiplugin.linkedMappingController=e.linkedMappingController,WebSquare.uiplugin.cellInfo=e.cellInfo,WebSquare.uiplugin.headerInfo=e.headerInfo,Promise.all([r.e(7613),r.e(2597)]).then(r.bind(r,2597)).then((function(e,t){WebSquare.uiplugin.grid=e.grid}))}));break;case"uiplugin.pageInherit":t=r.e(567).then(r.bind(r,567)).then((function(e,t){WebSquare.uiplugin.pageInherit=e.pageInherit}));break;case"uiplugin.scrollView":t=r.e(5805).then(r.bind(r,5805)).then((function(e,t){WebSquare.uiplugin.scrollView=e.scrollView}));break;case"uiplugin.scheduleCalendar":t=r.e(9639).then(r.bind(r,9639)).then((function(e,t){WebSquare.uiplugin.scheduleCalendar=e.scheduleCalendar}));break;case"uiplugin.progressbar":t=r.e(7235).then(r.bind(r,7235)).then((function(e,t){WebSquare.uiplugin.progressbar=e.progressbar}));break;case"engine.wUnit":t=r.e(2848).then(r.bind(r,2848)).then((function(e,t){WebSquare.wUnit=e.wUnit}));break;default:return}return t.then((function(e,t){!0===i._bInitModule&&i._initWebsquareModule()})),t},i._getModuleSrc=function(e){if("string"!=typeof e)return e;var t=e.indexOf("websquare/externalJS");return t>=0&&e.match(/big|bisCommon|bootstrap|ckfinder|editor|fullCalendar|FusionChart|jquery|mapchart|progressbar|underscore|xmlparser|xpath/)&&"_websquare_/externalJS"!==e.slice(t-12,t+10)&&(e=e.replace("externalJS","_websquare_/externalJS")),e},i._performance._valid=function(){try{var e=i._performance.use;return!0===e||"string"==typeof e&&"true"===e.toLowerCase()}catch(e){window.console&&window.console.error(e)}},i._performance.mark=function(e,t){try{
if(i._performance._valid()&&e){t||(t={detail:i.w2xPath}),performance.mark("wq.mark."+e,t)}}catch(e){window.console&&window.console.error(e)}},i._performance.measure=function(e,t,r){try{if(i._performance._valid()&&e){var a="wq.mark.";t=t?a+t:0,r||(r={src:i.w2xPath||"",id:i.strictModeFrame?i.strictModeFrame.id:"",log:""}),r.endMark&&(endMark=a+r.endMark);var n={start:t,detail:r};performance.measure("wq."+e,n,r.endMark)}}catch(e){window.console&&window.console.error(e)}},i.safeRandom=function(){try{return window.crypto&&"function"==typeof window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint32Array(1))[0]:(new Date).getTime()%1e10}catch(e){window.console&&window.console.error(e)}},i.clearScriptHead=function(){try{for(var e=document.head||document.getElementsByTagName("head")[0]||document.documentElement,t=e.getElementsByTagName("script"),r=t.length-1;r>=0;r--){var i=t[r];"true"!=i.getAttribute("data-wqexternal")&&"true"!=i.getAttribute("data-wqInternal")&&"_"!==i.getAttribute("data-requirecontext")||e.removeChild(i)}}catch(e){window.console&&window.console.error(e)}}},7230:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var leftTrimRegExp,rightTrimRegExp,capitalizeStyleHash;__webpack_require__.d(__webpack_exports__,{l:()=>wq_polyfill}),window.String.prototype.wq_trim=(leftTrimRegExp=new RegExp("^\\s\\s*"),rightTrimRegExp=new RegExp("\\s\\s*$"),function(){return this.replace(leftTrimRegExp,"").replace(rightTrimRegExp,"")}),void 0===window.String.prototype.trim&&(window.String.prototype.trim=window.String.prototype.wq_trim),window.String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substr(1)},window.String.prototype.wq_replaceAll=function(e,t){try{var r="";if(e instanceof RegExp){if(!e.global)throw new TypeError("replaceAll's first parameter must be a string or a regular expression with the global flag enabled.");r=this.replace(e,t)}else e=e.replace(/(\W)/g,"\\$1"),r=this.replace(new RegExp(e,"gi"),t);return r}catch(e){WebSquare.exception.printStackTrace(e)}},void 0===window.String.prototype.replaceAll&&(window.String.prototype.replaceAll=window.String.prototype.wq_replaceAll),window.String.prototype.startsWith=function(e){return this.substring(0,e.length)==e},window.String.prototype.endsWith=function(e){return this.substring(this.length-e.length,this.length)==e},window.String.prototype.capitalizeStyle=(capitalizeStyleHash={},function(){var e=capitalizeStyleHash[this];if(e)return e;if(this.indexOf("-")<0)return this;for(var t=this.split("-");""==t[0];)t.shift();for(var r=t[0].toLowerCase(),i=1,a=t.length;i<a;i++)r+=t[i].toLowerCase().capitalize();return capitalizeStyleHash[this]=r,r}),window.wq_reload=function(e){try{null==window.locationTimerCount&&(window.locationTimerCount=0),window.locationTimerCount++,null==e||location.href===e||window.locationTimerCount>700?(window.locationTimerCount=0,location.reload()):(console&&console.log&&console.log("renewing location href..."),location.replace(e),setTimeout((function(){wq_reload(e)}),5))}catch(e){console&&console.log&&console.log("wq_reload error : "+e.message)}};var wq_polyfill={};wq_polyfill.init=function(global){(function(){function f(e){return e<10?"0"+e:e}var cx,escapable,gap,indent,meta,rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var r,i,a,n,o=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,n=[],"[object Array]"===Object.prototype.toString.apply(s)){a=s.length;for(var l=0;l<a;l+=1)n[l]=str(l,s)||"null"
;return i=0===n.length?"[]":gap?"[\n"+gap+n.join(",\n"+gap)+"\n"+o+"]":"["+n.join(",")+"]",gap=o,i}if(rep&&"object"==typeof rep){a=rep.length;for(l=0;l<a;l+=1)"string"==typeof rep[l]&&(i=str(r=rep[l],s))&&n.push(quote(r)+(gap?": ":":")+i)}else for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i=str(r,s))&&n.push(quote(r)+(gap?": ":":")+i);return i=0===n.length?"{}":gap?"{\n"+gap+n.join(",\n"+gap)+"\n"+o+"}":"{"+n.join(",")+"}",gap=o,i}}"object"!=typeof window.JSON&&(window.JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var isIE=null!=navigator.appName.match(/Explorer/i);("function"!=typeof JSON.stringify||isIE)&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){if(gap="",indent="","number"==typeof r)for(var i=0;i<r;i+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),("function"!=typeof JSON.parse||isIE)&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var r,i,a=e[t];if(a&&"object"==typeof a)for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(void 0!==(i=walk(a,r))?a[r]=i:delete a[r]);return reviver.call(e,t,a)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})})(),function(){var e=null!=navigator.appName.match(/Explorer/i)||null!=navigator.userAgent.match(/Trident/i)||null!=navigator.userAgent.match(/MSIE/i);function t(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}function r(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var a=i.length;function n(e,r){if(r&&("object"==typeof r||"function"==typeof r)){var o=r.then;if("function"==typeof o)return void o.call(r,(function(t){n(e,t)}),(function(r){i[e]={status:"rejected",reason:r},0==--a&&t(i)}))}i[e]={status:"fulfilled",value:r},0==--a&&t(i)}for(var o=0;o<i.length;o++)n(o,i[o])}))}function i(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}function a(e){var t=this;return new t((function(r,a){if(!e||void 0===e.length)return a(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return a();for(var o=[],s=0;s<n.length;s++)try{t.resolve(n[s]).then(r).catch((function(e){o.push(e),o.length===n.length&&a(new i(o,"All promises were rejected"))}))}catch(e){a(e)}}))}i.prototype=Error.prototype;var n=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function s(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}
function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var i;try{i=r(e._value)}catch(e){return void d(t.promise,e)}c(t.promise,i)}else(1===e._state?c:d)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof l)return e._state=3,e._value=t,void p(e);if("function"==typeof r)return void f((i=r,a=t,function(){i.apply(a,arguments)}),e)}e._state=1,e._value=t,p(e)}catch(t){d(e,t)}var i,a}function d(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)u(e,e._deferreds[t]);e._deferreds=null}function h(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function f(e,t){var r=!1;try{e((function(e){r||(r=!0,c(t,e))}),(function(e){r||(r=!0,d(t,e))}))}catch(e){if(r)return;r=!0,d(t,e)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var r=new this.constructor(s);return u(this,new h(e,t,r)),r},l.prototype.finally=t,l.all=function(e){return new l((function(t,r){if(!o(e))return r(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var a=i.length;function n(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){n(e,t)}),r)}i[e]=o,0==--a&&t(i)}catch(e){r(e)}}for(var s=0;s<i.length;s++)n(s,i[s])}))},l.any=a,l.allSettled=r,l.resolve=function(e){return e&&"object"==typeof e&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,r){r(e)}))},l.race=function(e){return new l((function(t,r){if(!o(e))return r(new TypeError("Promise.race accepts an array"));for(var i=0,a=e.length;i<a;i++)l.resolve(e[i]).then(t,r)}))},l._immediateFn=function(e){n(e,0)},l._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var g=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==global)return global;throw new Error("unable to locate global object")}();"function"!=typeof g.Promise||e?g.Promise=l:(g.Promise.prototype.finally||(g.Promise.prototype.finally=t),g.Promise.allSettled||(g.Promise.allSettled=r),g.Promise.any||(g.Promise.any=a))}(),function(){var e=document.createElement("i");if(e.style.setProperty("--x","y"),"y"!==e.style.getPropertyValue("--x")&&e.msMatchesSelector){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);var t,r=[],i=document,a=!1;document.addEventListener("DOMContentLoaded",(function(){a=!0})),"classList"in Element.prototype||D("classList",HTMLElement.prototype,Element.prototype),"innerHTML"in Element.prototype||D("innerHTML",HTMLElement.prototype,Element.prototype),"runtimeStyle"in Element.prototype||D("runtimeStyle",HTMLElement.prototype,Element.prototype),"sheet"in SVGStyleElement.prototype||Object.defineProperty(SVGStyleElement.prototype,"sheet",{get:function(){for(var e,t=document.styleSheets,r=0;e=t[r++];)if(e.ownerNode===this)return e}});var n={},o=new Set,s=!1,l=!1,u=/([\s{;])(--([A-Za-z0-9-_]*)\s*:([^;!}{]+)(!important)?)(?=\s*([;}]|$))/g,c=/([{;]\s*)([A-Za-z0-9-_]+\s*:[^;}{]*var\([^!;}{]+)(!important)?(?=\s*([;}$]|$))/g,d=/-ieVar-([^:]+):/g,p=/-ie-([^};]+)/g,h=/:(hover|active|focus|target|visited|link|:before|:after|:first-letter|:first-line)/;k("style:not([iecp-ignore])",M),k("link[rel=stylesheet]:not([iecp-ignore])",M),k("[ie-style]",(function(e){var t=N("{"+e.getAttribute("ie-style")).substr(1);e.style.cssText+=";"+t;var r=R(e.style);r.getters&&F(e,r.getters,"%styleAttr"),
r.setters&&j(e,r.setters)}));var f={hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focusin",off:"focusout"},active:{on:"CSSActivate",off:"CSSDeactivate"}},g=null;document.addEventListener("mousedown",(function(e){setTimeout((function(){if(e.target===document.activeElement){var t=document.createEvent("Event");t.initEvent("CSSActivate",!0,!0),(g=e.target).dispatchEvent(t)}}))})),document.addEventListener("mouseup",(function(){if(g){var e=document.createEvent("Event");e.initEvent("CSSDeactivate",!0,!0),g.dispatchEvent(e),g=null}}));var m=0,b=new MutationObserver((function(e){if(!l)for(var t,r=0;t=e[r++];)"iecp-needed"!==t.attributeName&&X(t.target)}));setTimeout((function(){b.observe(document,{attributes:!0,subtree:!0})}));var y=location.hash;addEventListener("hashchange",(function(e){var t=document.getElementById(location.hash.substr(1));if(t){var r=document.getElementById(y.substr(1));X(t),X(r)}else X(document);y=location.hash}));var S=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"style"),v=S.get;S.get=function(){const e=v.call(this);return e.owningElement=this,e},Object.defineProperty(HTMLElement.prototype,"style",S);var w=getComputedStyle;window.getComputedStyle=function(e){var t=w.apply(this,arguments);return t.computedFor=e,t};var C=CSSStyleDeclaration.prototype,q=C.getPropertyValue;C.getPropertyValue=function(e){if(this.lastPropertyServedBy=!1,"-"!==(e=e.trim())[0]||"-"!==e[1])return q.apply(this,arguments);const t=e.substr(2),r="-ie-"+t,i="-ie-❗"+t;let a=this[i]||this[r];if(this.computedFor){if(void 0===a||W[a]){if(W[a]||!I[e]||I[e].inherits){let e=this.computedFor.parentNode;for(;e&&1===e.nodeType;){var n=getComputedStyle(e),o=n[i]||n[r];if(void 0!==o){a=Z(this,o),this.lastPropertyServedBy=e;break}e=e.parentNode}}}else a=Z(this,a),this.lastPropertyServedBy=this.computedFor;if("initial"===a)return""}return void 0===a&&I[e]&&(a=I[e].initialValue),void 0===a?"":a};var W={inherit:1,revert:1,unset:1},_=C.setProperty;C.setProperty=function(e,t,r){if("-"!==e[0]||"-"!==e[1])return _.apply(this,arguments);const i=this.owningElement;i&&(i.ieCP_setters||(i.ieCP_setters={}),i.ieCP_setters[e]=1),e="-ie-"+("important"===r?"❗":"")+e.substr(2),this.cssText+="; "+e+":"+t+";",i&&X(i)},window.CSS||(window.CSS={});var I={};CSS.registerProperty=function(e){I[e.name]=e}}function T(e,t){try{return e.querySelectorAll(t)}catch(e){return[]}}function k(e,a){for(var n,o={selector:e,callback:a,elements:new WeakMap},s=T(i,o.selector),l=0;n=s[l++];)o.elements.set(n,!0),o.callback.call(n,n);r.push(o),t||(t=new MutationObserver(E)).observe(i,{childList:!0,subtree:!0}),L(o)}function L(e,t){var r,n=0,o=[];try{t&&t.matches(e.selector)&&o.push(t)}catch(e){}for(a&&Array.prototype.push.apply(o,T(t||i,e.selector));r=o[n++];)e.elements.has(r)||(e.elements.set(r,!0),e.callback.call(r,r))}function A(e){for(var t,i=0;t=r[i++];)L(t,e)}function E(e){for(var t,r,i,a,n=0;r=e[n++];)for(i=r.addedNodes,t=0;a=i[t++];)1===a.nodeType&&A(a)}function D(e,t,r){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,i)}function M(e){if(!e.ieCP_polyfilled&&!e.ieCP_elementSheet&&e.sheet){if(e.href)return function(e,t){var r=new XMLHttpRequest;r.open("GET",e),r.overrideMimeType("text/css"),r.onload=function(){r.status>=200&&r.status<400&&t(r.responseText)},r.send()}(e.href,(function(t){var r=N(t);t!==r&&O(e,r)}));var t=e.innerHTML,r=N(t);t!==r&&O(e,r)}}function N(e){return e.replace(u,(function(e,t,r,i,a,n){return t+"-ie-"+(n?"❗":"")+i+":"+a})).replace(c,(function(e,t,r,i){return t+"-ieVar-"+(i?"❗":"")+r+"; "+r}))}function R(e){e["z-index"]===e&&x();const t=e.cssText;var r,i,a=t.match(d);if(a){var o=[];for(r=0;i=a[r++];){let t=i.slice(7,-1);"❗"===t[0]&&(t=t.substr(1)),o.push(t),n[t]||(n[t]=[]),n[t].push(e)}}var s=t.match(p);if(s){var l={};for(r=0;i=s[r++];){let e=i.substr(4).split(":"),t=e[0],r=e[1];"❗"===t[0]&&(t=t.substr(1)),l[t]=r}}return{getters:o,setters:l}}function O(e,t){e.sheet.cssText=t,e.ieCP_polyfilled=!0
;for(var r,i=e.sheet.rules,a=0;r=i[a++];){const e=R(r.style);e.getters&&P(r.selectorText,e.getters),e.setters&&Y(r.selectorText,e.setters);const t=r.parentRule&&r.parentRule.media&&r.parentRule.media.mediaText;t&&(e.getters||e.setters)&&matchMedia(t).addListener((function(){X(document.documentElement)}))}B()}function P(e,t){U(e),k(V(e),(function(r){F(r,t,e),H(r)}))}function F(e,t,r){var i,a,n=0;const o=r.split(",");for(e.setAttribute("iecp-needed",!0),e.ieCPSelectors||(e.ieCPSelectors={});i=t[n++];)for(a=0;r=o[a++];){const t=r.trim().split("::");e.ieCPSelectors[i]||(e.ieCPSelectors[i]=[]),e.ieCPSelectors[i].push({selector:t[0],pseudo:t[1]?"::"+t[1]:""})}}function Y(e,t){U(e),k(V(e),(function(e){j(e,t)}))}function j(e,t){for(var r in e.ieCP_setters||(e.ieCP_setters={}),t)e.ieCP_setters["--"+r]=1;X(e)}function B(){for(var e in n){let a=n[e];for(var t,r=0;t=a[r++];)if(!t.owningElement){var i=t["-ieVar-"+e];if(i&&""!==(i=Z(getComputedStyle(document.documentElement),i)))try{t[e]=i}catch(e){}}}}function U(e){for(var t in e=e.split(",")[0],f){var r=e.split(":"+t);if(r.length>1){var i=r[1].match(/^[^\s]*/);let e=V(r[0]+i);const a=f[t];k(e,(function(e){e.addEventListener(a.on,$),e.addEventListener(a.off,$)}))}}}function V(e){return e.replace(h,"").replace(":not()","")}function H(e){o.add(e),s||(s=!0,requestAnimationFrame((function(){s=!1,l=!0,o.forEach(z),o.clear(),setTimeout((function(){l=!1}))})))}function z(e){e.ieCP_unique||(e.ieCP_unique=++m,e.classList.add("iecp-u"+e.ieCP_unique));var t=getComputedStyle(e);let r="";for(var i in e.runtimeStyle.cssText="",e.ieCPSelectors){var a=t["-ieVar-❗"+i];let u=a||t["-ieVar-"+i];if(u){var n={},o=Z(t,u,n);a&&(o+=" !important");for(var s,l=0;s=e.ieCPSelectors[i][l++];)"%styleAttr"===s.selector&&(e.style[i]=o),(a||!1===n.allByRoot)&&(s.pseudo?r+=s.selector+".iecp-u"+e.ieCP_unique+s.pseudo+"{"+i+":"+o+"}\n":e.runtimeStyle[i]=o)}}!function(e,t){if(!e.ieCP_styleEl&&t){const t=document.createElement("style");t.ieCP_elementSheet=1,document.head.appendChild(t),e.ieCP_styleEl=t}e.ieCP_styleEl&&(e.ieCP_styleEl.textContent=t)}(e,r)}function X(e){if(e){e===document.documentElement&&B();var t=e.querySelectorAll("[iecp-needed]");e.hasAttribute&&e.hasAttribute("iecp-needed")&&H(e);for(var r,i=0;r=t[i++];)H(r)}}function $(e){X(e.target)}function Z(e,t,r){return function(e,t){let r,i,a=0,n=null,o=0,s="",l=0;for(;r=e[l++];){if("("===r&&(++a,null===n&&e[l-4]+e[l-3]+e[l-2]==="var"&&(n=a,s+=e.substring(o,l-4),o=l),e[l-5]+e[l-4]+e[l-3]+e[l-2]==="calc"&&(i=a)),")"===r&&n===a){let r,a=e.substring(o,l-1).trim(),u=a.indexOf(",");-1!==u&&(r=a.slice(u+1),a=a.slice(0,u)),s+=t(a,r,i),o=l,n=null}")"===r&&(--a,i===a&&(i=null))}return s+=e.substring(o),s}(t,(function(t,i,a){var n=e.getPropertyValue(t);return a&&(n=n.replace(/^calc\(/,"(")),r&&e.lastPropertyServedBy!==document.documentElement&&(r.allByRoot=!1),""===n&&i&&(n=Z(e,i,r)),n}))}}()}}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>"wqm_M1166_"+e+".js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="webpack_test:",__webpack_require__.l=(e,t,r,i)=>{if(inProgress[e])inProgress[e].push(t);else{var a,n
;if(void 0!==r)for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var l=o[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+r){a=l;break}}a||(n=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",dataWebpackPrefix+r),a.src=e),inProgress[e]=[t];var u=(t,r)=>{a.onerror=a.onload=null,clearTimeout(c);var i=inProgress[e];if(delete inProgress[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},c=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),n&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={8792:0};__webpack_require__.f.j=(t,r)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((r,a)=>i=e[t]=[r,a]));r.push(i[2]=a);var n=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(n,(r=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",o.name="ChunkLoadError",o.type=a,o.request=n,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[n,o,s]=r,l=0;if(n.some((t=>0!==e[t]))){for(i in o)__webpack_require__.o(o,i)&&(__webpack_require__.m[i]=o[i]);if(s)s(__webpack_require__)}for(t&&t(r);l<n.length;l++)a=n[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__={};(()=>{var e,t,r,i,a,n=__webpack_require__(7230),o=__webpack_require__(582),s=__webpack_require__(8109),l=__webpack_require__(2536),u=__webpack_require__(2710),c=__webpack_require__(2327),d=__webpack_require__(4350),p={errorStr:"\n",nKey:"",stat:"",_oldMode:!1,_isHead:!0,xml2json:function(e,t){try{if("string"==typeof e){this.nKey=t;var r=d._.parse(e);return this.convertXMLDocument(r)}return this.convertXMLDocument(e)}catch(e){console.log(e)}},parseError:function(e){console.error(e,this.nKey),this.stat="fail"},serialize:function(e){var t=[];return e.setAttribute("xmlns:xf",e.namespaceURI),this._serialize(e,t),t.join("")},_serialize:function(e,t){if(1==e.nodeType){if(t.push("<"),t.push(e.nodeName),e.attributes.length>0)for(var r=0;r<e.attributes.length;r++){var i=e.attributes.item(r);t.push(" "),t.push(i.name),t.push('="'),t.push(this._encode(i.nodeValue)),t.push('"')}if(e.hasChildNodes()){t.push(">");for(var a=e.childNodes,n=0;n<a.length;n++){var o=a.item(n);this._serialize(o,t)}t.push("</"),t.push(e.nodeName),t.push(">")}else t.push("/>")}else if(3==e.nodeType)t.push(this._encode(e.nodeValue));else if(4==e.nodeType)t.push("<![CDATA["+e.nodeValue+"]]>");else if(7==e.nodeType)t.push("<?"+e.nodeName+" "+e.nodeValue+"?>\n");else if(9==e.nodeType)for(a=e.childNodes,n=0;n<a.length;n++){o=a.item(n);this._serialize(o,t)}},_encode:(e=/&/g,t=/</g,r=/>/g,i=/"/g,a=/'/g,function(n){return"string"==typeof n?n.replace(e,"&amp;").replace(t,"&lt;").replace(r,"&gt;").replace(i,"&quot;").replace(a,"&apos;"):n}),convertXMLDocument:function(e){try{var t,r={},i=[];t=1===e.nodeType?[e]:e.childNodes;for(var a=0;a<t.length;a++){
var n;if(7==(n=t.item?t.item(a):t[a]).nodeType)if(n.nodeName&&"xml"==n.nodeName||n.nodeValue.indexOf("version")>=0){for(var o=/([^=\s]+)=["'](\S+)["']/g,s=null,l={};null!==(s=o.exec(n.nodeValue));){var u=s[1];if("string"==typeof u){var c=s[2];c&&(l[u]=c)}}r.declaration={A:l}}else{var d=n.nodeName;d||(d="xml-stylesheet"),i.push({T:7,N:d,instruction:n.nodeValue})}else if(1==n.nodeType){var p=this.convertElementIterative(n);i.push(p.obj)}else if(10==n.nodeType){var h=n.name+(n.publicId?' PUBLIC "'+n.publicId+'"':"")+(!n.publicId&&n.systemId?" SYSTEM":"")+(n.systemId?' "'+n.systemId+'"':"");i.push({T:10,doctype:h})}}return i.length>0&&(r.E=i),this.stat="success",r}catch(e){console.log(e)}},convertAttributes:function(e){try{for(var t={},r=0;r<e.length;r++){var i=e[r];/(meta_\w*)|(metaev_\w*)/gi.test(i.name)||(t[i.name]=i.nodeValue)}return t}catch(e){console.log(e)}},convertElementIterative:function(e){try{var t={T:1,N:e.nodeName},r=[];e.attributes.length>0&&(t.A=this.convertAttributes(e.attributes));for(var i=[],a=[],n=e.childNodes.length-1;n>=0;n--)i.push(e.childNodes[n]),a.push(t);for(;i.length>0;){var o=i.pop(),s=a.pop();if(1==o.nodeType)if("instance"===o.nodeName.substring(o.nodeName.indexOf(":")+1)){var l=!1;for(n=o.childNodes.length-1;n>=0;n--){if("data"===(c=o.childNodes[n]).nodeName&&1===c.nodeType&&c.childNodes&&c.childNodes.length>0){l=!0;break}"data"!==c.nodeName&&1===c.nodeType&&(l=!0)}if(!l)continue;var u={T:1,N:o.nodeName,_xml:this.serialize(o)};s.E||(s.E=[]),s.E.push(u);for(n=o.childNodes.length-1;n>=0;n--){"data"!==(c=o.childNodes[n]).nodeName&&1===c.nodeType&&(i.push(c),a.push(u))}}else{u={T:1,N:o.nodeName};o.attributes.length>0&&(u.A=this.convertAttributes(o.attributes),u.A.id&&r.push(u.A.id)),s.E||(s.E=[]),s.E.push(u),u.N&&"body"===u.N.toLowerCase()&&!0===this._oldMode&&(u.A||(u.A={}),u.A["ev:onpageload"]="scwin.onpageload");for(n=o.childNodes.length-1;n>=0;n--){var c;3===(c=o.childNodes[n]).nodeType&&""==c.nodeValue.trim()||(i.push(c),a.push(u))}}else if(2==o.nodeType);else if(3==o.nodeType){var d=o.nodeValue.trim();if(""!=d)if(d.startsWith("<![CDATA["))p=(p=d.substring(9,d.length-3)).replace(/\\/gi,"\\$&"),(p=this.cDataToFunc(p,s))&&(s.E||(s.E=[]),s.E.push({T:4,cdata:p}));else s.E||(s.E=[]),s.E.push({T:3,text:o.nodeValue.replace(/\\/gi,"\\$&")})}else if(4==o.nodeType){if(o.nodeValue){s.E||(s.E=[]);var p=o.nodeValue.replace(/\\/gi,"\\$&");p=this.cDataToFunc(p,s),s.E.push({T:4,cdata:p})}}else if(7==o.nodeType){var h=o.nodeName;h||(h="xml-stylesheet"),s.E||(s.E=[]),s.E.push({T:7,N:h,instruction:o.nodeValue.replace(/\\/gi,"\\$&")})}}return{obj:t,id:r}}catch(e){console.log(e)}},cDataToFunc:function(e,t){try{if(!t||"string"!=typeof t.N)return e;var r=e;if("script"===t.N.toLowerCase()){var i="",a=t.A&&t.A["ev:event"],n=a&&a.indexOf("(");n>=0&&(i=","+a.slice(n+1,-1));var o="",s="";!0===this._isHead&&"false"!==t.A.lazy&&(t.A.lazy="false",o="scwin.onpageload = function(){",s="}",this._oldMode=!0),this._isHead=!1;r="function(scopeObj"+i+"){var {"+"#_wq!$!@}=scopeObj;"+o+e+s+"}"}else"w2:env"===t.N.toLowerCase()&&"string"==typeof e&&(r=JSON.parse(e));return r}catch(e){console.log(e)}}};p.json2xml=function(e,t){try{"string"==typeof e&&(e=e.parse(e)),void 0!==t&&null!=t||(t={});for(var r=[e],i=[],a="";r.length>0;){var n=r.pop();if(t.changeKey&&null!=t.changeKey[n.N]&&(n.N=t.changeKey[n.N]),i.length>0&&i[i.length-1].length--,1===n.T){for(var o in a+="<"+n.N,n.A)void 0!==n.A[o]&&(a+=" "+o+'="'+this._encode(n.A[o])+'"');if(n.E){a+=">",i.push({length:n.E.length,name:n.N});for(var s=n.E.length-1;s>=0;s--)r.push(n.E[s])}else a+="/>"}else 3===n.T?a+=n.text:4===n.T&&(a+="<![CDATA["+n.cdata+"]]>");for(;i.length>0&&0===i[i.length-1].length;){a+="</"+i.pop().name+">"}}return a}catch(e){WebSquare.exception.printStackTrace(e,null,this)}};var h=__webpack_require__(4799),f=__webpack_require__(1263),g=__webpack_require__(813),m=__webpack_require__(5228),b={XmlEvent:function(e,t,r,i){try{this.name=e,this.action=t,this.param=r,
this.disabled=i||!1}catch(e){u.Y.printStackTrace(e)}}},y=function(){this.cache=!0,this.convertedCSSText=null,this.controlCSSText=null,this.importedCSSText=null,this.internalCSSText=null,this.externalCSSText=null,this.externalCSSLink=null,this.controlCSSLink=null,this.classStyleCache=[],this.excludeList=[],this.excludeList.trigger="1",this.excludeList.submit="1",this.excludeList.inputCalendar="1",this.heightPattern=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/gi,this.widthPattern=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/gi,this.initialize(),this.startCache()};y.prototype.startCache=function(){this.cache=!0},y.prototype.endCache=function(){this.cache=!1},y.prototype.initialize=function(){this.convertedCSSText=[],this.controlCSSText=[],this.internalCSSText=[],this.externalCSSText=[],this.externalCSSLink=[],this.controlCSSLink=[]},y.prototype.addConvertedCSS=function(e,t){""!=t&&(1==this.cache?this.convertedCSSText.push(e+" {"+t+"} \n"):WebSquare.cssStyleSheet.addRule(e,t))},y.prototype.addControlCSS=function(e){this.controlCSSText.push(e+"\n")},y.prototype.addInternalCSS=function(e){this.internalCSSText.push(e+"\n")},y.prototype.addExternalCSS=function(e){this.externalCSSText.push(e+"\n")},y.prototype.linkControlCSS=function(e){this.controlCSSLink.push(e)},y.prototype.linkExternalCSS=function(e){this.externalCSSLink.push(e)},y.prototype.toCSS=function(){var e=[];return this.controlCSSText&&this.controlCSSText.length>0&&(e=(e=(e=e.concat(["/*controlCSSText*/\n"])).concat(this.controlCSSText)).concat(["\n\n"])),this.convertedCSSText&&this.convertedCSSText.length>0&&(e=(e=(e=e.concat(["/*convertedCSSText*/\n"])).concat(this.convertedCSSText)).concat(["\n\n"])),this.externalCSSText&&this.externalCSSText.length>0&&(e=(e=(e=e.concat(["/*externalCSSText*/\n"])).concat(this.externalCSSText)).concat(["\n\n"])),this.internalCSSText&&this.internalCSSText.length>0&&(e=(e=e.concat(["/*internalCSSText*/\n"])).concat(this.internalCSSText)),e.join("")},y.prototype.executeImport=function(e){try{for(var t=WebSquare.net.getParameter("adaptive")||"",r=[],i=document.getElementsByTagName("head")[0],a=0,n=this.controlCSSLink.length;a<n;a++){var o=document.createElement("link");for(var d in this.controlCSSLink[a])o[d]=this.controlCSSLink[a][d];null!=e?i.insertBefore(o,e):i.appendChild(o),r.push(o),c.v.printLog("import core css : "+o.href)}for(a=0,n=this.externalCSSLink.length;a<n;a++){var p=this.externalCSSLink[a];if(!WebSquare.hybridApp)if(""!=t&&p.adaptive){if(t!=p.adaptive)continue}else{if(f.Z.isMobile()&&p.adaptive&&"mobile"!=p.adaptive)continue;if(!f.Z.isMobile()&&p.adaptive&&"pc"!=p.adaptive)continue}o=document.createElement("link");for(var d in this.externalCSSLink[a])if(""!=d){var h="";if("href"==d){var g=this.externalCSSLink[a][d];h=s.Q.getResourcePostfix(g),o[d]=h,o.setAttribute("data-wqorghref",g)}else o[d]=this.externalCSSLink[a][d]}null!=e?(i.insertBefore(o,e),l.I.browserCheck.ie&&i.insertBefore(e,e)):i.appendChild(o),r.push(o),c.v.printLog("import user css : "+o.href)}this.controlCSSLink=[],this.externalCSSLink=[];var m,b=this.toCSS();if(b)if(l.I.browserCheck.ie)(m=document.createElement("style")).setAttribute("type","text/css"),m.styleSheet.cssText=b,null!=e?i.insertBefore(m,e):i.appendChild(m),r.push(m);else(m=document.createElementNS("http://www.w3.org/1999/xhtml","style")).setAttribute("type","text/css"),m.appendChild(document.createTextNode(b)),null!=e?i.insertBefore(m,e):i.appendChild(m),r.push(m);return this.initialize(),this.endCache(),i=null,r}catch(e){u.Y.printStackTrace(e)}},y.prototype.resizeStyle=function(e,t){try{var r=t.style;if(r&&""!=r){var i=this.setResizeStyle(r,t);null!=i&&null!=i.newSizeStyle&&(t.style=r+";"+i.newSizeStyle)}return t}catch(e){u.Y.printStackTrace(e)}},y.prototype.styleToClass=function(e,t){try{for(var r in t)if(r.indexOf("Style")>-1){var i=t[r];if(""!=i){var a=r+"Class",n="#"+e+" ."+a;WebSquare.cssManager.addConvertedCSS(n,i),t[r]="";var o=r.replace("Style","Class");t[o]||(t[o]=""),""!=t[o]&&(t[o]+=" "),
t[o]+=a}}return t}catch(e){u.Y.printStackTrace(e)}},y.prototype.setResizeStyle=function(e,t){if(null!=this.excludeList[t.pluginName])return null;var r=null,i=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i.exec(e);if(i&&2==i.length){var a=parseInt(i[1]);(r=this.getSizeObj(e,t,r)).newSizeStyle=";height:"+(a-(r.paddingTop+r.paddingBottom+r.borderTopWidth+r.borderBottomWidth))+"px"}var n=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/i.exec(e);if(n&&2==n.length){var o=parseInt(n[1]);(r=this.getSizeObj(e,t,r)).newSizeStyle+=";width:"+(o-(r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth))+"px"}return r},y.prototype.getSizeObj=function(e,t,r){if(null!=r)return r;var i={paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,borderTopWidth:0,borderBottomWidth:0,borderLeftWidth:0,borderRightWidth:0,newSizeStyle:""},a=new WebSquare.cssManager.sizeObj(e),n=this.getSizeStyleObj("w2"+t.pluginName),o=this.getSizeStyleObj(t.className);return i=this.inherit(i,n),i=this.inherit(i,o),i=this.inherit(i,a)},y.prototype.inherit=function(e,t){return null==t||(null!=t.paddingTop&&(e.paddingTop=t.paddingTop),null!=t.paddingBottom&&(e.paddingBottom=t.paddingBottom),null!=t.paddingLeft&&(e.paddingLeft=t.paddingLeft),null!=t.paddingRight&&(e.paddingRight=t.paddingRight),null!=t.borderTopWidth&&(e.borderTopWidth=t.borderTopWidth),null!=t.borderBottomWidth&&(e.borderBottomWidth=t.borderBottomWidth),null!=t.borderLeftWidth&&(e.borderLeftWidth=t.borderLeftWidth),null!=t.borderRightWidth&&(e.borderRightWidth=t.borderRightWidth)),e},y.prototype.getSizeStyleObj=function(e){if(null==e||""==e)return null;var t=this.classStyleCache[e];if(null==t){var r=this.toCSS(),i=new RegExp("[.]"+e+"[ \t\n\r]*{([^}]*)}"),a=r.match(i),n="";null!=a&&2==a.length&&(n=a[1]),t=new WebSquare.cssManager.sizeObj(n),this.classStyleCache[e]=t}return t},y.prototype.sizeObj=function(e){this.paddingTop=null,this.paddingBottom=null,this.paddingLeft=null,this.paddingRight=null,this.borderTopWidth=null,this.borderBottomWidth=null,this.borderLeftWidth=null,this.borderRightWidth=null;for(var t=e.split(";"),r=0;r<t.length;r++){var i=t[r].toLowerCase();i.indexOf("padding")>=0?this.setPaddingProperty(i):i.indexOf("border")>=0&&this.setBorderProperty(i)}},y.prototype.sizeObj.prototype.toString=function(){this.paddingTop;this.paddingBottom,this.paddingLeft,this.paddingRight,this.borderTopWidth,this.borderBottomWidth,this.borderLeftWidth,this.borderRightWidth},y.prototype.sizeObj.prototype.setPaddingProperty=function(e){var t=e.split(":"),r=t[0].wq_trim(),i=t[1].wq_trim();if(""!=i)if("padding"==r){var a=i.split(" ");1==a.length?(this.paddingTop=parseInt(a[0]),this.paddingRight=parseInt(a[0]),this.paddingBottom=parseInt(a[0]),this.paddingLeft=parseInt(a[0])):2==a.length?(this.paddingTop=parseInt(a[0]),this.paddingRight=parseInt(a[1]),this.paddingBottom=parseInt(a[0]),this.paddingLeft=parseInt(a[1])):3==a.length?(this.paddingTop=parseInt(a[0]),this.paddingRight=parseInt(a[1]),this.paddingBottom=parseInt(a[2]),this.paddingLeft=parseInt(a[1])):4==a.length&&(this.paddingTop=parseInt(a[0]),this.paddingRight=parseInt(a[1]),this.paddingBottom=parseInt(a[2]),this.paddingLeft=parseInt(a[3]))}else r.indexOf("padding-left")>=0?this.paddingLeft=parseInt(i):r.indexOf("padding-top")>=0?this.paddingTop=parseInt(i):r.indexOf("padding-right")>=0?this.paddingRight=parseInt(i):r.indexOf("padding-bottom")>=0&&(this.paddingBottom=parseInt(i))},y.prototype.sizeObj.prototype.setBorderProperty=function(e){for(var t=e.split(":"),r=t[0].wq_trim(),i=t[1].wq_trim().split(" "),a=null,n=0;n<i.length;n++)i[n].indexOf("px")>=0&&(a=parseInt(i[n]));null!=a&&("border"==r||"border-width"==r?(this.borderTopWidth=a,this.borderBottomWidth=a,this.borderLeftWidth=a,this.borderRightWidth=a):r.indexOf("border-left")>=0?this.borderLeftWidth=a:r.indexOf("border-top")>=0?this.borderTopWidth=a:r.indexOf("border-right")>=0?this.borderRightWidth=a:r.indexOf("border-bottom")>=0&&(this.borderBottomWidth=a))},
y.prototype.sizeObj.prototype.inherit=function(e){null!=e&&(this.paddingTop=null!=e.paddingTop?e.paddingTop:this.paddingTop,this.paddingBottom=null!=e.paddingBottom?e.paddingBottom:this.paddingBottom,this.paddingLeft=null!=e.paddingLeft?e.paddingLeft:this.paddingLeft,this.paddingRight=null!=e.paddingRight?e.paddingRight:this.paddingRight,this.borderTopWidth=null!=e.borderTopWidth?e.borderTopWidth:this.borderTopWidth,this.borderBottomWidth=null!=e.borderBottomWidth?e.borderBottomWidth:this.borderBottomWidth,this.borderLeftWidth=null!=e.borderLeftWidth?e.borderLeftWidth:this.borderLeftWidth,this.borderRightWidth=null!=e.borderRightWidth?e.borderRightWidth:this.borderRightWidth)},y.prototype.sizeObj.prototype.nullToZero=function(e){this.paddingTop=this.paddingTop||0,this.paddingBottom=this.paddingBottom||0,this.paddingLeft=this.paddingLeft||0,this.paddingRight=this.paddingRight||0,this.borderTopWidth=this.borderTopWidth||0,this.borderBottomWidth=this.borderBottomWidth||0,this.borderLeftWidth=this.borderLeftWidth||0,this.borderRightWidth=this.borderRightWidth||0},y=new y;var S={ClassStyleCache:{},makeTime:0,_initImport:function(){S.skinTag=o.q.externalCSSURL.slice(0)}};o.q._initImportList.push("skin"),S.skinTagCache={},S.skinTagGlobalCache={},S.addImport=function(e,t,r){try{if(void 0!==r&&null!=r||(r={}),"string"==typeof e){var i={};i.href=f.Z.getAbsolutePath(l.I.getURL(e)),i.type="text/css",i.rel="stylesheet",e=i}for(var a=!1,n=0;n<S.skinTag.length;n++)if(e.href==S.skinTag[n]){a=!0,"number"==typeof S.skinTagCache[e.href]?S.skinTagCache[e.href]++:S.skinTagCache[e.href]=1;break}if(!0===r.noClear&&(S.skinTagGlobalCache[e.href]=!0),a)r.scopeObj&&"function"==typeof r.scopeObj._addCssCache&&r.scopeObj._addCssCache(e.href);else if(S.skinTag.push(e.href),"link"==l.I.getConfiguration("/WebSquare/stylesheet/@import"))1==t?y.linkExternalCSS(e):y.linkControlCSS(e);else{var o=e.href,s=l.I.load(o);1==t?y.addExternalCSS(s):y.addControlCSS(s)}}catch(e){u.Y.printStackTrace(e)}},S.parseCSS=function(e){try{if(l.I.browserCheck.ie){document.createStyleSheet().cssText=e}else{var t=document.createElementNS("http://www.w3.org/1999/xhtml","style");t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head").item(0).appendChild(t)}}catch(e){u.Y.printStackTrace(e)}},S.importCSS=function(e){try{for(var t=d._.getElementsByTagName(e.documentElement,"style",l.I._XML_NAMESPACE.XHTML),r="",i=0;i<t.length;i++){if(1==(s=t[i]).nodeType)for(var a=s.childNodes,n=0;n<a.length;n++){var o=a[n];4!=o.nodeType&&3!=o.nodeType||(r+=o.nodeValue)}}""!=r.wq_trim()&&y.addInternalCSS(r);for(a=e.childNodes,i=0;i<a.length;i++){var s;if(7==(s=a[i]).nodeType&&"xml-stylesheet"===s.nodeName){var c=s.data.wq_replaceAll("=","").split('"');c.pop();var p={};for(n=0;n<c.length;n+=2)p[c[n].wq_trim()]=c[n+1];p.href&&(p.href=f.Z.getAbsolutePath(l.I.getURL(p.href))),null==p.type&&(p.type="text/css"),null==p.rel&&(p.rel="stylesheet"),S.addImport(p,!0)}}}catch(e){u.Y.printStackTrace(e)}},S.applyClass=function(e,t){try{e.className=t}catch(e){}},S.makeClassStyle=function(e){var t={};if(void 0===e||null==e||""==e)return t;if(void 0!==S.ClassStyleCache[e]&&null!=S.ClassStyleCache[e])return S.ClassStyleCache[e];try{var r=document.styleSheets;if(l.I.browserCheck.ie)for(var i=r.length-1;i>=0;i--)for(var a=r[i],n=0;n<a.rules.length;n++){if(void 0!==(f=a.rules.item(n)).selectorText){if((m=(g=f.selectorText).lastIndexOf("."))>-1){var o=g.indexOf(" ",m);g=o>-1?g.substring(m+1,o):g.substring(m+1)}if(g==e){for(var s=f.style.cssText.split(";"),c=0;c<s.length;c++){if(null!=(b=s[c].split(":"))[1]){if(b[1].indexOf("url")>=0)if(b[1]=b[1].wq_trim(),b[1].startsWith("url"))"("==(y=b[1].substring(3).wq_trim()).charAt(0)&&")"==y.charAt(y.length-1)&&(b[1]="url("+l.I.getImageURL(y.substring(1,y.length-1))+")");t[b[0].wq_trim().capitalizeStyle()]=b[1].wq_trim()}}S.ClassStyleCache[e]=t;break}}}else if(l.I.browserCheck.opera)for(i=r.length-1;i>=0;i--)for(a=r[i],n=0;n<a.cssRules.length;n++){
if(void 0!==(f=a.cssRules[n]).selectorText){if((m=(g=f.selectorText).lastIndexOf("."))>-1){o=g.indexOf(" ",m);g=o>-1?g.substring(m+1,o):g.substring(m+1)}if(g==e){for(s=f.style.cssText.split(";"),c=0;c<s.length;c++){var d=s[c].indexOf(":");if(d>-1){var p=s[c].substring(0,d),h=s[c].substring(d+1);t[p.wq_trim().capitalizeStyle()]=h.wq_trim()}}S.ClassStyleCache[e]=t;break}}}else for(i=r.length-1;i>=0;i--)for(a=r[i],n=0;n<a.cssRules.length;n++){var f;if(void 0!==(f=a.cssRules[n]).selectorText){var g,m;if((m=(g=f.selectorText).lastIndexOf("."))>-1){o=g.indexOf(" ",m);g=o>-1?g.substring(m+1,o):g.substring(m+1)}if((g=g.toLowerCase())==(e=e.toLowerCase())){for(s=f.style.cssText.split(";"),c=0;c<s.length;c++){var b;if(null!=(b=s[c].split(":"))[1]){var y;if(b[1].indexOf("url")>=0)if(b[1]=b[1].wq_trim(),b[1].startsWith("url"))if(b[1].indexOf("http")>=0)for(var v=2;null!=b[v];)b[1]=b[1]+":"+b[v],v++;else"("==(y=b[1].substring(3).wq_trim()).charAt(0)&&")"==y.charAt(y.length-1)&&(b[1]="url("+l.I.getImageURL(y.substring(1,y.length-1))+")");t[b[0].wq_trim().capitalizeStyle()]=b[1].wq_trim()}}S.ClassStyleCache[e]=t;break}}}}catch(e){u.Y.printStackTrace(e)}return t},S.makeBackgroundImageUrl=function(e){var t="";if(void 0===e||null==e||""==e)return"";try{var r=document.styleSheets;if(l.I.browserCheck.ie)for(var i=r.length-1;i>=0;i--)for(var a=r[i],n=0;n<a.rules.length;n++){if(void 0!==(b=a.rules.item(n)).selectorText){if((S=(y=b.selectorText).lastIndexOf("."))>-1){var s=y.indexOf(" ",S);y=s>-1?y.substring(S+1,s):y.substring(S+1)}if(y==e){for(var c=b.style.cssText.split(";"),d=0;d<c.length;d++){if(null!=(p=c[d].split(":"))[1]&&"BACKGROUND-IMAGE"==p[0].toUpperCase()){if(p[1].indexOf("url")>=0)if(p[1]=p[1].wq_trim(),p[1].startsWith("url"))"("==(v=p[1].substring(3).wq_trim()).charAt(0)&&")"==v.charAt(v.length-1)&&(p[1]=l.I.getImageURL(v.substring(1,v.length-1)));t=p[1].wq_trim()}}break}}}else if(l.I.browserCheck.opera)for(i=r.length-1;i>=0;i--)for(a=r[i],n=0;n<a.cssRules.length;n++){if(void 0!==(b=a.cssRules[n]).selectorText){if((S=(y=b.selectorText).lastIndexOf("."))>-1){s=y.indexOf(" ",S);y=s>-1?y.substring(S+1,s):y.substring(S+1)}if(y==e){for(c=b.style.cssText.split(";"),d=0;d<c.length;d++){var p=c[d].split(":"),h=c[d].indexOf(":");if(h>-1){var f=c[d].substring(0,h),g=c[d].substring(h+1);if("BACKGROUND-IMAGE"==f.toUpperCase().wq_trim()){if(g.indexOf("url")>=0)if((g=g.wq_trim()).startsWith("url"))if("("==(v=(v=g.substring(3).wq_trim()).replace(/"/g,"")).charAt(0)&&")"==v.charAt(v.length-1)){var m=v.lastIndexOf(o.q.baseURI);m+=o.q.baseURI.length,g=l.I.getImageURL(v.substring(m,v.length-1))}t=g}}}break}}}else for(i=r.length-1;i>=0;i--)for(a=r[i],n=0;n<a.cssRules.length;n++){var b;if(void 0!==(b=a.cssRules[n]).selectorText){var y,S;if((S=(y=b.selectorText).lastIndexOf("."))>-1){s=y.indexOf(" ",S);y=s>-1?y.substring(S+1,s):y.substring(S+1)}if((y=y.toLowerCase())==(e=e.toLowerCase())){for(c=b.style.cssText.split(";"),d=0;d<c.length;d++){if(null!=(p=c[d].split(":"))[1]&&"BACKGROUND-IMAGE"==p[0].toUpperCase().wq_trim()){var v;if(p[1].indexOf("url")>=0)if(p[1]=p[1].wq_trim(),p[1].startsWith("url"))if(p[1].indexOf("http")>=0)for(var w=2;null!=p[w];)p[1]=p[1]+":"+p[w],w++;else"("==(v=p[1].substring(3).wq_trim()).charAt(0)&&")"==v.charAt(v.length-1)&&(p[1]=l.I.getImageURL(v.substring(1,v.length-1)));t=p[1].wq_trim()}}break}}}}catch(e){u.Y.printStackTrace(e)}return t},S.loadCSS=function(e){try{if(!e||""===e)return;var t=l.I.load(e);if(!t)return;if(l.I.browserCheck.ie){document.createStyleSheet().cssText=t}else{var r=document.createElementNS("http://www.w3.org/1999/xhtml","style");r.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(r)}}catch(e){u.Y.printStackTrace(e)}},S._decreaseCache=function(e,t){try{if(!0===S.skinTagGlobalCache[e])return;if("number"==typeof S.skinTagCache[e]){if(S.skinTagCache[e]>0)return S.skinTagCache[e]--,!1;delete S.skinTagCache[e]}for(var r=0;r<S.skinTag.length;r++)if(e==S.skinTag[r]){
S.skinTag.splice(r,1);break}var i=document.getElementsByTagName("head")[0];if(!t)for(var a=i.getElementsByTagName("link"),n=0;n<a.length;n++)if(a[n].getAttribute("data-wqorghref")===e){t=a[n];break}return t&&i.removeChild(t),!0}catch(e){u.Y.printStackTrace(e)}};var v={WebSquareParser:function(){}};v.WebSquareParser.prototype.parse=async function(e,t,r){try{this.preParse(e),this.parseCSS(e,t,r),await this.parseUDC2(e,r),r&&r!==WebSquare.strictModeFrame||(this.parseBuildDate(e.documentElement),this.parseTitle(e.documentElement)),this.parseModels(e.documentElement,r);var i=await this.parseScript(e.documentElement,r);return null!=r?this.parseDataCollections(e.documentElement,r.uuid):this.parseDataCollections(e.documentElement),i}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseMeta=function(e){try{var t=["meta","Meta","META"],r=document.getElementsByTagName("head")[0],i=r.getElementsByTagName("meta"),a=[],n=d._.getElementsByTagName(e,"screen",l.I._XML_NAMESPACE.W2);if(n&&n.length>0){var o=document.createElement("meta");o.name="viewport",o.content="width=device-width initial-scale=1.0",r.appendChild(o)}for(var s=0;s<i.length;s++){((f=i[s].getAttribute("http-equiv"))||(f=i[s].getAttribute("name")))&&a.push(f)}for(s=0;s<t.length;s++){var c=d._.getElementsByTagName(e,t[s],l.I._XML_NAMESPACE.XHTML);if(c&&c.length>0)for(var p=0;p<c.length;p++){for(var h=0;h<c[p].attributes.length;h++){var f;if("http-equiv"==c[p].attributes[h].nodeName)f=c[p].attributes[h].nodeValue;else{if("name"!=c[p].attributes[h].nodeName)continue;f=c[p].attributes[h].nodeValue}for(var g=0;g<a.length;g++)if(a[g]==f){for(var m=0;m<i.length;m++)if(i[m].getAttribute("http-equiv")==f||i[m].getAttribute("name")==f){r.removeChild(i[m]);break}break}break}var b=document.createElement("meta");for(h=0;h<c[p].attributes.length;h++)b.setAttribute(c[p].attributes[h].nodeName,c[p].attributes[h].nodeValue);r.appendChild(b)}}}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parsePageInheritBefore=function(e,t,r){try{this.preParse(e),this.parseMeta(e.documentElement),this.parseModels(e.documentElement,r),null!=r?this.parseDataCollections(e.documentElement,r.uuid):this.parseDataCollections(e.documentElement)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parsePageInheritAfter=async function(e,t,r){try{return this.parseCSS(e,t,r,o.q.WebSquaredoc.cssList[0]),await this.parseScript(e.documentElement,r,!0)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.preParse=function(e,t){try{if(l.I.browserCheck.ieAllVersion&&s.Q.useActiveXObject){var r=l.I.getNamespaces(e),i="";for(var a in r)""!=a&&(i+="xmlns:"+a+'="'+r[a]+'" ');e.setProperty("SelectionLanguage","XPath"),e.setProperty("SelectionNamespaces",i)}!1!==t&&this.parseConfig(e.documentElement)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseCSS=function(e,t,r,i){try{var a=l.I.getConfiguration("/WebSquare/stylesheet/@value");if("false"!=l.I.getConfiguration("/WebSquare/stylesheet/@enable")&&!t&&!r&&!o.q.styleSheetEarlyImport){null!=a&&""!=a||(a="link"==l.I.getConfiguration("/WebSquare/stylesheet/@import")?"stylesheet_ext.css":"stylesheet.css");var n=s.Q.inquiresPath("skin/");S.addImport(o.q.baseThemeURI+n+a),WebSquare.cssManager.executeImport()}var c="";if(r&&r.options.cssFunction&&!r.options.strictFrame&&(c=f.Z.getGlobalFunction(r.options.cssFunction,r.id)),"function"==typeof c&&WebSquare.cssManager.executeImport(i),r&&!r.options.strictFrame){if("function"==typeof c){for(var d=[],p=0;p<WebSquare.cssManager.externalCSSLink.length;p++)d.push(WebSquare.cssManager.externalCSSLink[p].href);if(!0===c(r.id,d)){for(p=0;p<d.length;p++)for(var h in S.skinTag)if(f.Z._getAbsolutePath(d[p])==S.skinTag[h]){S.skinTag.splice(h,1);break}WebSquare.cssManager.externalCSSLink=[]}}r.frameDoc.cssList=r.frameDoc.cssList.concat(WebSquare.cssManager.executeImport(i))}else o.q.WebSquaredoc.cssList=o.q.WebSquaredoc.cssList.concat(WebSquare.cssManager.executeImport(i))}catch(e){
u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseConfig=function(e){try{var t=d._.getElementsByTagName(e,"config",l.I._XML_NAMESPACE.W2);if(1==t.length)for(var r=t[0].firstChild;null!=r;r=r.nextSibling)1==r.nodeType&&d._.matchNode(r,"WebSquare",l.I._XML_NAMESPACE.XHTML)&&o.q.WebSquaredoc.mergeConfig(r)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseBuildDate=function(e){try{var t=d._.getElementsByTagName(e,"buildDate",l.I._XML_NAMESPACE.W2);1==t.length&&t[0].firstChild?WebSquare.buildDate=t[0].firstChild.nodeValue:WebSquare.buildDate="N/A"}catch(e){WebSquare.buildDate="N/A",u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseTitle=function(e){try{var t=d._.getElementsByTagName(e,"title",l.I._XML_NAMESPACE.XHTML);1==t.length&&(WebSquare.docTitle=document.title=t[0].firstChild.nodeValue)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseModels=function(e,t){try{for(var r=d._.getElementsByTagName(e,"model",l.I._XML_NAMESPACE.XFORMS),i=0;i<r.length;++i)t?t.frameDoc&&!t.options.strictFrame?t.frameDoc.models.push(this.parseModel(r[i],t)):!0===t.options.strictFrame&&o.q.WebSquaredoc.models.push(this.parseModel(r[i],t)):o.q.WebSquaredoc.models.push(this.parseModel(r[i]))}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseDataCollections=function(e,t){try{for(var r=d._.getElementsByTagName(e,"model",l.I._XML_NAMESPACE.XFORMS),i=0;i<r.length;++i)this.parseDataCollection(r[i],t)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseModel=function(e,t){try{var r=this.parseInstances(e),i=this.parseBinds(e),a=this.parseSubmissions(e,t),n=this.parseWorkflows(e,t);return new WebSquare.Model(e,r,i,a,n)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseDataCollection=function(e,t){try{var r=d._.getElementsByTagName(e,"dataCollection",l.I._XML_NAMESPACE.W2)[0];if(r){this.parseDataCollectionAttribute(r);for(var i=d._.getElementsByTagName(r,"dataMap",l.I._XML_NAMESPACE.W2),a=0;a<i.length;a++){var n=i[a];new WebSquare.DataCollection.dataMap(null,null,n,"dataMap",t)}var o=d._.getElementsByTagName(r,"dataList",l.I._XML_NAMESPACE.W2);for(a=0;a<o.length;a++){var s=o[a];new WebSquare.DataCollection.dataList(null,null,s,"dataList",t)}var c=d._.getElementsByTagName(r,"linkedDataList",l.I._XML_NAMESPACE.W2);for(a=0;a<c.length;a++){var p=c[a];new WebSquare.DataCollection.linkedDataList(null,null,p,"linkedDataList",t)}var h=d._.getElementsByTagName(r,"aliasDataList",l.I._XML_NAMESPACE.W2);for(a=0;a<h.length;a++){var f=h[a];new WebSquare.DataCollection.aliasDataList(null,null,f,"aliasDataList",t)}var g=d._.getElementsByTagName(r,"aliasDataMap",l.I._XML_NAMESPACE.W2);for(a=0;a<g.length;a++){var m=g[a];new WebSquare.DataCollection.aliasDataMap(null,null,m,"aliasDataMap",t)}var b=d._.getElementsByTagName(r,"aliasLinkedDataList",l.I._XML_NAMESPACE.W2);for(a=0;a<b.length;a++){var y=b[a];new WebSquare.DataCollection.aliasLinkedDataList(null,null,y,"aliasLinkedDataList",t)}}}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseDataCollectionAttribute=function(e){try{if(WebSquare.DataCollection.options.useConfig){var t=l.I.getConfig("dataCollection");WebSquare.DataCollection.options=o.q.extendKeepingType(WebSquare.DataCollection.options,t)}for(var r=0;r<e.attributes.length;r++){var i=e.attributes[r];WebSquare.nodeValueDeprecated?WebSquare.DataCollection.api.setOption(i.name,i.value):WebSquare.DataCollection.api.setOption(i.nodeName,i.nodeValue)}}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseInstances=function(e){try{for(var t=d._.getElementsByTagName(e,"instance",l.I._XML_NAMESPACE.XFORMS),r=[],i=0;i<t.length;i++)r.push(this.parseInstance(t[i]));return r}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseInstance=function(e,t){try{if(!e)return;if("string"==typeof e){
var r='<xf:model xmlns:xf="'+l.I._XML_NAMESPACE.XFORMS+'" xmlns:w2="'+l.I._XML_NAMESPACE.W2+'" xmlns:ev="'+l.I._XML_NAMESPACE.EVENTS+'">',i=d._.parse(r+e+"</xf:model>",l.I._XML_NAMESPACE.XFORMS);this.preParse(i,!1),e=i.documentElement.firstChild}var a=e.attributes.getNamedItem("src"),n=null;if(t&&e.setAttribute("scope_id",t),null!=a);else{for(var o=null,s=e.firstChild;null!=s;s=s.nextSibling)1==s.nodeType&&(o=s);if(null==o)n=new WebSquare.Model.Instance(e,null,null);else{var c=[];for(s=o.firstChild;null!=s;s=s.nextSibling)if(null!=s.namespaceURI&&""!=s.namespaceURI){c.push("xmlns:"+s.prefix),c.push(s.namespaceURI);break}null!=c[0]&&"xmlns:xml"!=c[0]&&(o.attributes.getNamedItem(c[0])||o.setAttribute(c[0],c[1])),n=new WebSquare.Model.Instance(e,o,null)}}return n}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseBinds=function(e){try{for(var t=d._.getElementsByTagName(e,"bind",l.I._XML_NAMESPACE.XFORMS),r=[],i=0;i<t.length;++i)r.push(this.parseBind(t[i]));return r}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseBind=function(e){try{var t=e.attributes.getNamedItem("id"),r=e.attributes.getNamedItem("nodeset");return new WebSquare.Model.Bind(e,"nodeset",r.value,null,t.value)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseSubmissions=function(e,t){try{for(var r=d._.getElementsByTagName(e,"submission",l.I._XML_NAMESPACE.XFORMS),i=[],a=0;a<r.length;a++)i.push(this.parseSubmission(r[a],e,t));return i}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseSubmission=function(e,t,r){try{var i=WebSquare.WebSquareparser.getAttribute(e,"id"),a=WebSquare.WebSquareparser.getAttribute(e,"method","")||l.I.getConfiguration("/WebSquare/submission/method/@value")||"POST",n=WebSquare.WebSquareparser.getAttribute(e,"action","")||l.I.getConfiguration("/WebSquare/submission/action/@value"),o=WebSquare.WebSquareparser.getAttribute(e,"mode","")||l.I.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous",s=WebSquare.WebSquareparser.getAttribute(e,"mediatype","")||l.I.getConfiguration("/WebSquare/submission/mediatype/@value"),c=WebSquare.WebSquareparser.getAttribute(e,"accept","")||l.I.getConfiguration("/WebSquare/submission/accept/@value"),d=WebSquare.WebSquareparser.getAttribute(e,"encoding","")||l.I.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8",p=WebSquare.WebSquareparser.getAttribute(e,"ref"),h=WebSquare.WebSquareparser.getAttribute(e,"target"),f=WebSquare.WebSquareparser.getAttribute(e,"replace"),g=WebSquare.WebSquareparser.getAttribute(e,"instance"),m=WebSquare.WebSquareparser.getAttribute(e,"preSubmitFunction","")||l.I.getConfiguration("/WebSquare/submission/preSubmitFunction/@value")||"",y=WebSquare.WebSquareparser.getAttribute(e,"customHandler"),S=WebSquare.WebSquareparser.getAttribute(e,"errorHandler");""==S&&(S=l.I.getConfiguration("/WebSquare/submission/errorHandler/@value"));var v=WebSquare.WebSquareparser.getAttribute(e,"processMsg","");""==v&&(v=l.I.getConfiguration("/WebSquare/submission/processMsg/@value"));var w=WebSquare.WebSquareparser.getAttribute(e,"useLocale");"true"===l.I.getConfiguration("/WebSquare/useLocale/@value")&&(w=!0);var C=WebSquare.WebSquareparser.getAttribute(e,"localeRef",""),q="true"===this.getAttribute(e,"abortTrigger")||"false"!==this.getAttribute(e,"abortTrigger")&&"true"===l.I.getConfiguration("/WebSquare/submission/abortTrigger/@value"),W=WebSquare.WebSquareparser.getAttribute(e,"soapaction",""),_="true"===WebSquare.WebSquareparser.getAttribute(e,"useModal");""==s&&("post"!=a&&"POST"!=a||(s="application/xml"))
;var x=this.parseEvent(e,r)||[],I=this.getAttribute(e,"timeout","")||l.I.getConfiguration("/WebSquare/submission/timeout/@value"),T=this.getAttribute(e,"singleMode")||!1,k="false"!==this.getAttribute(e,"hideProcessMsg")&&("true"===this.getAttribute(e,"hideProcessMsg")||"false"!==l.I.getConfiguration("/WebSquare/submission/hideProcessMsg/@value")),L="true"===this.getAttribute(e,"withCredentials"),A=WebSquare.WebSquareparser.getAttribute(e,"webtopRef",""),E=WebSquare.WebSquareparser.getAttribute(e,"userData1",""),D=WebSquare.WebSquareparser.getAttribute(e,"userData2",""),M=i,N=null,R="";r&&r.options&&r.options.scope&&(i=(R=r.id+"_")+M,N=r.id);var O=WebSquare.WebSquareparser.getAttribute(e,"ev:submit"),P=WebSquare.WebSquareparser.getAttribute(e,"ev:submitdone"),F=WebSquare.WebSquareparser.getAttribute(e,"ev:submiterror"),Y=WebSquare.WebSquareparser.getAttribute(e,"ev:submittimeout"),j={};O&&(x.push(new b.XmlEvent("xforms-submit","script",{handler:R+O})),j.submitHandler=O),P&&(x.push(new b.XmlEvent("xforms-submit-done","script",{handler:R+P})),j.submitDoneHandler=P),F&&(x.push(new b.XmlEvent("xforms-submit-error","script",{handler:R+F})),j.submitErrorHandler=F),Y&&(x.push(new b.XmlEvent("xforms-submit-timeout","script",{handler:R+Y})),j.submitTimeoutHandler=Y),j.parentElement=t,j.element=e,j.id=i,j.org_id=M,j.method=a,j.action=n,j.mode=o,j.bind=null,j.mediatype=s,j.accept=c,j.encoding=d,j.ref=p,j.target=h,j.replace=f,j.instance=g,j.customHandler=y,j.errorHandler=S,j.soapaction=W,j.processMsg=v,j.useLocale=w,j.localeRef=C,j.xmlEvents=x,j.timeout=I,j.singleMode=T,j.hideProcessMsg=k,j.abortTrigger=q,j.preSubmitFunction=m,j.scope_id=N,j.withCredentials=L,j.useModal=_,j.webtopRef=A,j.userData1=E,j.userData2=D,j.msaName=WebSquare.WebSquareparser.getAttribute(e,"msaName");var B=new WebSquare.Model.Submission(j);return r&&r.options&&r.options.scope&&(r.scope[M]=B),l.I.useSubmissionGlobal&&(window[B.id]=B),B}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseScript=async function(e,t,r,i){try{var a=[];if(!i)if(t?t.options&&t.options.strictFrame?WebSquare.scriptSection="":t.frameDoc&&(t.frameDoc.scriptSection=""):WebSquare.scriptSection="",t){if(t.options&&t.options.initScript){var n=t.options.initScript.toString();t.options.strictFrame?WebSquare.scriptSection+=n:"executed"===WebSquare.scriptSectionExcuteFlag&&(t.frameDoc.scriptSection+=n)}}else"true"==l.I.getConfiguration("/WebSquare/initScript/@value")&&WebSquare.w2xPath!==WebSquare.net.getBlankXML()&&(WebSquare.scriptSection+=l.I.getConfiguration("/WebSquare/initScript"));var o=t&&t.options.src?t.getSrc():WebSquare.w2xPath,s=d._.getElementsByTagName(e,"head",l.I._XML_NAMESPACE.XHTML);if(1!=s.length)return alert(WebSquare.language.getMessage("E_Parser_MoreThanOneHeadError",s.length)),!1;t&&t._isUDC2;for(var c=s[0].firstChild;null!=c;c=c.nextSibling)if(1==c.nodeType&&d._.matchNode(c,"script",l.I._XML_NAMESPACE.XHTML)){var p=c.getAttribute("src"),h=f.Z.getBoolean(c.getAttribute("scopeExternal"))||t&&t.options.scopeExternal,g=c.getAttribute("scopeVariable")||"";if(null!=p&&""!=p){var m=c.getAttribute("cache"),b=c.getAttribute("defer"),y=c.getAttribute(c,"msaName"),S=WebSquare.jsonUtil.getAttribute(c,"wpack"),v=WebSquare.Parser.parseExternalScript({uri:p,cache:m,lazy:b,frameObj:t,pageInherit:r,scopeExternal:h,scopeVariable:g,msaName:y,wpack:S});v instanceof window.Promise&&a.push(v)}else{if(i)continue;var w=c.getAttribute("loadAt"),C=-1;if("string"==typeof w&&""!=w)switch(w=w.wq_trim().toUpperCase()){case"WEBSQUARE_START":case"START":C=1;break;case"ENGINE_LOAD":case"ENGINE":C=2;break;case"RESOURCE_LOAD":case"RESOURCE":C=3;break;case"CREATE_COMPONENT":case"CREATE":C=4;break;case"RENDER_DOM":case"RENDER":C=5;break;case"ADJUST_COMPONENT":case"ADJUST":C=6;break;case"BIND_EVENT":case"EVENT":C=7;break;default:C=8}if(C=3,"executed"===WebSquare.scriptSectionExcuteFlag){var q=l.I.scriptPrecedence
;if(l.I.scriptPrecedence=f.Z.getBoolean(l.I.getConfiguration("/WebSquare/scriptPrecedence/@value")),q!==l.I.scriptPrecedence){var W=t&&t.options?t.getSrc():WebSquare.w2xPath;WebSquare.logger.printLog('parser : "scriptPrecedence" turned on. ['+W+"]")}}for(var _=C>2&&C<8,x=c.firstChild;null!=x;x=x.nextSibling)if(4==x.nodeType||3==x.nodeType){var I=x.nodeValue;t?(t.options&&t.options.initScript&&"executed"!==WebSquare.scriptSectionExcuteFlag&&!t.options.strictFrame&&(_?t.frameDoc.scriptSection+=t.options.initScript:I=t.options.initScript+I),!0!==l.I.scriptPrecedence&&t.options&&t.options.postScript&&!_&&!t.options.strictFrame&&(I+=t.options.postScript),I=t.options&&t.options.scope?f.Z.scopingFuncBody(I,t.id,!0):f.Z.scopingFuncBody(I,null,!0),_?(null==WebSquare.executePointScriptArr[C]&&(WebSquare.executePointScriptArr[C]=[]),WebSquare.executePointScriptArr[C].push({script:I,path:o,scope:t&&t.id}),!0===l.I.scriptPrecedence||t.options.strictFrame||(t.frameDoc.scriptSection+=t.options.postScript)):t.options&&t.options.strictFrame?WebSquare.scriptSection+=I:(t.frameDoc.scriptSection+=I,t._scriptLazy=!0)):(I=f.Z.scopingFuncBody(I,null,!0),C>2&&C<8?(null==WebSquare.executePointScriptArr[C]&&(WebSquare.executePointScriptArr[C]=[]),WebSquare.executePointScriptArr[C].push({script:I,path:o,scope:t&&t.id})):WebSquare.scriptSection+=I)}}}else if(1==c.nodeType&&d._.matchNode(c,"env",l.I._XML_NAMESPACE.XHTML))for(x=c.firstChild;null!=x;x=x.nextSibling)if(4==x.nodeType||3==x.nodeType){"string"==typeof(I=x.nodeValue)&&(I=JSON.parse(I));var T=WebSquare.WebSquareparser.getAttribute(c,"variable")||"env";for(var k in t.scope)t.scope[k][T]=I}i||l.I.executePointScript(3);var L=t?t.uuid:"";await Promise.allSettled(a).then((function(e){for(var t=0;t<e.length;t++)if("fulfilled"===e[t].status){var r=e[t].value;if(r){var i=WebSquare.idCache[L];WebSquare.Parser._parseExternalScriptAfter(r,i)}}})).catch((function(e){console.error(e)}))}catch(e){u.Y.printStackTrace(e)}return!0},v.WebSquareParser.prototype.parseBody=function(e){try{var t=d._.getElementsByTagName(e,"body",l.I._XML_NAMESPACE.XHTML);if(1==t.length){var r=t[0].getAttribute("style");null!=r&&(o.q.WebSquaredoc.bodyStyle=r.value),o.q.WebSquaredoc.body=t[0]}else alert(WebSquare.language.getMessage("E_Parser_MoreThanOneBodyError",t.length))}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseActions=function(e){},v.WebSquareParser.prototype.findBindElement=function(e){try{return null==e.attributes?null:null!=e.attributes.getNamedItem("bind")?WebSquare.ModelUtil.getBind(e.attributes.getNamedItem("bind").value):null}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseLabel=function(e){e instanceof m.S&&(e=e._element);var t=d._.getElementsByTagName(e,"label",l.I._XML_NAMESPACE.XFORMS);if(null==t[0])return null;var r=t[0],i=this.findBindElement(r),a="",n=r.firstChild;if(r.childNodes.length>1)for(var o=0;o<r.childNodes.length;o++)if(""!=r.childNodes[o].nodeValue.wq_trim()){n=r.childNodes[o];break}a=void 0!==n&&null!=n?n.nodeValue:"";var s={};return s.value=null!=i?WebSquare.ModelUtil.getInstanceValue(i.xpath):a,s},v.WebSquareParser.prototype.parseChoices=function(e,t){var r=[];if(t=t||"xf",e){e instanceof m.S&&(e=e._element);try{var i=e.nodeName;i.indexOf(":")>=0&&(t=i.split(":")[0])}catch(e){}var a="xf"==t?l.I._XML_NAMESPACE.XFORMS:l.I._XML_NAMESPACE.W2,n=d._.findNode(e,".//*['choices'=local-name()]['"+a+"'=namespace-uri()]");if(n){var o=d._.findNodes(n,".//*['item'=local-name()]['"+a+"'=namespace-uri()]");if(o)for(var s=0;s<o.length;++s){var u=o[s],c="",p=d._.findNode(u,"./*['label'=local-name()]['"+a+"'=namespace-uri()]");p&&(c=d._.getValue(p,"text()"));var h="",f=d._.findNode(u,"./*['value'=local-name()]['"+a+"'=namespace-uri()]");f&&(h=d._.getValue(f,"text()")),r.push({label:c,value:h})}}}return r},v.WebSquareParser.prototype.parseItemset=function(e,t){var r={nodeset:"",label:"",value:""};try{if(e){e instanceof m.S&&(e=e._element),t=t||"xf";try{var i=e.nodeName
;i.indexOf(":")>=0&&(t=i.split(":")[0])}catch(e){}var a,n="xf"==t?l.I._XML_NAMESPACE.XFORMS:l.I._XML_NAMESPACE.W2,o=d._.findNode(e,"*['choices'=local-name()]['"+n+"'=namespace-uri()]");if(o){if(a=d._.findNode(o,"*['itemset'=local-name()]['"+n+"'=namespace-uri()]")){var s=d._.getValue(a,"@nodeset"),c=d._.findNode(a,"*['label'=local-name()]['"+n+"'=namespace-uri()]"),p=d._.findNode(a,"*['value'=local-name()]['"+n+"'=namespace-uri()]"),h=d._.getValue(c,"@ref"),f=d._.getValue(p,"@ref");r.nodeset=s,r.label=h,r.value=f}}else if(a=d._.findNode(e,"*['itemset'=local-name()]['"+n+"'=namespace-uri()]")){s=d._.getValue(a,"@nodeset"),c=d._.findNode(a,"*['label'=local-name()]['"+n+"'=namespace-uri()]"),p=d._.findNode(a,"*['value'=local-name()]['"+n+"'=namespace-uri()]"),h=d._.getValue(c,"@ref"),f=d._.getValue(p,"@ref");r.nodeset=s,r.label=h,r.value=f}}}catch(e){u.Y.printStackTrace(e)}return r},v.WebSquareParser.prototype.parseAttribute=function(e){try{return WebSquare.Parser.parseAttribute(e)}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseEventAttributes=function(e){for(var t={},r=e.attributes,i=0;i<r.length;i++)if(d._.matchNode(r[i],"event",l.I._XML_NAMESPACE.EVENTS)){var a=WebSquare.nodeValueDeprecated?r[i].value:r[i].nodeValue;(n=a.indexOf("("))>-1&&(a=a.substring(0,n)),t.eventName=a.toLowerCase()}else{var n;(n=r[i].nodeName.indexOf(":"))>-1?t[r[i].nodeName.substring(n+1)]=WebSquare.nodeValueDeprecated?r[i].value:r[i].nodeValue:t[r[i].nodeName]=WebSquare.nodeValueDeprecated?r[i].value:r[i].nodeValue}for(var o=e.firstChild;null!=o;o=o.nextSibling)if(4==o.nodeType||3==o.nodeType){t._text=o.nodeValue;break}return t},v.WebSquareParser.prototype.getAttribute=function(e,t,r){var i=e.getAttribute(t);return null==i||""==i?void 0!==r?r:"":i},v.WebSquareParser.prototype.attributesItem=function(e){this.name=e.name,this.ref=e.ref,this.value=e.value},v.WebSquareParser.prototype.attributesItem.prototype.setValue=function(e){this.value=e},v.WebSquareParser.prototype.attributesItem.prototype.getValue=function(){return this.value},v.WebSquareParser.prototype.parseWorkflows=function(e,t){try{for(var r=d._.getElementsByTagName(e,"workflow",l.I._XML_NAMESPACE.W2),i=[],a=0;a<r.length;a++)i.push(this.parseWorkflow(r[a],e,t));return i}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseWorkflow=function(e,t,r){try{var i=WebSquare.WebSquareparser.getAttribute(e,"id"),a=WebSquare.WebSquareparser.getAttribute(e,"resolveCallback",""),n=WebSquare.WebSquareparser.getAttribute(e,"rejectCallback",""),o=WebSquare.WebSquareparser.getAttribute(e,"processMsg","");""==o&&(o=l.I.getConfiguration("/WebSquare/workflow/processMsg/@value"));for(var s=d._.getElementsByTagName(e,"step",l.I._XML_NAMESPACE.W2),c=[],p=0;p<s.length;p++){for(var h=s[p],f={},g=0;g<h.attributes.length;g++)WebSquare.nodeValueDeprecated?f[h.attributes[g].name]=h.attributes[g].value:f[h.attributes[g].nodeName]=h.attributes[g].nodeValue;c.push(f)}var m=i,b=null;r&&r.options&&r.options.scope&&(i=r.id+"_"+m,b=r.id);var y=new WebSquare.Model.Workflow(t,e,i,a,n,o,c,b);return r&&r.options&&r.options.scope&&(r.scope[m]=y),l.I.useWorkflowGlobal&&(window[y.id]=y),y}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseUDC2=async function(e,t){try{for(var r=d._.getElementsByTagName(e,"head")[0],i=d._.getElementsByTagName(r,"require",l.I._XML_NAMESPACE.W2),a=0;a<i.length;a++){var n=i[a],o=n.getAttribute("as")||n.getAttribute("componentName");if(o&&"page"===n.getAttribute("type")&&null==l.I.udcObj[o]){var s=n.getAttribute("src"),c={msaName:n.getAttribute("msaName"),frameObj:t},p=l.I._getMsaSrc(s,c);p=l.I.getPageURL(p,{skipURL:!0,skipUri:!0}),l.I.udcObj[o]=await d._.load(p),l.I.udcMsa[o]=c.msaName}}}catch(e){u.Y.printStackTrace(e)}},v.WebSquareParser.prototype.parseMessageBroker=function(e,t){try{var r=d._.getElementsByTagName(e,"messageBroker",l.I._XML_NAMESPACE.W2)[0];if(!r)return;o.q.messageBroker.add(r,t)}catch(e){u.Y.printStackTrace(e)}},
v.parseExternalScript=function(e){try{var t=e.uri;if(!t)return;var r=e.cache,i=e.frameObj,a=e.pageInherit,n=e.lazy,o=!1;null!=r&&""!==r||(r=l.I.getConfiguration("/WebSquare/spa/scriptCache/@value")),e.scopeVariable&&i&&i.options.scope&&(i.scope[e.scopeVariable]={},r="false");var s={frameObj:i,msaName:e.msaName,wpack:e.wpack},c=l.I._getMsaSrc(t,s),d=c;if(e.scopeExternal&&(d+="_scope_"+i.id),null==r||"false"!=r.toLowerCase()?(void 0!==WebSquare.scriptCachedList[d]&&null!==WebSquare.scriptCachedList[d]||("false"===l.I.getConfiguration("/WebSquare/spa/scriptCache/@value")?WebSquare.scriptCachedList[d]=0:WebSquare.scriptCachedList[d]=1),WebSquare.scriptCachedList[d]>1?(o=!0,WebSquare.scriptCachedList[d]++):"true"==r.toLowerCase()&&WebSquare.scriptCachedList[d]++):WebSquare.scriptCachedList[d]=0,!o)if(i)if(e.scopeExternal)try{return l.I.loadAsync(c)}catch(e){u.Y.printStackTrace(e)}else"defer"==n?"executed"==WebSquare.scriptSectionExcuteFlag?i.lazyImportsArr.push(c):WebSquare.lazyImportsArr.push(c):a?WebSquare.pageInheritScriptArr.push(c):WebSquare.externalScriptArr.push(c);else"defer"==n?WebSquare.lazyImportsArr.push(c):a?WebSquare.pageInheritScriptArr.push(c):WebSquare.externalScriptArr.push(c)}catch(e){u.Y.printStackTrace(e)}},v._parseExternalScriptAfter=function(e,t){try{var r="";r=t&&t.options.scope?f.Z.scopingFuncBody(e,t.id,!0):f.Z.scopingFuncBody(e,null,!0),s.Q.globalEval(r)}catch(e){u.Y.printStackTrace(e)}},v.parseAttribute=function(e){try{var t,r={};t=e instanceof m.S?e._element:e;var i,a=!1;if(t.T===m.S.type.element&&(a=!0),i=null==t.A?a||t.nodeType!==m.S.type.document?t.attributes:t.documentElement.attributes:a||t.nodeType!==m.S.type.document?t.A:t.documentElement.attributes,a){for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];"class"===n?r.className=o:"string"==typeof o&&""===o.wq_trim()||(r[n]=o)}}else for(var s=0,l=i.length;s<l;s++){var c=i[s],d=c.name;o=c.value;"class"==d?r.className=o:"string"==typeof o&&""===o.wq_trim()||(r[d]=o)}return r}catch(e){u.Y.printStackTrace(e)}},v.parseEvent=function(e,t){try{var r,i=[];if(e instanceof m.S?(r=e._elementType,e=e._element):r=l.I.isXML(e)?"xml":"json","json"===r){i=[];var a=g.r.getAttribute(e,"id"),n=e.N,o=null;null==a||""==a?(o="",a=""):(o=a,a+=".");for(var s=g.r.getChildNodes(e),c=0;c<s.length;c++){var p=s[c],h="";if("script"===p.N){var y={};if(!(h=(W=p.A)["ev:event"]))continue;var S=W.disabled,v=0,w=m.S.api.getCDataNodeValue(p),C="( e )";(T=h.indexOf("("))>-1&&(C=h.substring(T),h=h.substring(0,T)),"function"==typeof w?(y.handler=w,y.scope=t&&t.id,y._old=!0):(w=t&&t.options.scope?f.Z.scopingFuncBody(w,t.id,!0):f.Z.scopingFuncBody(w,null,!0),y.handler="function"+C+'{ try {["'+a+h.toLowerCase()+'"]; function '+o+"_"+v+++"() {}; "+w+' } catch(eee) {eee.componentID =  "'+o+'"; eee.eventName = "'+h.toLowerCase()+'"; eee.componentName = "'+n+'"; exception.printStackTrace(eee);} }'),i.push(new b.XmlEvent(h.toLowerCase(),"script",y,S))}}}else{a=e.getAttribute("id"),n=e.nodeName,o=null;null==a||""==a?(o="",a=""):(o=a,a+=".");for(p=e.firstChild;null!=p;p=p.nextSibling){h="";var q=d._.nodeInfoObj(p).nodeName;if(1==p.nodeType&&"script"==q){y={};for(var W=p.attributes,_=0;_<W.length;_++){var x=W[_];if(d._.matchNode(x,"event",l.I._XML_NAMESPACE.EVENTS)){h=WebSquare.nodeValueDeprecated?x.value:x.nodeValue;break}}S=p.getAttribute("disabled"),v=0;for(var I=p.firstChild;null!=I;I=I.nextSibling)if(4==I.nodeType){var T;C="( e )";(T=h.indexOf("("))>-1&&(C=h.substring(T),h=h.substring(0,T)),"function"==typeof(w=I.nodeValue)?(y.handler=w,y.scope=t&&t.id):(w=t&&t.options.scope?f.Z.scopingFuncBody(w,t.id,!0):f.Z.scopingFuncBody(w,null,!0),y.handler="function"+C+'{ try {["'+a+h.toLowerCase()+'"]; function '+o+"_"+v+++"() {}; "+w+' } catch(eee) {eee.componentID =  "'+o+'"; eee.eventName = "'+h.toLowerCase()+'"; eee.componentName = "'+n+'"; exception.printStackTrace(eee);} }'),i.push(new b.XmlEvent(h.toLowerCase(),"script",y,S));break}}}}return 0==i.length?null:i}catch(e){u.Y.printStackTrace(e)}},
v.parseAttributesNode=function(e){try{var t;e instanceof m.S?(t=e._elementType,e=e._element):t=l.I.isXML(e)?"xml":"json";var r=null,i=[];if("json"===t){for(var a=g.r.getChildNodes(e),n=0;n<a.length;n++)if("w2:attributes"===a[n].N){r=a[n];break}if(r){var o=g.r.getChildNodes(r);for(n=0;n<o.length;n++)if(1===o[n].T){var s={name:c=g.r.dropNS(o[n].N),ref:g.r.getAttribute(o[n],"ref"),value:g.r.getTextNodeValue(o[n])};i.push(s),i[c]=s}}}else{for(n=0;n<e.childNodes.length;n++)if("w2:attributes"==e.childNodes[n].nodeName){r=e.childNodes[n];break}if(r)for(o=r.childNodes,n=0;n<o.length;n++)if(1===o[n].T){var c;s={name:c=d._.getLocalName(o[n]),ref:o[n].getAttribute("ref"),value:d._.getTextNodeValue(o[n])};i.push(s),i[c]=s}}return i}catch(e){u.Y.printStackTrace(e)}};var w=function(e,t,r,i,a){try{this.xmlNode=e,this.instances=t,this.binds=r,this.submissions=i,this.element=e,this.workflows=a}catch(e){u.Y.printStackTrace(e)}};w.prototype.rebuild=function(e,t){try{var r=WebSquare.ModelUtil.getInstanceByXPath(t);if(WebSquare.xml.hasChildElement(r.xmlNode))if("string"==typeof e){var i=WebSquare.xml.getFirstChildElement(r.xmlNode);""==(t=WebSquare.ModelUtil.filterInstanceFunction(t))&&(t=".");var a=(o=WebSquare.xml.createNode(i,t)).ownerDocument.createTextNode(e);WebSquare.xml.appendChild(o,a),WebSquare.WebSquaredoc.unrender(t,null,r.id)}else{var n=e.documentElement.nodeName;i=WebSquare.xml.getFirstChildElement(r.xmlNode);""==(t=WebSquare.ModelUtil.filterInstanceFunction(t))?t=".":n=t+"/"+n;for(var o,s=(o=WebSquare.xml.createNode(i,t)).firstChild;null!=s;s=s.nextSibling)if(s.nodeName==e.documentElement.nodeName){o.removeChild(s);break}WebSquare.xml.appendChild(o,e.documentElement),WebSquare.WebSquaredoc.unrender(n,null,r.id)}else alert(WebSquare.language.getMessage("E_Model_NoChildNodeOfInstance"))}catch(e){u.Y.printStackTrace(e)}},w.prototype.refresh=function(e,t){try{for(var r=0;r<WebSquare.WebSquaredoc.boundElement.length;r++){var i=WebSquare.WebSquaredoc.boundElement[r].id,a=WebSquare.core.getComponentById(i);void 0!==a&&(void 0!==a.hasbeenrendered&&null!=a.hasbeenrendered&&0==a.hasbeenrendered&&(!a.modelControl.useRef&&a.modelControl.ref,a.hasbeenrendered=!0,a.refresh()))}for(var n in WebSquare.WebSquaredoc.itemsetElement){var o=WebSquare.WebSquaredoc.itemsetElement[n].id,s=WebSquare.core.getComponentById(o);if(void 0!==s&&(void 0!==s.itemsetrendered&&null!=s.itemsetrendered&&0==s.itemsetrendered)){!s.modelControl.useRef&&s.modelControl.ref;var l=!0;if(t&&s.modelControl.useItemset){var c=s.modelControl.itemsetObj.nodeset;t!==c&&!1===WebSquare.ModelUtil.isPartialMatchedXPath(t,c)&&(l=!1)}!0===l&&(s.itemsetrendered=!0,s.refreshItemset(e))}}for(var d in WebSquare.WebSquaredoc.refElement){var p=WebSquare.WebSquaredoc.refElement[d].id,h=WebSquare.core.getComponentById(p);void 0!==h&&(void 0!==h.hasbeenrendered&&null!=h.hasbeenrendered&&0==h.hasbeenrendered&&(!h.modelControl.useRef&&h.modelControl.ref,h.hasbeenrendered=!0,h.refresh()))}}catch(e){u.Y.printStackTrace(e)}},w.Instance=function(e,t,r){try{this.xmlNode=e,this.document=t,this.source=r,this.id=e.getAttribute("id"),this.scope_id=e.getAttribute("scope_id")}catch(e){u.Y.printStackTrace(e)}},w.Bind=function(e,t,r,i,a){try{this.xmlNode=e,this.type=t,this.xpath=r,this.properties=null!=i?i:{},this.id=a}catch(e){u.Y.printStackTrace(e)}},w.Submission=function(e){try{this.xmlNode=e.element,this.parentElement=e.parentElement,this._pluginName="submission",this.id=e.id,this.org_id=e.org_id,this.bind=e.bind,this.action=e.action,this.mode=e.mode,this.method=e.method,this.mediatype=e.mediatype,this.accept=e.accept,this.encoding=e.encoding,this.ref=e.ref,this.target=e.target,this.replace=e.replace,this.instance=e.instance,this.customHandler=e.customHandler,this.errorHandler=e.errorHandler,this.processMsg=e.processMsg,this.useLocale=e.useLocale,this.localeRef=e.localeRef,this.soapaction=e.soapaction,this.startTime=null,this.endTime=null,this.processStatus=0,this.singleMode=e.singleMode,
this.hideProcessMsg=e.hideProcessMsg,this.abortTrigger=e.abortTrigger,this.scope_id=e.scope_id,this.withCredentials=e.withCredentials,this.useModal=e.useModal,this.preSubmitFunction=e.preSubmitFunction,this.linkedObj=[],this.requestHeader={},this.webtopRef=e.webtopRef,this.userData1=e.userData1,this.userData2=e.userData2,this.msaName=e.msaName,e.submitHandler&&(this.submitHandler=e.submitHandler),e.submitDoneHandler&&(this.submitDoneHandler=e.submitDoneHandler),e.submitErrorHandler&&(this.submitErrorHandler=e.submitErrorHandler),e.submitTimeoutHandler&&(this.submitTimeoutHandler=e.submitTimeoutHandler),null!=e.xmlEvents&&e.xmlEvents.length>0&&WebSquare.event.addUserEvents(this,e.xmlEvents),this.timeout=e.timeout,this.setRequestData=function(e){this.requestData=e},this.setRequestHeader=function(e){this.requestHeader=e},this.getScope=function(){try{var e=null;return this.scope_id&&(e=WebSquare.util.getComponentById(this.scope_id)),e}catch(e){return u.Y.printStackTrace(e,null,this),null}},this.getScopeWindow=function(){try{return this.scope_id?WebSquare.util.getComponentById(this.scope_id).scope:window}catch(e){return u.Y.printStackTrace(e,null,this),window}},this._getMsaOption=function(){return{frameObj:this.getScope(),msaName:this.msaName}},WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/notRecommended/warningSync/@value"))&&"synchronous"===this.mode&&alert(WebSquare.language.getMessage("E_deprecated_sync",this.id))}catch(e){u.Y.printStackTrace(e)}},w.Workflow=function(e,t,r,i,a,n,o,s){try{this.xmlNode=t,this.parentElement=e,this.id=r,this.scope_id=s,this.resolveCallback=i||null,this.rejectCallback=a||null,this.processMsg=n,this.step=o,this.promiseStatus=null,this.promiseValue=null,this.conditionStatus=!0,this.reject=function(e){this.promiseStatus="REJECT",this.promiseValue=e||"REJECT"},this.getScope=function(){try{var e=null;return this.scope_id&&(e=WebSquare.util.getComponentById(this.scope_id)),e}catch(e){return u.Y.printStackTrace(e,null,this),null}},this.getScopeWindow=function(){try{return this.scope_id?WebSquare.util.getComponentById(this.scope_id).scope:window}catch(e){return u.Y.printStackTrace(e,null,this),window}}}catch(e){u.Y.printStackTrace(e)}};var C=__webpack_require__(7510),q={DefaultXML2JSONString:function(e,t){var r=[];return WebSquare.xml.isDocumentString(e)&&(e=WebSquare.xml.parse(e)),WebSquare.xml.isDocument(e)&&WebSquare.json.XMLparseForJSON(e.documentElement,r,!1),r.join("")},XML2JSONString:function(e,t){var r=WebSquare.core.getConfiguration("/WebSquare/json/xml2jsonFunction/@value");if(r){var i=WebSquare.util.getGlobalFunction(r);"function"==typeof i&&(WebSquare.json.XML2JSONString=i),WebSquare.json.XML2JSONString?WebSquare.logger.printLog("XML2JSON conversion rule exists in config.xml. [/WebSquare/json/@xml2jsonFunction]"):WebSquare.json.XML2JSONString=WebSquare.json.DefaultXML2JSONString}else WebSquare.json.XML2JSONString=WebSquare.json.DefaultXML2JSONString;return WebSquare.json.XML2JSONString(e,t)},parseType:function(e){if(e&&e.childNodes&&e.childNodes.length>0){for(var t={},r=0,i=0;i<e.childNodes.length;i++)if(1==e.childNodes[i].nodeType){if(1==t[e.childNodes[i].nodeName])return"array";t[e.childNodes[i].nodeName]=!0,r++}return 0==r?"string":"object"}return"string"},XMLparseForJSON:function(e,t,r){var i=e.getAttribute("type");if(i||(i=WebSquare.json.parseType(e)),r&&(t.push('"'),t.push(e.nodeName),t.push('" : ')),"object"===i){var a=!0;t.push("{");for(var n=0;n<e.childNodes.length;n++)1==e.childNodes[n].nodeType&&(a?a=!1:t.push(", "),t.push(WebSquare.json.XMLparseForJSON(e.childNodes[n],t,!0)));t.push("}")}else if("array"===i){a=!0;t.push("[");for(n=0;n<e.childNodes.length;n++)1==e.childNodes[n].nodeType&&(a?a=!1:t.push(", "),t.push(WebSquare.json.XMLparseForJSON(e.childNodes[n],t,!1)));t.push("]")
}else"number"===i?e.childNodes&&e.childNodes[0].nodeValue&&t.push(e.childNodes[0].nodeValue):"true"===i?t.push("true"):"false"===i?t.push("false"):"null"===i?t.push("null"):(t.push('"'),e.childNodes&&e.childNodes[0]&&t.push(WebSquare.xml.decode(e.childNodes[0].nodeValue).wq_replaceAll("\\","\\\\").wq_replaceAll('"','\\"').wq_replaceAll("\n","\\n")),t.push('"'))},DefaultJSON2XML:function(e,t){var r;r=e.constructor===String?JSON.parse(e):e;var i=[],a=-1;for(var n in r.constructor===Array?(a=1,i.push('<array type="array">')):"object"==typeof r&&(a=2,i.push('<object type="object">')),r)WebSquare.json._recursiveJSON2XML(i,r[n],n,a);r.constructor===Array?i.push("</array>"):"object"==typeof r&&i.push("</object>");var o=i.join("");return WebSquare.xml.parse(o)},DefaultJSON2XMLString:function(e,t){var r;r=e.constructor===String?JSON.parse(e):e;var i=[],a=-1;for(var n in r.constructor===Array?(a=1,i.push('<array type="array">')):"object"==typeof r&&(a=2,i.push('<object type="object">')),r)WebSquare.json._recursiveJSON2XML(i,r[n],n,a);return r.constructor===Array?i.push("</array>"):"object"==typeof r&&i.push("</object>"),i.join("")},JSON2XML:function(e,t){var r=WebSquare.core.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(r){var i=WebSquare.util.getGlobalFunction(r);"function"==typeof i&&(WebSquare.json.JSON2XML=i),WebSquare.json.JSON2XML?WebSquare.logger.printLog("JSON2XML conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]"):WebSquare.json.JSON2XML=WebSquare.json.DefaultJSON2XML}else WebSquare.json.JSON2XML=WebSquare.json.DefaultJSON2XML;return WebSquare.json.JSON2XML(e,t)},JSON2XMLString:function(e,t){var r=WebSquare.core.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(r){var i=WebSquare.util.getGlobalFunction(r);"function"==typeof i&&(WebSquare.json.JSON2XMLString=i),WebSquare.json.JSON2XMLString?WebSquare.logger.printLog("JSON2XMLString conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]"):WebSquare.json.JSON2XMLString=WebSquare.json.DefaultJSON2XMLString}else WebSquare.json.JSON2XMLString=WebSquare.json.DefaultJSON2XMLString;return WebSquare.json.JSON2XMLString(e,t)},JSONExtend:function(){for(var e={},t=0,r=arguments.length,i=function(t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("[object Object]"===Object.prototype.toString.call(t[r])?e[r]=WebSquare.json.JSONExtend(e[r],t[r]):e[r]=t[r])};t<r;t++){i(arguments[t])}return e},_recursiveJSON2XML:function(e,t,r,i){var a='<object type="object">',n='<array type="array">',o="</object>",s="</array>";if(null==t)e.push("<"+r+' type="'+t+'"/>');else if("string"==typeof t)1==i?e.push("<value>"+WebSquare.xml.encode(t)+"</value>"):2==i&&e.push("<"+r+">"+WebSquare.xml.encode(t)+"</"+r+">");else if("number"==typeof t)1==i?e.push('<value type="number">'+t+"</value>"):2==i&&e.push("<"+r+' type="number">'+t+"</"+r+">");else if("boolean"==typeof t)1==i?e.push('<value type="'+t+'"/>'):2==i&&e.push("<"+r+' type="'+t+'"/>');else if(t.constructor===Array){for(var l in isNaN(parseInt(r))?(i=1,e.push("<"+r+' type="array">')):t.constructor!==Array&&"object"==typeof t?(i=2,e.push(a)):(i=1,e.push(n)),t)WebSquare.json._recursiveJSON2XML(e,t[l],l,i);isNaN(parseInt(r))?(i=1,e.push("</"+r+">")):t.constructor!==Array&&"object"==typeof t?e.push(o):e.push(s)}else if("object"==typeof t){for(var l in t.constructor===Array&&isNaN(parseInt(r))?(i=1,e.push("<"+r+' type="array">')):t.constructor===Array?(i=1,e.push(n)):isNaN(parseInt(r))?(i=2,e.push("<"+r+' type="object">')):(i=2,e.push(a)),t)WebSquare.json._recursiveJSON2XML(e,t[l],l,i);t.constructor===Array&&isNaN(parseInt(r))?e.push("</"+r+">"):t.constructor===Array?e.push(s):isNaN(parseInt(r))?e.push("</"+r+">"):e.push(o)}}},W={api:{},comp:{},attributeMapInfo:{},childToParentRelation:{},parentToChildRelation:{},childToParentRef:{},parentToChildRef:{},delayedRefreshComponent:{},options:{useConfig:"true",baseNode:"map",attributeMap:""},activated:!1,stopBroadCast:!1,
stopBroadCastComp:[]};W.stopBroadCastComp._wq_add=function(e){for(var t=!1,r=0;r<this.length;r++)if(this[r]===e){t=!0;break}t||this.push(e)},W.api.create=function(e,t){try{var r,i,a;if(void 0!==t&&null!=t||(t={}),"string"==typeof e){if(null==e.match("xmlns:w2=")&&(e=e.replace(">"," xmlns:w2='http://www.inswave.com/websquare'>")),!(e=d._.parse(e,!0)))return;r=(e=e.documentElement).tagName.replace("w2:","")}else{var n=l.I.isXML(e);r=n?e.tagName.replace("w2:",""):e.type,e.elementType=n?"XML":"JSON"}if(t.scope_obj){var o=f.Z.getComponentById(t.scope_obj);o&&(a=o.uuid)}switch(r){case"dataList":i=new W.dataList(null,null,e,r,a);break;case"dataMap":i=new W.dataMap(null,null,e,r,a);break;case"linkedDataList":i=new W.linkedDataList(null,null,e,r,a);break;case"aliasDataList":i=new W.aliasDataList(null,null,e,r,a);break;case"aliasDataMap":i=new W.aliasDataMap(null,null,e,r,a);break;case"aliasLinkedDataList":i=new W.aliasLinkedDataList(null,null,e,r,a)}if(i){W.api.addChild(i);var s=W.parentToChildRef[i.id];if(s)for(var c in s)if(s[c]){var p=f.Z.getComponentById(c);p&&p.modelControl&&p.modelControl.dataCollectionBinding(p.options.ref)}}}catch(e){u.Y.printStackTrace(e)}},W.api.createObjects=function(e){try{for(var t=0;t<e.length;t++)W.api.create(e[t])}catch(e){u.Y.printStackTrace(e)}},W.api.remove=function(e,t){try{if(void 0!==t&&null!=t||(t={}),t.scope_obj){var r=f.Z.getComponentById(t.scope_obj);if(!r)return void c.v.printLog("[$p.data.remove error] cannot find wframe["+r.id+"]");try{e=r.getObj(e).id}catch(t){return void c.v.printLog("[$p.data.remove error] cannot find ["+e+"] in wframe["+r.id+"]")}}var i;if(null==(i=t.uuid&&o.q.idCache[t.uuid]?o.q.idCache[t.uuid]:W.comp[e])){if(!(e.indexOf("??")>=0&&o.q.idCache[o.q.idToUUID[e]]))return;i=o.q.idCache[o.q.idToUUID[e]]}if("function"==typeof i.finalize)try{i.finalize()}catch(e){c.v.printLog("[ERROR] : dataCollection.api.remove - finalize : "+i.id)}if(i.scope_obj&&i.scope_obj.scope&&i.scope_obj.scope[i.org_id]&&delete i.scope_obj.scope[i.org_id],window[o.q.noConflict].comp[i.id]=null,window[o.q.noConflict].data[i.id]=null,delete window[o.q.noConflict].comp[i.id],delete window[o.q.noConflict].data[i.id],o.q.idToUUID[i.id]=null,delete o.q.idToUUID[i.id],o.q.idCache[i.uuid]=null,delete o.q.idCache[i.uuid],window[i.id]&&(window[i.id]=null),i.options){var a=i.getOption("pluginName");delete(o.q.componentsCache[a]||o.q.componentsCache[i._wTagName]||{})[i.uuid]}i.event&&i.event.clearCache(),l.I._removeObject(i,{directKey:"remove,finalize,setDataFile"}),delete W.comp[e],delete W.parentToChildRelation[e],delete W.parentToChildRef[e]}catch(e){u.Y.printStackTrace(e)}},W.api.addChild=function(e){try{W.comp[e.id]=e}catch(e){u.Y.printStackTrace(e)}},W.api.addRelation=function(e,t){try{W.childToParentRelation[e]=t,W.parentToChildRelation[t]||(W.parentToChildRelation[t]={}),W.parentToChildRelation[t][e]||(W.parentToChildRelation[t][e]=!0,W.comp[t]&&W.comp[t]._addRelation(e))}catch(e){u.Y.printStackTrace(e)}},W.api.addRefRelation=function(e,t){try{W.childToParentRef[e]=t,W.parentToChildRef[t]||(W.parentToChildRef[t]={}),W.parentToChildRef[t][e]||(W.parentToChildRef[t][e]=!0,W.comp[t]&&W.comp[t]._addRefRelation(e))}catch(e){u.Y.printStackTrace(e)}},W.api.setRefValue=function(e,t,r){try{var i=W.api.getObj(e.dataComp);if(i)switch(i.initializeType){case"linkedDataList":case"dataList":"number"==typeof i.rowPosition&&i.setCellData(i.rowPosition,e.colID,t,r);break;case"dataMap":!i.firstSetting[e.key]&&i.options.firstSet&&""==i.get(e.key)&&i.setOriginal(e.key,i.get(e.key)),i.set(e.key,t)}}catch(e){u.Y.printStackTrace(e)}},W.api.getRefValue=function(e){try{var t=W.api.getObj(e.dataComp);if(t)switch(t.initializeType){case"linkedDataList":case"dataList":return t.getCellData(t.rowPosition,e.colID);case"dataMap":return t.get(e.key)}}catch(e){u.Y.printStackTrace(e)}},W.api.get=function(e,t,r){try{if(void 0!==r&&null!=r||(r={}),"string"==typeof t&&t){t=JSON.parse(t);for(var i=0;i<t.length;i++){var a=t[i]
;a.initializeType&&(t[i]=a.id)}}switch(e.toUpperCase()){case"JSON":return W.api._getJSON(t,r);case"ARRAY":return W.api._getARRAY(t,r);case"XML":return W.api._getXML(t,r)}}catch(e){u.Y.printStackTrace(e)}},W.api._getJSON=function(e,t){try{void 0!==t&&null!=t||(t={});var r=t.scope_obj||null,i={};if(e&&1==e.length&&t&&t.singleMode){var a=e[0],n={};if("string"==typeof a){if(null!=r)null!=(p=f.Z.getComponentById(r).scope[a])&&(a=p.id);if(m=W.comp[a]){var s=m.getOption("JSONPath"),l=m.id;switch(null!=r&&(l=m.org_id||m.id),s=s?s+"."+l:l,m.initializeType){case"dataMap":n=m.getRefJSON(t);break;case"dataList":case"linkedDataList":n=m.getRefAllJSON(t);break;case"default":n=W.api.JSONPathEvaluator(n,s)}}}else{if(null!=r)null!=(p=f.Z.getComponentById(r).scope[a.id])&&(a.id=p.id);if(m=W.comp[a.id]){var c=o.q.extend({},t);"object"==typeof a.includeColumns&&null!=a.includeColumns&&a.includeColumns.constructor===Array&&(c.includeColumns=a.includeColumns);s=m.getOption("JSONPath"),l=m.id;switch(null!=r&&(l=m.org_id||m.id),s=s?s+"."+(a.key||l):a.key||l,m.initializeType){case"dataMap":n=W.api._getMapByOption("JSON",a,c);break;case"dataList":case"linkedDataList":n=W.api._getListByOption("JSON",a,c);break;case"default":n=W.api.JSONPathEvaluator(n,s)}}}return n}if(e)for(var d=0;d<e.length;d++){n={};if("string"==typeof(a=e[d])){if(null!=r)null!=(p=f.Z.getComponentById(r).scope[a])&&(a=p.id);if(m=W.comp[a]){s=m.getOption("JSONPath"),l=m.id;switch(null!=r&&(l=m.org_id||m.id),s=s?s+"."+l:l,n=W.api.JSONPathEvaluator(n,s),m.initializeType){case"dataMap":g.r.setJSONByPath(n,s,m.getRefJSON(t));break;case"dataList":case"linkedDataList":g.r.setJSONByPath(n,s,m.getRefAllJSON(t))}}}else if("object"==typeof a){var p;if(null!=r)null!=(p=f.Z.getComponentById(r).scope[a.id])&&(a.id=p.id);if(m=W.comp[a.id]){c=o.q.extend({},t);"object"==typeof a.includeColumns&&null!=a.includeColumns&&a.includeColumns.constructor===Array&&(c.includeColumns=a.includeColumns);s=m.getOption("JSONPath"),l=m.id;switch(null!=r&&(l=m.org_id||m.id),s=s?s+"."+(a.key||l):a.key||l,n=W.api.JSONPathEvaluator(n,s),m.initializeType){case"dataMap":g.r.setJSONByPath(n,s,W.api._getMapByOption("JSON",a,c));break;case"dataList":case"linkedDataList":g.r.setJSONByPath(n,s,W.api._getListByOption("JSON",a,c))}}}i=q.JSONExtend(i,n)}else for(var h in W.comp){var m=W.comp[h];if(null!=r){if(!m.scope_obj)continue;if(m.scope_obj.id!==r)continue;if(m.options._empty)continue}else if(!0===t.skipWFrame&&m.scope_obj&&o.q.idCache[m.scope_obj.uuid]===m.scope_obj)continue;s=m.getOption("JSONPath"),l=m.id;switch(null!=r&&(l=m.org_id||m.id),s=s?s+"."+l:l,i=W.api.JSONPathEvaluator(i,s),m.initializeType){case"dataMap":g.r.setJSONByPath(i,s,m.getRefJSON(t));break;case"dataList":case"linkedDataList":g.r.setJSONByPath(i,s,m.getRefAllJSON(t))}}return i}catch(e){u.Y.printStackTrace(e)}},W.api._getARRAY=function(e,t){try{void 0!==t&&null!=t||(t={});var r=t.scope_obj||null;if(e&&1==e.length&&t&&t.singleMode){var i=e[0],a=null;if("string"==typeof i){if(null!=r)null!=(c=f.Z.getComponentById(r).scope[i])&&(i=c.id);a=W.comp[i]}else{if(null!=r)null!=(c=f.Z.getComponentById(r).scope[i.id])&&(i.id=c.id);a=W.comp[i.id],"object"==typeof i.includeColumns&&null!=i.includeColumns&&i.includeColumns.constructor===Array&&(t.includeColumns=i.includeColumns)}if("dataMap"==a.initializeType)return a.getJSON(t);if("dataList"==a.initializeType||"linkedDataList"==a.initializeType)return a.getAllArray(t)}var n={};if(e)for(var s=0;s<e.length;s++){if("string"==typeof(i=e[s])){if(null!=r)null!=(c=f.Z.getComponentById(r).scope[i])&&(i=c.id);if(a=W.comp[i]){var l=a.id;switch(null!=r&&(l=a.org_id||a.id),a.initializeType){case"dataMap":n[l]=a.getJSON(t);break;case"dataList":case"linkedDataList":n[l]=a.getAllArray(t)}}}else if("object"==typeof i){var c;if(null!=r)null!=(c=f.Z.getComponentById(r).scope[i.id])&&(i.id=c.id);a=W.comp[i.id];var d,p=!1;if(a){i.key?"string"==typeof(d=i.key)&&d.indexOf(".")>=0&&(n=W.api.JSONPathEvaluator(n,d),p=!0):(d=a.id,
null!=r&&(d=a.org_id||a.id));var h=o.q.extend({},t);switch("object"==typeof i.includeColumns&&null!=i.includeColumns&&i.includeColumns.constructor===Array&&(h.includeColumns=i.includeColumns),a.initializeType){case"dataMap":p?g.r.setJSONByPath(n,d,W.api._getMapByOption("ARRAY",i,h)):n[d]=W.api._getMapByOption("ARRAY",i,h);break;case"dataList":case"linkedDataList":p?g.r.setJSONByPath(n,d,W.api._getListByOption("ARRAY",i,h)):n[d]=W.api._getListByOption("ARRAY",i,h)}}}}else for(var m in W.comp){a=W.comp[m];if(null!=r){if(!a.scope_obj)continue;if(a.scope_obj.id!==r)continue}else if(!0===t.skipWFrame&&a.scope_obj&&o.q.idCache[a.scope_obj.uuid]===a.scope_obj)continue;switch(a.initializeType){case"dataMap":n[a.id]=a.getJSON(t);break;case"dataList":case"linkedDataList":n[a.id]=a.getAllArray(t)}}return n}catch(e){u.Y.printStackTrace(e)}},W.api._getXML=function(e,t){try{void 0!==t&&null!=t||(t={});var r=t.scope_obj||null;if(e&&1==e.length&&t&&t.singleMode){var i=e[0];if(null!=r)null!=(h=f.Z.getComponentById(r).scope[i])&&(i=h.id);if("dataMap"==(y=W.comp[i]).initializeType)return y.getXML(t);if("dataList"==y.initializeType||"linkedDataList"==y.initializeType)return y.getAllXML(t)}var a=function(e){for(var t="",r=0;r<e.length;r++)t+="<"+e[r]+">";for(r=e.length-1;r>=0;r--)t+="</"+e[r]+">";return t}(W.options.baseNode.split("/")),n=d._.parse(a),s=n.documentElement,l=f.Z.getComponentById(W.options.attributeMap);if(l)for(var c=0;c<l.getCount();c++)s.setAttribute(l.getKey(c),l.get(c));if(e)for(c=0;c<e.length;c++){var p;if("string"==typeof(i=e[c])){if(null!=r)null!=(h=f.Z.getComponentById(r).scope[i])&&(i=h.id);if(y=W.comp[i])switch(p=y.id,null!=r&&(p=y.org_id||y.id),y.initializeType){case"dataMap":b=y.getXML(t);break;case"dataList":case"linkedDataList":b=y.getAllXML(t)}}else if("object"==typeof i){var h;if(null!=r)null!=(h=f.Z.getComponentById(r).scope[i.id])&&(i.id=h.id);if(y=W.comp[i.id]){i.key?p=i.key:(p=y.id,null!=r&&(p=y.org_id||y.id));var g=o.q.extend({},t);switch("object"==typeof i.includeColumns&&null!=i.includeColumns&&i.includeColumns.constructor===Array&&(g.includeColumns=i.includeColumns),y.initializeType){case"dataMap":b=W.api._getMapByOption("XML",i,g);break;case"dataList":case"linkedDataList":b=W.api._getListByOption("XML",i,g)}}}if(b=b.documentElement?b.documentElement:b,y&&y.getOption("keyNode"))v=(v=y.getOption("keyNode")).wq_replaceAll("${key}",p),b=W.api.makeKeyNodeChildXML(y,v,b,p);d._.appendChild(s,b)}else for(var m in W.comp){var b,y,S=(y=W.comp[m]).id;if(null!=t.scope_obj){if(!y.scope_obj)continue;if(y.scope_obj.id!==r)continue;S=y.org_id||y.id}else if(!0===t.skipWFrame&&y.scope_obj&&o.q.idCache[y.scope_obj.uuid]===y.scope_obj)continue;switch(t.id=S,y.initializeType){case"dataMap":b=y.getXML(t);break;case"dataList":case"linkedDataList":b=y.getAllXML(t)}if(b=b.documentElement?b.documentElement:b,y.getOption("keyNode")){var v=y.getOption("keyNode"),w=y.id;null!=r&&(w=y.org_id||y.id),v=v.wq_replaceAll("${key}",w),b=W.api.makeKeyNodeChildXML(y,v,b)}d._.appendChild(s,b)}return n}catch(e){u.Y.printStackTrace(e)}},W.api._getListByOption=function(e,t,r){try{void 0!==r&&null!=r||(r={});var i,a=r.scope_obj||null,n=W.comp[t.id];if(n){t.key?i=t.key:(i=n.id,null!=a&&(i=n.org_id||n.id));var o=t.action,s=t.matchedColumn,l=t.matchedData;if("JSON"==e)switch(o){case"all":return n.getRefAllJSON(r);case"modified":return n.getRefModifiedJSON(r);case"inserted":return n.getRefInsertedJSON(r);case"deleted":return n.getRefDeletedJSON(!1,r);case"updated":return n.getRefUpdatedJSON(r);case"matched":if(s&&l)return n.getMatchedJSON(s,l,r);case"unmatched":if(s&&l)return n.getUnmatchedJSON(s,l,r);default:return n.getRefAllJSON(r)}else if("ARRAY"==e)switch(o){case"all":return n.getAllArray(r);case"modified":return n.getModifiedArray(r);case"inserted":return n.getInsertedArray(r);case"deleted":return n.getDeletedArray(!1,r);case"updated":return n.getUpdatedArray(r);case"matched":if(s&&l)return n.getMatchedArray(s,l,r);case"unmatched":
if(s&&l)return n.getUnmatchedArray(s,l,r);default:return n.getAllArray(r)}else if("XML"==e)switch(r.id=i,o){case"all":return n.getAllXML(r);case"modified":return n.getModifiedXML(r);case"inserted":return n.getInsertedXML(r);case"deleted":return n.getDeletedXML(!1,r);case"updated":return n.getUpdatedXML(r);case"matched":if(s&&l)return n.getMatchedXML(s,l,!1,!1,!1,r);case"unmatched":if(s&&l)return n.getUnmatchedXML(s,l,!1,!1,!1,r);default:return n.getAllXML(r)}}}catch(e){u.Y.printStackTrace(e)}},W.api._getMapByOption=function(e,t,r){try{void 0!==r&&null!=r||(r={});var i,a=r.scope_obj||null,n=W.comp[t.id];if(n){if(t.key?i=t.key:(i=n.id,null!=a&&(i=n.org_id||n.id)),"JSON"==e)return n.getRefJSON(r);if("ARRAY"==e)return n.getArray(r);if("XML"==e)return r.id=i,n.getXML(r)}}catch(e){u.Y.printStackTrace(e)}},W.api._getArrayEvalString=function(){try{var e="{",t=[],r=0;for(var i in W.comp)t.push(i),"linkedDataList"===W.comp[i].initializeType&&r++;for(var a=0;a<t.length;a++){var n=W.comp[t[a]];switch(n.initializeType){case"dataMap":e+='"'+n.id+'":'+n._dataList.getAllArrayEvalString(),a<t.length-1-r&&(e+=",");break;case"dataList":e+='"'+n.id+'":'+n.getAllArrayEvalString(),a<t.length-1-r&&(e+=",")}}return e+="}"}catch(e){return u.Y.printStackTrace(e),{}}},W.api.getOption=function(e){try{var t=e in W.options,r=W.options.attributeMap;if(t)return W.options[e];if(r){var i=f.Z.getComponentById(r);if(i.hasKey(e))return i.get(e)}return}catch(e){u.Y.printStackTrace(e)}},W.api.setOption=function(e,t){try{"string"==typeof t&&"$none"==t.wq_trim()&&(t="");var r=e in W.options,i=W.options.attributeMap;if(r)W.options[e]="baseNode"==e?t||"map":t;else if(i){var a=f.Z.getComponentById(i);a.hasKey(e)&&a.set(e,t)}}catch(e){u.Y.printStackTrace(e)}},W.api.set=function(e,t,r,i){try{if(void 0!==i&&null!=i||(i={}),"string"==typeof r&&r){try{r=JSON.parse(r)}catch(e){r=new Function("return "+r)()}for(var a=0;a<r.length;a++){var n=r[a];n.initializeType&&(r[a]=n.id)}}switch(e.toUpperCase()){case"JSON":return W.api._setJSON(t,r,i);case"ARRAY":return W.api._setARRAY(t,r,i);case"XML":return W.api._setXML(t,r,i)}}catch(e){u.Y.printStackTrace(e)}},W.api._setJSON=function(e,t,r){try{void 0!==r&&null!=r||(r={});var i=r.scope_obj||null;if(t)for(var a=0;a<t.length;a++){var n=t[a];if("string"==typeof n){var o=n;if(null!=i)null!=(c=f.Z.getComponentById(i).scope[n])&&(n=c.id,o=c.org_id||o);var s=W.comp[n],l=1==t.length&&r.singleMode?e:e[o];if(s)switch(s.initializeType){case"dataMap":case"dataList":s.setJSON(l)}}else if("object"==typeof n){var c;if(null!=i)null!=(c=f.Z.getComponentById(i).scope[n.id])&&(n.id=c.id);s=W.comp[n.id];n.key?o=n.key:(o=s.id,null!=i&&(o=s.org_id||s.id));e=e;if(1==t.length&&r.singleMode?l=e:o.indexOf(".")>-1?(l=g.r.getJSONByPath(e,o),"dataMap"===s.initializeType&&"object"==typeof l&&null!=l&&l.constructor===Array&&(l=l[0])):l=e[o],s){var d="append"===n.action;switch(s.initializeType){case"dataMap":case"dataList":s.setJSON(l,d,n.includeColumns)}}}}else for(var p in e){var h=p;if(null!=i&&(h=i+"_"+p),s=W.comp[h])switch(s.initializeType){case"dataMap":case"dataList":s.setJSON(e[p])}}}catch(e){u.Y.printStackTrace(e)}},W.api._setARRAY=function(e,t,r){try{void 0!==r&&null!=r||(r={});var i=r.scope_obj||null;if(t)for(var a=0;a<t.length;a++){var n=t[a];if("string"==typeof n){var o=n;if(null!=i)null!=(c=f.Z.getComponentById(i).scope[n])&&(n=c.id,o=c.org_id||o);var s=W.comp[n],l=1==t.length&&r.singleMode?e:e[o];if(s)switch(s.initializeType){case"dataMap":case"dataList":s.setArray(l)}}else if("object"==typeof n){var c;if(null!=i)null!=(c=f.Z.getComponentById(i).scope[n.id])&&(n.id=c.id);s=W.comp[n.id];n.key?o=n.key:(o=s.id,null!=i&&(o=s.org_id||s.id));l=1==t.length&&r.singleMode?e:e[o];if(s){var d="append"===n.action;switch(s.initializeType){case"dataMap":case"dataList":s.setArray(l,d,n.includeColumns)}}}}else for(var p in e){var h=p;if(null!=i&&(h=i+"_"+p),s=W.comp[h])switch(s.initializeType){case"dataMap":case"dataList":s.setArray(e[p])}}}catch(e){
u.Y.printStackTrace(e)}},W.api._setXML=function(e,t,r){try{void 0!==r&&null!=r||(r={});var i=r.scope_obj||null;function q(e){return"string"==typeof e?e:e.id}if(e=e.documentElement?e.documentElement:e,t&&1==t.length&&"vector"==e.nodeName){var a=q(t[0]);if(null!=i)null!=(h=f.Z.getComponentById(i).scope[a])&&(a=h.id);return void((l=W.comp[a])&&l.setXML(e))}if(t&&1==t.length&&"hastable"==e.nodeName&&!e.getAttribute("hashKey")){a=q(t[0]);if(null!=i)null!=(h=f.Z.getComponentById(i).scope[a])&&(a=h.id);return void((l=W.comp[a])&&l.setXML(e))}if(t&&1==t.length&&r.singleMode){a=q(t[0]);if(null!=i)null!=(h=f.Z.getComponentById(i).scope[a])&&(a=h.id);return void((l=W.comp[a])&&l.setXML(e))}if(!t)for(var n in t=[],W.comp){if(null!=r.scope_obj){if(!(l=W.comp[n]).scope_obj)continue;if(l.scope_obj.id!==i)continue}t.push(n)}for(var o=0;o<t.length;o++){var s,l,c=t[o],p=!1;if("string"==typeof c){if(s=c,a=c,null!=i)null!=(h=f.Z.getComponentById(i).scope[c])&&(a=h.id);l=W.comp[a],null!=i&&(s=l.org_id||l.id)}else{var h;if(a=c.id,null!=i)null!=(h=f.Z.getComponentById(i).scope[c.id])&&(a=h.id);l=W.comp[a],c.key?s=c.key:(s=l.id,null!=i&&(s=l.org_id||l.id)),p="append"==c.action}if(l){var g,m=l.getOption("keyNode");g=m?(m=m.wq_replaceAll("${key}",s))+"/"+l.getOption("baseNode").split("/")[0]:l.getOption("baseNode").split("/")[0];for(var b=d._.findNodes(e,g),y=l.getOption("idAttribute")?l.getOption("idAttribute"):"id",S=0;S<b.length;S++){var v,w=b[S],C=w.parentNode.nodeName;if("dataMap"===l.initializeType&&(C=w.nodeName),m)(v=w.parentNode.getAttribute(y))&&(C=v);else(v=w.getAttribute(y))&&(C=v);if(C===s){switch(l.initializeType){case"dataMap":case"dataList":l.setXML(w,p,c.includeColumns)}break}}}}}catch(_){u.Y.printStackTrace(_)}},W.api._setArrayEvalString=function(e){try{var t=JSON.parse(e);for(var r in t){var i=W.comp[r];switch(i.initializeType){case"dataMap":i.setArray(t[r]);break;case"dataList":i.setData(t[r])}}}catch(e){u.Y.printStackTrace(e)}},W.api.syncWithAttributeMap=function(){try{if(W.options.attributeMap){var e=W.comp[this.options.attributeMap];if(e)for(var t=e.getCount(),r=0;r<t;r++){var i=e.getKey(r),a=e.get(r);W.options[i]=a}}}catch(e){u.Y.printStackTrace(e)}},W.api.makeKeyNodeChildXML=function(e,t,r,i){try{var a=e.getOption("idAttribute")?e.getOption("idAttribute"):"id",n=function(e,t,r){for(var i="",a=0;a<e.length;a++)i+="<"+e[a]+" "+t+"='"+r+"'>";for(a=e.length-1;a>=0;a--)i+="</"+e[a]+">";return i}(t.split("/"),a,i||e.id),o=d._.parse(n).documentElement,s=d._.findNode(o,"/"+t);return d._.appendChild(s,r),o}catch(e){u.Y.printStackTrace(e)}},W.api.broadcast=function(e){try{for(var t in W.comp){var r=W.comp[t];r[e.all[0]].apply(r,e.all[1]||[])}}catch(e){u.Y.printStackTrace(e)}},W.api.JSONPathEvaluator=function(e,t){try{for(var r=t.split("."),i=0;i<r.length;i++){var a=r.slice(0,i+1).join(".");"object"!=typeof g.r.getJSONByPath(e,a)&&g.r.setJSONByPath(e,a,{})}return e}catch(e){u.Y.printStackTrace(e)}},W.api.getInfo=function(e,t,r){var i={};if("object"==typeof e&&null!=e)if(e.constructor===Array)for(var a=0;a<e.length;a++){(o=W.comp[e[a]])&&"function"==typeof o.getInfo&&(i[o.id]=o.getInfo(t,r))}else for(var n in e){(o=W.comp[n])&&"function"==typeof o.getInfo&&(i[o.id]=o.getInfo(t,r))}else for(var n in W.comp){var o;1!=(o=W.comp[n]).options._empty&&(o&&"function"==typeof o.getInfo&&(i[o.id]=o.getInfo(t,r)))}return i},W.api.getAllDataCollection=function(e){try{var t=[];for(var r in W.comp)"object"===e?t.push(W.comp[r]):t.push(W.comp[r].id);return t}catch(e){u.Y.printStackTrace(e)}},W.api.setBroadcast=function(e){try{var t=!f.Z.getBoolean(e);if(!!W.stopBroadCast!==t&&(W.stopBroadCast=t,!1===t)){for(var r=0;r<W.stopBroadCastComp.length;r++){var i=o.q.idCache[W.stopBroadCastComp[r]];i&&i.broadcast({linkedDataList:["notifyDataChanged"],gridView:["notifyDataChanged",[{refreshInstance:!0,refreshScroll:!0}]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwRealtimeChart:["refresh"],fwPyramidChart:["refresh"],
fwGanttChart:["refresh"],pivot:["refreshItemset",[{type:"render",refresh:!0}]],generalComp:"both"})}W.stopBroadCastComp=[],W.stopBroadCastComp._wq_add=function(e){for(var t=!1,r=0;r<this.length;r++)if(this[r]===e){t=!0;break}t||this.push(e)}}}catch(e){u.Y.printStackTrace(e)}},W.api.getBroadcast=function(){try{return!W.stopBroadCast}catch(e){u.Y.printStackTrace(e)}},W.api.onComplete=function(){try{for(var e in W.comp){var t=W.comp[e];t&&"function"==typeof t.onComplete&&!t.completed&&t.onComplete()}}catch(e){u.Y.printStackTrace(e)}},W.api.isAliasDataCollection=function(e){try{var t=!1;return null!=e&&e.options&&!0==={aliasDataList:!0,aliasDataMap:!0,aliasLinkedDataList:!0}[e.options.pluginName]&&(t=!0),t}catch(e){u.Y.printStackTrace(e)}},W.api.getObj=function(e){try{return!0===W.api.isAliasDataCollection(e)?e.getObj():e}catch(e){u.Y.printStackTrace(e)}},W.api.bindPath=function(e){try{var t=e.split("."),r={};return r.collectionId=t[0].replace(/^data:/,""),t.length>1&&(r.columnId=t[1]),r}catch(e){u.Y.printStackTrace(e)}};var _={paramObj:null,asyncCount:0,showWindowParam:{},showIFrameName:{},getParameter:function(e){var t="",r=e;try{if(WebSquare.util.isEncodeParameter()&&(e=WebSquare.util.encodeParameter(e)),"w2xPath"==r&&WebSquare.util.getEncodeParameterOption("pathName")&&(e=WebSquare.util.getEncodeParameterOption("pathName")),null==WebSquare.net.paramObj){WebSquare.net.paramObj=new Object;for(var i=decodeURIComponent(location.search).slice(1).split("&"),a=0;a<i.length;a++){2==(o=i[a].split("=")).length&&(WebSquare.net.paramObj[o[0].wq_trim()]=o[1].wq_trim())}if(location.hash.length>0)for(i=location.hash.substring(1).split(/[\&\?\#]/),a=0;a<i.length;a++){2==(o=i[a].split("=")).length&&(WebSquare.net.paramObj[o[0].wq_trim()]=o[1].wq_trim())}}else if("w2xPath"==e){if((n=location.toString().lastIndexOf("w2xPath"))<0)WebSquare.net.paramObj[e]=null;else 2==(o=location.toString().slice(n).split(/[\&\?\#]/)[0].split("=")).length&&(WebSquare.net.paramObj[o[0].wq_trim()]=o[1].wq_trim())}else if(WebSquare.util.getEncodeParameterOption("pathName")&&e==WebSquare.util.getEncodeParameterOption("pathName")){var n,o;if((n=location.toString().lastIndexOf(WebSquare.util.getEncodeParameterOption("pathName")))<0)WebSquare.net.paramObj[e]=WebSquare.net.paramObj.w2xPath;else 2==(o=location.toString().slice(n).split(/[\&\?\#]/)[0].split("=")).length&&(WebSquare.net.paramObj[o[0].wq_trim()]=o[1].wq_trim())}else if(null!=WebSquare.userData[r])return WebSquare.userData[r];t=WebSquare.net.paramObj[e],WebSquare.util.isEncodeParameter()?!t&&WebSquare.util.getEncodeParameterOption("fallback")?t=WebSquare.net.paramObj[r]:WebSquare.util.getEncodeParameterOption("onlyParam")||(t=WebSquare.util.decodeParameter(t)):!t&&WebSquare.util.getEncodeParameterOption("fallback")&&(t=WebSquare.net.paramObj[r])}catch(e){e.detail="WebSquare.net.getParameter error.",u.Y.printStackTrace(e)}(null!=t&&void 0!==t||(t=""),"w2xPath"===e)?t=t.replace(/%2F/g,"/"):t="native"==WebSquare.core.getConfiguration("/WebSquare/parameterEncode/@value")?decodeURIComponent(t):WebSquare.text.URLDecoder(t);return t},_setParameter:function(e){try{if(WebSquare.net.paramObj)if(WebSquare.util.isEncodeParameter())if(WebSquare.util.getEncodeParameterOption("onlyParam"))for(var t in e)WebSquare.net.paramObj[WebSquare.util.encodeParameter(t)]=e[t];else for(var t in e)WebSquare.net.paramObj[WebSquare.util.encodeParameter(t)]=WebSquare.util.encodeParameter(e[t]);else for(var t in e)WebSquare.net.paramObj[t]=e[t]}catch(e){e.detail="WebSquare.net._setParameter error",u.Y.printStackTrace(e)}},getAllParameter:function(){var e={},t={};try{for(var r in WebSquare.net.paramObj)e[r]=WebSquare.text.URLDecoder(WebSquare.net.paramObj[r]),WebSquare.util.isEncodeParameter()&&(WebSquare.util.getEncodeParameterOption("onlyParam")?t[WebSquare.util.decodeParameter(r)]=e[r]:t[WebSquare.util.decodeParameter(r)]=WebSquare.util.decodeParameter(e[r]))}catch(e){u.Y.printStackTrace(e)}
return WebSquare.util.isEncodeParameter()?e.w2xPath&&e.w2xPath.length>0?e:t:e},getBASE64Parameter:function(e){var t="";try{if(null==WebSquare.net.paramObj){WebSquare.net.paramObj=new Object;for(var r=location.search.substring(1).split("&"),i=0;i<r.length;i++){var a=r[i].split("=");2==a.length&&(WebSquare.net.paramObj[a[0].wq_trim()]=a[1].wq_trim())}}t=WebSquare.net.paramObj[e]}catch(e){e.detail="WebSquare.net.getBASE64Parameter error",u.Y.printStackTrace(e)}return null!=t&&void 0!==t||(t=""),WebSquare.text.BASE64URLDecoder(t)},getAllBASE64Parameter:function(){var e={};try{for(var t in WebSquare.net.paramObj)e[t]=WebSquare.text.BASE64URLDecoder(WebSquare.net.paramObj[t])}catch(e){u.Y.printStackTrace(e)}return e},showWindow:function(e,t,r,i,a){if(void 0===r||null==r)r="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no'";else{var n=0,s=0,l="false",u=r.split(";");if(u.length>1){r="";for(var c=0;c<u.length;c++){var d=u[c].split(":");2==d.length&&("dialogHeight"==d[0].wq_trim()?(n=parseInt(d[1].wq_trim(),10),r+="height="+d[1]+","):"dialogWidth"==d[0].wq_trim()?(s=parseInt(d[1].wq_trim(),10),r+="width="+d[1]+","):"center"==d[0].wq_trim()?l=d[1].toLowerCase().wq_trim():r+=d[0]+"="+d[1]+",")}}if("true"==l||"yes"==l){if(0!=n)r="top="+(740-n)/2+"px,"+r;if(0!=s)r="left="+(1e3-s)/2+"px,"+r}}var p="idx10_"+(new Date).getTime()+o.q.safeRandom();WebSquare.net.showWindowParam[p]=void 0===t?null:t,e=e.indexOf("?")>-1?e+"&modalParamIdx="+p:e+"?modalParamIdx="+p;var h=null;return null==(h=void 0===i?window.open(e,"_blank",r):window.open(e,i,r))&&alert(WebSquare.language.getMessage("E_net_PopupBlocked")),h},getPopupParam:function(){try{var e=WebSquare.net.getParameter("modalParamIdx");return opener.WebSquare.net._getParam(e)}catch(e){return""}},_getParam:function(e){return WebSquare.net.showWindowParam[e]},isPopup:function(){try{return void 0!==window.opener&&!window.opener.closed}catch(e){return!1}},Obj2XML:function(e){var t="<obj>";for(var r in e)t=t+"<"+r+" value='"+WebSquare.xml.encode(e[r])+"'/>";return t+="</obj>"},XML2Obj:function(e){var t=new Object;try{var r=null;if("string"==typeof e)r=WebSquare.xml.parse(e);else{if(!WebSquare.xml.isDocument(e))return"";r=e}var i=r.documentElement;if("vector"==i.nodeName||"hashtable"==i.nodeName)return"";for(var a=i.childNodes,n=0;n<a.length;n++){var o=a.item(n);if(1==o.nodeType){var s=o.nodeName,l=o.getAttribute("value");null==l&&(l=""),t[s]=l}}}catch(e){u.Y.printStackTrace(e)}return t},showIFrame:function(e,t,r,i){var a=0,n=0,s=e;if(void 0===r||null==r)r="height=370,width=320";else{var l=r.split(";");if(l.length>1){r="";for(var c=0;c<l.length;c++){var d=l[c].split(":");2==d.length&&("dialogHeight"==d[0].wq_trim()?(a=parseInt(d[1].wq_trim(),10),r+="height="+d[1]+","):"dialogWidth"==d[0].wq_trim()?(n=parseInt(d[1].wq_trim(),10),r+="width="+d[1]+","):"center"==d[0].wq_trim()?d[1].toLowerCase().wq_trim():r+=d[0]+"="+d[1]+",")}}}var p="idx11_"+(new Date).getTime()+o.q.safeRandom();if(WebSquare.net.showWindowParam[p]=void 0===t?null:t,s){s=s.indexOf("?")>-1?s+"&modalParamIdx="+p:s+"?modalParamIdx="+p,void 0===i&&(i="___iframeLayer"),WebSquare.net.showIFrameName[p]=i,(isNaN(a)||0==a)&&(a=370),(isNaN(n)||0==n)&&(n=320);try{if(void 0===document.all[i]||null==document.all[i]){var h=document.createElement("div");h.id=i,h.style.position="absolute",h.style.overflow="hidden",h.style.zIndex=1e4,h.style.visibility="visible",h.style.height=a+"px",h.style.width=n+"px",h.style.setExpression("top","document.body.scrollTop+document.body.clientHeight/2-"+a+"/2"),h.style.setExpression("left","document.body.scrollLeft+document.body.clientWidth/2-"+n+"/2"),document.body.appendChild(h),WebSquare.core._safeInnerHTML(h,"<iframe frameborder='0' name='iframe"+i+"' scrolling='no' style='width:100%; height:100%'></iframe>"),document.frames["iframe"+i].location.replace(s)}else{
var f=document.body.scrollTop+document.body.clientHeight/2-parseInt(document.all[i].style.height)/2,g=document.body.scrollLeft+document.body.clientWidth/2-parseInt(document.all[i].style.width)/2;document.all[i].style.top=f,document.all[i].style.left=g,document.all[i].visibility="visible",document.all[i].style.zIndex=1e4,WebSquare.core._safeInnerHTML(document.all[i],"<iframe frameborder='0' scrolling='no' src='"+s+"' style='width:100%; height:100%;'></iframe>")}}catch(a){r="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no",WebSquare.net.showWindow(e,t,r,i),u.Y.printStackTrace(a)}}},hideIFrame:function(){try{if(parent.WebSquare){var e=WebSquare.net.getParameter("modalParamIdx");parent.WebSquare.net._hideIFrame(e)}}catch(e){u.Y.printStackTrace(e)}},_hideIFrame:function(e){var t=WebSquare.net.showIFrameName[e];void 0!==document.all[t]&&null!=document.all[t]&&(document.all[t].textContent="",document.all[t].style.zIndex=1,document.all[t].visibility="hidden",document.body.removeChild(document.all[t]))},getIFrameParam:function(){try{if(parent.WebSquare){var e=WebSquare.net.getParameter("modalParamIdx");return parent.WebSquare.net._getParam(e)}return""}catch(e){return u.Y.printStackTrace(e),""}},hasParentFrame:function(){try{if(WebSquare.core.browserCheck.ieAllVersion){var e=WebSquare.core.browserVersion();return"5"==e.charAt(0)&&window.parent!=window||(("6"==e||"7"==e)&&window.parent!=window&&window.parent==window.frameElement.ownerDocument.parentWindow||window.parent!=window)}if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.opera)return window.parent!=window}catch(e){u.Y.printStackTrace(e)}return!1},openWebsquareUrl:function(e,t,r,i){if(r||(r=window),r&&r.location){if(i=i||"true"==WebSquare.core.getConfiguration("/WebSquare/spa/@value"))return void WebSquare.util.url(e,{spa:!0});(t=o.q.extend(WebSquare.net.getAllParameter(),t)).w2xPath=WebSquare.core.getURL(e),e.startsWith("/")&&(t.w2xHome="");var a,n=[];for(var s in t)n.push(s+"="+t[s]);a="?"+n.join("&"),e=r.location.href.replace(/\?.*/,a),r.location.assign(e)}},openUrl:function(e,t){if(t||(t=window),t&&t.location){var r=t.location.protocol+"//";e.startsWith(r)||(e=r+e),t.location.assign(e)}},getSSLBlankPage:function(e){var t="";return WebSquare.core.browserCheck.ie&&"https:"==location.protocol&&(t=1==e?o.q._resourceURI+"blank.html":"src='"+o.q._resourceURI+"blank.html'"),t},getBlankXML:function(){return o.q._resourceURI+"blank.xml"},isSSLBlankPage:function(e){var t=!1;return e==o.q._resourceURI+"blank.html"&&(t=!0),t},ajax:function(e){try{var t,r;if(WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/notRecommended/warningSync/@value"))&&"synchronous"===e.mode&&alert(WebSquare.language.getMessage("E_deprecated_sync","$p.ajax")),e.beforeAjax&&void 0!==(t=e.beforeAjax(e))&&0==t)return void $l("Stop processing because result is false in ajax beforeAjax");if(""!=e.processMsg)if(e.scope)WebSquare.layer.showProcessMessage(e.processMsg,{scope:e.scope,ajax:!0});else{var i=document.getElementById("___processbar2"),a=document.getElementById("___processbar2_i");(void 0!==i&&null!=i||void 0!==a&&null!=a)&&("none"!=i.style.display||"none"!=a.style.display)||WebSquare.layer.showProcessMessage(e.processMsg)}var n,o=WebSquare.core.getXMLHTTPObject();if(e.scope){var s=WebSquare.idToUUID[e.scope];s&&(n=WebSquare.idCache[s])}var l,c={frameObj:n,msaName:e.msaName},d=WebSquare.util.getSubmissionURL(e.action,c),p="synchronous"!=e.mode,h=e.mediatype||"application/xml",f=e.accept||h,g=e.method||"post",m=e.timeout;p&&!e.scope&&WebSquare.net.asyncCount++,$l(d),o.open(g,d,p);try{e.withCredentials&&"asynchronous"==e.mode&&(o.withCredentials=e.withCredentials)}catch(e){u.Y.printStackTrace(e)}"none"!==f&&o.setRequestHeader("Accept",f),o.setRequestHeader("Content-Type",h);try{
if(e.requestHeader)for(var b in e.requestHeader)o.setRequestHeader(b,e.requestHeader[b])}catch(e){u.Y.printStackTrace(e)}p&&(m&&(l=window.setTimeout((function(){o.onreadystatechange=function(){},o.abort(),r={errorType:"timeout-error",resourceUri:d,time:m},e.scope||WebSquare.net.asyncCount--,e.scope&&!1!==e.hideProcessMsg?WebSquare.layer.hideProcessMessage({scope:e.scope,ajax:!0}):WebSquare.net.asyncCount<=0&&!1!==e.hideProcessMsg&&WebSquare.layer.hideProcessMessage(),$l("ajax timeout"),window.clearTimeout(l),e.error&&e.error(r)}),m)),o.onreadystatechange=function(){WebSquare.net.defaultcallback(o,e,l)});var y=WebSquare.core.getConfiguration("/WebSquare/ajax/externalHandler/@value")||"";if(void 0!==e.externalHandler&&(y=e.externalHandler),""==y||"default"==y);else if(y)if("function"==typeof y)e.requestData=y(e);else{var S=WebSquare.util.getGlobalFunction(y);"function"==typeof S&&(e.requestData=S(e))}o.send(e.requestData),p||WebSquare.net.commonHandler(o,e)}catch(t){u.Y.printStackTrace(t),e&&e.scope?WebSquare.layer.hideProcessMessage({scope:e.scope}):(WebSquare.layer.hideProcessMessage(),WebSquare.net.asyncCount=0)}},commonHandler:function(e,t){var r,i="synchronous"!=t.mode;i&&!t.scope&&WebSquare.net.asyncCount--;var a=WebSquare.core.getURL(t.action),n=e.getResponseHeader("Content-Type")||"";if(n.indexOf("xml")>-1)r=WebSquare.BootLoader.useWebSquareXMLParser?WebSquare.xml.parse(e.responseText):e.responseXML;else if(n.indexOf("json")>-1)try{r=JSON.parse(e.responseText)}catch(t){r=e.responseText}else r=e.responseText;if(e&&(200>e.status||300<=e.status)){var o={errorType:"resource-error",resourceUri:a,responseHeaders:WebSquare.ModelUtil.parseResponseHeader(e),responseStatusCode:e.status,responseReasonPhrase:e.statusText,requestBody:t.requestData,responseBody:e.responseText};return $l("ajax error(E01). Status["+e.status+"] "),t.scope?WebSquare.layer.hideProcessMessage({scope:t.scope,ajax:!0}):WebSquare.net.asyncCount<=0&&!1!==t.hideProcessMsg&&(WebSquare.layer.hideProcessMessage(),WebSquare.net.asyncCount=0),t.error&&t.error(o),e.onreadystatechange=function(){},void(e=null)}var s={resourceUri:a,responseHeaders:WebSquare.ModelUtil.parseResponseHeader(e),responseStatusCode:e.status,responseReasonPhrase:e.statusText,requestBody:t.requestData,responseText:e.responseText};!function(e){n.indexOf("json")>-1?e.responseJSON=r:n.indexOf("xml")>-1&&(e.responseBody=r)}(s),$l("ajax complete. Status["+e.status+"] async["+i+"] url["+a+"]"),t.scope?WebSquare.layer.hideProcessMessage({scope:t.scope,ajax:!0}):WebSquare.net.asyncCount<=0&&!1!==t.hideProcessMsg&&(WebSquare.layer.hideProcessMessage(),WebSquare.net.asyncCount=0),t.success&&t.success(s),e.onreadystatechange=function(){},e=null},defaultcallback:function(e,t,r){try{4==e.readyState&&(r&&(window.clearTimeout(r),r=null),WebSquare.net.commonHandler(e,t))}catch(e){u.Y.printStackTrace(e),t&&t.scope?WebSquare.layer.hideProcessMessage({scope:t.scope}):(WebSquare.layer.hideProcessMessage(),WebSquare.net.asyncCount=0)}},download:function(e,t,r,i,a){WebSquare.hybridApp&&(e=WebSquare.util.getSubmissionURL(e)),null!=i&&void 0!==i||(i=!1),a&&WebSquare.core._msaServerHash[a]&&(e=WebSquare.core.getServletURL(null,a,e)),WebSquare.core.download(e,t,r,i)}},x={sessionData:{}};x.sessionType=new Object,x._handleAttribute=function(e){if(null!=e&&e.mode&&e.key){for(var t=self,r=0;r<1e3;r++)try{if(null==t.opener&&t.parent===t)break;if(null!=t.opener&&t.opener.WebSquare&&t.opener.WebSquare.session)t=t.opener;else{if(t.parent===t||!t.parent.WebSquare||!t.parent.WebSquare.session)break;t=t.parent}}catch(e){break}var i,a=t.WebSquare.session,n=e.key;if("get"===e.mode||"remove"===e.mode){i=a.sessionData[n];var o=a.sessionType[n];void 0===i||null==i?i=null:"xml"===o&&(i=WebSquare.xml.parse(i)),"remove"===e.mode&&(delete a.sessionData[n],delete a.sessionType[n])}else if("set"===e.mode){var s=e.value,l="object";"string"==typeof s?l="string":WebSquare.xml.isDocument(s)?(s=WebSquare.xml.serialize(s),
l="xml"):"object"==typeof s&&("function"==typeof s.serialize&&void 0!==s.classType?(l=s.classType,s=s.serialize()):l="object"),a.sessionData[n]=s,a.sessionType[n]=l}else"removeSession"===e.mode&&(a.sessionData={},a.sessionType={});return i}},x.getAttribute=function(e){return WebSquare.session._handleAttribute({key:e,mode:"get"})},x.removeAttribute=function(e){return WebSquare.session._handleAttribute({key:e,mode:"remove"})},x.removeSession=function(){return WebSquare.session._handleAttribute({key:"_",mode:"removeSession"})},x.setAttribute=function(e,t){return WebSquare.session._handleAttribute({key:e,mode:"set",value:t})},x._getAttributeData=function(e){var t=WebSquare.session.sessionData[e];return void 0===t||null==t?null:t},x._getAttributeType=function(e){var t=WebSquare.session.sessionType[e];return void 0===t||null==t?null:t},x._removeAttributeData=function(e){var t=WebSquare.session.sessionData[e];return WebSquare.session.sessionData[e]=null,delete WebSquare.session.sessionData[e],void 0===t||null==t?null:t},x._removeAttributeType=function(e){var t=WebSquare.session.sessionType[e];return WebSquare.session.sessionType[e]=null,delete WebSquare.session.sessionType[e],void 0===t||null==t?null:t},x._removeSession=function(){WebSquare.session.sessionData={},WebSquare.session.sessionType={}},x._setAttribute=function(e,t,r){WebSquare.session.sessionData[e]=t,WebSquare.session.sessionType[e]=r};var I=__webpack_require__(2311),T=__webpack_require__(400),k={cache:{},processMsg:"",disabledList:[],submissionIDQueue:[],submissionMessageQueue:[],saveLayer:function(e,t){try{var r=document.getElementById(e);void 0!==r&&null!=r&&(WebSquare.layer.cache[e+t]=r.innerHTML)}catch(e){u.Y.printStackTrace(e)}},loadLayer:function(e,t){try{if(void 0!==WebSquare.layer.cache[e+t]&&""!=WebSquare.layer.cache[e+t].wq_trim()){var r=document.getElementById(e);return void 0!==r&&null!=r&&(WebSquare.core._safeInnerHTML(r,WebSquare.layer.cache[e+t]),!0)}return!1}catch(e){u.Y.printStackTrace(e)}},clearLayer:function(){try{WebSquare.layer.cache=new Object}catch(e){u.Y.printStackTrace(e)}},showProcessMessage:function(e,t){try{if("$blank"==e||!e)return;if((t&&t.useLocale||"true"===WebSquare.core.getConfiguration("/WebSquare/useLocale/@value"))&&t&&t.localeRef){var r,i=t.localeRef.wq_trim();null==(r=WebSquare.WebSquareLang[i])&&(r="true"===WebSquare.core.getConfiguration("/WebSquare/useLocale/@useDefaultLabel")?"":"global_undefined"),r&&(e=r)}if(t&&t.scope){var a=WebSquare.layer._getMessageFrame(t.scope);if(null!=a)return a.showProcessMessage(e,t)}$l("WebSquare.layer.showProcessMessage ["+e+"]");var n=WebSquare.core.getConfiguration("processMsgType"),s="wframe"===n&&WebSquare.uiplugin&&WebSquare.uiplugin.wframe,l="pageFrame"===n&&WebSquare.uiplugin&&WebSquare.uiplugin.pageFrame;if(s||l)return WebSquare.uiplugin.wframe._showProcessMessage(WebSquare.getBody(),e,t);var c=e.wq_trim(),d=c.match(/^javascript\s*:\s*(.*)/i);null==d||void 0===d||(e=WebSquare.jsonUtil.getJSONByPath(window,d[1]))===window&&(e="");var p=t&&"pasteMsg"==t.type?document.getElementById("___processbar2_paste"):document.getElementById("___processbar2"),h=t&&"pasteMsg"==t.type?document.getElementById("___processbar2_i_paste"):document.getElementById("___processbar2_i"),f=WebSquare.core.getConfiguration("processMsgURL"),g=WebSquare.core.getConfiguration("processMsgHeight"),m=WebSquare.core.getConfiguration("processMsgWidth"),b=WebSquare.core.getConfiguration("processMsgBackground"),y=WebSquare.core.getConfiguration("/WebSquare/processMsgBackground/@backgroundColor"),S=WebSquare.core.getConfiguration("processMsgTitle")||"process Message";if(""==y&&(y="#112233"),""==f&&(f=t&&"pasteMsg"==t.type?o.q.baseURI+WebSquare.BootLoader.inquiresPath("message/pasteMsg.html"):o.q.baseURI+WebSquare.BootLoader.inquiresPath("message/processMsg.html")),
f=0==WebSquare.WebSquareCache?WebSquare.BootLoader.getRandomPostfix(f+"?param="+WebSquare.text.URLEncoder(e)):WebSquare.BootLoader.getResourceCachePostfix(f+"?param="+WebSquare.text.URLEncoder(e)),delete WebSquare.layer.hideTrigger,t&&t.hideTrigger&&(WebSquare.layer.hideTrigger="true"),delete WebSquare.layer.abortTrigger,t&&t.abortTrigger&&(WebSquare.layer.abortTrigger="true"),WebSquare.layer.processMsg=e,""!=g&&""!=m||(g="81",m="295"),p)p.tabIndex=1,p.style.zIndex=1e4,p.style.display="block",p.style.top="0px",p.style.left="0px";else{var v=document.createElement("div");v.id=t&&"pasteMsg"==t.type?"___processbar2_paste":"___processbar2",v.className="w2modal",v.style.backgroundColor=y,v.tabIndex=1,v.style.visibility="true"==b?"visible":"hidden",WebSquare.getBody().appendChild(v),v.style.zIndex=1e4}var w=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,C=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,q=document.documentElement.clientWidth!=document.body.clientWidth?document.body.clientWidth:document.documentElement.clientWidth||document.body.clientWidth||0,W=document.documentElement.clientHeight!=document.body.clientHeight?document.body.clientHeight:document.documentElement.clientHeight||document.body.clientHeight||0;if(h){_=w+W/2-parseInt(g)/2,x=C+q/2-parseInt(m)/2;h.style.top=parseInt(_)+"px",h.style.left=parseInt(x)+"px",h.style.zIndex=10001,frames.__processbarIFrame.contentWindow&&null!=frames.__processbarIFrame.contentWindow.onload?frames.__processbarIFrame.contentWindow.onload():null!=frames.__processbarIFrame.init&&frames.__processbarIFrame.init(),h.style.display="block"}else{var _=w+W/2-parseInt(g)/2,x=C+q/2-parseInt(m)/2,I=document.createElement("div");I.id=t&&"pasteMsg"==t.type?"___processbar2_i_paste":"___processbar2_i",I.style.position="absolute",I.style.top=parseInt(_)+"px",I.style.left=parseInt(x)+"px",I.style.overflow="hidden",I.style.zIndex=10001,I.style.visibility="visible",I.style.height=g+"px",I.style.width=m+"px",WebSquare.getBody().appendChild(I);var T="",k="";"html5"!=WebSquare.docType&&(T="frameborder='0'",k=" scrolling='no'"),WebSquare.core._safeInnerHTML(I,"<iframe "+T+k+" id='__processbarIFrame' style='position:absolute; width:"+m+"px; height:"+g+"px; top:0px; left:0px; border:0px;' src='"+f+"' title='"+S+"'></iframe>")}WebSquare.event.addListener(document.documentElement,"onkeydown",WebSquare.layer.stopEvent)}catch(e){u.Y.printStackTrace(e)}},setProcessMsgColor:function(){try{var e=WebSquare.layer.colorArr.shift();WebSquare.layer.colorArr.push(e),document.getElementById("processMsgLayer").style.color=e}catch(e){u.Y.printStackTrace(e)}},hideProcessMessage:function(e){try{if(e&&e.scope){var t=WebSquare.layer._getMessageFrame(e.scope);if(null!=t)return!0===e.ajax?t.deleteAjaxMessage():t.hideProcessMessage()}if("wframe"===WebSquare.core.getConfiguration("processMsgType")&&WebSquare.uiplugin&&WebSquare.uiplugin.wframe)WebSquare.uiplugin.wframe._hideProcessMessage(WebSquare.getBody());else{var r=e&&"pasteMsg"==e.type?document.getElementById("___processbar2_paste"):document.getElementById("___processbar2"),i=e&&"pasteMsg"==e.type?document.getElementById("___processbar2_i_paste"):document.getElementById("___processbar2_i");void 0!==r&&null!=r&&(r.style.zIndex=-1,r.style.display="none",r.tabIndex="-1",r.textContent=""),void 0!==i&&null!=i&&(i.style.zIndex=-1,i.style.display="none");try{var a;if(frames.__processbarIFrame)null!=(a=WebSquare.util.isIEAllVersion()?frames.__processbarIFrame:frames.__processbarIFrame.contentWindow)&&a.processKey&&a.clearInterval(a.processKey)}catch(e){u.Y.printStackTrace(e)}}WebSquare.event.removeListener(document.documentElement,"onkeydown",WebSquare.layer.stopEvent)}catch(e){u.Y.printStackTrace(e);try{WebSquare.event.removeListener(document.documentElement,"onkeydown",WebSquare.layer.stopEvent)}catch(e){u.Y.printStackTrace(e)}}},_getMessageFrame:function(e){try{
for(var t,r=WebSquare.idCache[WebSquare.idToUUID[e]];null!=r&&r!==WebSquare.strictModeFrame;r=WebSquare.idCache[r.parentFrame])if(r.options&&!0===r.options.processMsgFrame){t=r;break}return t}catch(e){u.Y.printStackTrace(e)}},addSubmissionMessage:function(e,t){try{var r,i;if("string"==typeof e?(i=e,r=WebSquare.ModelUtil.getSubmission(e)):i=(r=e).id,r&&r.scope_id){var a=WebSquare.layer._getMessageFrame(r.scope_id);if(null!=a)return a.addSubmissionMessage(r,t)}try{if(r){1==r.useModal&&WebSquare.layer.showModal();var n={};if(r.abortTrigger&&(n.abortTrigger=r.abortTrigger),void 0!==r.useLocale&&(n.useLocale=r.useLocale),r.localeRef&&(n.localeRef=r.localeRef),!1===r.hideProcessMsg)return void WebSquare.layer.showProcessMessage(t,n)}}catch(e){u.Y.printStackTrace(e)}WebSquare.layer.submissionIDQueue.push(i),WebSquare.layer.submissionMessageQueue.push(t),(1==WebSquare.layer.submissionIDQueue.length||WebSquare.layer.submissionMessageQueue[WebSquare.layer.submissionMessageQueue.length-2]!=t)&&WebSquare.layer.showProcessMessage(t,n)}catch(e){WebSquare.layer.hideModal(),u.Y.printStackTrace(e)}},deleteSubmissionMessage:function(e){try{var t;try{if(t=WebSquare.ModelUtil.getSubmission(e)){if(t.scope_id){var r=WebSquare.layer._getMessageFrame(t.scope_id);if(null!=r)return r.deleteSubmissionMessage(e)}if(!1===t.hideProcessMsg)return void(1==t.useModal&&WebSquare.layer.hideModal())}}catch(e){u.Y.printStackTrace(e)}for(var i=-1,a=0;a<WebSquare.layer.submissionIDQueue.length;a++)WebSquare.layer.submissionIDQueue[a]==e&&(i=a);if(i>=0){WebSquare.layer.submissionIDQueue.splice(i,1);var n=WebSquare.layer.submissionMessageQueue.splice(i,1)[0];i==WebSquare.layer.submissionIDQueue.length&&n!=WebSquare.layer.submissionMessageQueue[i-1]&&WebSquare.layer.showProcessMessage(WebSquare.layer.submissionMessageQueue[i-1])}var o=!0;e&&(!(t=WebSquare.ModelUtil.getSubmission(e))||!1!==t.hideProcessMsg&&"false"!==t.hideProcessMsg||(o=!1)),0==WebSquare.layer.submissionIDQueue.length&&o&&(t&&1==t.useModal&&WebSquare.layer.hideModal(),WebSquare.layer.hideProcessMessage())}catch(e){WebSquare.layer.hideModal(),u.Y.printStackTrace(e)}},showModal:function(e){try{if(WebSquare.layer.disabledList.length>0)return void $l("[WebSquare.layer.showModal] Modal already exists, skipping process.");WebSquare.layer.disabledList.push(WebSquare.util.setDisabled({componentId:"",disabled:!0,excludeIdList:e,skipTab:!0})),WebSquare.getBody().showModal(null,e)}catch(e){u.Y.printStackTrace(e)}},hideModal:function(){try{if(WebSquare.layer.disabledList.length>0){var e=WebSquare.layer.disabledList.splice(WebSquare.layer.disabledList.length-1,1)[0];WebSquare.util.setDisabled({componentId:"",disabled:!1,excludeIdList:e.skipComponents,skipTab:!0}),WebSquare.getBody().hideModal()}}catch(e){u.Y.printStackTrace(e)}},showMessage:function(e){if(requires("uiplugin/floatingLayer/floatingLayer.js"),!e||void 0!==e.id){var t=e.title||"",r=e.messageBoxType||"info",i=e.messageButtonAlign||"center",a=e.message||"",n=e.contentTitle||"",o=e.id,s=WebSquare.util.getComponentById(o);s&&s.remove();var l=e.height||230,u=e.width||530,c=0,d=0,p=document.body.scrollHeight,h=document.body.scrollWidth;(c=h-(u+(h-u)/2))<0&&(c=0),(d=p-(l+(p-l)/2))<0&&(d=0);var f;f="position:absolute;height:"+l+"px;width:"+u+"px;top:"+d+"px;left:"+c+"px";var g=new WebSquare.uiplugin.floatingLayer(o,{userEvents:["onclose","onlayermove"],bodyComplex:!0,dragAlwaysView:!1,title:t,contentTitle:n,titleClass:"",useResizeDrag:!1,modal:!0,useModal:!0,useAnchor:!1,messageBoxType:r,messageButtonAlign:i,message:a,style:f,useMessage:!0}),m=WebSquare.getBody();g.writeTo(m),g.activate(),g.show()}},alert:function(e,t,r){var i={id:"__floatingMsg",title:r||"Alert",contentTitle:t||"Alert",message:e||"",messageBoxType:"info",messageButtonAlign:"center"};top.WebSquare?top.WebSquare.layer.showMessage(i):WebSquare.layer.showMessage(i)},confirm:function(e,t,r){var i={id:"__floatingMsg",title:r||"Confirm",contentTitle:t||"Confirm",message:e||"",
messageBoxType:"confirm",messageButtonAlign:"center"};top.WebSquare?top.WebSquare.layer.showMessage(i):WebSquare.layer.showMessage(i)},cancel:function(e,t,r){var i={id:"__floatingMsg",title:r||"Cancel",contentTitle:t||"Cancel",message:e||"",messageBoxType:"cancel",messageButtonAlign:"center"};top.WebSquare?top.WebSquare.layer.showMessage(i):WebSquare.layer.showMessage(i)},stopEvent:function(e){WebSquare.event.stopEvent(e)}},L={setCookie:function(e,t,r){var i;i="None"===r?e+"="+escape(t)+";SameSite=None;Secure;path=/":"Strict"===r?e+"="+escape(t)+";SameSite=Strict;path=/":e+"="+escape(t)+";path=/",document.cookie=i},setCookieAsync:function(e,t,r){"None"===r?window.setTimeout("document.cookie = '"+e+"="+escape(t)+";SameSite=None;Secure;path=/';",1):"Strict"===r?window.setTimeout("document.cookie = '"+e+"="+escape(t)+";SameSite=Strict;path=/';",1):window.setTimeout("document.cookie = '"+e+"="+escape(t)+";path=/';",1)},getCookie:function(e){try{for(var t=document.cookie.split("; "),r=0;r<t.length;r++){var i=t[r].split("=");if(e==i[0])return 1==i.length?"":unescape(i[1])}}catch(e){u.Y.printStackTrace(e)}return null},delCookie:function(e){try{document.cookie=e+"=abc; expires=Fri, 31 Dec 1970 23:59:59 GMT;path=/"}catch(e){u.Y.printStackTrace(e)}}},A={effectManager:function(){this.effects=[],this.timeState="stopped";var e=this;this._mouseMoveEvent=function(){e.onDrag.apply(e,arguments)}}};A.effectManager.prototype={add:function(e,t){e.init(t),this.effects.push(e),"stopped"==this.timeState&&(this.timeState="running",this.startTimeout())},remove:function(e){for(var t=[],r=0;r<this.effects.length;r++)this.effects[r]!=e&&t.push(this.effects[r]);this.effects=t,0==this.effects.length&&this.cancelTimeout()},startTimeout:function(){var e=this;this.interval=setInterval((function(){var t=(new Date).getTime();e.notifyLoop(t)}),10)},cancelTimeout:function(){clearInterval(this.interval),this.timeState="stopped"},notifyLoop:function(){for(var e=[],t=0;t<this.effects.length;t++)"finished"!=this.effects[t].state&&e.push(this.effects[t]);this.effects=e;var r=(new Date).getTime();for(t=0;t<this.effects.length;t++)"finished"!=this.effects[t].state&&this.effects[t].loop(r);0==this.effects.length&&this.cancelTimeout()}},A.effectManager=new A.effectManager,A.defaultOptions={transition:function(e){return-Math.cos(e*Math.PI)/2+.5},duration:1,fps:60,from:0,to:1,delay:0},A.resize=function(e,t){try{this.element=e;var r=o.q.extend({width:null,height:null,fromLeft:!0,fromTop:!0,mode:"delta"},t||{});WebSquare.effect.effectManager.add(this,r)}catch(e){u.Y.printStackTrace(e)}},A.resize.prototype={position:null,init:function(e){this.options=o.q.extend(o.q.extend({},WebSquare.effect.defaultOptions),e||{}),this.currentFrame=0,this.state="stoped",this.startOn=1e3*this.options.delay,this.finishOn=this.startOn+1e3*this.options.duration;var t=(new Date).getTime();this.startOn+=t,this.finishOn+=t},loop:function(e){if(e>=this.startOn){if(e>=this.finishOn)return this.render(1),this.finish&&this.finish(),void(this.state="finished");var t=(e-this.startOn)/(this.finishOn-this.startOn),r=Math.round(t*this.options.fps*this.options.duration);r>this.currentFrame&&(this.render(t),this.currentFrame=r)}},render:function(e){"stoped"==this.state&&(this.state="running",this.setup&&this.setup()),"running"==this.state&&(this.options.transition&&(e=this.options.transition(e)),e=e*(this.options.to-this.options.from)+this.options.from,this.update&&this.update(e))},setup:function(){var e=WebSquare.style.getStyle(this.element,"left");e="auto"===e?"0":e;var t=WebSquare.style.getStyle(this.element,"top");t="auto"===t?"0":t,this.originalLeft=parseFloat(e||0),this.originalTop=parseFloat(t||0),this.originalWidth=parseFloat(WebSquare.style.getSize(this.element,"width")||0),this.originalHeight=parseFloat(WebSquare.style.getSize(this.element,"height")||0),this.originalPaddingTop=parseFloat(WebSquare.style.getStyleProperty(this.element,"padding-top")||0),
this.originalPaddingBottom=parseFloat(WebSquare.style.getStyleProperty(this.element,"padding-bottom")||0),"absolute"==this.options.mode&&(null!=this.options.width&&(this.options.width=this.options.width-this.originalWidth),null!=this.options.height&&(this.options.height=this.options.height-this.originalHeight))},update:function(e){null!=this.options.width&&(this.element.style.width=this.options.width*e+this.originalWidth+"px",this.options.fromLeft||WebSquare.style.setStyle(this.element,{left:-1*this.options.width*e+this.originalLeft+"px"})),null!=this.options.height&&(this.element.style.height=this.options.height*e+this.originalHeight+"px",this.options.fromTop||WebSquare.style.setStyle(this.element,{top:-1*this.options.height*e+this.originalTop+"px"})),null!=this.options.paddingTop&&(0==this.options.paddingTop?this.element.style.paddingTop=this.originalPaddingBottom-this.originalPaddingTop*e+"px":this.element.style.paddingTop=this.options.paddingTop*e+"px"),null!=this.options.paddingBottom&&(0==this.options.paddingBottom?this.element.style.paddingBottom=this.originalPaddingBottom-this.originalPaddingBottom*e+"px":this.element.style.paddingBottom=this.options.paddingBottom*e+"px")},finish:function(){try{this.options.finish&&this.options.finish.call()}catch(e){u.Y.printStackTrace(e)}}};var E=function(){};E.prototype.construct=function(e,t){this.status=0,this.element=e,this._eventBubbling=t},E.prototype.next=function(){if(0==this.status)return this.status=1,!0},E.prototype.stop=function(){this.status=2},E.prototype.match=function(e,t,r,i){if(2==this.status)return!1;var a=!0;return e&&(" "+this.element.className+" ").indexOf(" "+e.wq_trim()+" ")<0&&(a=!1),t&&this.element.id!=t&&(a=!1),r&&this.element.tagName.toUpperCase()!=r.toUpperCase()&&(a=!1),this._eventBubbling&&i&&this.element.id.indexOf(i)<0&&(a=!1),a},E.prototype.matchSvg=function(e,t,r){if(2==this.status)return!1;var i=!1;return this.element.className.baseVal&&(i=!0,e&&(" "+this.element.className.baseVal+" ").indexOf(" "+e.wq_trim()+" ")<0&&(i=!1),t&&this.element.id!=t&&(i=!1),r&&this.element.tagName.toUpperCase()!=r.toUpperCase()&&(i=!1)),i},E.prototype.getElement=function(){return this.element};var D=function(e,t){this.construct(e),this.upperBoundElem=t||document.body};o.q.extend(D.prototype,E.prototype),D.prototype.next=function(){return 0==this.status?(this.status=1,!0):2!=this.status&&((this.element!==document.documentElement||this.upperBoundElem!==document.body)&&(!(this.element==this.upperBoundElem||!this.element.parentNode)&&(this.element=this.element.parentNode,!0)))};var M=__webpack_require__(9107),N=__webpack_require__(8713),R={CSSStyleSheet:function(){this.rules=[],this.ruleIndex=[],this.styleElement=document.createElement("style"),this.styleElement.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.styleElement),this.sheet=this.styleElement.styleSheet?this.styleElement.styleSheet:this.styleElement.sheet}};R.CSSStyleSheet.addRuleRe1=new RegExp("^\\{?([^\\}])"),R.CSSStyleSheet.addRuleRe2=new RegExp("^\\{[^\\}]*\\}$"),R.CSSStyleSheet.prototype.addRule=function(e,t){try{var r;if(this.sheet)if(this.sheet.addRule){t=t.replace(WebSquare.styleSheet.CSSStyleSheet.addRuleRe1,"$1");var i=this.sheet.rules.length;this.sheet.addRule(e,t),r=this.sheet.rules[i],this.ruleIndex[e]=i,this.rules=this.sheet.rules}else if(this.sheet.insertRule){WebSquare.styleSheet.CSSStyleSheet.addRuleRe2.test(t)||(t="{"+t+"}");i=this.sheet.cssRules.length;this.sheet.insertRule(e+" "+t,i),r=this.sheet.cssRules[i],this.ruleIndex[e]=i,0==this.rules.length&&(this.rules=this.sheet.cssRules)}else alert("Cannot create rule");else{t=t.replace(WebSquare.styleSheet.CSSStyleSheet.addRuleRe1,"$1"),this.ruleIndex[e]||(this.ruleIndex[e]=this.rules.length),this.rules[this.ruleIndex[e]]=t;var a="";for(var n in this.ruleIndex)a=n+" {"+this.rules[this.ruleIndex[n]]+"}";this.styleElement.textContent=a}return r}catch(e){u.Y.printStackTrace(e,null,this)}},
R.CSSStyleSheet.prototype.changeRule=function(e,t,r){try{var i=this.ruleIndex[e];if(void 0===i)return void this.addRule(e,t+":"+r);if(this.sheet){if(this.rules[i].style){for(var a=/^([^-]*)-([a-z])(.*)$/.exec(t);a;)t=a[1]+a[2].toUpperCase()+a[3],a=/^([^-]*)-([a-z])(.*)$/.exec(t);var n=this;setTimeout((function(){n.rules[i].style[t]=r}),1)}else if(this.sheet.insertRule){var o=this.rules[i];if(o){c=o.cssText;if(s=new RegExp("^[^\\{]*(\\{.*"+t+"\\s*\\:\\s*)([^};]*)([^}]*})").exec(c))s[4]!=r&&(c=s[1]+r+s[3],this.sheet.deleteRule(i),this.sheet.insertRule(e+" "+c,i));else c="{ "+(s=new RegExp("\\{([^}]*)}").exec(c))[1]+"; "+t+": "+r+" }",this.sheet.deleteRule(i),this.sheet.insertRule(e+" "+c,i)}}}else{if(c=this.rules[i]){var s=new RegExp("^(.*"+t+"\\s*:\\s*)([^;]*)(.*)$").exec(c);for(var l in s?s[4]!=r&&(this.rules[i]=s[1]+r+s[3]):this.rules[i]=c+"; "+t+": "+r+";",c="",this.ruleIndex)c=l+" {"+this.rules[this.ruleIndex[l]]+"}";this.styleElement.textContent=c}var c="",c="";for(var l in this.ruleIndex)c=l+" {"+this.rules[this.ruleIndex[l]]+"}"}}catch(e){u.Y.printStackTrace(e)}},R.CSSStyleSheet.prototype.getRuleProperty=function(e,t){var r=this.ruleIndex[e];if(void 0!==r)if(this.sheet){if(this.rules[r].style){for(var i=/^([^-]*)-([a-z])(.*)$/.exec(t);i;)t=i[1]+i[2].toUpperCase()+i[3],i=/^([^-]*)-([a-z])(.*)$/.exec(t);return this.rules[r].style[t]}if(this.sheet.insertRule){var a=this.rules[r];if(a)if(o=a.cssText,n=new RegExp("^.*"+t+"\\s*\\:\\s*([^};]*)").exec(o))return n[1]}}else{var n,o=this.rules[r];if(o)if(n=new RegExp("^.*"+t+"s*:s*([^;]*)").exec(o))return n[1]}},R.CSSStyleSheet.prototype.getRule=function(e){var t=this.ruleIndex[e];if(void 0!==t){if(!this.sheet){var r=this.rules[t];return r}if(this.rules[t].style)return this.rules[t].style.cssText;if(this.sheet.insertRule){var i=this.rules[t];if(i)return r=i.cssText}}};var O={styleSheet:null,initialize:function(){null==WebSquare.cssStyleSheet.styleSheet&&(WebSquare.cssStyleSheet.styleSheet=new WebSquare.styleSheet.CSSStyleSheet)},addRule:function(e,t){try{WebSquare.cssStyleSheet.initialize(),WebSquare.cssStyleSheet.styleSheet.addRule(e,t)}catch(e){u.Y.printStackTrace(e,null,this)}},changeRule:function(e,t,r){WebSquare.cssStyleSheet.initialize(),WebSquare.cssStyleSheet.styleSheet.changeRule(e,t,r)},getRuleProperty:function(e,t){WebSquare.cssStyleSheet.initialize(),WebSquare.cssStyleSheet.styleSheet.getRuleProperty(e,t)},getRule:function(e){WebSquare.cssStyleSheet.initialize(),WebSquare.cssStyleSheet.styleSheet.getRule(e)}},P={_initImport:function(){var e;P.gDragManager.event=new o.q.eventControl,this.event=new WebSquare.eventControl,P.gDragManager.mouseMoveListener=(e=P.gDragManager,function(...t){e.update.apply(e,t)}),P.gDragManager.mouseUpListener=function(e){return function(...t){e.finish.apply(e,t)}}(P.gDragManager),P.gDragManager.init()}};o.q._initImportList.push("dragdrop"),P.gDragManager={},P.gDragManager.init=function(){try{this.dragGhost=null,this.element=null,this.target=null,this.currentFrame=0,this.deltaX=0,this.deltaY=0,this.oldMouseX=-1,this.oldMouseY=-1,this.status="stop",this.options={id:"w2drag",className:"w2drag",contents:"",direction:"x y",resizeDirection:"width height",frameGap:20,delay:0,mode:"move",applyMousePosition:!1,windowDragMove:!1,dropClass:"",onDrop:null,makeGhostLayer:null,useDragLayer:!1,handleStart:null,handleUpdate:null,handleFinish:null,beforeStart:null,afterFinish:null},this.original={position:"",left:0,top:0,width:0,height:0,mouseX:0,mouseY:0}}catch(e){u.Y.printStackTrace(e)}},P.gDragManager.activate=function(e,t,r){try{if(1==WebSquare.util.isTouchDevice()){var i={};!1===r.passive&&(i.passive=!1),WebSquare.event.addListener(document.documentElement,"ontouchmove",this.mouseMoveListener,i),WebSquare.event.addListener(document.documentElement,"ontouchend",this.mouseUpListener,i)}WebSquare.event.addListener(document.documentElement,"onmousemove",this.mouseMoveListener),
WebSquare.event.addListener(document.documentElement,"onmouseup",this.mouseUpListener),WebSquare.util.isFF()&&WebSquare.event.preventDefault(e),this.options=o.q.extend(this.options,r||{});var a=WebSquare.style.getAbsoluteLeft(t,!0),n=WebSquare.style.getAbsoluteTop(t,!0),s=this.getDragGhost(),l=WebSquare.style.getAbsoluteTop(s.render,!0),c=WebSquare.style.getAbsoluteLeft(s.render,!0);"none"==s.render.style.display&&(l=0,c=0),null==s.saveOffsetTop&&(s.saveOffsetTop=l),null==s.saveOffsetLeft&&(s.saveOffsetLeft=c),s.saveLeft=a,s.saveTop=n,this.options.makeGhostLayer&&(s=this.options.makeGhostLayer(s,e),"resize"!=this.options.mode&&"resize_right"!=this.options.mode&&"resize_bottom"!=this.options.mode&&"resize_up"!=this.options.mode&&"resize_upRight"!=this.options.mode&&"resize_upLeft"!=this.options.mode&&"resize_bottomLeft"!=this.options.mode&&"resize_left"!=this.options.mode||s.show()),this.options.contents?WebSquare.core._safeInnerHTML(s.render,this.options.contents):this.options.showNoData&&(s.render.textContent="no data"),this.dragGhostOffsetTop=0,this.dragGhostOffsetLeft=0,this.options.ghostRightTop&&(this.dragGhostOffsetTop=-55,this.dragGhostOffsetLeft=20),s&&(this.dragGhost=s,this.element=t,this.target=this.dragGhost.render,this.original={left:this.dragGhost.saveOffsetLeft+a,top:this.dragGhost.saveOffsetTop+n,width:this.target.offsetWidth,height:this.target.offsetHeight,mouseX:WebSquare.event.getMouseX(e),mouseY:WebSquare.event.getMouseY(e)},this.options.showGhostOnActivate&&(this.options.applyMousePosition?this.drawPosition(this.original.mouseX+this.dragGhostOffsetLeft,this.original.mouseY+this.dragGhostOffsetTop):this.drawPosition(this.original.left+this.dragGhostOffsetLeft,this.original.top+this.dragGhostOffsetTop),s.show())),this.options.windowDragMove&&this.options.mode&&this.target?WebSquare.style.addClass(this.target,"w2drag_resize_window_move"):WebSquare.style.removeClass(this.target,"w2drag_resize_window_move"),WebSquare.getBody().addClass("w2drag_activate")}catch(e){u.Y.printStackTrace(e)}},P.gDragManager.drawSize=function(e,t,r){try{this.target&&(this.options.minWidth&&e<parseInt(this.options.minWidth)-10||this.options.minHeight&&t<=parseInt(this.options.minHeight)-10?this.finish(r):(e>=0&&this.options.resizeDirection.indexOf("width")>-1&&(this.target.style.width=e+"px"),t>=0&&this.options.resizeDirection.indexOf("height")>-1&&(this.target.style.height=t+"px")))}catch(r){u.Y.printStackTrace(r)}},P.gDragManager.drawPosition=function(e,t){try{this.target&&(this.options.direction.indexOf("x")>-1&&(this.target.style.left=(e-WebSquare.style.getAbsoluteLeft(document.body,!0))/(WebSquare.BootLoader.fullViewRatio||1)+"px"),this.options.direction.indexOf("y")>-1&&(this.target.style.top=(t-WebSquare.style.getAbsoluteTop(document.body,!0))/(WebSquare.BootLoader.fullViewRatio||1)+"px"))}catch(e){u.Y.printStackTrace(e)}},P.gDragManager.start=function(e){try{"stop"==this.status&&(this.status="started",this.options.beforeStart&&this.options.beforeStart(e),this.options.handleStart&&this.options.handleStart(e),this.dragGhost.show(),this.dragGhost.setPosition(this.dragGhost.saveLeft,this.dragGhost.saveTop))}catch(e){u.Y.printStackTrace(e)}},P.gDragManager.update=function(e){try{var t=!1;if(this.target){WebSquare.event.stopEvent(e);var r=WebSquare.event.getMouseX(e),i=WebSquare.event.getMouseY(e);this.oldMouseX==r&&this.oldMouseY==i||(this.oldMouseX=r,this.oldMouseY=i,t=!0),this.deltaX=r-this.original.mouseX,this.deltaY=i-this.original.mouseY}if(t&&this.target&&Math.abs(this.deltaX)+Math.abs(this.deltaY)>this.options.delay&&this.start(e),t&&this.target&&"started"==this.status){if("move"==this.options.mode){if(this.options.applyMousePosition?this.drawPosition(this.original.mouseX+this.deltaX+this.dragGhostOffsetLeft,this.original.mouseY+this.deltaY+this.dragGhostOffsetTop):this.drawPosition(this.original.left+this.deltaX+this.dragGhostOffsetLeft,this.original.top+this.deltaY+this.dragGhostOffsetTop),
this.options.component&&"gridView"===this.options.component.options.pluginName){var a=this.options.component,n=a.getElementById(a.id+"_body_tbody"),o=WebSquare.style.getAbsoluteTop(n);if(a.isMobile){var s=a._checkScrollEnd2();n.offsetHeight+o<i&&2!==s?a.moveYScroll(6):o>i&&1!==s&&a.moveYScroll(-6)}else n.offsetHeight+o<i?a.options.dataDragDropOther||(a.getElementById(a.id+"_scrollY_div").scrollTop+=30):o>i&&(a.options.dataDragDropOther||(a.getElementById(a.id+"_scrollY_div").scrollTop-=30))}}else if("resize"==this.options.mode){var l=this.original.width+this.deltaX,c=this.original.height+this.deltaY,d=this.original.left,p=this.original.top;l<0&&(d-=l=Math.abs(l)),c<0&&(p-=c=Math.abs(c)),this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(d,p),this.drawSize(l,c,e)}else if("resize_right"==this.options.mode){l=this.original.width+this.deltaX,c=this.original.height,d=this.original.left,p=this.original.top;l<0&&(d-=l=Math.abs(l)),this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(d,p),this.drawSize(l,c,e)}else if("resize_upLeft"==this.options.mode){l=this.original.width-this.deltaX,c=this.original.height-this.deltaY,d=this.original.left+this.deltaX,p=this.original.top+this.deltaY;c<0&&(p+=c=Math.abs(c)),this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(d,p),this.drawSize(l,c,e)}else if("resize_upRight"==this.options.mode){l=this.original.width+this.deltaX,c=this.original.height-this.deltaY,d=this.original.left,p=this.original.top+this.deltaY;c<0&&(p+=c=Math.abs(c)),this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(d,p),this.drawSize(l,c,e)}else if("resize_up"==this.options.mode){l=this.original.width,c=this.original.height-this.deltaY,d=this.original.left,p=this.original.top+this.deltaY;c<0&&(p+=c=Math.abs(c)),this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(d,p),this.drawSize(l,c,e)}else if("resize_bottom"==this.options.mode){l=this.original.width,c=this.original.height+this.deltaY,d=this.original.left,p=this.original.top;c<0&&(p-=c=Math.abs(c)),this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(d,p),this.drawSize(l,c,e)}else if("resize_bottomLeft"==this.options.mode){l=this.original.width-this.deltaX,c=this.original.height+this.deltaY,d=this.original.left+this.deltaX,p=this.original.top;l<0&&(d-=l=Math.abs(l)),c<0&&(p-=c=Math.abs(c)),this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(d,p),this.drawSize(l,c,e)}else if("resize_left"==this.options.mode){l=this.original.width-this.deltaX,c=this.original.height,d=this.original.left+this.deltaX,p=this.original.top;l<0&&(d-=l=Math.abs(l)),this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(d,p),this.drawSize(l,c,e)}if(this.options.handleUpdate&&this.options.handleUpdate(this.original.left,this.original.top,this.deltaX,this.deltaY,e),this.options.onDragover){var h=null;if(""!=this.options.dragoverClass){for(var f=this.event.getTargetIterator(e);f.next();)f.match(this.options.dragoverClass)&&(h=f.getElement(),f.stop());f=null}this.options.onDragover(this.element,h,this.original.left,this.original.top,this.deltaX,this.deltaY,e)}}}catch(e){u.Y.printStackTrace(e)}},P.gDragManager.finish=function(e){try{if(WebSquare.util.isTouchDevice()&&(WebSquare.event.removeListener(document.documentElement,"ontouchmove",this.mouseMoveListener),WebSquare.event.removeListener(document.documentElement,"ontouchend",this.mouseUpListener)),WebSquare.event.removeListener(document.documentElement,"onmousemove",this.mouseMoveListener),WebSquare.event.removeListener(document.documentElement,"onmouseup",this.mouseUpListener),this.target){
if("started"==this.status||"visible"==this.dragGhost.getStyle("visibility")){if(this.options.onDrop){var t=null;if(""!=this.options.dropClass){for(var r=this.event.getTargetIterator(e);r.next();)r.match(this.options.dropClass)&&(t=r.getElement(),r.stop());r=null}this.options.onDrop(this.element,t,this.original.left,this.original.top,this.deltaX,this.deltaY,e)}this.options.handleFinish&&this.options.handleFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e),this.options.afterFinish&&this.options.afterFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e),this.dragGhost.hide()}this.init(),WebSquare.getBody().removeClass("w2drag_activate")}}catch(e){u.Y.printStackTrace(e)}},P.gDragManager.getDragGhost=function(){try{var e=null,t=WebSquare.getBody();return t&&((e=t.getChild(this.options.id))||(requires("uiplugin/group/group.js"),(e=new WebSquare.uiplugin.group(this.options.id,{className:"w2drag "+this.options.className})).writeTo(t,null,this.parentFrame),e.activate(),e.hide())),e}catch(e){u.Y.printStackTrace(e)}},P.gDragManager.remove=function(e){try{this.finish({});var t=WebSquare.getBody();if(t){var r=t.getChild(e);r&&r.remove()}}catch(e){u.Y.printStackTrace(e)}};var F={styleHash:new Object,zIndexCorrection:{calendar:100,itemTable:200,toolTip:300},camelize:function(e){var t=e.split("-");if(1==t.length)return t[0];for(var r=0==e.indexOf("-")?t[0].charAt(0).toUpperCase()+t[0].substring(1):t[0],i=1,a=t.length;i<a;i++){var n=t[i];r+=n.charAt(0).toUpperCase()+n.substring(1)}return r},setStyle:function(e,t,r){if("object"==typeof t)for(var i in t)e.style[WebSquare.style.camelize(i)]=t[i];else if("string"==typeof t){if("opacity"==(i=t.capitalizeStyle())){if(void 0===e.style.opacity){var a=parseFloat(r,10);i="filter",r="alpha(opacity="+100*(a=isNaN(a)?1:a)+")"}}else"float"==i&&(void 0!==e.style.cssFloat?e.style.cssFloat=r:void 0!==e.style.styleFloat&&(e.style.styleFloat=r));e.style[i]=r}}};document.documentElement.currentStyle?F.getStyleProperty=function(e,t){t=t.wq_trim().capitalizeStyle();var r=e.currentStyle[t];return t.toLowerCase().indexOf("color")>-1?f.Z.toHexColor(r):r}:window.getComputedStyle?F.getStyleProperty=function(e,t){var r=document.defaultView.getComputedStyle(e,null).getPropertyValue(t);return t.toLowerCase().indexOf("color")>-1?f.Z.toHexColor(r):r}:F.getStyleProperty=function(e,t){var r=e.style[t];return t.toLowerCase().indexOf("color")>-1?f.Z.toHexColor(r):r},F.getStyle=function(e,t){var r=WebSquare.style.getStyleProperty(e,t);if(!r)if("opacity"==t){var i=(WebSquare.style.getStyleProperty(e,"filter").match(/alpha\(.*\)/gi)||[""])[0].match(/opacity=\d+/gi)||[""];r=parseInt(i[0].substr(8)||"100",10)/100+""}else"float"==t&&(r=WebSquare.style.getStyleProperty(e,"styleFloat"));return r},F.OpacRe1=new RegExp("Gecko"),F.OpacRe2=new RegExp("Konqueror|Safari|KHTML"),F.OpacRe3=new RegExp("MSIE"),F.OpacRe4=new RegExp("alpha\\([^\\)]*\\)","gi"),F.setOpacity=function(e,t){1==t?(WebSquare.style.setStyle(e,{opacity:WebSquare.style.OpacRe1.test(navigator.userAgent)&&!WebSquare.style.OpacRe2.test(navigator.userAgent)?.999999:null}),WebSquare.style.OpacRe3.test(navigator.userAgent)&&WebSquare.style.setStyle(e,{filter:WebSquare.style.getStyle(e,"filter").replace(WebSquare.style.OpacRe4,"")})):(t<1e-5&&(t=0),WebSquare.style.setStyle(e,{opacity:t}),WebSquare.style.OpacRe3.test(navigator.userAgent)&&WebSquare.style.setStyle(e,{filter:WebSquare.style.getStyle(e,"filter").replace(WebSquare.style.OpacRe4,"")+"alpha(opacity="+100*t+")"}))},F.extendStyle=function(e,t){var r=new Object;for(var i in e)r[WebSquare.style.camelize(i)]=e[i];for(var i in t){r[WebSquare.style.camelize(i)]=t[i]}return r},F.setSize=function(e,t,r){try{if(!e)return;t=parseInt(t),r=parseInt(r),null!=t&&!isNaN(t)&&t>=0&&(e.style.width=t+"px"),null!=r&&!isNaN(r)&&r>=0&&(e.style.height=r+"px")}catch(e){u.Y.printStackTrace(e)}},F.getSize=function(e,t){try{if(!e)return;if("height"==(t=t.toLowerCase()))return e.clientHeight
;if("width"==t)return e.clientWidth;if("innerheight"==t){var r=parseInt(WebSquare.style.getStyleProperty(e,"padding-top"))||0,i=parseInt(WebSquare.style.getStyleProperty(e,"padding-bottom"))||0;return e.clientHeight+r+i}if("innerwidth"==t){var a=parseInt(WebSquare.style.getStyleProperty(e,"padding-left"))||0,n=parseInt(WebSquare.style.getStyleProperty(e,"padding-right"))||0;return e.clientWidth+a+n}if("outerheight"==t){var o=parseInt(WebSquare.style.getStyleProperty(e,"border-top-width"))||0,s=parseInt(WebSquare.style.getStyleProperty(e,"border-bottom-width"))||0;r=parseInt(WebSquare.style.getStyleProperty(e,"padding-top"))||0,i=parseInt(WebSquare.style.getStyleProperty(e,"padding-bottom"))||0;return e.clientHeight+o+s+r+i}if("outerwidth"==t){var l=parseInt(WebSquare.style.getStyleProperty(e,"border-left-width"))||0,d=parseInt(WebSquare.style.getStyleProperty(e,"border-right-width"))||0;a=parseInt(WebSquare.style.getStyleProperty(e,"padding-left"))||0,n=parseInt(WebSquare.style.getStyleProperty(e,"padding-right"))||0;return e.clientWidth+l+d+a+n}if("outermarginheight"==t){o=parseInt(WebSquare.style.getStyleProperty(e,"border-top-width"))||0,s=parseInt(WebSquare.style.getStyleProperty(e,"border-bottom-width"))||0,r=parseInt(WebSquare.style.getStyleProperty(e,"padding-top"))||0,i=parseInt(WebSquare.style.getStyleProperty(e,"padding-bottom"))||0;var p=parseInt(WebSquare.style.getStyleProperty(e,"margin-top"))||0,h=parseInt(WebSquare.style.getStyleProperty(e,"margin-bottom"))||0;return e.clientHeight+o+s+r+i+p+h}if("outermarginwidth"==t){l=parseInt(WebSquare.style.getStyleProperty(e,"border-left-width"))||0,d=parseInt(WebSquare.style.getStyleProperty(e,"border-right-width"))||0,a=parseInt(WebSquare.style.getStyleProperty(e,"padding-left"))||0,n=parseInt(WebSquare.style.getStyleProperty(e,"padding-right"))||0;var f=parseInt(WebSquare.style.getStyleProperty(e,"margin-left"))||0,g=parseInt(WebSquare.style.getStyleProperty(e,"margin-right"))||0;return e.clientWidth+l+d+a+n+f+g}return void c.v.printLog("getSize : wrong sizeName["+t+"]")}catch(e){u.Y.printStackTrace(e)}},F._getSize=function(e,t){try{if(!e)return;if("height"==(t=t.toLowerCase()))return e.clientHeight;if("width"==t)return e.clientWidth;if("innerheight"==t)return e.clientHeight;if("innerwidth"==t)return e.clientWidth;if("outerheight"==t)return e.offsetHeight;if("outerwidth"==t)return e.offsetWidth;if("outermarginheight"==t){var r=parseInt(WebSquare.style.getStyleProperty(e,"margin-top"))||0,i=parseInt(WebSquare.style.getStyleProperty(e,"margin-bottom"))||0;return e.offsetHeight+r+i}if("outermarginwidth"==t){var a=parseInt(WebSquare.style.getStyleProperty(e,"margin-left"))||0,n=parseInt(WebSquare.style.getStyleProperty(e,"margin-right"))||0;return e.offsetWidth+a+n}return void c.v.printLog("getSize : wrong sizeName["+t+"]")}catch(e){u.Y.printStackTrace(e)}},F.animate=function(e,t,r){if((r=r||{duration:500}).easing=r.easing||"ease",r.startTime=new Date,r.key=r.key||"WebSquare.style.animate_"+o.q.safeRandom(),r.delay=15,"object"==typeof t){e&&e.render&&(e=e.render);for(var i=f.Z.isArray(e)?e:[e],a=[],n=[],s=0;s<i.length;s++){var u=i[s],c={},d=t;for(var p in d)if(c[p]=WebSquare.style.getStyle(u,p),"string"==typeof c[p]){var h=(d[p]+"").wq_trim();h.startsWith("+=")?d[p]=parseFloat(c[p])+parseFloat(h.substr(2)):h.startsWith("-=")&&(d[p]=parseFloat(c[p])-parseFloat(h.substr(2)))}a.push(c),n.push(d)}t=function(e){for(var t=0;t<i.length;t++){var r=i[t],o=a[t],s=n[t];for(var l in s){var u=parseFloat(o[l]),c=o[l].substr((u+"").length),d=u+e*(s[l]-u);WebSquare.style.setStyle(r,l,d+c)}}}}else!r.caller&&e&&(r.caller=e);var g=function(){var e=(new Date-r.startTime)/r.duration;e>1&&(e=1);var i=WebSquare.style.cubicBezierAtTime(e,r.easing,r.duration);t.call(r.caller,i),i<1?l.I.setTimer(g,r):r.complete&&r.complete.call(r.caller)};return l.I.setTimer(g,r),r.key},F.cubicBezierAtTime=function(e,t,r){if("string"==typeof t)switch(t){case"ease":case"default":default:t=[.25,.1,.25,1];break
;case"linear":t=[0,0,1,1];break;case"ease-in":t=[.42,0,1,1];break;case"ease-out":t=[0,0,.58,1];break;case"ease-in-out":t=[.42,0,.58,1];break;case"deceleration":t=[0,0,0,1];break;case"acceleration":t=[1,0,1,1]}var i=t[0],a=t[1],n=t[2],o=t[3],s=0,l=0,u=0,c=0,d=0,p=0;function h(e){return((s*e+l)*e+u)*e}function f(e){return(3*s*e+2*l)*e+u}return s=1-(u=3*i)-(l=3*(n-i)-u),c=1-(p=3*a)-(d=3*(o-a)-p),function(e,t){return function(e){return((c*e+d)*e+p)*e}(function(e,t){var r,i,a,n,o,s;function l(e){return e>=0?e:0-e}for(a=e,s=0;s<8;s++){if(l(n=h(a)-e)<t)return a;if(l(o=f(a))<1e-6)break;a-=n/o}if(i=1,a=e,a<(r=0))return r;if(a>i)return i;for(;r<i;){if(l((n=h(a))-e)<t)return a;e>n?r=a:i=a,a=.5*(i-r)+r}return a}(e,t))}(e,function(e){return 1/(200*e)}(r))},F.addClass=function(e,t){try{if(!e||!t)return;for(var r=e.className.wq_trim(),i=r.split(" "),a=0;a<i.length;a++){if((" "+i[a].wq_trim()+" ").indexOf(" "+t+" ")>-1&&a==i.length-1)return}i.length>=1&&(r+=" "),r+=t.wq_trim(),e.className=r}catch(e){u.Y.printStackTrace(e)}},F.removeClass=function(e,t){try{if(!e||!t)return;for(var r=e.className.split(" "),i=[],a=0;a<r.length;a++){var n=r[a].wq_trim();(" "+n+" ").indexOf(" "+t+" ")>-1||n.length>0&&i.push(n)}e.className=i.join(" ")}catch(e){u.Y.printStackTrace(e)}},F.show=function(e,t){try{if(!e)return;void 0===t&&(t="block"),e.style.display=t,e.style.visibility="visible",f.Z.isIE(6)&&WebSquare.style.addClass(e," "),e.setAttribute("aria-hidden","false"),WebSquare.layer.disabledList.length>0&&WebSquare.style.addClass(e,"w2modal_popupLayer")}catch(e){u.Y.printStackTrace(e)}},F.hide=function(e){try{if(!e)return;e.style.display="none",e.style.visibility="hidden",e.setAttribute("aria-hidden","true"),WebSquare.style.removeClass(e,"w2modal_popupLayer")}catch(e){u.Y.printStackTrace(e)}},F.getAbsoluteTop=function(e,t){var r=0;try{if(!e)return 0;if(null!=e.getBoundingClientRect){var i=e.getBoundingClientRect().top,a=e.ownerDocument,n=a.documentElement,o=a.body,s=a.window===a?a:9===a.nodeType?a.defaultView||a.parentWindow:null,l=n.clientTop||o.clientTop||0,c=s.pageYOffset||n.scrollTop;(f.Z.isIE(9)||f.Z.isIE(10))&&(c=n.scrollTop);var d=o.getBoundingClientRect();r=(i+c-l)/(f.Z.isIE("6")||f.Z.isIE("7")?(d.bottom-d.top)/o.offsetHeight:1),t||(r/=WebSquare.style.getScale())}else{for(var p=e,h=e,g=0;"BODY"!=h.tagName;){var m=f.Z.parseFloat(f.Z.getStyleProperty(h,"border-top-width"),0);f.Z.isOpera()&&(m=0);i=h.offsetTop;if("fixed"==f.Z.getStyleProperty(h,"position")){if(i=f.Z.parseFloat(f.Z.getStyleProperty(h,"top"),0),!f.Z.isIE("6")){g+=i+m-h.scrollTop+m+(window.scrollY||document.documentElement.scrollTop);break}}else"static"!=f.Z.getStyleProperty(h,"position")||p==h?g+=i+m-h.scrollTop:g-=h.scrollTop;h=h.parentNode}r=g}}catch(e){u.Y.printStackTrace(e)}return r},F.getAbsoluteLeft=function(e,t){var r=0;try{if(!e)return 0;if(null!=e.getBoundingClientRect){var i=e.getBoundingClientRect().left,a=e.ownerDocument,n=a.documentElement,o=a.body,s=a.window===a?a:9===a.nodeType?a.defaultView||a.parentWindow:null,l=n.clientLeft||o.clientLeft||0,c=s.pageXOffset||n.scrollLeft;(f.Z.isIE(9)||f.Z.isIE(10))&&(c=n.scrollLeft);var d=o.getBoundingClientRect();r=(i+c-l)/(f.Z.isIE("6")||f.Z.isIE("7")?(d.right-d.left)/o.offsetWidth:1),t||(r/=WebSquare.style.getScale())}else{for(var p=0,h=e,g=e;"BODY"!=h.tagName;){var m=f.Z.parseFloat(f.Z.getStyleProperty(h,"border-left-width"),0);f.Z.isOpera()&&(m=0);i=h.offsetLeft;if("fixed"==f.Z.getStyleProperty(h,"position")){if("number"==typeof f.Z.getStyleProperty(h,"left")&&(i=f.Z.parseFloat(f.Z.getStyleProperty(h,"left"),0)),!f.Z.isIE("6")){p+=i+m-h.scrollLeft+(window.scrollX||document.documentElement.scrollLeft);break}}else"static"!=f.Z.getStyleProperty(h,"position")||g==h?p+=i+m-h.scrollLeft:p-=h.scrollLeft;h=h.parentNode}r=p}}catch(e){u.Y.printStackTrace(e)}return r},F.getRelativeTop=function(e,t){var r=0;try{r=WebSquare.style.getAbsoluteTop(e)-WebSquare.style.getAbsoluteTop(t)}catch(e){u.Y.printStackTrace(e)}return r},
F.getRelativeLeft=function(e,t){var r=0;try{r=WebSquare.style.getAbsoluteLeft(e)-WebSquare.style.getAbsoluteLeft(t)}catch(e){u.Y.printStackTrace(e)}return r},F.adjustZIndex=function(e,t,r){try{for(var i=WebSquare.idCache[e],a=WebSquare.idCache[t],n=$(a.render).css("zIndex"),o=$(a.render).css("zIndex"),s=i.render;s&&s!==document.documentElement;s=s.parentNode){var l=$(s).css("zIndex");!isNaN(l)&&o<l&&(o=parseInt(l,10)+this.zIndexCorrection[r])}n!=o&&$(a.render).css("zIndex",o)}catch(e){u.Y.printStackTrace(e,null,this)}},F.getComputedStyle=function(e,t){var r=window.getComputedStyle,i=r?r(e):e.currentStyle,a=t?t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()})):"";return i&&!a?i:i&&(i[a]||window.getPropertyValue&&window.getPropertyValue(a))||""},F.toJSON=function(e){var t=document.createElement("a");t.style.cssText=e;var r=o.q.extend({},t.style);return t=null,r},F.getScale=function(){try{var e=1;if(f.Z.isIE("6 7 8"))e=1;else if(null!=WebSquare.BootLoader.fullViewRatio)e=WebSquare.BootLoader.fullViewRatio;else if(document.body.style.transform)try{e=document.body.style.transform.split("scale")[1].slice(1,-1)}catch(t){e=1}else if(document.body.style.msTransform)try{e=document.body.style.msTransform.split("scale")[1].slice(1,-1)}catch(t){e=1}else if(f.Z.isIE(9))for(var t=self,r=0;r<1e3;r++)try{if(t.parent===t)break;t.parent.WebSquare,(t=t.parent).document.body.style.msTransform&&(e=t.document.body.style.msTransform.split("scale")[1].slice(1,-1))}catch(t){e=1;break}return parseFloat(e)}catch(e){return u.Y.printStackTrace(e,null,this),1}};var Y=__webpack_require__(3477),j={channels:{},_defaultChannelId:"_wq_channel_default",add:function(e,t,r){try{if(!t||"function"!=typeof t.getSrc)return;var i=t.getSrc();void 0!==r&&null!=r||(r={});var a=g.r.getNodesByTagName(e,"subscribers",l.I._XML_NAMESPACE.W2)[0];if(a&&(a=a.E),a)for(var n=0;n<a.length;n++){var o=a[n];if(o.A&&o.A.id&&o.A.channelId&&o.A.onmessage){var s=o.A.id,d={channelId:o.A.channelId,handler:o.A.onmessage,scope_obj:t,id:s,url:i};new j.Subscriber(d)}else c.v.printLog("subscriber error : Required property is not defined. "+i)}var p=g.r.getNodesByTagName(e,"publishers",l.I._XML_NAMESPACE.W2)[0];if(p&&(p=p.E),p)for(n=0;n<p.length;n++){s=p[n].A.id;var h={channelId:p[n].A.channelId,scope_obj:t,id:s};new j.Publisher(h)}}catch(e){u.Y.printStackTrace(e)}},_getInfo:function(e,t){try{var r=[],i=this.channels[e];if(!i||!i[t])return r;for(var a=0;a<i[t].length;a++){var n=i[t][a],s=o.q.idCache[o.q.idToUUID[n]];r.push(s)}return r}catch(e){u.Y.printStackTrace(e)}},_getAllInfos:function(){try{var e=[];for(var t in this.channels){var r=this.channels[t];if(r&&r[type])for(var i=0;i<r[type].length;i++){var a=r[type][i],n=o.q.idCache[o.q.idToUUID[a]];e.push(n)}}return e}catch(e){u.Y.printStackTrace(e)}},getSubscribers:function(e){return this._getInfo(e,"subscriber")},getAllSubscribers:function(){return this._getAllInfos(channelId,"subscriber")},getPublishers:function(e){return this._getInfo(e,"publisher")},getAllPublishers:function(){return this._getAllInfos(channelId,"publisher")},_addChannelItem:function(e,t,r){try{var i=e||this._defaultChannelId;this.channels[i]||(this.channels[i]={subscriber:[],publisher:[]}),this.channels[i][t].push(r)}catch(e){u.Y.printStackTrace(e)}},_addPublisher:function(e,t){try{this._addChannelItem(e,"publisher",t)}catch(e){u.Y.printStackTrace(e)}},_addSubscriber:function(e,t){try{this._addChannelItem(e,"subscriber",t)}catch(e){u.Y.printStackTrace(e)}},_removeChannelItem:function(e,t,r){try{var i=e||this._defaultChannelId;if(!this.channels[i])return;for(var a=this.channels[i][t],n=a.length-1;n>=0;n--)if(a[n]===r){a.splice(n,1);break}}catch(e){u.Y.printStackTrace(e)}},_removePublisher:function(e,t){try{this._removeChannelItem(e,"publisher",t)}catch(e){u.Y.printStackTrace(e)}},_removeSubscriber:function(e,t){try{this._removeChannelItem(e,"subscriber",t)}catch(e){u.Y.printStackTrace(e)}},_initCommon:function(e,t){try{if(!e)return
;if(t.uuid=o.q.UUIDPrefix+"_"+o.q.UUID++,t.scope_obj=e.scope_obj,e.id){t.org_id=e.id;var r=e.scope_obj?e.scope_obj.id:"";t.id=(r?r+"_":"")+e.id}else t.id=t.uuid,t.org_id=t.uuid;if(null!=window[o.q.noConflict].comp[t.id]){var i=N.B.getMessage("E_comp_duplicated_Msg",t.id)||"id["+t.id+"] is duplicated. Check the source code.";return c.v.printLog(i),void alert(i)}window[o.q.noConflict].comp[t.id]=t,t.scope_obj&&(t.scope_obj.scope[t.org_id]=t),o.q.idCache[t.uuid]=t,o.q.idToUUID[t.id]=t.uuid,t._bCompleted=!0}catch(e){u.Y.printStackTrace(e)}},Publisher:function(e){this._init(e)}};j.Publisher.prototype._init=function(e){try{j._initCommon(e,this),this.channelId=e.channelId,!0===this._bCompleted&&j._addPublisher(this.channelId,this.id)}catch(e){u.Y.printStackTrace(e)}},j.Publisher.prototype.postMessage=function(e){if("string"==typeof e)try{for(var t=j.getSubscribers(this.channelId),r=0;r<t.length;r++){var i=t[r],a=i.handler,n="";i.scope_obj&&(n=i.scope_obj.id),f.Z.getGlobalFunction(a,n).call(i,e,this)}}catch(e){u.Y.printStackTrace(e)}},j.Subscriber=function(e){this._init(e)},j.Subscriber.prototype._init=function(e){try{j._initCommon(e,this),this.channelId=e.channelId,this.handler=e.handler,this.src=e.url,!0===this._bCompleted&&j._addSubscriber(this.channelId,this.id)}catch(e){u.Y.printStackTrace(e)}},j.Subscriber.prototype.subscribe=function(e){j._addSubscriber(e,this.id)},j.Subscriber.prototype.unsubscribe=function(e){j._removeSubscriber(e,this.id)};var B=function(){};B.prototype.parse=async function(e,t,r,i){try{!0!==i&&this.parseConfig(e),this.parseCSS(e,t,r),await this.parseUDC2(e,r),r||(this.parseBuildDate(e),this.parseTitle(e)),!0!==i&&this.parseMeta(e),this.parseModels(e,r);var a=await this.parseScript(e,r);return null!=r?this.parseDataCollections(e,r):this.parseDataCollections(e),this.parseMessageBroker(e,r),a}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseUDC2Sync=function(e,t,r){try{this.parseCSS(e,t,r),this.parseModels(e,r);var i=this.parseScript(e,r);return null!=r?this.parseDataCollections(e,r):this.parseDataCollections(e),this.parseMessageBroker(e,r),i}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseDataCollection=function(e,t,r){try{var i={id:WebSquare.jsonUtil.getAttribute(e,"id"),elementType:"JSON",type:t,option:{}},a=WebSquare.jsonUtil.getAttributesObject(e);for(var n in a)a.hasOwnProperty(n)&&(i.option[n]=a[n]);var o="";switch(t){case"dataList":o="column";break;case"dataMap":o="key"}if("dataList"===t||"dataMap"===t){i[o+"Info"]=[];for(var s=WebSquare.jsonUtil.getNodesByTagName(e,o+"Info",WebSquare.core._XML_NAMESPACE.W2),l=0;l<s.length;l++)for(var c=s[l],d=WebSquare.jsonUtil.getNodesByTagName(c,o,WebSquare.core._XML_NAMESPACE.W2),p=0;p<d.length;p++){var h=d[p];i[o+"Info"].push(this.parseDataCollectionInfo(h))}var f=WebSquare.jsonUtil.getNodesByTagName(e,"data",WebSquare.core._XML_NAMESPACE.W2);for(l=0;l<f.length;l++){var g=f[l];if(WebSquare.util.getBoolean(WebSquare.jsonUtil.getAttribute(g,"use"))){if("dataList"===t){w=[];var m=WebSquare.jsonUtil.getNodesByTagName(g,"row",WebSquare.core._XML_NAMESPACE.W2);for(p=0;p<m.length;p++){for(var b=m[p],y={},S=WebSquare.jsonUtil.getChildNodes(b),v=0;v<S.length;v++)null==S[v].E?y[S[v].N]="":y[S[v].N]=null!=S[v].E[0].cdata?S[v].E[0].cdata:S[v].E[0].text.wq_trim();w.push(y)}}else{var w={};for(S=WebSquare.jsonUtil.getChildNodes(g),v=0;v<S.length;v++)null==S[v].E?w[S[v].N]="":w[S[v].N]=null!=S[v].E[0].cdata?S[v].E[0].cdata:S[v].E[0].text.wq_trim()}i.option.useData=!0,i.data=w}}}else if("linkedDataList"===t){var C=WebSquare.jsonUtil.getNodesByTagName(e,"condition",WebSquare.core._XML_NAMESPACE.W2);for(l=0;l<C.length;l++){c=C[l];var q=WebSquare.jsonUtil.getAttribute(c,"type"),W=WebSquare.jsonUtil.getChildNodes(c);if(W.length>0){var _="string"==typeof W[0].cdata?W[0].cdata.wq_trim():"";_&&"filter"===q?i.option.filterCondition=_:_&&"sort"===q&&(i.option.sortCondition=_)}}}i&&i.option&&(i.option.xmlEvents=WebSquare.Parser.parseEvent(e)),
new WebSquare.DataCollection[t](null,null,i,t,r)}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseDataCollectionInfo=function(e){try{var t={},r=WebSquare.jsonUtil.getAttributesObject(e);for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);return t}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseMeta=function(e){var t=["meta","Meta","META"],r=document.getElementsByTagName("head")[0],i=r.getElementsByTagName("meta"),a=[],n=WebSquare.jsonUtil.getNodesByTagName(e,"screen",WebSquare.core._XML_NAMESPACE.W2);if(n&&n.length>0){var o=document.createElement("meta");o.name="viewport",o.content="width=device-width initial-scale=1.0",r.appendChild(o)}for(var s=[],l=0;l<t.length;l++){(u=WebSquare.jsonUtil.getNodesByTagName(e,t[l],WebSquare.core._XML_NAMESPACE.XHTML))&&u.length>0&&s.push(u)}if(0!==s.length){for(l=0;l<i.length;l++){((h=i[l].getAttribute("http-equiv"))||(h=i[l].getAttribute("name")))&&a.push(h)}for(l=0;l<s.length;l++){var u;if(null!=(u=s[l]))for(var c=0;c<u.length;c++){for(var d=WebSquare.jsonUtil.getAttributes(u[c]),p=0;p<d.length;p++){var h;if("http-equiv"===d[p])h=WebSquare.jsonUtil.getAttribute(u[c],d[p]);else{if("name"!==d[p])continue;h=WebSquare.jsonUtil.getAttribute(u[c],d[p])}for(var f=0;f<a.length;f++)if(a[f]===h){for(var g=0;g<i.length;g++)if(i[g].getAttribute("http-equiv")==h||i[g].getAttribute("name")==h){r.removeChild(i[g]);break}break}break}for(var m=document.createElement("meta"),b=0;b<d.length;b++)m.setAttribute(d[b],WebSquare.jsonUtil.getAttribute(u[c],d[b]));r.appendChild(m)}}}},B.prototype.parsePageInheritBefore=function(e,t,r){try{this.preParse(e),this.parseMeta(e),this.parseModels(e,r),null!=r?this.parseDataCollections(e,r):this.parseDataCollections(e)}catch(e){u.Y.printStackTrace(e)}},B.prototype.parsePageInheritAfter=async function(e,t,r){try{return this.parseCSS(e,t,r,WebSquare.WebSquaredoc.cssList[0]),await this.parseScript(e,r,!0)}catch(e){u.Y.printStackTrace(e)}},B.prototype.preParse=function(e,t){try{if(WebSquare.core.browserCheck.ieAllVersion&&WebSquare.BootLoader.useActiveXObject){var r=WebSquare.core.getNamespaces(e),i="";for(var a in r)""!=a&&(i+="xmlns:"+a+'="'+r[a]+'" ');e.setProperty("SelectionLanguage","XPath"),e.setProperty("SelectionNamespaces",i)}!1!==t&&this.parseConfig(e)}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseCSS=function(e,t,r,i){try{var a=WebSquare.core.getConfiguration("/WebSquare/stylesheet/@value");if("false"!=WebSquare.core.getConfiguration("/WebSquare/stylesheet/@enable")&&!t&&!r&&!WebSquare.styleSheetEarlyImport){null!=a&&""!=a||(a="link"==WebSquare.core.getConfiguration("/WebSquare/stylesheet/@import")?"stylesheet_ext.css":"stylesheet.css");var n=WebSquare.BootLoader.inquiresPath("skin/");WebSquare.skin.addImport(WebSquare.baseThemeURI+n+a),WebSquare.cssManager.executeImport()}this.importCSS(e,r);var o="";if(r&&r.options.cssFunction&&!r.options.strictFrame&&(o=WebSquare.util.getGlobalFunction(r.options.cssFunction,r.id)),r&&!r.options.strictFrame){if("function"==typeof o){for(var s=[],l=0;l<WebSquare.cssManager.externalCSSLink.length;l++)s.push(WebSquare.cssManager.externalCSSLink[l].href);if(!0===o(r.id,s)){for(l=0;l<s.length;l++)for(var c in WebSquare.skin.skinTag)if(WebSquare.util._getAbsolutePath(s[l])==WebSquare.skin.skinTag[c]){WebSquare.skin.skinTag.splice(c,1);break}WebSquare.cssManager.externalCSSLink=[]}}r.frameDoc.cssList=r.frameDoc.cssList.concat(WebSquare.cssManager.executeImport(i))}else WebSquare.WebSquaredoc.cssList=WebSquare.WebSquaredoc.cssList.concat(WebSquare.cssManager.executeImport(i))}catch(e){u.Y.printStackTrace(e)}},B.prototype.importCSS=function(e,t){try{for(var r=WebSquare.jsonUtil.getNodesByTagName(e,"style",WebSquare.core._XML_NAMESPACE.XHTML),i="",a=0;a<r.length;a++){var n=r[a];if(WebSquare.jsonUtil.matchType(n,WebSquare.Elem.type.element))for(var o=WebSquare.jsonUtil.getChildNodes(n),s=0;s<o.length;s++){var l=o[s]
;(WebSquare.jsonUtil.matchType(l,WebSquare.Elem.type.text)||WebSquare.jsonUtil.matchType(l,WebSquare.Elem.type.cdata))&&(i+=l.text||l.cdata)}}""!=i.wq_trim()&&WebSquare.cssManager.addInternalCSS(i);for(o=WebSquare.jsonUtil.getChildNodes(e),a=0;a<o.length;a++){n=o[a];if(WebSquare.jsonUtil.matchType(n,WebSquare.Elem.type.instruction)&&"xml-stylesheet"===n.N){var c=n.instruction.wq_replaceAll("=","").split('"');c.pop();var d={};for(s=0;s<c.length;s+=2)d[c[s].wq_trim()]=c[s+1];if(d.href){var p={frameObj:t,msaName:d.msaName},h=WebSquare.core._getMsaSrc(d.href,p);d.href=WebSquare.util.getAbsolutePath(h)}null==d.type&&(d.type="text/css"),null==d.rel&&(d.rel="stylesheet"),WebSquare.skin.addImport(d,!0,{scopeObj:t})}}}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseConfig=function(e){try{var t=WebSquare.Elem.api.getElementsByTagName(e,"config",WebSquare.core._XML_NAMESPACE.W2);1===t.length&&WebSquare.WebSquaredoc.mergeConfig(t[0])}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseBuildDate=function(e){try{var t=WebSquare.jsonUtil.getNodesByTagName(e,"buildDate",WebSquare.core._XML_NAMESPACE.W2);if(1===t.length){var r=WebSquare.jsonUtil.getChildNodes(t[0]);r.length>0&&(WebSquare.buildDate=r[0].text)}else WebSquare.buildDate="N/A"}catch(e){WebSquare.buildDate="N/A",u.Y.printStackTrace(e)}},B.prototype.parseTitle=function(e){try{var t=WebSquare.jsonUtil.getNodesByTagName(e,"title",WebSquare.core._XML_NAMESPACE.XHTML);if(1===t.length){var r=WebSquare.jsonUtil.getChildNodes(t[0]);WebSquare.docTitle=document.title=r[0].text}}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseModels=function(e,t){try{for(var r=WebSquare.jsonUtil.getNodesByTagName(e,"model",WebSquare.core._XML_NAMESPACE.XFORMS),i=0;i<r.length;++i)if(t){if(t.frameDoc&&!t.options.strictFrame)t.frameDoc.models.push(this.parseModel(r[i],t));else if(!0===t.options.strictFrame){var a=this.parseModel(r[i],t),n=WebSquare.WebSquaredoc.models[i];if(n instanceof WebSquare.Model){for(i=0;i<a.binds.length;i++)n.binds.push(a.binds[i]);for(i=0;i<a.submissions.length;i++)n.submissions.push(a.submissions[i]);for(i=0;i<a.workflows.length;i++)n.workflows.push(a.workflows[i]);if(a.instances.length>0)if(n.instances.length>0)for(i=0;i<a.instances.length;i++)for(var o=a.instances[i].document,s=n.instances[0].document.childNodes,l=0;l<s.length;l++)o.appendChild(s[l].cloneNode(!0));else n.instances=a.instances.slice(0)}else WebSquare.WebSquaredoc.models[i]=a}}else WebSquare.WebSquaredoc.models.push(this.parseModel(r[i]))}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseDataCollections=function(e,t){var r=WebSquare.jsonUtil.getNodesByTagName(e,"dataCollection",WebSquare.core._XML_NAMESPACE.W2)[0];if(r){this.parseDataCollectionAttribute(r);for(var i=t?t.uuid:null,a=WebSquare.jsonUtil.getChildNodes(r),n=0;n<a.length;n++){var o=a[n];o.T==WebSquare.Elem.type.element&&this.parseDataCollection(o,WebSquare.jsonUtil.dropNS(o.N),i)}}},B.prototype.parseModel=function(e,t){try{var r=this.parseInstances(e),i=this.parseBinds(e),a=this.parseSubmissions(e,t),n=this.parseWorkflows(e,t);return new WebSquare.Model(e,r,i,a,n)}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseDataCollectionAttribute=function(e){try{if(WebSquare.DataCollection.options.useConfig){var t=WebSquare.core.getConfig("dataCollection");WebSquare.DataCollection.options=o.q.extendKeepingType(WebSquare.DataCollection.options,t)}var r=WebSquare.jsonUtil.getAttributesObject(e);for(var i in r)r.hasOwnProperty(i)&&(WebSquare.nodeValueDeprecated,WebSquare.DataCollection.api.setOption(i,r[i]))}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseInstances=function(e){try{for(var t=WebSquare.Elem.api.getElementsByTagName(e,"instance",WebSquare.core._XML_NAMESPACE.XFORMS),r=[],i=0;i<t.length;i++)r.push(this.parseInstance(t[i]._element._xml));return r}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseInstance=function(e){try{return WebSquare.Parser.WebSquareParser.prototype.parseInstance.call(this,e)}catch(e){u.Y.printStackTrace(e)}},
B.prototype.parseBinds=function(e){try{for(var t=WebSquare.Elem.api.getElementsByTagName(e,"bind",WebSquare.core._XML_NAMESPACE.XFORMS),r=[],i=0;i<t.length;++i)r.push(this.parseBind(t[i]));return r}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseBind=function(e){try{return new WebSquare.Model.Bind(e,"nodeset",e.getAttribute("nodeset"),null,e.getAttribute("id"))}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseSubmissions=function(e,t){try{for(var r=WebSquare.Elem.api.getElementsByTagName(e,"submission",WebSquare.core._XML_NAMESPACE.XFORMS),i=[],a=0;a<r.length;a++)i.push(this.parseSubmission(r[a],e,t));return i}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseSubmission=function(e,t,r){try{var i=WebSquare.WebSquareparser.getAttribute(e,"id"),a=WebSquare.WebSquareparser.getAttribute(e,"method","")||WebSquare.core.getConfiguration("/WebSquare/submission/method/@value")||"POST",n=WebSquare.WebSquareparser.getAttribute(e,"action","")||WebSquare.core.getConfiguration("/WebSquare/submission/action/@value"),o=WebSquare.WebSquareparser.getAttribute(e,"mode","")||WebSquare.core.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous",s=WebSquare.WebSquareparser.getAttribute(e,"mediatype","")||WebSquare.core.getConfiguration("/WebSquare/submission/mediatype/@value"),l=WebSquare.WebSquareparser.getAttribute(e,"encoding","")||WebSquare.core.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8",c=WebSquare.WebSquareparser.getAttribute(e,"ref"),d=WebSquare.WebSquareparser.getAttribute(e,"target"),p=WebSquare.WebSquareparser.getAttribute(e,"replace"),h=WebSquare.WebSquareparser.getAttribute(e,"instance"),f=WebSquare.WebSquareparser.getAttribute(e,"preSubmitFunction","")||WebSquare.core.getConfiguration("/WebSquare/submission/preSubmitFunction/@value")||"",g=WebSquare.WebSquareparser.getAttribute(e,"customHandler"),m=WebSquare.WebSquareparser.getAttribute(e,"errorHandler");""==m&&(m=WebSquare.core.getConfiguration("/WebSquare/submission/errorHandler/@value"));var b=WebSquare.WebSquareparser.getAttribute(e,"processMsg","");""==b&&(b=WebSquare.core.getConfiguration("/WebSquare/submission/processMsg/@value"));var y="true"===this.getAttribute(e,"abortTrigger")||"false"!==this.getAttribute(e,"abortTrigger")&&"true"===WebSquare.core.getConfiguration("/WebSquare/submission/abortTrigger/@value"),S=WebSquare.WebSquareparser.getAttribute(e,"soapaction",""),v="true"===WebSquare.WebSquareparser.getAttribute(e,"useModal");""==s&&("post"!=a&&"POST"!=a||(s="application/xml"));var w=WebSquare.Parser.parseEvent(e,r)||[],C=this.getAttribute(e,"timeout","")||WebSquare.core.getConfiguration("/WebSquare/submission/timeout/@value"),q=this.getAttribute(e,"singleMode")||!1,W="false"!==this.getAttribute(e,"hideProcessMsg")&&("true"===this.getAttribute(e,"hideProcessMsg")||"false"!==WebSquare.core.getConfiguration("/WebSquare/submission/hideProcessMsg/@value")),_="true"===this.getAttribute(e,"withCredentials"),x=WebSquare.WebSquareparser.getAttribute(e,"webtopRef",""),I=WebSquare.WebSquareparser.getAttribute(e,"userData1",""),T=WebSquare.WebSquareparser.getAttribute(e,"userData2",""),k=i,L=null,A="";r&&r.options&&r.options.scope&&(i=(A=r.id+"_")+k,L=r.id);var E=WebSquare.WebSquareparser.getAttribute(e,"ev:submit"),D=WebSquare.WebSquareparser.getAttribute(e,"ev:submitdone"),M=WebSquare.WebSquareparser.getAttribute(e,"ev:submiterror"),N=WebSquare.WebSquareparser.getAttribute(e,"ev:submittimeout"),R={};E&&(w.push(new WebSquare.Events.XmlEvent("xforms-submit","script",{handler:A+E})),R.submitHandler=E),D&&(w.push(new WebSquare.Events.XmlEvent("xforms-submit-done","script",{handler:A+D})),R.submitDoneHandler=D),M&&(w.push(new WebSquare.Events.XmlEvent("xforms-submit-error","script",{handler:A+M})),R.submitErrorHandler=M),N&&(w.push(new WebSquare.Events.XmlEvent("xforms-submit-timeout","script",{handler:A+N})),R.submitTimeoutHandler=N),R.parentElement=t,R.element=e,R.id=i,R.org_id=k,R.method=a,R.action=n,R.mode=o,R.bind=null,R.mediatype=s,
R.encoding=l,R.ref=c,R.target=d,R.replace=p,R.instance=h,R.customHandler=g,R.errorHandler=m,R.soapaction=S,R.processMsg=b,R.xmlEvents=w,R.timeout=C,R.singleMode=q,R.hideProcessMsg=W,R.abortTrigger=y,R.preSubmitFunction=f,R.scope_id=L,R.withCredentials=_,R.useModal=v,R.webtopRef=x,R.userData1=I,R.userData2=T,R.msaName=WebSquare.WebSquareparser.getAttribute(e,"msaName");var O=new WebSquare.Model.Submission(R);return r&&r.options&&r.options.scope&&(r.scope[k]=O),WebSquare.core.useSubmissionGlobal&&(window[O.id]=O),O}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseScript=async function(e,t,r,i){try{var a=[];if(!i)if(t?t.options&&t.options.strictFrame?WebSquare.scriptSection="":t.frameDoc&&(t.frameDoc.scriptSection=""):WebSquare.scriptSection="",t){if(t.options&&t.options.initScript){var n=t.options.initScript.toString();t.options.strictFrame?WebSquare.scriptSection+=n:"executed"===WebSquare.scriptSectionExcuteFlag&&(t.frameDoc.scriptSection+=n)}}else"true"==WebSquare.core.getConfiguration("/WebSquare/initScript/@value")&&WebSquare.w2xPath!==WebSquare.net.getBlankXML()&&(WebSquare.scriptSection+=WebSquare.core.getConfiguration("/WebSquare/initScript"));var o=t&&t.options.src?t.getSrc():WebSquare.w2xPath,s=WebSquare.jsonUtil.getNodesByTagName(e,"head",WebSquare.core._XML_NAMESPACE.XHTML);if(1!==s.length)return alert(WebSquare.language.getMessage("E_Parser_MoreThanOneHeadError",s.length)),!1;for(var l=s[0],c=(t&&t._isUDC2,0);c<l.E.length;c++){var d=l.E[c];if(WebSquare.jsonUtil.matchTagName(d,"script",WebSquare.core._XML_NAMESPACE.XHTML)){var p=WebSquare.jsonUtil.getAttribute(d,"src"),h=WebSquare.util.getBoolean(WebSquare.jsonUtil.getAttribute(d,"scopeExternal"))||t&&t.options.scopeExternal,f=WebSquare.jsonUtil.getAttribute(d,"scopeVariable")||"";if(null!=p&&""!=p){var g=WebSquare.jsonUtil.getAttribute(d,"cache"),m=WebSquare.jsonUtil.getAttribute(d,"defer"),b=WebSquare.jsonUtil.getAttribute(d,"msaName"),y=WebSquare.jsonUtil.getAttribute(d,"wpack"),S=WebSquare.Parser.parseExternalScript({uri:p,cache:g,lazy:m,frameObj:t,pageInherit:r,scopeExternal:h,scopeVariable:f,msaName:b,wpack:y});S instanceof window.Promise&&a.push(S)}else{if(i)continue;var v=WebSquare.jsonUtil.getAttribute(d,"loadAt"),w=-1;if("string"==typeof v&&""!=v)switch(v=v.wq_trim().toUpperCase()){case"WEBSQUARE_START":case"START":w=1;break;case"ENGINE_LOAD":case"ENGINE":w=2;break;case"RESOURCE_LOAD":case"RESOURCE":w=3;break;case"CREATE_COMPONENT":case"CREATE":w=4;break;case"RENDER_DOM":case"RENDER":w=5;break;case"ADJUST_COMPONENT":case"ADJUST":w=6;break;case"BIND_EVENT":case"EVENT":w=7;break;default:w=8}if(w=!0===WebSquare._async?4:3,"executed"===WebSquare.scriptSectionExcuteFlag){var C=WebSquare.core.scriptPrecedence;if(WebSquare.core.scriptPrecedence=WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/scriptPrecedence/@value")),C!==WebSquare.core.scriptPrecedence){var q=t&&t.options?t.getSrc():WebSquare.w2xPath;WebSquare.logger.printLog('parser : "scriptPrecedence" turned on. ['+q+"]")}}for(var W=w>2&&w<8,_=WebSquare.jsonUtil.getChildNodes(d),x=0;x<_.length;x++){if((T=_[x]).T===WebSquare.Elem.type.text||T.T===WebSquare.Elem.type.cdata){var I=T.text||T.cdata;t?(t.options&&t.options.initScript&&"executed"!==WebSquare.scriptSectionExcuteFlag&&!t.options.strictFrame&&(W?t.frameDoc.scriptSection+=t.options.initScript:I=t.options.initScript+I),!0!==WebSquare.core.scriptPrecedence&&t.options&&t.options.postScript&&!W&&!t.options.strictFrame&&(I+=t.options.postScript),I=t.options&&t.options.scope?WebSquare.util.scopingFuncBody(I,t.id,!0):WebSquare.util.scopingFuncBody(I,null,!0),W?(null==WebSquare.executePointScriptArr[w]&&(WebSquare.executePointScriptArr[w]=[]),WebSquare.executePointScriptArr[w].push({script:I,path:o,scope:t&&t.id}),!0===WebSquare.core.scriptPrecedence||t.options.strictFrame||(t.frameDoc.scriptSection+=t.options.postScript)):t.options&&t.options.strictFrame?WebSquare.scriptSection+=I:(t.frameDoc.scriptSection+=I,
t._scriptLazy=!0)):(I=WebSquare.util.scopingFuncBody(I,null,!0),w>2&&w<8?(null==WebSquare.executePointScriptArr[w]&&(WebSquare.executePointScriptArr[w]=[]),WebSquare.executePointScriptArr[w].push({script:I,path:o,scope:t&&t.id})):WebSquare.scriptSection+=I)}}}}else if(t&&t.scope&&WebSquare.jsonUtil.matchTagName(d,"env",WebSquare.core._XML_NAMESPACE.W2))for(_=WebSquare.jsonUtil.getChildNodes(d),x=0;x<_.length;x++){var T;if((T=_[x]).T===WebSquare.Elem.type.text||T.T===WebSquare.Elem.type.cdata){"string"==typeof(I=T.text||T.cdata)&&(I=JSON.parse(I));var k=WebSquare.jsonUtil.getAttribute(d,"variable")||"env";for(var L in t.scope)t.scope[L][k]=I}}else if(t&&t.scope&&WebSquare.jsonUtil.matchTagName(d,"common",WebSquare.core._XML_NAMESPACE.W2)){var A=WebSquare.jsonUtil.getAttribute(d,"src"),E=WebSquare.jsonUtil.getAttribute(d,"id");t._addPageCommon(A,E)}}i||WebSquare.core.executePointScript(3);var D=t?t.uuid:"";await Promise.allSettled(a).then((function(e){for(var t=0;t<e.length;t++)if("fulfilled"===e[t].status){var r=e[t].value;if(r){var i=WebSquare.idCache[D];WebSquare.Parser._parseExternalScriptAfter(r,i)}}})).catch((function(e){console.error(e)}))}catch(e){u.Y.printStackTrace(e)}return!0},B.prototype.findBindElement=function(e){try{return null==e.attributes?null:null!=e.attributes.getNamedItem("bind")?WebSquare.ModelUtil.getBind(e.attributes.getNamedItem("bind").value):null}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseLabel=function(e){var t=WebSquare.Elem.api.getElementsByTagName(e,"label",WebSquare.core._XML_NAMESPACE.XFORMS);if(null==t[0])return null;for(var r=t[0].getChildNodes(0),i="",a=0;a<r.length;a++)if(3===r[a].nodeType||4===r[a].nodeType){i=r[a].getNodeValue();break}return{value:i}},B.prototype.parseChoices=function(e,t){var r=[];if(t=t||"xf",e){var i="xf"==(t=e.getNamespace())?WebSquare.core._XML_NAMESPACE.XFORMS:WebSquare.core._XML_NAMESPACE.W2,a=WebSquare.Elem.api.getElementsByTagName(e,"choices",i)[0];if(a){var n=WebSquare.Elem.api.getElementsByTagName(a,"item",i);if(n)for(var o=0;o<n.length;++o){var s=n[o],l="",u=WebSquare.Elem.api.getElementsByTagName(s,"label",i)[0];u&&(l=WebSquare.Elem.api.getValue(u,"@ref")||WebSquare.Elem.api.getCDataNodeValue(u)||WebSquare.Elem.api.getTextNodeValue(u));var c="",d=WebSquare.Elem.api.getElementsByTagName(s,"value",i)[0];d&&(c=WebSquare.Elem.api.getValue(d,"@ref")||WebSquare.Elem.api.getCDataNodeValue(d)||WebSquare.Elem.api.getTextNodeValue(d)),r.push({label:l,value:c})}}}return r},B.prototype.parseItemset=function(e,t){var r={nodeset:"",label:"",value:""};try{if(e){t=t||"xf";try{var i=e.getTagName();i.indexOf(":")>=0&&(t=i.split(":")[0])}catch(e){u.Y.printStackTrace(e)}var a,n="xf"==t?WebSquare.core._XML_NAMESPACE.XFORMS:WebSquare.core._XML_NAMESPACE.W2,o=WebSquare.Elem.api.getElementsByTagName(e,"choices",n)[0];if(o){if(a=WebSquare.Elem.api.getElementsByTagName(o,"itemset",n)[0]){var s=WebSquare.Elem.api.getValue(a,"@nodeset"),l=WebSquare.Elem.api.getElementsByTagName(a,"label",n)[0],c=WebSquare.Elem.api.getElementsByTagName(a,"value",n)[0],d=WebSquare.Elem.api.getValue(l,"@ref"),p=WebSquare.Elem.api.getValue(c,"@ref");r.nodeset=s,r.label=d,r.value=p}}else if(a=WebSquare.Elem.api.getElementsByTagName(e,"itemset",n)[0]){s=WebSquare.Elem.api.getValue(a,"@nodeset"),l=WebSquare.Elem.api.getElementsByTagName(a,"label",n)[0],c=WebSquare.Elem.api.getElementsByTagName(a,"value",n)[0],d=WebSquare.Elem.api.getValue(l,"@ref"),p=WebSquare.Elem.api.getValue(c,"@ref");r.nodeset=s,r.label=d,r.value=p}}}catch(e){u.Y.printStackTrace(e)}return r},B.prototype.parseAttribute=function(e){try{return WebSquare.Parser.parseAttribute(e)}catch(e){u.Y.printStackTrace(e)}},B.prototype.getAttribute=function(e,t,r){var i=e.getAttribute(t);return null==i||""==i?void 0!==r?r:"":i},B.prototype.attributesItem=function(e){this.name=e.name,this.ref=e.ref,this.value=e.value},B.prototype.attributesItem.prototype.setValue=function(e){this.value=e},B.prototype.attributesItem.prototype.getValue=function(){
return this.value},B.prototype.parseWorkflows=function(e,t){try{for(var r=WebSquare.Elem.api.getElementsByTagName(e,"workflow",WebSquare.core._XML_NAMESPACE.W2),i=[],a=0;a<r.length;a++)i.push(this.parseWorkflow(r[a],e,t));return i}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseWorkflow=function(e,t,r){try{var i=WebSquare.WebSquareparser.getAttribute(e,"id"),a=WebSquare.WebSquareparser.getAttribute(e,"resolveCallback",""),n=WebSquare.WebSquareparser.getAttribute(e,"rejectCallback",""),o=WebSquare.WebSquareparser.getAttribute(e,"processMsg","");""==o&&(o=WebSquare.core.getConfiguration("/WebSquare/workflow/processMsg/@value"));for(var s=WebSquare.Elem.api.getElementsByTagName(e,"step",WebSquare.core._XML_NAMESPACE.W2),l=[],c=0;c<s.length;c++){var d=s[c],p=WebSquare.Parser.parseAttribute(d);l.push(p)}var h=i,f=null;r&&r.options&&r.options.scope&&(i=r.id+"_"+h,f=r.id);var g=new WebSquare.Model.Workflow(t,e,i,a,n,o,l,f);return r&&r.options&&r.options.scope&&(r.scope[h]=g),WebSquare.core.useWorkflowGlobal&&(window[g.id]=g),g}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseUDC2=async function(e,t){try{for(var r=WebSquare.Elem.api.getElementsByTagName(e,"head")[0],i=WebSquare.Elem.api.getElementsByTagName(r,"require",WebSquare.core._XML_NAMESPACE.W2),a=0;a<i.length;a++){var n=i[a],o=n.getAttribute("as")||n.getAttribute("componentName");if(o&&"page"===n.getAttribute("type")&&null==WebSquare.core.udcObj[o]){var s=n.getAttribute("src"),l={msaName:n.getAttribute("msaName"),frameObj:t},c=WebSquare.core._getMsaSrc(s,l);c=WebSquare.core.getPageURL(c,{skipURL:!0,skipUri:!0}),WebSquare.core.udcObj[o]=await WebSquare.jsLoader._loadObj(c,l),WebSquare.core.udcMsa[o]=l.msaName}}}catch(e){u.Y.printStackTrace(e)}},B.prototype.parseMessageBroker=function(e,t){try{var r=WebSquare.jsonUtil.getNodesByTagName(e,"messageBroker",WebSquare.core._XML_NAMESPACE.W2)[0];if(r||(r=WebSquare.jsonUtil.getNodesByTagName(e,"MSA",WebSquare.core._XML_NAMESPACE.W2)[0]),!r||!r.E)return;j.add(r,t)}catch(e){u.Y.printStackTrace(e)}};var U=function(e){try{this.data=e,this.data._initParent=!1,this.models=[],this.cssList=[],this.idCollisionList={},this.type="json",this.boundElement=[],this.refElement=[],this.instanceRefElement=[],this.itemsetElement=[],this.boundElementCache={}}catch(e){u.Y.printStackTrace(e)}};U.prototype.parsing=function(e){try{if(null==WebSquare.WebSquareParser&&(WebSquare.WebSquareparser=new WebSquare.jsonParser),!WebSquare.WebSquareparser.parse(this.data,e,WebSquare.strictModeFrame))return!1;if(this.parsingUDC(e,WebSquare.strictModeFrame),e?(WebSquare.BootLoader.performanceCheck.mid2=new Date,WebSquare.BootLoader.printLog("[SPA3][RESOURCE] New resource(XML, Skin, CSS) Load Complete. Time:"+(WebSquare.BootLoader.performanceCheck.mid2.getTime()-WebSquare.BootLoader.performanceCheck.mid1.getTime())+"ms")):(WebSquare.BootLoader.performanceCheck.mid2=new Date,WebSquare.BootLoader.printLog("[STEP3][RESOURCE] Resource(XML, Skin, CSS) Load Complete. Time:"+(WebSquare.BootLoader.performanceCheck.mid2.getTime()-WebSquare.BootLoader.performanceCheck.mid1.getTime())+"ms")),WebSquare.util._stopProcess(e))return;return!!this.renderBody(e)}catch(e){u.Y.printStackTrace(e)}},U.prototype.renderBody=function(e){var t=this.data.html.body;if(t.length>1)return alert(WebSquare.language.getMessage("E_pageInfo_MoreThanOneBodyError",t.length)),!1;var r=t["-style"];null!=r&&(this.bodyStyle=r),this.body=t,(new WebSquare.controlManager).run2(t,e)},U.prototype.parsingWFrame=async function(e,t,r,i){try{null==WebSquare.WebSquareParser&&(WebSquare.WebSquareparser=new WebSquare.jsonParser);var a=WebSquare.WebSquareparser.parse(this.data,e,t,i);return!0===r&&(WebSquare.controlFactory._awaitObj.promiseObj[t.id]=a,WebSquare.controlFactory._awaitObj.key.push(t.id)),a}catch(e){u.Y.printStackTrace(e)}},U.prototype.parsingUDC2Sync=function(e,t){try{return null==WebSquare.WebSquareParser&&(WebSquare.WebSquareparser=new WebSquare.jsonParser),
WebSquare.WebSquareparser.parseUDC2Sync(this.data,e,t)}catch(e){u.Y.printStackTrace(e)}},U.prototype.parsingPageInheritBefore=async function(e,t){try{null==WebSquare.WebSquareParser&&(WebSquare.WebSquareparser=new WebSquare.jsonParser),WebSquare.WebSquareparser.parsePageInheritBefore(this.data,e,t),await this.parsingUDC(e,t)}catch(e){u.Y.printStackTrace(e)}},U.prototype.parsingPageInheritAfter=async function(e,t){try{return null==WebSquare.WebSquareParser&&(WebSquare.WebSquareparser=new WebSquare.jsonParser),await WebSquare.WebSquareparser.parsePageInheritAfter(this.data,e,t)}catch(e){u.Y.printStackTrace(e)}},U.prototype.parsingUDC=async function(e,t){try{for(var r=WebSquare.Elem.api.getElementsByTagName(this.data,"head")[0],i=WebSquare.Elem.api.getElementsByTagName(r,"require",WebSquare.core._XML_NAMESPACE.W2),a=0;a<i.length;a++)if("page"!==i[a].getAttribute("type")){var n=i[a].getAttribute("src"),o=WebSquare.core.getPageURL(n),s=i[a].getAttribute("id"),l=i[a].getAttribute("pluginName"),c=i[a].getAttribute("cache");n=WebSquare.core.getURL(n),await WebSquare.util.loadUserComponent(o,s,l,t,c,void 0,n)}var d=WebSquare.Elem.api.getElementsByTagName(r,"inherit",WebSquare.core._XML_NAMESPACE.W2),p=WebSquare.Elem.api.getElementsByTagName(r,"exc",WebSquare.core._XML_NAMESPACE.W2);d=d.concat(p);for(a=0;a<d.length;a++){o=WebSquare.core.getPageURL(d[a].getAttribute("src"));await WebSquare.util.loadInheritComponent(o)}}catch(e){u.Y.printStackTrace(e)}},U.prototype.getPageInfo=function(){try{return this.data}catch(e){u.Y.printStackTrace(e)}},U.prototype.getType=function(){try{return this.type}catch(e){u.Y.printStackTrace(e)}},U.prototype.unrender=function(e,t,r){try{for(var i=0;i<this.boundElement.length;i++){var a=this.boundElement[i];a&&void 0!==a.filteredNodeset&&void 0!==a.instance&&(0==a.filteredNodeset.indexOf(e)&&a.instance.id==r&&(void 0!==t&&null!=t&&t==a.id||(WebSquare.util.getComponentById(a.id).hasbeenrendered=!1)))}for(var n in this.refElement){var o=this.refElement[n];o&&void 0!==o.filteredNodeset&&void 0!==o.instance&&(0==o.filteredNodeset.indexOf(e)&&o.instance.id==r&&(void 0!==t&&null!=t&&t==a.id||(WebSquare.util.getComponentById(o.id).hasbeenrendered=!1)))}for(var s in this.itemsetElement){var l=this.itemsetElement[s];if(void 0!==l.filteredNodeset)if((0==e.indexOf(l.filteredNodeset)||0==l.filteredNodeset.indexOf(e))&&-1==l.filteredNodeset.substr(e.length).search(/^\w/)&&l.instance.id==r)if(l.id!=t)try{WebSquare.util.getComponentById(l.id).itemsetrendered=!1}catch(e){u.Y.printStackTrace(e)}}}catch(e){u.Y.printStackTrace(e)}},U.prototype.detectChange=function(e,t,r,i){try{i=i||{};var a=WebSquare.ModelUtil.getModelByID(r),n=!(!i||!i.scope_id),o=a.instances[0].id;if(n)for(var s=0,l=a.instances.length;s<l;s++){var c=a.instances[s];if(c.scope_id===i.scope_id){o=c.id;break}}if(null!=o&&(e=WebSquare.ModelUtil.concatInstanceFunction(e,o)),void 0!==this.boundElementCache[e]&&null!=this.boundElementCache[e])for(var s in this.boundElementCache[e]){var d=s;if(d!=t){var p=WebSquare.util.getComponentById(d);p.modelControl.ref&&p.modelControl.useRef,p.refresh()}}for(var h in WebSquare.WebSquaredoc.itemsetElement){var f=WebSquare.WebSquaredoc.itemsetElement[h];if(void 0!==f.filteredNodeset&&(0==e.indexOf(f.filteredNodeset)||0==f.filteredNodeset.indexOf(e))){var g=f.id;if(g!=t){var m=WebSquare.util.getComponentById(g);m.modelControl.ref&&m.modelControl.useRef,m.refreshItemset()}}}if(!i.gridNoRefresh||i.gridNoRefresh&&1!=i.gridNoRefresh)for(var b=0;b<WebSquare.WebSquaredoc.instanceRefElement.length;b++){var y=WebSquare.WebSquaredoc.instanceRefElement[b]
;if((!y.scopeId||i.scope_id===y.scopeId)&&(void 0!==y.xpath&&i&&(y.xpath==i.xpath||("copyLastNodeChildrenNodes"==i.op||"setInstanceLastNodeChildNodes"==i.op||"removeInstanceNodeAll"==i.op)&&WebSquare.ModelUtil.isPartialMatchedXPath(y.xpath,i.xpath)||"setInstanceValue"==i.op&&i.xpath.length>y.xpath.length&&WebSquare.ModelUtil.isPartialMatchedXPath(y.xpath,i.xpath)||y.xpath==i.replacexpath&&"replace"==i.type&&"setInstanceNode"==i.op))){var S=y.id;if(S!=t){var v=WebSquare.util.getComponentById(S);"grid"==v.initializeType&&v.refreshGrid(i)}}}}catch(e){u.Y.printStackTrace(e)}},U.prototype.mergeConfig=function(e){try{var t=WebSquare.Elem.api.getElementsByTagName(e,"WebSquare")[0];if(!t)return;for(var r={},i=[t._element],a=[r];i.length>0;){var n,o=i.shift(),s=a.shift(),l=o.N;if(l)if(s[l]){if(s[l].constructor===Array)s[l].push({});else{var c=s[l];s[l]=[c],s[l].push({})}n=s[l][s[l].length-1]}else s[l]={},n=s[l];if(o.A&&n)for(var d in o.A)n["@"+d]=o.A[d];for(var p=0;o.E&&p<o.E.length;p++)i.push(o.E[p]),a.push(n||s)}WebSquare.BootLoader.mergeJSON(WebSquare.BootLoader.configurationJSON[0],r),WebSquare.BootLoader.initJSONConfig()}catch(e){u.Y.printStackTrace(e)}},U.prototype.initParent=function(){try{if(!1===this.data._initParent){this.data._initParent=!0;for(var e=[this.data];e.length>0;)for(var t=e.pop(),r=0;t.E&&r<t.E.length;r++)t.E[r].parent=t,e.push(t.E[r])}}catch(e){u.Y.printStackTrace(e)}};var V=__webpack_require__(4885),H={loadWPackModule:function(e,t){return new Function("return "+e.replace("export default",""))(t)},getPageType:function(e){try{var t=e.slice(e.lastIndexOf(".")),r="js";return".xml"===t&&(r=!0===o.q.convertPageXML?"xmljs":"xml"),r}catch(e){u.Y.printStackTrace(e)}},getPageTypeByString:function(e){try{return"/"===e.charAt(0)&&"*"===e.charAt(1)||e.indexOf("export default")>=0?"json":"xml"}catch(e){u.Y.printStackTrace(e)}},getPageInfo:function(e){try{return new U(e)}catch(e){u.Y.printStackTrace(e)}},getUri:function(e,t){try{if("string"!=typeof e)return e;e=l.I._getContextRootUri(e);var r=l.I.getConfiguration("/WebSquare/wpack/urlFunction/@value");if(r){var i=f.Z.getGlobalFunction(r);if("function"==typeof i)return i(e)}if(void 0!==t&&null!=t||(t={}),e.slice(0,o.q._resourceURI.length)===o.q._resourceURI&&-1===e.slice(o.q._resourceURI.length).indexOf("../")){var a=e.lastIndexOf(".xml");return a>=0&&!0===t.parse&&(e=e.slice(0,a)+e.slice(a).replace(".xml",".js")),e}var n=e,s=l.I.getConfiguration("/WebSquare/wpack/contextRoot/@value");(!s||o.q._contextRoot&&"/"===s)&&(s=o.q._contextRoot||"/");var c=n.indexOf("://");if("/"!==n.charAt(0)&&-1===c){n=f.Z.getAbsolutePath(n);var d="/"===s.charAt(0)?"":"/";s=location.origin+d+s}"/"===s.charAt(s.length-1)&&(s=s.slice(0,s.length-1));var p,h,g=!1;if(t.msaName)(b=l.I._msaServerHash[t.msaName])&&(s=b.origin+(b.contextRoot||s),h=b.origin);else if(c>=0)for(var m in l.I._msaServerHash){var b;if(b=l.I._msaServerHash[m]){var y=b.origin;if(h=h?h+","+y:y,n.startsWith(y)){s=y+(b.contextRoot||s);break}}}if(""===s&&(p=n.indexOf("w2xPath="))>=0)s="w2xPath=",g="/"!==n.charAt(p+s.length);else if((p=n.indexOf(s))<0){if((p=n.indexOf(encodeURIComponent(s)))<0)return n;g=!0}var S=l.I.getConfiguration("/WebSquare/wpack/destRoot/@value");"$blank"===S?S="":S||(S="_wpack_");var v=l.I.getConfiguration("/WebSquare/wpack/babelDestRoot/@value");"$blank"===v?v="":v||(v="_wpackbabel_");var w,C,q=l.I.getConfiguration("/WebSquare/wpack/loadingMode/@value")||"wpack";if("auto"===q&&(q=f.Z.isIEAllVersion()?"babel":"wpack"),"babel"===q&&(S=v),w=""===S?s:s+"/"+S,g?"w2xPath="===s?(w=s+encodeURIComponent("/"+S),C=s.length):(w=encodeURIComponent(w),C=encodeURIComponent(s).length):C=s.length,n.indexOf(w)>=0&&""!==w)return e;var W=n.slice(0,p)+w+n.slice(p+C),_=W.lastIndexOf(".");if(_<0)return e;var x="";if(!0!==t.skipSrcExtension){var I=l.I.getConfiguration("/WebSquare/wpack/srcExtension/@value")||"xml",T=W.indexOf("?");if(T<0){if(W.slice(_+1)!==I)return e}else{var k=W.substring(0,T);if(x="?"+W.substring(T+1),
k.slice(_+1)!==I)return e}}var L=l.I.getConfiguration("/WebSquare/wpack/destExtension/@value")||"js";return W.slice(0,_+1)+L+x}catch(t){return u.Y.printStackTrace(t),e}},load:async function(e,t){try{void 0!==t&&null!=t||(t={});var r,i=H.getUri(e,t);H.getPageType(i);i=s.Q.getResourcePostfix(i);var a=l.I.getConfiguration("/WebSquare/wpack/moduleLoader/@value")||"amd";if(!0===t.parse)switch(a){case"amd":case"requirejs":var n=f.Z.getBoolean(l.I.getConfiguration("/WebSquare/noRequireJS/@value"));r=await o.q._dynamicImportAMD(i,n);break;default:r=(await o.q._dynamicImport(i)).default}else r=await l.I.loadAsync(i,t);return r}catch(e){u.Y.printStackTrace(e)}},_loadObj:async function(e,t){try{return void 0!==t&&null!=t||(t={}),t.parse=!0,await H.load(e,t)}catch(e){u.Y.printStackTrace(e)}},start:async function(e,t){try{if(void 0!==t&&null!=t||(t={}),"string"==typeof e){if("json"!==H.getPageTypeByString(e))throw new Error("WebSquare page load error");e=H.loadWPackModule(e)}if(o.q.WebSquaredoc=H.getPageInfo(e),o.q.WebSquaredoc.cssList=o.q.externalCSSDOM.slice(0),null==o.q.WebSquareParser&&("json"===o.q.WebSquaredoc.getType()?o.q.WebSquareparser=new B:o.q.WebSquareparser=new v.WebSquareParser),await l.I._loadProjectCommon(),await l.I._loadMsaCommon(),await o.q.WebSquaredoc.parsingUDC(r,o.q.strictModeFrame),!await o.q.WebSquareparser.parse(o.q.WebSquaredoc.getPageInfo(),r,o.q.strictModeFrame))return;var r=!0===t.spa;r?(s.Q.performanceCheck.mid2=new Date,s.Q.printLog("[SPA3][RESOURCE] New resource(XML, Skin, CSS) Load Complete. Time:"+(s.Q.performanceCheck.mid2.getTime()-s.Q.performanceCheck.mid1.getTime())+"ms")):(s.Q.performanceCheck.mid2=new Date,s.Q.printLog("[STEP3][RESOURCE] Resource(XML, Skin, CSS) Load Complete. Time:"+(s.Q.performanceCheck.mid2.getTime()-s.Q.performanceCheck.mid1.getTime())+"ms")),o.q._performance.mark("step3");var i=WebSquare.language.getMessage("Performance_step3");if(o.q._performance.measure("step3","step2",l.I._makeDetail(i)),f.Z._stopProcess(r))return;var a,n=[],c=o.q.WebSquaredoc.getType();if(n="json"===c?g.r.getNodesByTagName(o.q.WebSquaredoc.getPageInfo(),"body"):d._.getElementsByTagName(o.q.WebSquaredoc.getPageInfo(),"body",l.I._XML_NAMESPACE.XHTML),"json"!==c&&1===n.length){var p=n[0].getAttribute("style");null!=p&&(o.q.WebSquaredoc.bodyStyle=p),o.q.WebSquaredoc.body=n[0]}else if("json"!==c||n.length>1)return void alert(N.B.getMessage("E_WebSquareDocument_MoreThanOneBodyError",n.length));y.startCache(),a="json"===c?V.o.createByJSON(null,null,n[0],o.q.strictModeFrame,o.q.strictModeFrame?o.q.strictModeFrame.uuid:void 0):V.o.create(null,null,n[0],o.q.strictModeFrame,o.q.strictModeFrame?o.q.strictModeFrame.uuid:void 0),await V.o.initAsync(),y.endCache(),r?(s.Q.performanceCheck.mid3=new Date,s.Q.printLog("[SPA4][CREATE] WebSquare Object Creation & JS Load Complete. Time:"+(s.Q.performanceCheck.mid3.getTime()-s.Q.performanceCheck.mid2.getTime())+"ms")):(s.Q.performanceCheck.mid3=new Date,s.Q.printLog("[STEP4][CREATE] WebSquare Object Creation & JS Load Complete. Time:"+(s.Q.performanceCheck.mid3.getTime()-s.Q.performanceCheck.mid2.getTime())+"ms")),o.q._performance.mark("step4");i=WebSquare.language.getMessage("Performance_step4");o.q._performance.measure("step4","step3",l.I._makeDetail(i)),o.q.setBody(a),l.I._controlInvoker("pageInherit","appendModel",[o.q.pageInheritSubmissionList,"submissions"]),l.I._controlInvoker("pageInherit","appendModel",[o.q.pageInheritWorkflowList,"workflows"]),l.I.executePointScript(4),o.q.pageInheritScriptArr&&(o.q.externalScriptArr=o.q.pageInheritScriptArr.concat(o.q.externalScriptArr),o.q.pageInheritScriptArr=[]),o.q.externalScriptArr.length>0?(o.q.externalScriptArr.push(new Function("WebSquare.jsLoader._startCallback("+r+");")),f.Z.js.apply(null,o.q.externalScriptArr),o.q.externalScriptArr=[]):H._startCallback(r)}catch(e){u.Y.printStackTrace(e)}},_startCallback:async function(e){try{var t=o.q.body;o.q.WebSquaredoc.cssList=o.q.WebSquaredoc.cssList.concat(y.executeImport())
;var r=l.I.getConfiguration("/WebSquare/visibleHelper/targetHandler/@value"),i=null,a=!1;if("undefined"!=typeof WebSquareExternal&&WebSquareExternal&&(a=WebSquareExternal.skipRender),a||o.q.targetInfo&&o.q.targetInfo.constructor==Array);else{var n=new Date;i=t.toHTML();var c=new Date;s.Q.printLog("html string generation. Time :"+(c-n)+"ms")}if(a);else if(null!=r&&""!=r){var p=f.Z.getGlobalFunction(r);"function"==typeof p&&(h=p(i)),null!=h&&("string"==typeof h&&(h=document.getElementById(h)),h.style.cssText=t.options.style),o.q.useVisibleHelper=!0}else if(o.q.targetInfo){var h;if("string"==typeof o.q.targetInfo)(h=document.getElementById(o.q.targetInfo))&&l.I._safeInnerHTML(h,i),h.style.cssText=t.options.style;else if(o.q.targetInfo.constructor==Array){n=new Date;for(var g=0;g<o.q.targetInfo.length;g++){var m=o.q.targetInfo[g],b=o.q.idToUUID[m.component];if(b&&null!=o.q.idCache[b]){var S=m.target;"string"==typeof S&&(S=document.getElementById(S)),l.I._safeInnerHTML(S,o.q.idCache[b].toHTML())}}c=new Date;s.Q.printLog(" html string generation. Time :"+(c-n)+"ms")}else"object"==typeof o.q.targetInfo&&l.I._safeInnerHTML(o.q.targetInfo,i);o.q.targetInfo=""}else l.I._safeInnerHTML(document.body,i),document.body.style.cssText=t.options.style,s.Q.fullViewed&&s.Q.zoomed(document.body,o.q.style.getScale());!("onhashchange"in window)&&(e||location.hash.lastIndexOf("w2xPath")>=0)&&(f.Z._hiddenFrame?null==document.getElementById(f.Z._hiddenFrame.id)&&document.body.appendChild(f.Z._hiddenFrame):f.Z._makeFrame(),f.Z._iframe_wait=!0,f.Z._hiddenFrame.contentWindow.location.search=o.q.w2xPath),"true"==l.I.getConfiguration("/WebSquare/mobile/hideAddressBar/@value")&&f.Z.isMobile()&&(document.body.scrollTop=1);try{var v;if("undefined"!=typeof WebSquareExternal)if(WebSquareExternal.xmlInstance&&(WebSquareExternal.xmlInstance=d._.parse(WebSquareExternal.xmlInstance)),WebSquareExternal.targetInstance)WebSquareExternal.xmlInstance?v=WebSquareExternal.xmlInstance:WebSquareExternal.jsonInstance&&(v=q.JSON2XML(WebSquareExternal.jsonInstance)),v&&(o.q.WebSquaredoc.models[0].rebuild(v,WebSquareExternal.targetInstance),o.q.WebSquaredoc.models[0].refresh())}catch(e){u.Y.printStackTrace(e)}var w=l.I._makeDetail(WebSquare.language.getMessage("Performance_step5")),C=l.I._makeDetail(WebSquare.language.getMessage("Performance_step6"));e?(s.Q.performanceCheck.mid4=new Date,s.Q.printLog("[SPA5][RENDER] HTML Rendering Complete. Time:"+(s.Q.performanceCheck.mid4.getTime()-s.Q.performanceCheck.mid3.getTime())+"ms"),o.q._performance.mark("step5"),o.q._performance.measure("step5","step4".step5log),t.preActivate(),s.Q.performanceCheck.mid5=new Date,s.Q.printLog("[SPA6][ADJUST] Pre Event Activation. Time:"+(s.Q.performanceCheck.mid5.getTime()-s.Q.performanceCheck.mid4.getTime())+"ms"),o.q._performance.mark("step6"),o.q._performance.measure("step6","step5",C)):(s.Q.performanceCheck.mid4=new Date,s.Q.printLog("[STEP5][RENDER] HTML Rendering Complete. Time:"+(s.Q.performanceCheck.mid4.getTime()-s.Q.performanceCheck.mid3.getTime())+"ms"),l.I.executePointScript(5),o.q._performance.mark("step5"),o.q._performance.measure("step5","step4",w),t.preActivate(),s.Q.performanceCheck.mid5=new Date,s.Q.printLog("[STEP6][ADJUST] Pre Event Activation. Time:"+(s.Q.performanceCheck.mid5.getTime()-s.Q.performanceCheck.mid4.getTime())+"ms"),l.I.executePointScript(6),o.q._performance.mark("step6"),o.q._performance.measure("step6","step5",C)),l.I._businessPreProcessor(),o.q.isWebSquarePopup&&l.I._initPopupParameter();var _=l.I._makeDetail(WebSquare.language.getMessage("Performance_step7"));if("synchronous"===(l.I.getConfiguration("/WebSquare/postDrawMode/@value")||"asynchronous")){if(s.Q.printLog("[_wg.actionHelper.execute]postDrawMode : synchronous"),f.Z._stopProcess(e))return;for(var x in W.activated=!0,W.comp)W.comp[x].activate();if(t.activate(),await V.o.initAsync(),e?(s.Q.performanceCheck.mid6=new Date,
s.Q.printLog("[SPA7][EVENT] Event Activation. Time:"+(s.Q.performanceCheck.mid6.getTime()-s.Q.performanceCheck.mid5.getTime())+"ms")):(s.Q.performanceCheck.mid6=new Date,s.Q.printLog("[STEP7][EVENT] Event Activation. Time:"+(s.Q.performanceCheck.mid6.getTime()-s.Q.performanceCheck.mid5.getTime())+"ms"),l.I.executePointScript(7)),o.q._performance.mark("step7"),o.q._performance.measure("step7","step6",_),f.Z._stopProcess(e))return;if(o.q.strictModeFrame&&"function"==typeof o.q.strictModeFrame._parsePageCommons&&await o.q.strictModeFrame._parsePageCommons(),H._startCallback2(e),f.Z._stopProcess(e))return;"onhashchange"in window?window.onhashchange=f.Z.onhashchange:f.Z._wait_for_iframe_reload(e),t.onComplete(),W.api.onComplete()}else s.Q.printLog("[_wg.actionHelper.execute]postDrawMode : asynchronous"),l.I.setTimer((async function(e){var t=o.q.body;if(!f.Z._stopProcess(e)){for(var r in W.activated=!0,W.comp)W.comp[r].activate();t.activate(),await V.o.initAsync(),e?(s.Q.performanceCheck.mid6=new Date,s.Q.printLog("[SPA7][EVENT] Event Activation. Time:"+(s.Q.performanceCheck.mid6.getTime()-s.Q.performanceCheck.mid5.getTime())+"ms")):(s.Q.performanceCheck.mid6=new Date,s.Q.printLog("[STEP7][EVENT] Event Activation. Time:"+(s.Q.performanceCheck.mid6.getTime()-s.Q.performanceCheck.mid5.getTime())+"ms"),l.I.executePointScript(7)),o.q._performance.mark("step7"),o.q._performance.measure("step7","step6",_),f.Z._stopProcess(e)||(o.q.strictModeFrame&&"function"==typeof o.q.strictModeFrame._parsePageCommons&&await o.q.strictModeFrame._parsePageCommons(),H._startCallback2(e),f.Z._stopProcess(e)||("onhashchange"in window?window.onhashchange=f.Z.onhashchange:f.Z._wait_for_iframe_reload(e),t.onComplete(),W.api.onComplete()))}}),{key:"WebSquare_startOnload",caller:this,delay:1,args:[e]})}catch(e){u.Y.printStackTrace(e)}},_startCallback2:function(e){try{"true"==l.I.getConfiguration("/WebSquare/clearMemory/@value")&&(window.onbeforeunload=function(){if(o.q.clearMemory){var e,t=!1;try{f.Z.isSPA()&&f.Z.isIE()&&l.I.browserVersion()<=10&&(l.I.clearJQuery(),t=!0)}catch(e){console.error(e)}if(t||(e=o.q.clearMemory()),!1===e)return e}}),o.q.nowRendering=!1,"function"==typeof o.q.onload&&o.q.onload(),!0!==l.I.scriptPrecedence&&o.q.event.fireEvent(o.q.getBody(),"onpageload");var t=!0,r=WebSquare.core.getConfiguration("/WebSquare/eval/@value")||WebSquare.core.getConfiguration("/WebSquare/executeScript/@value")||"internal";if(o.q.pageInheritScript&&o.q.pageInheritScript.length>0){if(s.Q.traceWframe)for(var i=0;i<o.q.pageInheritScript.length;i++)s.Q.globalEval(o.q.pageInheritScript[i],r);else o.q.scriptSection=o.q.pageInheritScript.join("")+o.q.scriptSection;o.q.pageInheritScript=[],t=!1}o.q.wframeScript&&o.q.wframeScript.length>0&&(s.Q.traceWframe||(o.q.scriptSection+=o.q.wframeScript.reverse().join(""),o.q.wframeScript=[]),t=!1),(t=t&&l.I._isSinglePage())||(o.q.scriptSection=o.q.scriptIdentifier+o.q.w2xPath+'";'+o.q.scriptSection),l.I._businessPreProcessor(),l.I._controlInvoker("pageInherit","_execute",["script",{order:"postorder"}]),!0===l.I.scriptPrecedence?l.I._controlInvoker("wframe","_execute",["script"]):l.I._controlInvoker("wframe","_execute",["script",{order:"postorder",reverse:!0}]);var a=f.Z.getBoolean(l.I.getConfiguration("/WebSquare/postScript/@value"))&&o.q.w2xPath!==o.q.net.getBlankXML();if(a&&!0!==l.I.scriptPrecedence&&!o.q.strictModeFrame&&(o.q.scriptSection+=l.I.getConfiguration("/WebSquare/postScript")),o.q.scriptSectionExcuteFlag="preExecuted",s.Q.globalEval(o.q.scriptSection,r),o.q.scriptSection="",s.Q.traceWframe&&o.q.wframeScript&&o.q.wframeScript.length>0){for(i=o.q.wframeScript.length-1;i>=0;i--)s.Q.globalEval(o.q.wframeScript[i],r);o.q.wframeScript=[]}o.q.scriptSectionExcuteFlag="executed";try{var n=e?"SPA":"STEP";s.Q.performanceCheck.mid7=new Date,s.Q.printLog("["+n+"8][INITSCRIPT] initscript Completed. Time:"+(s.Q.performanceCheck.mid7.getTime()-s.Q.performanceCheck.mid6.getTime())+"ms"),o.q._performance.mark("step8")
;var c=WebSquare.language.getMessage("Performance_step8");if(o.q._performance.measure("step8","step7",l.I._makeDetail(c)),e||l.I.executePointScript(8),!0===l.I.scriptPrecedence){for(;l.I._onpageloadArr.length>0;){"function"==typeof(p=l.I._onpageloadArr.shift())&&p()}if(o.q.event.fireEvent(o.q.getBody(),"onpageload"),o.q.strictModeFrame&&o.q.strictModeFrame._executeStatus)for(var d=o.q.strictModeFrame._executeStatus.onloadPageCommon;d instanceof Array&&d.length>0;){var p;"function"==typeof(p=d.shift())&&p()}l.I._controlInvoker("pageInherit","_execute",["onpageload",{order:"postorder"}]),l.I._controlInvoker("wframe","_execute",["onpageload"]),s.Q.performanceCheck.mid8=new Date,s.Q.printLog("["+n+"9][ONPAGELOAD] onpageload Completed. Time:"+(s.Q.performanceCheck.mid8.getTime()-s.Q.performanceCheck.mid7.getTime())+"ms"),o.q._performance.mark("step9");c=WebSquare.language.getMessage("Performance_step9");o.q._performance.measure("step9","step8",l.I._makeDetail(c)),l.I._controlInvoker("pageInherit","_execute",["postscript",{order:"postorder"}]);var h="";a&&(o.q.strictModeFrame?h+=o.q.strictModeFrame.options.postScript.toString():h+=l.I.getConfiguration("/WebSquare/postScript")),l.I._controlInvoker("wframe","_execute",["postscript",{order:"postorder"}]),h&&s.Q.globalEval(h,r),l.I._controlInvoker("wframe","_execute",["onwframeload"]),s.Q.performanceCheck.mid9=new Date,s.Q.printLog("["+n+"10][POSTSCRIPT] postscript Completed. Time:"+(s.Q.performanceCheck.mid9.getTime()-s.Q.performanceCheck.mid8.getTime())+"ms"),o.q._performance.mark("step10");c=WebSquare.language.getMessage("Performance_step10");o.q._performance.measure("step10","step9",l.I._makeDetail(c))}}catch(e){u.Y.printStackTrace(e)}s.Q.performanceCheck.end=new Date;var g="["+n+" SUMMARY] Initial procedures completed. Duration : "+(s.Q.performanceCheck.end.getTime()-s.Q.performanceCheck.start.getTime())+" Recorded timestamps :\t"+(s.Q.performanceCheck.mid1.getTime()-s.Q.performanceCheck.start.getTime())+"\t"+(s.Q.performanceCheck.mid2.getTime()-s.Q.performanceCheck.mid1.getTime())+"\t"+(s.Q.performanceCheck.mid3.getTime()-s.Q.performanceCheck.mid2.getTime())+"\t"+(s.Q.performanceCheck.mid4.getTime()-s.Q.performanceCheck.mid3.getTime())+"\t"+(s.Q.performanceCheck.mid5.getTime()-s.Q.performanceCheck.mid4.getTime())+"\t"+(s.Q.performanceCheck.mid6.getTime()-s.Q.performanceCheck.mid5.getTime())+"\t"+(s.Q.performanceCheck.mid7.getTime()-s.Q.performanceCheck.mid6.getTime())+"\t";!0===l.I.scriptPrecedence&&(g+=s.Q.performanceCheck.mid8.getTime()-s.Q.performanceCheck.mid7.getTime()+"\t"+(s.Q.performanceCheck.mid9.getTime()-s.Q.performanceCheck.mid8.getTime())+"\t"),g+=s.Q.performanceCheck.end.getTime()-s.Q.performanceCheck.start.getTime(),s.Q.printLog(g);try{o.q.lazyImportsArr.length>0&&(o.q.lazyImportsArr.push((function(){s.Q.printLog("defer JavaScript loaded.")})),s.Q.printLog("defer JavaScript loading."),f.Z.js.apply(null,o.q.lazyImportsArr),o.q.lazyImportsArr=[])}catch(e){u.Y.printStackTrace(e)}try{window.$integrity&&window.$integrity()}catch(e){u.Y.printStackTrace(e)}l.I._fireParentOnload(),l.I._controlInvoker("wframe","_clearPending"),l.I._controlInvoker("pageInherit","_clearPending"),o.q.scriptLoaedFlag="loaded"}catch(e){u.Y.printStackTrace(e)}}},z={createFormatter:function(e,t,r,i,a,n,o,s){try{var l=null;if(r)return(l=new WebSquare.format.formatterAdapter(e,t,r,i)).scope_id=o,l.callerId=s,l;if(""!=e)switch(e){case"text":l=new WebSquare.format.textFormatter(e,t,r,i);break;case"bigDecimal":case"number":l=""==t?new WebSquare.format.emptyFormatter(e,t,r,i):new WebSquare.format.numberFormatter(e,t,r,i,a,n);break;case"float":l=new WebSquare.format.floatFormatter(e,t,r,i,a,n);break;case"euro":l=new WebSquare.format.euroFormatter(e,t,r,i,a,n);break;case"rupee":l=new WebSquare.format.rupeeFormatter(e,t,r,i,a,n);break;case"tenge":l=new WebSquare.format.tengeFormatter(e,t,r,i,a,n);break;case"date":l=new WebSquare.format.dateFormatter(e,t,r,i);break;case"time":
l=new WebSquare.format.timeFormatter(e,t,r,i);break;case"textMask":l=new WebSquare.format.textMaskFormatter(e,t,r,i);break;case"numberMask":l=new WebSquare.format.numberMaskFormatter(e,t,r,i,a,n);break;case"reverseTextMask":l=new WebSquare.format.reverseTextMaskFormatter(e,t,r,i);break;case"reverseNumberMask":l=new WebSquare.format.reverseNumberMaskFormatter(e,t,r,i,a,n);break;default:l=new WebSquare.format.emptyFormatter(e,t,r,i)}else l=new WebSquare.format.emptyFormatter(e,t,r,i);return l.scope_id=o,l.callerId=s,l}catch(e){u.Y.printStackTrace(e)}},formatter:function(e,t,r,i){try{this.type=e||"text",this.masking=t||"",this.userFunc=r||null,this.ioFormat=i||null,this.callerId="",this.count=0,this.hash_format_to_original={}}catch(e){u.Y.printStackTrace(e)}}};z.formatter.prototype.setMasking=function(e){this.masking=e},z.formatter.prototype.format=function(e,t){try{if(WebSquare.util.isNull(e))return"";e=e.toString();var r=this.executeFormat(e,t);return this.count>100&&(this.hash_format_to_original={},this.count=0),this.hash_format_to_original[r]=e,this.count++,r}catch(e){u.Y.printStackTrace(e)}},z.formatter.prototype.unformat=function(e){try{return null!=this.hash_format_to_original[e]?this.hash_format_to_original[e]:e}catch(e){u.Y.printStackTrace(e)}},z.formatter.prototype.executeFormat=function(e){alert("you should override 'executeFormat'")},z.emptyFormatter=function(e,t,r,i){WebSquare.format.formatter.call(this,e,t,r,i)},o.q.extend(z.emptyFormatter.prototype,z.formatter.prototype),z.emptyFormatter.prototype.executeFormat=function(e){return e},z.textFormatter=function(e,t,r,i){WebSquare.format.formatter.call(this,e,t,r,i)},o.q.extend(z.textFormatter.prototype,z.formatter.prototype),z.textFormatter.prototype.executeFormat=function(e){try{return e=WebSquare.text.formatText(e,this.masking,this.ioFormat)}catch(e){u.Y.printStackTrace(e)}},z.numberFormatter=function(e,t,r,i,a,n){WebSquare.format.formatter.call(this,e,t,r,i),this.delimiter=a,this.decimalDelimiter=n},o.q.extend(z.numberFormatter.prototype,z.formatter.prototype),z.numberFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatCurrency(e,this.masking,this.ioFormat,t,this.delimiter,this.decimalDelimiter)}catch(e){u.Y.printStackTrace(e)}},z.floatFormatter=function(e,t,r,i,a,n){WebSquare.format.formatter.call(this,e,t,r,i),this.delimiter=a||",",this.decimalDelimiter=n||"."},o.q.extend(z.floatFormatter.prototype,z.formatter.prototype),z.floatFormatter.prototype.executeFormat=function(e,t){try{var r="";e.length>0&&("-"==e[0]||"+"==e[0])&&(r=e[0],e=e.substring(1));var i=e.split(this.decimalDelimiter),a=i[0].split(this.delimiter).join(""),n=i[1]||"";if(1==this.masking.split(this.decimalDelimiter).length)a=WebSquare.text.formatCurrency(a,this.masking,this.ioFormat,t,this.delimiter,this.decimalDelimiter);else{var o=WebSquare.text.unformatCurrency(this.masking,e);a=(i=WebSquare.text.formatCurrency(o,this.masking,this.ioFormat,t,this.delimiter,this.decimalDelimiter).split(this.decimalDelimiter))[0]||"",n=i[1]||""}return 2===i.length?r+a+"."+n:r+a}catch(e){u.Y.printStackTrace(e)}},z.euroFormatter=function(e,t,r,i,a,n){WebSquare.format.formatter.call(this,e,t,r,i),this.delimiter=a,this.decimalDelimiter=n},o.q.extend(z.euroFormatter.prototype,z.formatter.prototype),z.euroFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatEuroCurrency(e,this.masking,this.ioFormat,t,this.delimiter,this.decimalDelimiter)}catch(e){u.Y.printStackTrace(e)}},z.rupeeFormatter=function(e,t,r,i,a,n){WebSquare.format.formatter.call(this,e,t,r,i),this.delimiter=a,this.decimalDelimiter=n},o.q.extend(z.rupeeFormatter.prototype,z.formatter.prototype),z.rupeeFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatRupeeCurrency(e,this.masking,this.ioFormat,t,this.delimiter,this.decimalDelimiter)}catch(e){u.Y.printStackTrace(e)}},z.tengeFormatter=function(e,t,r,i,a,n){WebSquare.format.formatter.call(this,e,t,r,i),this.delimiter=a,
this.decimalDelimiter=n},o.q.extend(z.tengeFormatter.prototype,z.formatter.prototype),z.tengeFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatTengeCurrency(e,this.masking,this.ioFormat,t,this.delimiter,this.decimalDelimiter)}catch(e){u.Y.printStackTrace(e)}},z.dateFormatter=function(e,t,r,i){WebSquare.format.formatter.call(this,e,t,r,i)},o.q.extend(z.dateFormatter.prototype,z.formatter.prototype),z.dateFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatDate(e,this.masking,this.ioFormat,t)}catch(e){u.Y.printStackTrace(e)}},z.timeFormatter=function(e,t,r,i){WebSquare.format.formatter.call(this,e,t,r,i)},o.q.extend(z.timeFormatter.prototype,z.formatter.prototype),z.timeFormatter.prototype.executeFormat=function(e){try{return e=WebSquare.text.formatTime(e,this.masking,this.ioFormat)}catch(e){u.Y.printStackTrace(e)}},z.formatterAdapter=function(e,t,r,i){WebSquare.format.formatter.call(this,e,t,r,i),this.userFunc=r},o.q.extend(z.formatterAdapter.prototype,z.formatter.prototype),z.formatterAdapter.prototype.executeFormat=function(e){try{if("function"!=typeof this.userFunc)try{var t=WebSquare.util.getGlobalFunction(this.userFunc,this.scope_id);"function"==typeof t&&(this.userFunc=t)}catch(e){WebSquare.logger.printLog("executeFormat initailize.")}return"function"==typeof this.userFunc&&(e=this.userFunc(e)),e}catch(e){u.Y.printStackTrace(e)}},z.textMaskFormatter=function(e,t,r,i){WebSquare.format.formatter.call(this,e,t,r,i)},o.q.extend(z.textMaskFormatter.prototype,z.formatter.prototype),z.textMaskFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatTextMask(e,this.masking,this.allowChar)}catch(e){u.Y.printStackTrace(e)}},z.textMaskFormatter.prototype.setAllowChar=function(e){try{this.allowChar=e}catch(e){u.Y.printStackTrace(e)}},z.reverseTextMaskFormatter=function(e,t,r,i){WebSquare.format.formatter.call(this,e,t,r,i)},o.q.extend(z.reverseTextMaskFormatter.prototype,z.formatter.prototype),z.reverseTextMaskFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatReverseTextMask(e,this.masking,this.allowChar)}catch(e){u.Y.printStackTrace(e)}},z.reverseTextMaskFormatter.prototype.setAllowChar=function(e){try{this.allowChar=e}catch(e){u.Y.printStackTrace(e)}},z.numberMaskFormatter=function(e,t,r,i,a,n){WebSquare.format.formatter.call(this,e,t,r,i),this.delimiter=a,this.decimalDelimiter=n},o.q.extend(z.numberMaskFormatter.prototype,z.formatter.prototype),z.numberMaskFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatNumberMask(e,this.masking,this.delimiter)}catch(e){u.Y.printStackTrace(e)}},z.reverseNumberMaskFormatter=function(e,t,r,i){WebSquare.format.formatter.call(this,e,t,r,i)},o.q.extend(z.reverseNumberMaskFormatter.prototype,z.formatter.prototype),z.reverseNumberMaskFormatter.prototype.executeFormat=function(e,t){try{return e=WebSquare.text.formatReverseNumberMask(e,this.masking)}catch(e){u.Y.printStackTrace(e)}};var X=function(e){function t(e,t){e[e.length]=t}function r(e){var t=e[e.length-1];return delete e[e.length-1],e.length--,t}function i(e){return!a(e)&&"("!=e&&")"!=e}function a(e){return"+"==e||"-"==e||"*"==e||"/"==e||"^"==e||"%"==e}function n(e){return e[e.length-1]}function o(e){return 0==e.length}function s(e){return"^"==e?5:"*"==e||"/"==e||"%"==e?4:"+"==e||"-"==e?3:"("==e?2:")"==e?1:void 0}function l(e,l,u){l=new Array;var c=new Array,d=0;e=function(e){for(var t=e.split(""),r=new String(""),n=new Array,o=0,s=0;s<t.length;s++)i(t[s])&&null==t[s].match(/\s/)&&(r+=t[s]),(a(t[s])||")"==t[s]||"("==t[s])&&(""!=r&&(n[o]=r,o++),r="",n[o]=t[s],o++),s==t.length-1&&""!=r&&(n[o]=r);return n}(e);for(var p=0;p<e.length;p++){if(i(e[p])&&(l[d]=e[p],d++),a(e[p])){if("^"!=e[p])for(;!o(c)&&s(e[p])<=s(n(c));)l[d]=n(c),r(c),d++;else for(;!o(c)&&s(e[p])<s(n(c));)l[d]=n(c),r(c),d++;t(c,e[p])}if("("==e[p]&&t(c,e[p]),")"==e[p]){for(;"("!=n(c);)l[d]=r(c),d++;r(c)}}
for(;!o(c);)"("==n(c)?r(c):l[l.length]=r(c);var h="";for(p=0;p<l.length;p++)h+=l[p];return 0==u?h:l}function c(e,t,r){var i;try{return"+"==r&&(i=e.plus(t)),"-"==r&&(i=e.minus(t)),"*"==r&&(i=e.times(t)),"/"==r&&(i=e.divide(t)),"^"==r&&(i=e.pow(t)),"%"==r&&(i=e.mod(t)),i}catch(e){u.Y.printStackTrace(e)}}var d=function(e){return new WebSquare.bigDecimalObj(e)};return d.calc=function(e,a,o){var s=l(e);return WebSquare.bigDecimal(function(e,a,o){for(var s,l,u=new Array,d=0;d<e.length;d++)if(i(e[d]))t(u,e[d]);else{var p;if(a&&a[n(u)])s=a[n(u)];else if((p=n(u)).constructor===WebSquare.bigDecimalObj)s=p;else if("string"==typeof p){var h=WebSquare.util.scopingFuncBody(p,o);s=Function(h).call(this)}else s=new Function("return "+p)();s.constructor!=WebSquare.bigDecimalObj&&(s=WebSquare.bigDecimal(s)),r(u),a&&a[n(u)]?l=a[n(u)]:"string"==typeof(p=n(u))?(h=WebSquare.util.scopingFuncBody(p,o),l=Function(h).call(this)):l=new Function("return "+p)(),l.constructor!=WebSquare.bigDecimalObj&&(l=WebSquare.bigDecimal(l));var f=c(l,s,e[d]);r(u),t(u,f)}return n(u)}(s,a,o))},d}(window),Z=function(e){try{""===e?(e="0",this.emptyStr=!0):this.emptyStr=!1,this.big=window.Big(e)}catch(e){this.big=NaN}};Z.prototype.plus=function(e){try{return WebSquare.bigDecimalObj.handleZero(this,e,"plus")}catch(e){return u.Y.printStackTrace(e),WebSquare.bigDecimal(NaN)}},Z.prototype.minus=function(e){try{return WebSquare.bigDecimalObj.handleZero(this,e,"minus")}catch(e){return u.Y.printStackTrace(e),WebSquare.bigDecimal(NaN)}},Z.prototype.divide=function(e){try{return WebSquare.bigDecimalObj.handleZero(this,e,"div")}catch(e){return u.Y.printStackTrace(e),WebSquare.bigDecimal(NaN)}},Z.prototype.times=function(e){try{return WebSquare.bigDecimalObj.handleZero(this,e,"times")}catch(e){return u.Y.printStackTrace(e),WebSquare.bigDecimal(NaN)}},Z.prototype.pow=function(e){try{return WebSquare.bigDecimalObj.handleZero(this,e,"pow")}catch(e){return u.Y.printStackTrace(e),WebSquare.bigDecimal(NaN)}},Z.prototype.mod=function(e){try{return WebSquare.bigDecimalObj.handleZero(this,e,"mod")}catch(e){return u.Y.printStackTrace(e),WebSquare.bigDecimal(NaN)}},Z.prototype.toString=function(){if(isNaN(this.big))return NaN;var e=this.big.toFixed();return!this.emptyStr||"0"!==e&&0!==e||(e=""),e},Z.prototype.compare=function(e,t){try{if(t)var r=1==this.big.lt(e)?this:e;else r=1==this.big.gt(e)?this:e;return r}catch(e){return u.Y.printStackTrace(e),WebSquare.bigDecimal(NaN)}},Z.handleZero=function(e,t,r){try{var i="";t.emptyStr&&""===t.toString()?i=e.big[r](0):("pow"===r&&(t=parseInt(t.toString(),10)),i=e.big[r](t));var a=WebSquare.bigDecimal(i);return"0"===a.toString()&&e.emptyStr&&t.emptyStr&&(a=""),a}catch(e){return u.Y.printStackTrace(e),WebSquare.bigDecimal(NaN)}};var K={getSubmission:C.K.getSubmission,getSubmissionList:C.K.getSubmissionList,createSubmission:C.K.createSubmission,deleteSubmission:C.K.deleteSubmission,executeSubmission:C.K.executeSubmission,getStringByteSize:f.Z.getStringByteSize,getRefToReqData:f.Z.getRefToReqData,dynamicCreate:f.Z.dynamicCreate,createWorkflow:C.K.createWorkflow,deleteWorkflow:C.K.deleteWorkflow,getWorkflow:C.K.getWorkflow,getRunningWorkflow:C.K.getRunningWorkflow,isRunningWorkflow:C.K.isRunningWorkflow,getRunningWorkflowID:C.K.getRunningWorkflowID,rejectWorkflow:C.K.rejectWorkflow,executeWorkflow:C.K.executeWorkflow,executeSerial:C.K.executeSerial,executeParallel:C.K.executeParallel,executeWhilst:C.K.executeWhilst,openPopup:f.Z.openPopup,getPopupParam:f.Z.getPopupParam,closePopup:f.Z.closePopup,getPopup:f.Z.getPopup,getPopupList:f.Z.getPopupList,getPopupWindow:f.Z.getPopupWindow,getPopupWindowList:f.Z.getPopupWindowList,getAllPopupList:f.Z.getAllPopupList,getAllPopupWindowList:f.Z.getAllPopupWindowList,isPopup:f.Z.isPopup,setDocumentLang:f.Z.setDocumentLang,setDisabled:f.Z.setDisabled,setDomain:f.Z.setDomain,url:f.Z.url,js:f.Z.js,jsAsync:f.Z.jsAsync,reinitialize:f.Z.reinitialize,clearPage:f.Z.clearPage,setTimeout:f.Z.setTimeout,
clearTimeout:f.Z.clearTimeout,setInterval:f.Z.setInterval,clearInterval:f.Z.clearInterval,getTimeoutKeys:f.Z.getTimeoutKeys,getIntervalKeys:f.Z.getIntervalKeys,getIntervalKeyList:f.Z.getIntervalKeyList,getTimeoutKeyList:f.Z.getTimeoutKeyList,toTimestampString:I.p.toTimestampString,dateDiff:I.p.dateDiff,dateAdd:I.p.dateTimeAdd,getFormattedDate:I.p.getFormattedDate,getCurrentServerDate:I.p.getCurrentServerDate,updateServerTime:I.p.updateServerTime,getMaxMinYear:I.p.getMaxMinYear,parseDate:I.p.parseDate,showModal:k.showModal,hideModal:k.hideModal,showProcessMessage:k.showProcessMessage,hideProcessMessage:k.hideProcessMessage,log:c.v.printLog,enableLog:c.v.enableLog,disableLog:c.v.disableLog,getParameter:_.getParameter,getAllParameter:_.getAllParameter,getBASE64Parameter:_.getBASE64Parameter,getAllBASE64Parameter:_.getAllBASE64Parameter,URLEncoder:T.Q.URLEncoder,ajax:_.ajax,download:_.download,data:W.api,setFullView:f.Z.setFullView,mirrorView:f.Z.mirrorView,watermark:f.Z.watermark,createProgressbar:f.Z.createProgressBar,getRuntimeId:f.Z.getRuntimeId,isWFramePopup:f.Z.isWFramePopup,getPopupUrl:f.Z.getPopupUrl,getPopupId:f.Z.getPopupId,getFrameId:f.Z.getFrameId,getFrame:f.Z.getFrame,getParentWindow:f.Z.getParentWindow,getComponentById:f.Z.getComponentById,getEventTarget:f.Z.getEventTarget,parent:f.Z.getParentWindow,top:f.Z.getTopWindow,main:f.Z.getMainFrame,debug:c.Y,bigDecimal:X,getMetaValue:f.Z.getMetaValue,encodeParameter:f.Z.encodeParameter,multipleExcelUpload:f.Z.multipleExcelUpload,multipleExcelDownload:f.Z.multipleExcelDownload,getMediaInfo:f.Z.getMediaInfo,updateSuffix:f.Z.updateSuffix,$:f.Z.jQuerySelector,loadPageCommon:f.Z.loadPageCommon,loadMSACommon:f.Z.loadMSACommon,loadGlobalCommon:f.Z.loadGlobalCommon},J=function(){this.font_cho=new Array("ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"),this.font_jung=new Array("ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"),this.font_jong=new Array("","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ")};J.prototype={getCho:function(e){return this.font_cho[parseInt((e-44032)/588)]},getJung:function(e){return this.font_jung[parseInt((e-44032)%588/28)]},getJong:function(e){return this.font_jong[parseInt((e-44032)%588%28)]},getChoArr:function(e){for(var t=[],r=e.length,i=0;i<r;i++){var a=e.charCodeAt(i);a-44032>=0?t.push(this.getCho(a)):t.push(e.charAt(i))}return t},getJungArr:function(e){for(var t=[],r=e.length,i=0;i<r;i++){var a=e.charCodeAt(i);a-44032>=0?t.push(this.getJung(a)):t.push("")}return t},getJongArr:function(e){for(var t=[],r=e.length,i=0;i<r;i++){var a=e.charCodeAt(i);a-44032>=0?t.push(this.getJong(a)):t.push("")}return t},matchArr:function(e,t,r){var i=!0;if(e.length!=t.length)i=!1;else for(var a=e.length,n=0;n<a;n++)if((r||""!=t[n])&&e[n]!=t[n]){i=!1;break}return i},containArr:function(e,t,r,i,a){var n=e.length,o=!1,s=function(e,t,r,i){t.length-1>i&&(0===t[i+1]?o=!0:e[r+1]==t[i+1]?s(e,t,r+1,i+1,o):o=!1)};if(r.length>0){for(var l=[],u=0;u<r.length;u++){if(1==t.length&&""==t[0])return{result:o=!0,matchedArr:r};var c=r[u];if(e[c]==t[0]&&(l.push(c),o=!0,s(e,t,c,0),1==o&&1==a))break}r=l}else{for(var d=0;d<n;d++){if(1==t.length&&""==t[0])return{result:o=!0,matchedArr:r};e[d]==t[0]&&(o=!0,s(e,t,d,0),1==o&&r.push(d))}r.length>0&&(o=!0)}return{result:o,matchedArr:r,first:undefined}},matchStr:function(e,t,r){return!!(this.matchArr(this.getChoArr(e),this.getChoArr(t),r)&&this.matchArr(this.getJungArr(e),this.getJungArr(t),r)&&this.matchArr(this.getJongArr(e),this.getJongArr(t),r))},containStr:function(e,t,r){var i=this.containArr(this.getChoArr(e),this.getChoArr(t),[],!0,!1),a=this.containArr(this.getJungArr(e),this.getJungArr(t),i.matchedArr,!1),n=this.containArr(this.getJongArr(e),this.getJongArr(t),a.matchedArr,!1,!0);return!!(i.result&&a.result&&n.result)},startWith:function(e,t){return!(t.length>e.length)&&this.matchStr(e.substr(0,t.length),t)},
containWith:function(e,t){return!(t.length>e.length)&&(e.indexOf(t)>-1||this.containStr(e,t))}};var G=__webpack_require__(8637),Q=__webpack_require__(2430),ee=function(e,t,r,i,a){try{this.id=e,this.model=t,this.ref=r,this.bind=i,this.itemsetObj=null,this.useRef=!1,this.useBind=!1,this.useItemset=!1,this.isDataCollectionRefBinded=!1,this.isDataCollectionItemsetBinded=!1,this.dataCollectionRefInfo={},this.dataCollectionItemsetInfo={},this.scope_uuid=a}catch(e){u.Y.printStackTrace(e)}};ee.prototype.setItemset=function(e,t,r){try{this.itemsetObj={nodeset:e||"",label:t||"",value:r||""}}catch(e){u.Y.printStackTrace(e)}},ee.prototype.binding=function(){try{this.isDataCollectionItemsetBinded||this.ref&&this.ref.indexOf("data:")>-1?this.dataCollectionBinding(this.ref):(this.bindRef(),this.bindItemset())}catch(e){u.Y.printStackTrace(e)}},ee.prototype.checkRef=function(){try{var e=this.ref;if(-1!=e.lastIndexOf("/@")&&e.lastIndexOf("/")==e.lastIndexOf("/@"));else{var t=WebSquare.idCache[this.scope_uuid]&&WebSquare.idCache[this.scope_uuid].id,r=C.K.findInstanceNode(e,null,t);if(r&&r.childNodes.length>1)return!1}return!0}catch(e){u.Y.printStackTrace(e)}},ee.prototype.bindRef=function(){try{this.ref&&""!=this.ref&&this.checkRef()&&(WebSquare.WebSquaredoc.refElement.push(new C.K.createRefElement(this.ref,this.id)),C.K.setBindElement(this.ref,this.id),this.useRef=!0)}catch(e){u.Y.printStackTrace(e)}},ee.prototype.bindItemset=function(){try{this.itemsetObj&&""!=this.itemsetObj.nodeset&&(WebSquare.WebSquaredoc.itemsetElement.push(new C.K.createItemsetElement(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value,this.id)),this.useItemset=!0)}catch(e){u.Y.printStackTrace(e)}},ee.prototype.unbindRef=function(){try{if(this.isDataCollectionRefBinded)this.useRef=!1,this.isDataCollectionRefBinded=!1,this.dataCollectionRefInfo.dataComp&&(this.dataCollectionRefInfo.dataComp.removeChild(this.dataCollectionRefInfo.childComp.id),this.dataCollectionRefInfo.dataComp.removeRefComp(this.dataCollectionRefInfo.childComp.id)),this.dataCollectionRefInfo={};else if(WebSquare.WebSquaredoc)for(var e in WebSquare.WebSquaredoc.refElement){WebSquare.WebSquaredoc.refElement[e].id==this.id&&(WebSquare.WebSquaredoc.refElement.splice(e,1),this.useRef=!1)}}catch(e){u.Y.printStackTrace(e)}},ee.prototype.unbindItemset=function(){try{if(this.isDataCollectionItemsetBinded)this.useItemset=!1,this.isDataCollectionItemsetBinded=!1,this.dataCollectionItemsetInfo.dataComp&&(this.dataCollectionItemsetInfo.dataComp.removeChild(this.dataCollectionItemsetInfo.childComp.id),this.dataCollectionItemsetInfo.dataComp.removeRefComp(this.dataCollectionItemsetInfo.childComp.id)),this.dataCollectionItemsetInfo={};else if(WebSquare.WebSquaredoc)for(var e in WebSquare.WebSquaredoc.itemsetElement){var t=WebSquare.WebSquaredoc.itemsetElement[e].id;try{t==this.id&&(WebSquare.WebSquaredoc.itemsetElement.splice(e,1),this.useItemset=!1)}catch(e){u.Y.printStackTrace(e)}}}catch(e){u.Y.printStackTrace(e)}},ee.prototype.unbinding=function(){},ee.prototype.isBinded=function(){return this.useRef},ee.prototype.isItemsetBinded=function(){return this.useItemset},ee.prototype.setRef=function(e){try{var t=e||"";this.useRef&&"string"==typeof t&&t.length>0&&(this.ref=t,this.binding())}catch(e){u.Y.printStackTrace(e)}},ee.prototype.setData=function(e,t,r){try{if(1==this.useRef){void 0!==r&&null!=r||(r={});var i=this.getData();if(i!=e||(0===i&&""===e||""===i&&0===e)||r.orgValue&&i!=r.orgValue)if(this.isDataCollectionRefBinded)t=t||"column",WebSquare.DataCollection.api.setRefValue(this.dataCollectionRefInfo,e,t);else{var a=WebSquare.idCache[this.scope_uuid]&&WebSquare.idCache[this.scope_uuid].id;C.K.setInstanceValue(this.ref,e,this.model,a)}return!0}return!1}catch(e){u.Y.printStackTrace(e)}},ee.prototype.getData=function(){try{if(""!=this.ref){if(this.isDataCollectionRefBinded)return WebSquare.DataCollection.api.getRefValue(this.dataCollectionRefInfo)
;var e=WebSquare.idCache[this.scope_uuid]&&WebSquare.idCache[this.scope_uuid].id;return C.K.getInstanceValue(this.ref,this.model,e)}return""}catch(e){u.Y.printStackTrace(e)}},ee.prototype.setItemsetData=function(e){},ee.prototype.getItemsetData=function(){try{var e=[];if(""!=this.itemsetObj.nodeset){for(var t=this.itemsetObj.label,r=this.itemsetObj.value;;){var i=t.lastIndexOf("/");if(i<0)break;t=t.substring(0,i)}for(;;){var a=r.lastIndexOf("/");if(a<0)break;r=r.substring(0,a)}var n=this.itemsetObj.nodeset,o=this.itemsetObj.label,s=this.itemsetObj.value;if(r==t&&""!=r){var l=o.lastIndexOf("/"),c=s.lastIndexOf("/");l>0&&c>0&&(n+="/"+t,o=o.replace(t+"/",""),s=s.replace(r+"/",""))}n.lastIndexOf("/")==n.length-1&&(n=n.substring(0,n.lastIndexOf("/"))),0==o.indexOf("/")&&(o=o.substring(1)),0==s.indexOf("/")&&(s=s.substring(1));var p=WebSquare.idCache[this.scope_uuid]&&WebSquare.idCache[this.scope_uuid].id,h=C.K.findInstanceNodes(n,null,p);if(h)for(var f=0;f<h.length;++f){var g=h[f];t=d._.getValue(g,o),r=d._.getValue(g,s);e.push({label:t,value:r,xml:g})}}return e}catch(e){u.Y.printStackTrace(e)}},ee.prototype.getDataCollectionItemsetData=function(e,t){try{var r,i,a=this.getDataComp(null,{type:"aliasDataCollection"});if(a)r=a.id;else if(r=this.itemsetObj.nodeset.replace(/^data:/,""),WebSquare.strictMode){var n=WebSquare.idCache[this.scope_uuid]?WebSquare.idCache[this.scope_uuid].id:"";r=(n?n+"_":"")+r}if(e&&(i=l.I.getComponentById(e)),this.isDataCollectionItemsetBinded=!0,i&&WebSquare.DataCollection.api.addRelation(i.id,r),a&&WebSquare.idCache[a.uuid])switch(i?(a.addChild(i),this.dataCollectionItemsetInfo.childComp=i):this.dataCollectionItemsetInfo.childComp={},this.dataCollectionItemsetInfo.dataComp=a,(a=WebSquare.DataCollection.api.getObj(a)).initializeType){case"linkedDataList":case"dataList":var o=[],s={},c=function(e,t,r,i,a){if(!i||!a)return!1;var n=!1,o=e.bodyIdColIndexMap[i];if(!isNaN(o)){var s;s=!0===r?"dataList"===e.initializeType?e.dataArr[t*e.cellIdList.length+o]:e._dataList.dataArr[e.initialRowIndexArr[t]*e.cellIdList.length+o]:e.getCellData(t,i);for(var l=a.split(","),u=0;u<l.length;u++)if('"'+l[u]+'"'=='"'+s+'"'){n=!0;break}}return n};if(!t||!0!==t.allData&&!0!==t.allColumn)for(d=a.getDataLength(),p=0;p<d;p++){b=a.getCellData(p,this.itemsetObj.label),y=a.getCellData(p,this.itemsetObj.value);if(s[b]!=y){s[b]=y;w={label:b+"",value:y+""};!0===c(a,p,!1,t&&t.visibleColumn,t&&t.visibleColumnFalseValue)&&(w._hidden=!0),!0===c(a,p,!1,t&&t.enableColumn,t&&t.enableColumnFalseValue)&&(w._disabled=!0),t&&t.depthColumn&&(w._depth=a.getCellData(p,t.depthColumn)),o.push(w)}}else for(var d=a.getTotalRow(),p=0;p<d;p++){var h=a.bodyIdColIndexMap[this.itemsetObj.label],f=a.bodyIdColIndexMap[this.itemsetObj.value],g=a.cellInfoHash[this.itemsetObj.label],m=a.cellInfoHash[this.itemsetObj.value],b="",y="";if(b=g&&"expression"==g.options.inputType?g.getExpressionValue(p):"dataList"===a.initializeType?a.dataArr[p*a.cellIdList.length+h]:a._dataList.dataArr[a.initialRowIndexArr[p]*a.cellIdList.length+h],y=m&&"expression"==m.options.inputType?m.getExpressionValue(p):"dataList"===a.initializeType?a.dataArr[p*a.cellIdList.length+f]:a._dataList.dataArr[a.initialRowIndexArr[p]*a.cellIdList.length+f],s[b]!=y)if(s[b]=y,!0===t.allColumn)for(var S=a.getRowData(p),v=0;v<S.length;v++)o.push(S[v]);else{var w={label:b+"",value:y+""};if(!0===c(a,p,!0,t&&t.visibleColumn,t&&t.visibleColumnFalseValue)&&(w._hidden=!0),!0===c(a,p,!0,t&&t.enableColumn,t&&t.enableColumnFalseValue)&&(w._disabled=!0),t&&t.depthColumn){var C,q=a.bodyIdColIndexMap[t.depthColumn];C="dataList"===a.initializeType?a.dataArr[p*a.cellIdList.length+q]:a._dataList.dataArr[a.initialRowIndexArr[p]*a.cellIdList.length+q],w._depth=C}o.push(w)}}return o;case"dataMap":for(o=[],s={},p=0;p<a.getCount();p++){b=a.get(this.itemsetObj.label),y=a.get(this.itemsetObj.value);s[b]!=y&&(s[b]=y,o.push({label:b+"",value:y+""}))}return o}}catch(e){u.Y.printStackTrace(e)}},
ee.prototype.dataCollectionBinding=function(e){try{this.dataCollectionBindRef(e),this.dataCollectionBindItemset(e)}catch(e){u.Y.printStackTrace(e)}},ee.prototype.dataCollectionBindRef=function(e){try{if(this.ref&&""!=this.ref){this.isDataCollectionRefBinded=!0;var t=e.split("."),r=this.getDataComp(t[0].replace(/^data:/,""),{type:"aliasDataCollection"}),i=l.I.getComponentById(this.id);if(r){switch(r.addRefComp(i),this.dataCollectionRefInfo.dataComp=r,this.dataCollectionRefInfo.childComp=i,r.initializeType){case"linkedDataList":case"dataList":this.dataCollectionRefInfo.colID=t[1];break;case"dataMap":this.dataCollectionRefInfo.key=t[1]}WebSquare.DataCollection.api.addRefRelation(i.id,r.id)}else WebSquare.DataCollection.api.addRefRelation(i.id,t[0].replace(/^data:/,""));this.useRef=!0}}catch(e){u.Y.printStackTrace(e)}},ee.prototype.dataCollectionBindItemset=function(){try{this.itemsetObj&&""!=this.itemsetObj.nodeset&&(this.useItemset=!0)}catch(e){u.Y.printStackTrace(e)}},ee.prototype.getDataComp=function(e,t){try{void 0!==t&&null!=t||(t={});var r=e||this.itemsetObj.nodeset.replace(/^data:/,""),i=null;if(this.scope_uuid&&null!=WebSquare.idCache[this.scope_uuid]){for(var a=WebSquare.idCache[this.scope_uuid];null!=a&&null!=a.scope;a=a.scope_obj){if(null!=a.scope[r]){i=a.scope[r];break}if(a.scope_obj===a||a.options.inheritedCompName){if(!a.parentFrame||void 0===WebSquare.idCache[a.parentFrame])break;if(null!=(a=WebSquare.idCache[a.parentFrame]).scope[r]){i=a.scope[r];break}}if(WebSquare.strictMode)break}null==i&&null!=(i=WebSquare.DataCollection.comp[WebSquare.idCache[this.scope_uuid].id+"_"+r]||null)&&(WebSquare.idCache[this.scope_uuid].scope[r]=i)}return null==i&&(i=WebSquare.DataCollection.comp[r]),"aliasDataCollection"!==t.type&&!0===WebSquare.DataCollection.api.isAliasDataCollection(i)&&(i=i.getObj()),i}catch(e){u.Y.printStackTrace(e)}};var te=__webpack_require__(7249),re=function(){this.maxSize=50,this.historyArr=[],this.setKeyEvent()};re.prototype.set=function(e,t,r,i){this.historyArr.length>=this.maxSize&&this.historyArr.shift(),this.historyArr.push([e,t,r||{},i||{}])},re.prototype.get=function(e,t){for(var r={},i=this.historyArr.length-1;i>=0;i--){var a=this.historyArr[i];if(a[0]==e&&a[1]==t){r=a[2];break}}return r},re.prototype.clear=function(){for(var e=0;e<this.historyArr.length;e++)this.historyArr[e]=null;this.historyArr=[]},re.prototype.setKeyEvent=function(e){M.f.addListener(document.documentElement,"keydown",M.f.bindAsEventListener(this,this.handlerKeydownEvent))},re.prototype.handlerKeydownEvent=function(e){switch(e.charCode?e.charCode:e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 27:default:break;case 90:if(e.ctrlKey&&this.historyArr.length>0){var t=this.historyArr.pop();!0===t[3].stopEvent&&M.f.stopEvent(e),t[3].onRestore&&t[3].onRestore.call(this,t[2])}break;case 68:if(e.ctrlKey)"false"===(l.I.getConfiguration("/WebSquare/enableKey/useCtrlD/@value")||"false")&&M.f.stopEvent(e);break;case 75:if(e.ctrlKey){var r=l.I.getConfiguration("/WebSquare/cloneTab/@value"),i=r;""===r&&(i=l.I.getConfiguration("/WebSquare/enableKey/useCtrlK/@value")||"false"),"false"==i&&M.f.stopEvent(e)}}},re=new re;var ie=__webpack_require__(5386),ae=function(){};ae.prototype.getRealRowIndex=function(e){return this.filteredRowIndexArr[e]},ae.prototype.getFilteredRowIndex=function(e){if(this.filteredRowIndexArr[this.filteredRowIndexMap[e]]!==e){this.filteredRowIndexMap={};for(var t=0;t<this.filteredRowIndexArr.length;t++)this.filteredRowIndexMap[this.filteredRowIndexArr[t]]=t}return this.filteredRowIndexMap[e]},ae.prototype.getTotalRow=function(){try{return this.dataArr.length/this.oneRowDataLength}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getTotalCol=function(){try{return this.oneRowDataLength}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRowCount=function(){try{return this.getDataLength()}catch(e){u.Y.printStackTrace(e)}},ae.prototype._getData=function(e,t){try{t=this.getColumnIndex(t)
;var r=this.dataArr[e*this.getColumnCount()+t];return null==r&&(r=""),r}catch(e){u.Y.printStackTrace(e)}},ae.prototype._getCellData=function(e,t,r){try{var i,a;"number"==typeof t?(i=t,a=this.cellIdList[i]):(i=this.bodyIdColIndexMap[t],a=t);r=this.options.depthColumn&&!1!==r||!0===r?e:this.filteredRowIndexArr[e];var n=this.cellInfoHash[a];if(n){if("expression"==n.options.inputType)return n.getExpressionValue(r);var o=this.dataArr[r*this.cellIdList.length+i];return null==o&&(o=""),o}}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getCellData=function(e,t){try{return this._getCellData(e,t)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getCellAllData=function(e,t){try{return this._getCellData(e,t,!0)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getOriginalCellData=function(e,t){try{var r;r="number"==typeof t?t:this.bodyIdColIndexMap[t];var i=this.options.depthColumn?e:this.filteredRowIndexArr[e],a=this.originalDataArr[i*this.cellIdList.length+r];return null==a&&(a=""),a}catch(e){u.Y.printStackTrace(e)}},ae.prototype._getOriginalCellData=function(e,t){try{var r;r="number"==typeof t?t:this.bodyIdColIndexMap[t];var i=this.originalDataArr[e*this.cellIdList.length+r];return null==i&&(i=""),i}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getDataLength=function(){return this.filteredRowIndexArr.length},ae.prototype.getColCnt=function(){try{return this.getTotalCol()}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.getDepth=function(e){var t=-1;return this.options.depthColumn&&(t=parseInt(this._getData(e,this.getColumnID(this.options.depthColumn)))),t},ae.prototype.hasChild=function(e){var t=e+1,r=this.getColumnID(this.options.depthColumn);"dataList"==this.options.dataColumn&&(r=this.getColumnID(this.options.depthColumn));var i=parseInt(this._getData(e,r)),a=parseInt(this._getData(t,r));return i<(a=isNaN(a)?0:a)},ae.prototype.getColSum=function(e){try{var t=this.getColData(e);return f.Z.sum(t)}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.getColAvg=function(e){try{var t="",r=this.getColData(e);if(r.length>0){for(var i=0;i<r.length;i++)"string"==typeof r[i]&&""==r[i].replace(/^\s+|\s+$/g,"")&&(r[i]="0");t=f.Z.sum(r)}return""==t?"":t/r.length}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.getColMax=function(e){try{for(var t=null,r=this.getColData(e),i=0;i<r.length;i++){var a=parseFloat(r[i]);isNaN(a)||(null==t||t<a)&&(t=a)}return t=null==t?"":t,t=f.Z.setPrecision(t)}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.getColMin=function(e){try{for(var t=null,r=this.getColData(e),i=0;i<r.length;i++){var a=parseFloat(r[i]);isNaN(a)||(null==t||t>a)&&(t=a)}return t=null==t?"":t,t=f.Z.setPrecision(t)}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.getRealRowIndexArr=function(){return this.filteredRowIndexArr.slice(0)},ae.prototype.getColData=function(e,t){try{var r=[],i=this.getColumnIndex(e),a=this.getTotalRow();if("object"==typeof t&&null!=t&&t.length<=a)for(var n=t.length,o=0;o<n;o++)r.push(this._getData(t[o],i));else for(o=0;o<a;o++)r.push(this._getData(o,i));return r}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRowData=function(e,t){try{void 0!==t&&null!=t||(t={});var r=[],i=this.options.depthColumn||t.realRowIndex?e:this.filteredRowIndexArr[e],a=this.cellIdList.length;if("object"==typeof t.includeColumns&&null!=t.includeColumns&&t.includeColumns.constructor===Array)for(var n=t.includeColumns.length,o=0;o<n;o++){var s=t.includeColumns[o];if(c=this.cellInfoHash[s])if("expression"==c.options.inputType)d=c.getExpressionValue(i);else{var l=this.bodyIdColIndexMap[s];null==(d=this.dataArr[i*a+l])&&(d="")}r.push(d)}else for(l=0;l<a;l++){var c,d;s=this.cellIdList[l];(c=this.cellInfoHash[s])&&("expression"==c.options.inputType?d=c.getExpressionValue(i):null==(d=this.dataArr[i*a+l])&&(d="")),r.push(d)}return r}catch(e){u.Y.printStackTrace(e)}},ae.prototype._getRowData=function(e){try{for(var t=[],r=0;r<this.getColumnCount();r++)t.push(this._getData(e,r));return t}catch(e){u.Y.printStackTrace(e)}},
ae.prototype.getOriginalRowData=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e);return this._getOriginalRowData(t)}catch(e){u.Y.printStackTrace(e)}},ae.prototype._getOriginalRowData=function(e){try{for(var t=[],r=0;r<this.getColumnCount();r++)t.push(this._getOriginalCellData(e,r));return t}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getDataRow=function(e){try{for(var t=[],r=0;r<this.getColumnCount();r++){t[this.getColumnID(r)]=this.getCellData(e,r)}return t}catch(e){$l("dataController.getDataRow :"+e.message),u.Y.printStackTrace(e,null,this)}},ae.prototype.getMatchedData=function(e,t,r,i,a,n){try{void 0!==n&&null!=n||(n={}),this.broadcast({gridView:["_endEdit"]});var o=[],s=this.getMatchedIndex(e,t,r,i,a);this.options.getMatchedFromAllData&&(n.realRowIndex=!0);for(var l=0;l<s.length;l++)o.push(this.getRowData(s[l],n));return o}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getUnmatchedData=function(e,t,r,i,a,n){try{this.broadcast({gridView:["_endEdit"]});for(var o=[],s=this.getUnmatchedIndex(e,t,r,i,a),l=0;l<s.length;l++)o.push(this.getRowData(s[l],n));return o}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getMatchedColumnData=function(e,t,r,i,a,n){try{this.broadcast({gridView:["_endEdit"]});var o,s=[],l=this.getMatchedIndex(e,t,i,a,n);this.options.getMatchedFromAllData&&(o=!0);for(var c=0;c<l.length;c++)s.push(this._getCellData(l[c],r,o));return s}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getUnmatchedColumnData=function(e,t,r,i,a,n){try{this.broadcast({gridView:["_endEdit"]});for(var o=[],s=this.getUnmatchedIndex(e,t,i,a,n),l=0;l<s.length;l++)o.push(this.getCellData(s[l],r));return o}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getFilteredColData=function(e){var t=[];e=this.getColumnIndex(e);for(var r=this.getColumnID(e),i=0;i<this.getDataLength();i++){var a=i;this.options.depthColumn&&(a=this.filteredRowIndexArr[i]),t.push(this.getCellData(a,r))}return t},ae.prototype.getMatchedIndex=function(e,t,r,i,a){try{r=void 0===r||null==r||r,0!=(r=f.Z.getBoolean(r))&&(r=!0);var n=this.getColumnIndex(e);if(this.options.depthColumn||this.options.getMatchedFromAllData)var o=this.getColData(n);else o=this.getFilteredColData(n);var s=[];"number"!=typeof i&&(i=0),"number"!=typeof a&&(a=o.length),a>o.length&&(a=o.length);for(var l=i;l<a;l++){var c=o[l];if(1==r)(c===t||this.options.matchIgnoreCase&&"string"==typeof t&&"string"==typeof c&&c.toLowerCase()===t.toLowerCase())&&s.push(l);else{if(c===t){s.push(l);continue}"number"==typeof c&&(c+=""),("string"==typeof c&&c.indexOf(t)>-1||this.options.matchIgnoreCase&&"string"==typeof t&&"string"==typeof c&&c.toLowerCase().indexOf(t.toLowerCase())>-1)&&s.push(l)}}return s}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getUnmatchedIndex=function(e,t,r,i,a){try{0!=r&&(r=!0);var n=this.getColumnIndex(e);if(this.options.depthColumn)var o=this.getColData(n);else o=this.getFilteredColData(n);var s=[];"number"!=typeof i&&(i=0),"number"!=typeof a&&(a=o.length),a>o.length&&(a=o.length);for(var l=i;l<a;l++){var c=o[l];1==r?c!==t&&(this.options.matchIgnoreCase&&"string"==typeof t&&"string"==typeof c?c.toLowerCase()!==t.toLowerCase()&&s.push(l):s.push(l)):(c.indexOf(t)<=-1||this.options.matchIgnoreCase&&"string"==typeof t&&"string"==typeof c&&c.toLowerCase().indexOf(t.toLowerCase())<=-1)&&s.push(l)}return s}catch(e){u.Y.printStackTrace(e)}},ae.prototype.toArray=function(e,t){try{if("string"!=typeof e)return null===e?c.v.printLog("[WebSquare.DataCollection.dataController.toArray] parameter is null.["+this.id+"]"):c.v.printLog("[WebSquare.DataCollection.dataController.toArray] parameter isn't string. ["+typeof e+"]["+this.id+"]"),[];t=null==t?'","':'"'+t+'"';if(null!=e.match(/^\[\s*\]$/g))return new Array;var r=e.split(t);return r[0]=r[0].substr(2),r[r.length-1]=r[r.length-1].substr(0,r[r.length-1].length-2),r}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getMappingData=function(e,t,r){try{for(var i,a={},n=0,o=this.cellIdList.length,s=t.length,l=e.length/s,d=0;d<s;d++){i=!1
;for(var p=0;p<o;p++)if(t[d]===this.cellIdList[p]){i=!0,a[p]=d;break}i||n++}if(n===s)return c.v.printLog("[WebSquare.DataCollection.dataController.setData] not exist all target column in ["+this.id+"]"),[];for(var h,f,g=new Array(l*o),m=0;m<l;m++)for(var b=0;b<o;b++)void 0!==(f=a[b])?(h=e[f+m*s],g[m*o+b]=h):g[m*o+b]="";return e=null,g}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRangeData=function(e,t,r,i){try{var a,n=[];if(a=this.options.depthColumn?this.getTotalRow()-1:this.getDataLength()-1,e>t){var o=t;t=e,e=o}e<0&&(e=0),t>a&&(t=a);for(var s=e;s<=t;s++)for(var l=this.getRowData(s,i),c=0;c<l.length;c++)n.push(l[c]);return n}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getAllData=function(e){try{if(this.broadcast({gridView:["_endEdit"]}),this.getTotalRow()!=this.getDataLength()){for(var t=[],r=this.getTotalRow(),i=0;i<r;i++)for(var a=this._getRowData(i,e),n=0;n<a.length;n++)t.push(a[n]);return t}t=[];var o=this.getDataLength();for(i=0;i<o;i++)for(a=this.getRowData(i,e),n=0;n<a.length;n++)t.push(a[n]);return t}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getAllArrayEvalString=function(){try{return this.broadcast({gridView:["_endEdit"]}),f.Z.parseArray(this.dataArr)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getColumnDistinctDataArray=function(e,t){try{this.broadcast({gridView:["_endEdit"]});var r=[],i={};"string"==typeof e&&(e=this.bodyIdColIndexMap[e]);for(var a=this.getCellInfo(e),n=this.getColData(e),o=0;o<n.length;o++){i[n[o]]=1}for(var s in i)r.push(s);return t&&0==t.sort||("text"==a.options.dataType?r.sort():r.sort(this.comparator)),r}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getAllFilteredData=function(e){this.broadcast({gridView:["_endEdit"]});for(var t=[],r=0;r<this.getDataLength();r++)for(var i=this.getRowData(r,e),a=0;a<i.length;a++)t.push(i[a]);return t},ae.prototype.getChildrenRowArr=function(e){var t=[];if(this.options.depthColumn){var r=this.getTotalRow(),i=this.options.depthColumn,a=this.getColumnID(i),n=e+1,o=parseInt(this._getData(e,a),10);if(n<r&&this._getData(n,a)>o){t.push(n);var s=parseInt(this._getData(n,a),10),l=!0}if(l)for(n=e+2;n<r&&!(this._getData(n,a)<o+1);n++)this._getData(n,a)<s+1&&(t.push(n),s=parseInt(this._getData(n,a),10))}return t},ae.prototype.getRecursiveRowIndex=function(e){try{for(var t=[],r=this.getChildrenRowArr(e),i=0;i<r.length;i++){var a=r[i];t.push(a);for(var n=this.getRecursiveRowIndex(a),o=0;o<n.length;o++)t.push(n[o])}return t}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.getParentRowIndex=function(e){try{if(this.options.depthColumn)for(var t=this.options.depthColumn,r=this.getColumnID(t),i=parseInt(this._getData(e,r)),a=e-1;a>=0;a--)if(this._getData(a,r)<i)return a;return-1}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.getRangeXML=function(e,t,r){try{var i;if(r=r||{},i=this.options.depthColumn?this.getTotalRow()-1:this.getDataLength()-1,e>t){var a=t;t=e,e=a}e<0&&(e=0),t>i&&(t=i);for(var n=[],o=f.Z.getBoolean(l.I.getConfiguration("/WebSquare/dataList/decreaseGetRangeXML/@value")),s=e;s<t;s++)n.push(s);return o&&!r.useGetRowXML||n.push(t),this.getArrXML(n,r)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getMatchedXML=function(e,t,r,i,a,n){try{void 0!==n&&null!=n||(n={}),this.broadcast({gridView:["_endEdit"]});var o=this.getMatchedIndex(e,t,r,i,a);return this.options.getMatchedFromAllData&&(n.realRowIndex=!0),this.getArrXML(o,n)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getUnmatchedXML=function(e,t,r,i,a,n){try{this.broadcast({gridView:["_endEdit"]});var o=this.getUnmatchedIndex(e,t,r,i,a);return this.getArrXML(o,n)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRowXML=function(e,t){try{(t=t||{}).useGetRowXML=!0;var r,i=this.getRangeXML(e,e,t);return r="dataMap"==this.initializeType?this.options.baseNode+"/"+this.options.repeatNode.split("/")[0]:this.options.baseNode+"/"+this.options.repeatNode,i=WebSquare.xml.findNode(i,r),i=WebSquare.xml.parse(WebSquare.xml.serialize(i))}catch(e){u.Y.printStackTrace(e)}},
ae.prototype.getAllXML=function(e){try{return this.broadcast({gridView:["_endEdit"]}),this.getTotalRow()==this.getDataLength()?this.getAllFilteredXML(e):this.getAllArrXML(e)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getAllFilteredXML=function(e){try{this.broadcast({gridView:["_endEdit"]});for(var t=this.getDataLength(),r=[],i=0;i<t;i++)r.push(i);return this.getArrXML(r,e)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRowJSON=function(e,t){try{void 0!==t&&null!=t||(t={});for(var r={},i=this.options.depthColumn||t.realRowIndex?e:this.filteredRowIndexArr[e],a=this.cellIdList.length,n=!0===t.exceptEmptyValue&&"true"===l.I.getConfiguration("/WebSquare/submission/exceptEmptyValue/@value"),o="object"==typeof t.includeColumns&&null!=t.includeColumns&&t.includeColumns.constructor===Array,s=o?t.includeColumns.length:a,c=0;c<s;c++){var d=o?t.includeColumns[c]:this.cellIdList[c],p=this.cellInfoHash[d];if(p){var h;if("expression"==p.options.inputType)h=p.getExpressionValue(i);else{var f=o?this.bodyIdColIndexMap[d]:c;null==(h=this.dataArr[i*a+f])&&(h="")}if(""===h&&p.options.nullYN)if("null"===this.options.nullYNType)r[d]=null;else{if("exclude"===this.options.nullYNType)continue;r[d]=h}else(!n||""!==h||"bigDecimal"!==p.options.dataType&&"number"!==p.options.dataType)&&(r[d]=h)}}var g=this.options.rowStatusNodeName,m=0!=t.rowStatusData||t.rowStatusData;return t.rowStatusNodeName&&(g=t.rowStatusNodeName),"dataList"!=this.initializeType&&"removeManager"!=this.initializeType||(m&&(r[g]=this.rowStatusArr[i]),this.options.rowNumData&&(r.rowNum=e+1)),r}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRefRowJSON=function(e,t){try{return void 0!==t&&null!=t||(t={}),t.exceptEmptyValue=!0,this.getRowJSON(e,t)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getVirtualRowJSON=function(e,t,r){try{var i={};t=this.getColumnID(t);for(var a=0;a<this.getColumnCount();a++){var n=this.getColumnID(a);i[n]=n==t?r:this.getCellData(e,n)}return i}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getAllJSON=function(e){try{this.broadcast({gridView:["_endEdit"]});var t=[],r=this.getTotalRow(),i=this.getDataLength();if(r!=i){void 0===e||null==e?e={realRowIndex:!0}:e.realRowIndex=!0;for(var a=0;a<r;a++)t.push(this.getRowJSON(a,e))}else for(a=0;a<i;a++)t.push(this.getRowJSON(a,e));if(null!=this.options.customFormatter){var n=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof n&&(t=n(this,t))}return t}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRefAllJSON=function(e){try{return void 0!==e&&null!=e||(e={}),e.exceptEmptyValue=!0,this.getAllJSON(e)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRangeJSON=function(e,t,r){try{var i,a=[];if(i=this.options.depthColumn?this.getTotalRow()-1:this.getDataLength()-1,e>t){var n=t;t=e,e=n}e<0&&(e=0),t>i&&(t=i);for(var o=e;o<=t;o++)a.push(this.getRowJSON(o,r));if(null!=this.options.customFormatter){var s=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof s&&(a=s(this,a))}return a}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getMatchedJSON=function(e,t,r,i,a,n){try{this.broadcast({gridView:["_endEdit"]});var o=[],s=this.getMatchedIndex(e,t,r,i,a,n);void 0!==n&&null!=n||(n={}),this.options.getMatchedFromAllData&&(n.realRowIndex=!0);for(var l=0;l<s.length;l++)o.push(this.getRowJSON(s[l],n));if(null!=this.options.customFormatter){var c=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof c&&(o=c(this,o))}return o}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getUnmatchedJSON=function(e,t,r,i,a,n){try{this.broadcast({gridView:["_endEdit"]});for(var o=[],s=this.getUnmatchedIndex(e,t,r,i,a,n),l=0;l<s.length;l++)o.push(this.getRowJSON(s[l],n));if(null!=this.options.customFormatter){var c=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof c&&(o=c(this,o))}return o}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getAllFilteredJSON=function(e){try{this.broadcast({gridView:["_endEdit"]})
;for(var t=[],r=this.getDataLength(),i=0;i<r;i++){var a=this.options.depthColumn?this.getRealRowIndex(i):i;t.push(this.getRowJSON(a,e))}return t}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getFusionChartData=function(e,t,r,i){try{var a,n={},o=this.getAllArray();if(t||(t=o.columnInfo[0]),r)a=r.wq_replaceAll("'",'"'),a=JSON.parse(a),r=a[0];else{for(var s=new Array,l=1;l<=o.columnInfo.length;l++)"number"==this.getCellInfo(l).options.dataType&&s.push(o.columnInfo[l]);"msstackedcolumn2d"==e.toLowerCase()||"scrollmsstackedcolumn2d"==e.toLowerCase()?((a=[])[0]=new Array(s[0]),a[1]=new Array(s[1])):"msstackedcolumn2dlinedy"==e.toLowerCase()||"scrollmsstackedcolumn2dlinedy"==e.toLowerCase()?((a=[])[0]=new Array(s[0]),a[1]=new Array(s[1]),a[2]=new Array(s[2])):r=s}switch(this._singleSerises=function(){for(var e=[],a=this.getAllJSON(),o=0;o<a.length;o++){var s={label:a[o][t],value:a[o][r[0]],color:a[o][i]};e.push(s)}var l={labelName:"",valueName:""};return a.length>0&&(l.labelName=this.getColumnName(t),l.valueName=this.getColumnName(r[0])),n.dataName=l,n.data=e,n},this._multiSerises=function(){(n=this._getFusionChartCategory()).dataset=[];for(var e=0;e<r.length;e++){var t=this._getFusionChartSeriesDate(e);t.data.length>0&&n.dataset.push(t)}return 0==n.dataset.length&&(n={}),n},this._msStacked=function(){(n=this._getFusionChartCategory()).dataset=[];for(var e=0;e<a.length;e++){r=a[e];for(var t={dataset:[]},i=0;i<r.length;i++){var o=this._getFusionChartSeriesDate(i);t.dataset.push(o)}n.dataset.push(t)}return n},this._msStackedColumn2DLineDY=function(){(n=this._getFusionChartCategory()).dataset=[];for(var e=0;e<a.length-1;e++){r=a[e];for(var t={dataset:[]},i=0;i<r.length;i++){var o=this._getFusionChartSeriesDate(i);t.dataset.push(o)}n.dataset.push(t)}n.lineset=[];var s=a.length-1;r=a[s];for(e=0;e<r.length;e++){o=this._getFusionChartSeriesDate(e);n.lineset.push(o)}return n},this._scatter=function(){n.dataset=[];for(var i=this._getUniqueArr(this.getColData(t)),a=0;a<i.length;a++){for(var o={data:[]},s=0;s<this.getRowCount();s++)if(i[a]==this.getCellData(s,t)){var l={};"scatter"==e.toLowerCase()||"zoomscatter"==e.toLowerCase()?l={x:this.getCellData(s,r[0]),y:this.getCellData(s,r[1])}:"bubble"==e.toLowerCase()&&(l={x:this.getCellData(s,r[0]),y:this.getCellData(s,r[1]),z:this.getCellData(s,r[2])}),o.data.push(l)}o.seriesname=i[a],n.dataset.push(o)}return n},this._zoomLine=function(){if(1==this.getRowCount()){(n={categories:[{category:this.getCellData(0,t)}]}).dataset=[];for(var e=0;e<r.length;e++){var i={};i.seriesname=this.getColumnName(r[e]),i.data=this.getCellData(0,r[e]),n.dataset.push(i)}return n}return this._multiSerises()},this._getFusionChartCategory=function(){for(var e=[],r=this.getColData(t),i=0;i<r.length;i++){var a={label:r[i]};e.push(a)}return{categories:[{category:e}]}},this._getFusionChartSeriesDate=function(e){var t,i={};i.data=[];var a=[];if("string"!=typeof r[e]){for(var n in t=r[e].id,i.seriesname=this.getColumnName(t),r[e])if(r[e].hasOwnProperty(n))if(this.hasColumn(r[e][n])&&"id"!=n.toLowerCase()){var o={};o[n]=r[e][n],a.push(o)}else i[n]=r[e][n]}else t=r[e],i.seriesname=this.getColumnName(t);for(var s=0;s<this.getRowCount();s++){for(var l={value:this.getCellData(s,t)},u=0;u<a.length;u++)for(var c in a[u])l[c]=this.getCellData(s,a[u][c]);i.data.push(l)}return i},this._getUniqueArr=function(e){for(var t={},r=[],i=0;i<e.length;i++)void 0===t[e[i]]&&(t[e[i]]=1);for(var i in t)r.push(i);return r},e.toLowerCase()){case"column2d":case"column3d":case"bar2d":case"bar3d":case"pie2d":case"pie3d":case"doughnut2d":case"doughnut3d":case"pareto2d":case"pareto3d":case"line":case"area2d":case"ssgrid":case"funnel":case"pyramid":case"sparkline":case"sparkcolumn":case"sparkwinloss":return this._singleSerises();case"mscolumn2d":case"mscolumn3d":case"msline":case"msarea":case"msbar2d":case"msbar3d":case"marimekko":case"stackedcolumn2d":case"stackedcolumn3d":case"stackedarea2d":case"stackedarea2dlinedy":case"stackedbar2d":case"stackedbar3d":
case"mscombi3d":case"mscombi2d":case"mscolumnline3d":case"stackedcolumn2dline":case"stackedcolumn2dlinedy":case"stackedcolumn3dline":case"mscombidy2d":case"mscombidy3d":case"mscolumn3dlinedy":case"scrollcolumn2d":case"scrollline2d":case"scrollArea2d":case"scrollbar2d":case"scrollstackedcolumn2d":case"scrollstackedbar2d":case"scrollcombi2d":case"scrollcombidy2d":case"stackedcolumn3dlinedy":case"overlappedcolumn2d":case"overlappedbar2d":return this._multiSerises();case"scatter":case"bubble":case"zoomscatter":return this._scatter();case"zoomline":case"zoomlinedy":return this._zoomLine();case"msstackedcolumn2d":case"scrollmsstackedcolumn2d":return this._msStacked();case"msstackedcolumn2dlinedy":case"scrollmsstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY()}}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getfwGanttChartData=function(e){try{var t={chart:{},categories:[],processes:{}};t.processes.process=[],t.datatable={},t.datatable.datacolumn=[],t.tasks={},t.tasks.task=[],t.legend={},t.legend.item=[];var r=e.monthNames.split(","),i=e.quarterNames.split(","),a=e.dataColumns.split(","),n=this.getColumnDistinctDataArray(e.processNode,{sort:!1}),o=[];if(""!=a)for(var s=0;s<a.length;s++)o[s]=this.getColumnDistinctDataArray(a[s],{sort:!1});var l=this.getColumnDistinctDataArray(e.taskNode,{sort:!1}),c=[];c.push(e.startDateNode),c.push(e.endDateNode);var d,p=[],h={};if(e.processIdNode&&e.taskIdNode){d=this.getColumnDistinctDataArray(e.processIdNode,{sort:!1});for(s=0;s<d.length;s++)h[n[s]]=d[s]}this._getGanttTaskData=function(t,r,i,a,n,o){for(var s=this.getRowCount(),l=this.getMatchedIndex(e.taskNode,t,!0,0,s),u=[],c=0;c<l.length;c++){var d,p={};this.options.getMatchedFromAllData&&(d=!0);var h=this.getCellData(l[c],e.processNode);if(p.label=this.getCellData(l[c],e.taskNode),p.processid=r[h],p.color=o[h],e.taskIdNode?p.id=this._getCellData(l[c],e.taskIdNode,d):p.id=p.processid+"_"+c,f.Z.getBoolean(e.multiTasks)){var g=i.length,m=100/g/2/2,b=100/g,y=100/g/2,S=l[c]%g;p.toppadding=b*S+m+"%",p.height=y+"%"}if("object"==typeof a&&("yyyyMMdd"==e.dateformat?(p.start=WebSquare.text.formatDate(this.getCellData(l[c],a[0]),"yyyy/MM/dd","yyyyMMdd"),p.end=WebSquare.text.formatDate(this.getCellData(l[c],a[1]),"yyyy/MM/dd","yyyyMMdd")):(p.start=this.getCellData(l[c],a[0]),p.end=this.getCellData(l[c],a[1]))),u.push(p),"dd/mm/yyyy"==e.dateformat||"dd-mm-yyyy"==e.dateformat){if(-1!=e.dateformat.indexOf("/")){var v="$2/$1/$3";f.Z.isFF()&&(v="$3/$2/$1"),n.push(new Date(p.start.replace(/(\d{2})\/(\d{2})\/(\d{4})/,v))),n.push(new Date(p.end.replace(/(\d{2})\/(\d{2})\/(\d{4})/,v)))}else if(-1!=e.dateformat.indexOf("-")){v="$2-$1-$3";f.Z.isFF()&&(v="$3-$2-$1"),f.Z.isSafari()?(n.push(new Date(p.start.replace(/(\d{2})-(\d{2})-(\d{4})/,v).wq_replaceAll("-","/"))),n.push(new Date(p.end.replace(/(\d{2})-(\d{2})-(\d{4})/,v).wq_replaceAll("-","/")))):(n.push(new Date(p.start.replace(/(\d{2})-(\d{2})-(\d{4})/,v))),n.push(new Date(p.end.replace(/(\d{2})-(\d{2})-(\d{4})/,v))))}}else n.push(new Date(p.start)),n.push(new Date(p.end))}return u};var g=[],m={},b={},y=0,S=e.plotColor.split(",");for(s=0;s<n.length;s++,y++){var v={};e.processIdNode&&e.taskIdNode?v.id=h[n[s]]:v.id="process_"+s,v.name=n[s],m[n[s]]=v.id,S.length>y||(y=0),b[n[s]]=S[y],g.push(v)}t.processes.process=g;var w=[];if(""!=a)for(s=0;s<o.length;s++){for(y=0;y<o[s].length;y++){(v={}).label=o[s][y],w.push(v)}t.datatable.datacolumn.push({text:w}),w=[]}var C=[];for(s=0;s<l.length;s++){var q=this._getGanttTaskData(l[s],m,l,c,p,b);C=C.concat(q)}if(t.tasks.task=C,t.tasks.showlabels="1",f.Z.getBoolean(e.autoCategory)||"3.11"==e.version){p.sort((function(e,t){return e-t}));var W=p[0],_=p[p.length-1];if(this._getMonthOfFirstDay=function(e){return new Date(e.getFullYear(),e.getMonth()+1,1).getDate()},this._getMonthOfLastDay=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},"date"==e.timeBase.toLowerCase()){
var x=this._getMonthOfFirstDay(W),I=this._getMonthOfLastDay(_),T=W.getFullYear()+"/"+(W.getMonth()+1)+"/"+x,k=_.getFullYear()+"/"+(_.getMonth()+1)+"/"+I,L=new Date(T),A=new Date(k),E=[],D=new Date(L.getTime());for(E.push(new Date(L.getTime()));D.getTime()<A.getTime();)E.push(new Date(D.setDate(this._getMonthOfLastDay(D)))),D=new Date(D.setDate(this._getMonthOfFirstDay(D))),D=new Date(D.setMonth(D.getMonth()+1>12?0:D.getMonth()+1)),E.push(D);var M="dd/mm/yyyy"==e.dateformat||"dd-mm-yyyy"==e.dateformat||"mm/dd/yyyy"==e.dateformat||"mm-dd-yyyy"==e.dateformat||"yyyy-mm-dd"==e.dateformat||"yyyy/mm/dd"==e.dateformat?e.dateformat.wq_replaceAll("mm","MM"):e.dateformat;if("yyyyMMdd"==M&&(M="yyyy/MM/dd"),2==e.categoryDepth){for(var N={category:[]},R={quater1_start:"/01/01",quater1_end:"/03/31",quater2_start:"/04/01",quater2_end:"/06/30",quater3_start:"/07/01",quater3_end:"/09/30",quater4_start:"/10/01",quater4_end:"/12/31"},O=new Date(L.getTime());O.getTime()<A.getTime();){var P={};O.getMonth()+1<=3?(P.start=WebSquare.date.getFormattedDate(O,M),P.end=WebSquare.date.getFormattedDate(new Date(O.getFullYear()+R.quater1_end),M),P.label=i[0],N.category.push(P),O=new Date(O.getFullYear()+R.quater2_start)):O.getMonth()+1<=6?(P.start=WebSquare.date.getFormattedDate(O,M),P.end=WebSquare.date.getFormattedDate(new Date(O.getFullYear()+R.quater2_end),M),P.label=i[1],N.category.push(P),O=new Date(A.getFullYear()+R.quater3_start)):O.getMonth()+1<=9?(P.start=WebSquare.date.getFormattedDate(O,M),P.end=WebSquare.date.getFormattedDate(new Date(O.getFullYear()+R.quater3_end),M),P.label=i[2],N.category.push(P),O=new Date(O.getFullYear()+R.quater4_start)):(P.start=WebSquare.date.getFormattedDate(O,M),P.end=WebSquare.date.getFormattedDate(new Date(O.getFullYear()+R.quater4_end),M),P.label=i[3],N.category.push(P),O<A&&(O=new Date(O.getFullYear()+1+R.quater1_start)))}e.resizeLastMonth&&(N.category[N.category.length-1].end=WebSquare.date.getFormattedDate(A,M)),t.categories.push(N)}var F={category:[]};for(s=0;s<E.length;s+=2){(P={}).start=WebSquare.date.getFormattedDate(E[s],M),P.end=WebSquare.date.getFormattedDate(E[s+1],M),P.label=r[E[s].getMonth()],P.start&&P.end&&F.category.push(P)}t.categories.push(F)}else if("time"==e.timeBase.toLowerCase())if("12"==e.timeGap){E=["00:00:00","11:59:59","12:00:00","23:59:59"];var Y=WebSquareLang.fwGanttChart_ampm.split(",");for(F={category:[]},s=0;s<E.length;s+=2){switch((P={}).start=E[s],P.end=E[s+1],s){case 0:P.label=Y[0];break;case 2:P.label=Y[1]}F.category.push(P)}t.chart.outputdateformat="hh:mn ampm",t.categories.push(F)}else if("6"==e.timeGap){for(E=["00:00:00","05:59:59","06:00:00","11:59:59","12:00:00","17:59:59","18:00:00","23:59:59"],Y=WebSquareLang.fwGanttChart_timeGap6Label.split(","),F={category:[]},s=0;s<E.length;s+=2){switch((P={}).start=E[s],P.end=E[s+1],s){case 0:P.label=Y[0];break;case 2:P.label=Y[1];break;case 4:P.label=Y[2];break;case 6:P.label=Y[3]}F.category.push(P)}t.chart.outputdateformat="hh:mn ampm",t.categories.push(F)}else{for(E=["00:00:00","02:59:59","03:00:00","05:59:59","06:00:00","08:59:59","09:00:00","11:59:59","12:00:00","14:59:59","15:00:00","17:59:59","18:00:00","20:59:59","21:00:00","23:59:59"],Y=WebSquareLang.fwGanttChart_timeGap3Label.split(","),F={category:[]},s=0;s<E.length;s+=2){switch((P={}).start=E[s],P.end=E[s+1],s){case 0:P.label=Y[0];break;case 2:P.label=Y[1];break;case 4:P.label=Y[2];break;case 6:P.label=Y[3];break;case 8:P.label=Y[4];break;case 10:P.label=Y[5];break;case 12:P.label=Y[6];break;case 14:P.label=Y[7]}F.category.push(P)}t.chart.outputdateformat="hh:mn ampm",t.categories.push(F)}else if("datetime"==e.timeBase.toLowerCase())if("12"==e.timeGap){T=W.getMonth()+1+"/"+W.getDate()+"/"+W.getFullYear()+" 00:00:00",k=_.getMonth()+1+"/"+_.getDate()+"/"+_.getFullYear()+" 23:59:59",L=new Date(T),A=new Date(k),E=[],D=new Date(L.getTime());for(E.push(D);D<A;)"0"==D.getSeconds()?(D=new Date(D.getTime()+43199e3),E.push(D)):(D=D.getTime()+1e3,D=new Date(D),E.push(D));F={category:[]}
;if(2==e.categoryDepth){for(N={category:[]},s=0;s<E.length;s+=4){(P={}).start=E[s],P.end=E[s+3],P.label=WebSquare.date.getFormattedDate(E[s],"yyyy/MM/dd"),N.category.push(P)}t.categories.push(N)}for(Y=WebSquareLang.fwGanttChart_ampm.split(","),s=0;s<E.length;s+=2){(P={}).start=E[s],P.end=E[s+1],1*E[s+1].getHours()>12?P.label=Y[1]:P.label=Y[0],F.category.push(P)}t.categories.push(F)}else if("24"==e.timeGap.toLowerCase()){T=W.getMonth()+1+"/"+W.getDate()+"/"+W.getFullYear()+" 00:00:00",k=_.getMonth()+1+"/"+_.getDate()+"/"+_.getFullYear()+" 23:59:59",L=new Date(T),A=new Date(k),E=[],D=new Date(L.getTime());for(E.push(D);D<A;)"0"==D.getSeconds()?(D=new Date(D.getTime()+86399e3),E.push(D)):(D=D.getTime()+1e3,D=new Date(D),E.push(D));if(2==e.categoryDepth){N={category:[]},x=this._getMonthOfFirstDay(W),I=this._getMonthOfLastDay(_),T=W.getFullYear()+"/"+(W.getMonth()+1)+"/"+x,k=_.getFullYear()+"/"+(_.getMonth()+1)+"/"+I,L=new Date(T),A=new Date(k);var j=[];D=new Date(L.getTime());for(j.push(new Date(L.getTime()));D.getTime()<A.getTime();)j.push(new Date(D.setDate(this._getMonthOfLastDay(D)))),D=new Date(D.setDate(this._getMonthOfFirstDay(D))),D=new Date(D.setMonth(D.getMonth()+1>12?0:D.getMonth()+1)),j.push(D);for(s=0;s<j.length;s+=2){(P={}).start=WebSquare.date.getFormattedDate(j[s],e.dateformat),P.end=WebSquare.date.getFormattedDate(j[s+1],e.dateformat),P.label=r[j[s].getMonth()],P.start&&P.end&&N.category.push(P)}t.categories.push(N)}for(F={category:[]},s=0;s<E.length;s+=2){(P={}).start=E[s],P.end=E[s+1],P.label=2==e.categoryDepth?WebSquare.date.getFormattedDate(E[s],"dd")+WebSquareLang.fwGanttChart_dateSuffix:WebSquare.date.getFormattedDate(E[s],"yyyy/MM/dd"),F.category.push(P)}t.chart.outputdateformat="dd/mm/yyyy hh:mn:ss ampm",t.categories.push(F)}}return t}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRealtimeData=function(e,t,r,i){var a={},n=this.getAllArray();if(e||(e=n.columnInfo[0]),t||(t=n.columnInfo[1]),!r){for(var o=new Array,s=0;s<n.columnInfo.length;s++)"number"==this.getCellInfo(s).options.dataType&&o.push(n.columnInfo[s]);r=o[0]}return this._multiSerises=function(){(a={}).categories=[{category:[]}],a.dataset=[];for(var e=i.plotColor.split(","),r=this.getColumnDistinctDataArray(t,{sort:!1}),n=0;n<r.length;n++){var o=this._getfwRealtimeChartSeriesDate(r[n]);o.color=e[n],a.dataset.push(o)}return a},this._getfwRealtimeChartSeriesDate=function(e){var t={};return t.seriesname=e,t},this._multiSerises()},ae.prototype.getFusionChartSimpleData=function(e,t,r,i,a){try{var n={},o=this.getAllArray();if(t||(t=o.columnInfo[0]),r||(r=o.columnInfo[1]),!i){for(var s=new Array,l=0;l<o.columnInfo.length;l++)"number"==this.getCellInfo(l).options.dataType&&s.push(o.columnInfo[l]);i=s[0]}switch(this._singleSerises=function(){for(var e=[],r=this.getAllJSON(),o=0;o<r.length;o++){var s={label:r[o][t],value:r[o][i],color:r[o][a]};e.push(s)}var l={labelName:"",valueName:""};return r.length>0&&(l.labelName=this.getColumnName(t),l.valueName=this.getColumnName(i)),n.dataName=l,n.data=e,n},this._multiSerises=function(){(n=this._getFusionChartCategory()).dataset=[];for(var e=this.getColumnDistinctDataArray(r,{sort:!1}),t=0;t<e.length;t++){var i=this._getFusionChartSeriesDate(e[t]);n.dataset.push(i)}return 0==n.dataset.length&&(n={}),n},this._combiSerises=function(){return!1},this._msStacked=function(){return!1},this._msStackedColumn2DLineDY=function(){return!1},this._scatter=function(){return!1},this._zoomLine=function(){return 1!=this.getRowCount()&&this._multiSerises()},this._getFusionChartCategory=function(){for(var e=[],r=this.getColumnDistinctDataArray(t,{sort:!1}),i=0;i<r.length;i++){var a={label:r[i]};e.push(a)}return{categories:[{category:e}]}},this._getFusionChartSeriesDate=function(e){var n={data:[]};n.seriesname=e;var o,s=this.getColumnDistinctDataArray(t,{sort:!1}),l=this.getRowCount(),u=this.getMatchedIndex(r,e,!0,0,l);this.options.getMatchedFromAllData&&(o=!0);for(var c=0;c<s.length;c++){for(var d={value:0
},p=0;p<u.length;p++)if(s[c]==this._getCellData(u[p],t,o)){var h=this._getCellData(u[p],a,o);d=h?{value:this._getCellData(u[p],i,o),color:h}:{value:this._getCellData(u[p],i,o)}}n.data.push(d)}return n},e.toLowerCase()){case"column2d":case"column3d":case"bar2d":case"bar3d":case"pie2d":case"pie3d":case"doughnut2d":case"doughnut3d":case"pareto2d":case"pareto3d":case"line":case"area2d":case"ssgrid":case"funnel":case"pyramid":case"sparkline":case"sparkcolumn":case"sparkwinloss":return this._singleSerises();case"mscolumn2d":case"mscolumn3d":case"msline":case"msarea":case"msbar2d":case"msbar3d":case"marimekko":case"stackedcolumn2d":case"stackedcolumn3d":case"stackedarea2d":case"stackedarea2dlinedy":case"stackedbar2d":case"stackedbar3d":case"scrollcolumn2d":case"scrollline2d":case"scrollArea2d":case"scrollbar2d":case"overlappedcolumn2d":case"overlappedbar2d":case"scrollstackedcolumn2d":case"scrollstackedbar2d":return this._multiSerises();case"mscombi3d":case"mscombi2d":case"mscolumnline3d":case"stackedcolumn2dline":case"stackedcolumn2dlinedy":case"stackedcolumn3dline":case"mscombidy2d":case"mscombidy3d":case"mscolumn3dlinedy":case"stackedcolumn3dlinedy":case"scrollcombi2d":case"scrollcombidy2d":return this._combiSerises();case"scatter":case"bubble":case"zoomscatter":return this._scatter();case"zoomline":case"zoomlinedy":return this._zoomLine();case"msstackedcolumn2d":case"scrollmsstackedcolumn2d":return this._msStacked();case"msstackedcolumn2dlinedy":case"scrollmsstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY()}}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRowArray=function(e){try{var t={};return t.columnInfo=this.cellIdList,t.data=this.getRowData(e),t}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getAllArray=function(e){try{var t={};return void 0!==e&&null!=e||(e={}),"object"==typeof e.includeColumns&&null!=e.includeColumns&&e.includeColumns.constructor===Array?t.columnInfo=e.includeColumns:t.columnInfo=this.cellIdList,t.data=this.getAllData(e),t}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getRangeArray=function(e,t,r){try{var i={};return i.columnInfo=this.cellIdList,i.data=this.getRangeData(e,t,r),i}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getMatchedArray=function(e,t,r,i,a,n){try{void 0!==n&&null!=n||(n={});var o={};"object"==typeof n.includeColumns&&null!=n.includeColumns&&n.includeColumns.constructor===Array?o.columnInfo=n.includeColumns:o.columnInfo=this.cellIdList;var s=this.getMatchedIndex(e,t,r,i,a),l=[];this.options.getMatchedFromAllData&&(n.realRowIndex=!0);for(var c=0;c<s.length;c++)for(var d=this.getRowData(s[c],n),p=0;p<d.length;p++)l.push(d[p]);return o.data=l,o}catch(e){u.Y.printStackTrace(e)}},ae.prototype.getUnmatchedArray=function(e,t,r,i,a,n){try{void 0!==n&&null!=n||(n={});var o={};"object"==typeof n.includeColumns&&null!=n.includeColumns&&n.includeColumns.constructor===Array?o.columnInfo=n.includeColumns:o.columnInfo=this.cellIdList;for(var s=this.getUnmatchedIndex(e,t,r,i,a),l=[],c=0;c<s.length;c++)for(var d=this.getRowData(s[c],n),p=0;p<d.length;p++)l.push(d[p]);return o.data=l,o}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setCellData=function(e,t,r,i,a){try{"object"==typeof e&&null!=e&&"number"==typeof e.realRowIndex&&(e.filteredRowIndex=e.realRowIndex,e.realRowIndex=!0),this._setCellData.call(this,e,t,r,i,a)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setCellAllData=function(e,t,r,i,a){try{"object"==typeof e&&null!=e?(e.realRowIndex=!0,this._setCellData.call(this,e)):this._setCellData.call(this,{filteredRowIndex:e,colID:t,value:r,direction:i,skipBroadCast:a,realRowIndex:!0});var n=this.getRowCount();this.filterManager.executeAllFilter(this.dataArr,this.getTotalRow(),this.getTotalCol()),n!==this.getRowCount()&&this.broadcast({gridView:["notifySettedFilter"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e)}},ae.prototype._setCellData=function(e,t,r,i,a,n,o,s){try{var l,c,d=this.options.depthColumn||!1;if("object"==typeof e&&null!=e){t=e.colID,r=e.value,e.direction,
a=e.skipBroadCast,n=e.noEvent,o=e.excludeId,c=e.notifyRowIndex,d=this.options.depthColumn&&!1!==e.realRowIndex||!0===e.realRowIndex;var p=e.filteredRowIndex;s=e.skipInstance,l=e.undoRedo||"",e=null,e=p}!1!==a&&(a=a||n||WebSquare.DataCollection.stopBroadCast),null==r&&(r=""),this.broadcast({gridView:["notifyBeforeSettedCellData"]}),t=this.getColumnID(t);var h=this.getColumnIndex(t),g=this.getTotalRow(),m=this.getTotalCol(),b=d?e:this.filteredRowIndexArr[e],y=this.cellIdList.length;if(e>=0&&b<g&&h>=0&&h<m){var S=this.cellInfoHash[t],v="";S&&("expression"==S.options.inputType?v=S.getExpressionValue(b):null==(v=this.dataArr[b*y+h])&&(v=""));var w=!(!this.options.preserveType&&!this.options.keepDataType||"number"!=S.options.dataType),C=!(!this.options.preserveType||"text"!=S.options.dataType||"number"!=typeof r);if("bigDecimal"==S.options.dataType&&"string"==typeof r)if(""===r)r="";else{var q=(W=r.split("."))[1]?W[1].length:0;try{r=Big(r).toFixed(q)}catch(e){r=NaN}}else if("bigDecimal"==S.options.dataType)if($l("If dataType is bigDecimal, value must be entered to String.["+this.id+"]"),""===(r+=""))r="";else{var W;q=(W=r.split("."))[1]?W[1].length:0;try{r=Big(r).toFixed(q)}catch(e){r=NaN}}else w&&!isNaN(parseFloat(r))&&isFinite(r)?r=Number(r):C&&(r=r.toString());var _=r.toString().replace(/\r(\n)?/,"\n"),x=v.toString().replace(/\r(\n)?/,"\n");if("dataMap"==this.initializeType&&r.constructor===Array&&0===r.length&&(_=r),_!==x){if("dataList"==this.initializeType&&!n)if(!1===M.f.fireEvent(this,"onbeforecelldatachange",{rowIndex:e,colID:t,oldValue:v,newValue:r}))return void this.broadcast({gridView:["notifyCellChanged",[e,t]],fusionchart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],treeview:["notifyInvalid"],generalComp:["rollback"]});this.dataArr[b*y+h]=r,"grid"==this.initializeType&&this.options.ref&&!0!==s&&this._setInstanceValue(b,t,r,!0);var I=!0;if("undo"!=l&&"redo"!=l||(I=!1),I&&this.options.maxHistoryCount>0&&("undo"!=this.undoRedo&&"redo"!=this.undoRedo||this.commandList.splice(this.commandPosition,this.commandList.length-this.commandPosition+1),this.commandList.length>=this.options.maxHistoryCount&&this.commandList.shift(),this.commandList.push({row:e,col:t,oldValue:v,value:r}),this.commandPosition=this.commandList.length-1,this.undoRedo=""),!S.options.ignoreStatus){var T=!1,k=this.originalDataArr[b*y+h];if(f.Z.isNull(k)&&(k=""),k===r){for(var L=[],A=0;A<y;A++)!0!==this.ignoreStatusColArr[A]&&L.push(this.originalDataArr[b*y+A]);var E=[];for(A=0;A<y;A++)if(!0!==this.ignoreStatusColArr[A]){var D="";"expression"==S.options.inputType?D=S.getExpressionValue(b):null==(D=this.dataArr[b*y+A])&&(D=""),E.push(D)}for(var N=!1,R=0;R<L.length;R++)if(L[R]!=E[R]){N=!0;break}N||(T=!0)}T?("U"==this.rowStatusArr[b]&&this.modifyRowStatus(e,"R"),"U"==this.cellStatusArr[b*this.oneRowDataLength+h]&&this.modifyCellStatus(e,h,"R")):(this._updateRowStatus(b,h),this._updateCellStatus(b,h))}if("dataList"==this.initializeType&&(this.fireOnModelChangeEvent({type:"cell",rowIndex:e,colID:t,oldValue:v,newValue:r}),n||M.f.fireEvent(this,"oncelldatachange",{rowIndex:e,colID:t,oldValue:v,newValue:r})),!a){var O=this.getFilteredRowIndex(b);null==O&&(O=e),"number"!=typeof c&&(c=O),this.broadcast({colID:t,gridView:["notifySettedCellData",[c,t,r]],linkedDataList:["notifyCellChanged",[b,t,r]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],pivot:["refreshItemset",[{type:"cell",refresh:!0,rowIndex:b,colID:t,newValue:r,oldValue:v}]],treeview:["notifySetCellData",[O,t,r,v]],generalComp:"both",excludeId:o,type:"setCellData"})}}}}catch(e){u.Y.printStackTrace(e)}},ae.prototype._setData=function(e,t,r){try{t=this.getColumnIndex(t);this.dataArr[e*this.getColumnCount()+t]=r}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setOriginalCellData=function(e,t,r){try{
var i=this.getColumnIndex(t),a=this.options.depthColumn?e:this.getRealRowIndex(e);this._setOriginalCellData.call(this,a,i,r)}catch(e){u.Y.printStackTrace(e)}},ae.prototype._setOriginalCellData=function(e,t,r){try{var i=this.getColumnIndex(t);null==r&&(r="");var a=this.getTotalRow(),n=this.getTotalCol(),o="";if(e>=0&&e<a&&i>=0&&i<n&&(o=this.getOriginalCellData(e,i)),e>=0&&e<a&&i>=0&&i<n)r.toString().replace(/\r(\n)?/,"\n")!==o.toString().replace(/\r(\n)?/,"\n")&&(this.originalDataArr[e*this.getColumnCount()+i]=r)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setColumnDefaultValue=function(e,t){try{e=this.getColumnID(e);this.getCellInfo(e).options.defaultValue=t,this.broadcast({linkedDataList:["notifyDataChanged"],gridView:["notifySetColumnDefaultValue",[e,t]],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.setRowData=function(e,t,r,i,a){try{if(null==t)return void $l("data is null");this.broadcast({treeview:["notifyBeforeSetRowData",[e,r]]}),r||(e=this.insertRow(e));var n=this.getColumnCount(),o=!1,s={};if("object"==typeof i&&null!=i&&i.constructor===Array){o=!0;for(var l=0;l<i.length;l++)s[i[l]]=!0}for(var c=0;c<n;c++){var d=this.cellIdList[c],p=this.cellInfoHash[d];if(!o||s[d]){var h=t[c];null==h&&(h=p.options.defaultValue),this._setCellData({filteredRowIndex:e,colID:c,value:h,noEvent:!0})}else"dataMap"!==this.initializeType||a||this._setCellData({filteredRowIndex:e,colID:d,value:p.options.defaultValue,noEvent:!0})}var f=this.filteredRowIndexArr[e];this.broadcast({gridView:["notifyRowModified",[e]],linkedDataList:["notifyRowChanged",[f]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],treeview:["notifySetRowData",[e]],generalComp:"both"})}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setOriginalDataArr=function(e){try{this.originalDataArr=e}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.resetOriginalDataArr=function(){try{this.originalDataArr=this.dataArr.slice()}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.setDataFile=function(e,t,r,i,a,n){try{a=null==a?1:parseInt(a,10),"string"==typeof e&&(e=n?this.toArray(e,n):this.toArray(e));var o,s=[],c=parseInt(r.length,10),d=l.I.getComponentById(i),p=[];if(d._excelUploadInfo){var h=JSON.parse(d._excelUploadInfo);h.convertIndexArr&&(p=h.convertIndexArr)}for(var f=0;f<c;f++){"expression"==(b=l.I.getComponentById(i).getCellInfo(r[f])).options.inputType&&s.push(f)}o=e.length/c;for(f=0;f<s.length;f++)for(var g=parseInt(s[f],10),m=0;m<o;m++){e[D=m*c+g]=""}for(f=0;f<c;f++){var b,y=(b=l.I.getComponentById(i).getCellInfo(r[f])).options.dataType;if(b.itemsetObj&&""!=b.itemsetObj.nodeset&&b.itemsetObj.nodeset.wq_replaceAll(" ","").indexOf("data:")>=0&&0==this._isInitialzedItemArr(b)){b.itemArr=[];var S=b.itemsetObj.nodeset.replace("data:",""),v=WebSquare.DataCollection.comp[S];if(null==v&&b.scope_id&&(v=WebSquare.DataCollection.comp[b.scope_id+"_"+S]||null),v&&WebSquare.idCache[v.uuid])switch(v.initializeType){case"linkedDataList":"select"!==b.options.inputType&&"checkcombobox"!==b.options.inputType&&"autoComplete"!==b.options.inputType||v&&"linkedDataList"===v.initializeType&&null!=v.conditionInfo&&v.conditionInfo.filterInfo.useRef&&(v=v._dataList);case"dataList":for(var w=[],C={},q=0;q<v.getDataLength();q++){var W=v.getCellData(q,b.itemsetObj.label),_=v.getCellData(q,b.itemsetObj.value);C[W]!=_&&(C[W]=_,w.push({label:W,value:_}))}b.itemArr=w;break;case"dataMap":for(w=[],C={},q=0;q<v.getCount();q++){W=v.get(b.itemsetObj.label),_=v.get(b.itemsetObj.value);C[W]!=_&&(C[W]=_,w.push({label:W,value:_}))}b.itemArr=w}}if("select"==b.options.inputType){var x=[];for(m=0;m<b.itemArr.length;m++){var I=b.itemArr[m];if(2!=a){var T=!1;for(q=0;q<p.length;q++)if(p[q]==f.toString()){T=!0;break}if(T)x[I.value]=I.value;else{x[I.label]=I.value;var k=b.getItemText(m);I.label!==k&&(x[k]=I.value)}}else x[I.value]=I.value}for(m=0;m<o;m++){var L=x[e[D=m*c+f]]
;(!1!==b.options.selectedData||L)&&(e[D]=L)}}else if("checkcombobox"==b.options.inputType){for(x=[],m=0;m<b.itemArr.length;m++){for(T=!1,q=0;q<p.length;q++)if(p[q]==f.toString()){T=!0;break}I=b.itemArr[m];if(T)x[I.value]=I.value;else{x[I.label]=I.value;k=b.getItemText(m);I.label!==k&&(x[k]=I.value)}}for(m=0;m<o;m++){var A=[],E=e[D=m*c+f].split(b.separator);for(q=0;q<E.length;q++)A.push(x[E[q]]);e[D]=A.join(b.separator)}}else if("autoComplete"==b.options.inputType){for(x=[],m=0;m<b.itemArr.length;m++){for(T=!1,q=0;q<p.length;q++)if(p[q]==f.toString()){T=!0;break}I=b.itemArr[m];if(T)x[I.value]=I.value;else x[I.label]=I.value,k=(k=b.getItemText(m)).replace(b.options.delimiter," "),I.label!==k&&(x[k]=I.value)}for(m=0;m<o;m++){(L=x[e[D=m*c+f]])&&(e[D]=L)}}if(""!=b.options.displayFormat)for(m=0;m<o;m++){var D,M,N=e[D=m*c+f],R=b.options.displayFormat;if("number"==y||"bigDecimal"==y||"float"==y)M=WebSquare.text.unformatCurrency(R,N);else if("date"==y)b.options.useMonthYearFormat?(N=N.replace(/\{|\}|\[|\]|\/|\?|\.|\,|\;|\:|\)|\*|\~|\`|\!|\^|\-|\_|\+|\<|\>|\@|\#|\$|\%|\&|\\|\=|\(|\'|\"|\s/g,""),M=WebSquare.date.getIOUnFormatDate(N,b.options.ioFormat,b.options.calendarValueType)):M=WebSquare.text.unformatDate(R,N);else if("time"==y)M=WebSquare.text.unformatTime(R,N);else if("euro"==y&&b.options.customModelFormatter){var O=new RegExp("["+b.options.delimiter+"]","g"),P=new RegExp("["+b.options.decimalDelimiter+"]","g");M=(N=N.replace(O,"")).replace(P,".")}else M=WebSquare.text.unformatText(R,N);e[D]=M}}this.setData(e,t,r)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setData=function(e,t,r,i,a){try{if("string"==typeof e&&(e=a?this.toArray(e,a):this.toArray(e)),r){if(r instanceof Array||"string"!=typeof r||(r=this.toArray(r)),!f.Z.isInteger(e.length/r.length))return void c.v.printLog("[WebSquare.DataCollection.dataController.setData] Inconsistent array. Array length["+e.length+"] is not a multiple of column length["+r.length+"].["+this.id+"]");e=this.getMappingData(e,r,t)}if(!f.Z.isInteger(e.length/this.oneRowDataLength))return void c.v.printLog("[WebSquare.DataCollection.dataController.setData] Inconsistent array. Array length["+e.length+"] is not a multiple of column length["+this.oneRowDataLength+"].["+this.id+"]");for(var n=[],o=0;o<this.cellIdList.length;o++)n[o]=this.getCellInfo(this.cellIdList[o]);for(var s=e.length/this.oneRowDataLength,l=0;l<n.length;l++)if(n[l].options.setFormatter)for(var d=f.Z.getGlobalFunction(n[l].options.setFormatter,this.scope_id),p=0;p<s;p++){for(var h=[],g=0;g<this.oneRowDataLength;g++)h.push(e[p*this.oneRowDataLength+g]);"function"==typeof d&&(e[p*this.oneRowDataLength+l]=d.call(this,h,p,this.cellIdList[l]))}if(null!=i&&i.length>0&&e.length/this.oneRowDataLength===i.length){var m=!!t;this.setGridData(e,t,m),this.setAllRowStatus(i,t)}else this.setGridData(e,t)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setGridData=function(e,t,r){try{this.options.keepFilter&&this.broadcast({gridView:["notifyBeforeKeepFilter"]}),this.broadcast({gridView:["notifySettedData",[t]]}),this.filterManager.clear(),this.filteredRowIndexArr=[];for(var i=this.getTotalRow(),a=0;a<i;a++)this.filteredRowIndexArr.push(a);this.options.keepFilter||this.broadcast({gridView:["clearHeaderSort"]});var n=e.length/this.oneRowDataLength;if(this.options.keepDataType||this.options.preserveType){var o=this.getTotalCol();for(a=0;a<o;a++){var s=this.getCellInfo(a),l="number"==s.options.dataType,c=!(!this.options.preserveType||"text"!=s.options.dataType);if(l)for(var d=0;d<n;d++){var p=e[d*this.oneRowDataLength+a];!isNaN(parseFloat(p))&&isFinite(p)&&(e[d*this.oneRowDataLength+a]=Number(p))}else if(c)for(d=0;d<n;d++){var h=e[d*this.oneRowDataLength+a];"number"==typeof h&&(e[d*this.oneRowDataLength+a]=h.toString())}}}t=t||!1;var f=this.getTotalRow();if(t)for(a=0;a<e.length;a++)this.dataArr.push(e[a]),this.originalDataArr.push(e[a]);else f=0,this.dataArr=e,this.filteredRowIndexArr=[],this.originalDataArr=[],this.originalDataArr=this.dataArr.slice(0),
this.commandList=[],this.commandPosition=-1,this.commandListMulti=[],this.commandPositionMulti=-1,this.undoRedo="","dataList"!=this.initializeType&&"grid"!=this.initializeType||this.removeManager.removeAll();for(a=0;a<n;a++)this.filteredRowIndexArr.push(a+f);if(r||this._initRowStatus(f),r||this._initCellStatus(f),this.options.keepRowPosition&&t&&this.options.keepRowPosition||(this.rowPosition=null),!t&&null!=this.options.initRowPosition){var g=parseInt(this.options.initRowPosition,10);this.setRowPosition(g)}var m={linkedDataList:["notifyDataChanged"],gridView:["notifySettedGridData",[e,t,f]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwRealtimeChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],pivot:["refreshItemset",[{type:"render",refresh:!0}]],generalComp:"both"};"string"==typeof this.options.refreshMode&&""!=this.options.refreshMode&&(m.refreshMode=this.options.refreshMode),this.broadcast(m),this.getBroadcast()||this.broadcast({gridView:["_notifySettedGridDataAll",[t,f]],_bForceBroadcast:!0}),M.f.fireEvent(this,"ondataload"),this.options.keepFilter&&!this.flag_preventLoop&&(this.flag_preventLoop=!0,this.broadcast({gridView:["notifyAfterKeepFilter"]}),this.flag_preventLoop=!1)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.insertData=function(e,t){try{return this._insertData(e,t)}catch(e){u.Y.printStackTrace(e)}},ae.prototype._insertData=function(e,t,r){try{if(null==t)return void $l("data is null");var i=this.getColumnCount(),a=t.length/this.getColumnCount();if(t){if(!(t instanceof Array))return;if(!f.Z.isInteger(a))return void c.v.printLog("[WebSquare.DataCollection.dataController.getMappingData] Inconsistent array. Array length["+t.length+"] is not a multiple of column length["+i+"].["+this.id+"]")}var n={},o=[],s=a,l=0,d=1;r<0&&(s=1,l=a+1,d=-1);for(var p=this.filteredRowIndexArr[e],h=s;h*d>l*d;h-=d){var g=e+h-1;n[g]=[],o.push(g),this.insertRow(e,{noEvent:!0});for(var m=0;m<i;m++){var b=t[i*(h-1)+m];this._setCellData({filteredRowIndex:e,colID:m,value:b,noEvent:!0}),n[g].push(b)}}this.broadcast({gridView:["notifyDataChanged",[{refreshScroll:!0}]],linkedDataList:["notifyRowInserted",[p,o]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],pivot:["refreshItemset",[{type:"render",refresh:!0}]],treeview:["notifyInsertData",[o.join(","),!this._getBroadcastAll()]],generalComp:"both"}),M.f.fireEvent(this,"oninsertrow",{insertedDataObj:n})}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setRowXML=function(e,t,r,i,a){try{if(null==t)return void $l("data is null");var n;this.broadcast({treeview:["notifyBeforeSetRowData",[e,r]]}),r||(e=this.insertRow(e)),n=void 0===t.documentElement?t:t.documentElement;var o=[],s={},l=this.getColumnCount(),c=!1,d={};if("object"==typeof i&&null!=i&&i.constructor===Array){c=!0;for(var p=0;p<i.length;p++)d[i[p]]=!0}for(var h=0;h<l;h++){var g=this.cellIdList[h],m=null,b=this.cellInfoHash[g],y=null;if(!c||d[g])if(b.options.importFormatter)o.push(g);else{if(null!=(y=n.selectSingleNode(g)))if(""==this.options.valueNode||this.allowTextNode){if(this.allowTextNode)m=null==(S=WebSquare.xml.getCDataNodeValue(y))?this.getTextNodeValue(y):S;else m=this.getTextNodeValue(y);!m&&this.allowTextNode&&(m=""==this.options.valueNode?null:y.getAttribute(this.options.valueNode))}else m=y.getAttribute(this.options.valueNode);else if(null!=(y=WebSquare.xml.getElementsByTagName(n,g)[0]))if(""==this.options.valueNode||this.allowTextNode){var S;if(this.allowTextNode)m=null==(S=WebSquare.xml.getCDataNodeValue(y))?this.getTextNodeValue(y):S;else m=this.getTextNodeValue(y);!m&&this.allowTextNode&&(m=""==this.options.valueNode?null:y?y.getAttribute(this.options.valueNode):null)}else m=y?y.getAttribute(this.options.valueNode):null;null==m&&(m="number"==b.options.dataType&&b.options.defaultValue&&!isNaN(b.options.defaultValue)?parseInt(b.options.defaultValue,10):b.options.defaultValue),this._setCellData({
filteredRowIndex:e,colID:h,value:m,noEvent:!0}),s[g]=m}else"dataMap"!==this.initializeType||a||this._setCellData({filteredRowIndex:e,colID:g,value:b.options.defaultValue,noEvent:!0})}for(var v=0;v<o.length;v++){b=this.cellInfoHash[o[v]];try{var w=e,C=f.Z.getGlobalFunction(b.options.importFormatter,this.scope_id);"function"==typeof C&&(m=C.call(this,s,w,o[v]))}catch(e){m=b.options.defaultValue,u.Y.printStackTrace(e,null,this)}this._setCellData({filteredRowIndex:e,colID:o[v],value:m,noEvent:!0})}var q=this.filteredRowIndexArr[e];this.broadcast({gridView:["notifyRowModified",[e]],linkedDataList:["notifyRowChanged",[q]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],treeview:["notifySetRowData",[e]],generalComp:"both"})}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setXML=function(e,t,r,i){try{if(null==e)return void c.v.printLog("[WebSquare.DataCollection.dataController.setXML] XML is null["+this.id+"]");var a=this.xmlData2ArrData(e,r);if(void 0===a.dataArr)return void c.v.printLog("[WebSquare.DataCollection.dataController.setXML] DataArray which converted from XML is undefined.["+this.id+"]");var n=f.Z.getBoolean(i)?a.rowStatusArr:[];this.setData(a.dataArr,t,null,n)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.insertXML=function(e,t){try{if(null==t)return void $l("data is null");var r;r=void 0===t.documentElement?t:t.documentElement;var i=this.xmlData2ArrData(r);this.insertData(e,i.dataArr)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setJSON=function(e,t,r,i){try{if(null==e)return void c.v.printLog("[WebSquare.DataCollection.dataController.setJSON] data is null["+this.id+"]");if(null!=this.options.customUnformatter){var a=f.Z.getGlobalFunction(this.options.customUnformatter);"function"==typeof a&&(e=a(this,e))}var n=this.jsonData2ArrData(e,r);if(void 0===n.dataArr)return void c.v.printLog("[WebSquare.DataCollection.dataController.setJSON] DataArray which converted from JSON is undefined.["+this.id+"]");var o=f.Z.getBoolean(i)?n.rowStatusArr:[];this.setData(n.dataArr,t,null,o)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setRowJSON=function(e,t,r,i,a){try{if(null==t)return void $l("data is null");this.broadcast({treeview:["notifyBeforeSetRowData",[e,r]]}),r||(e=this.insertRow(e));var n=t,o=!1,s={};if("object"==typeof i&&null!=i&&i.constructor===Array){o=!0;for(var l=0;l<i.length;l++)s[i[l]]=!0}for(var c in t)if(!o||s[c]){g=this.getCellInfo(c);var d=null;if(g.options.importFormatter)try{var p=this.getColumnIndex(c),h=f.Z.getGlobalFunction(g.options.importFormatter,this.scope_id);"function"==typeof h&&(d=h.call(this,n,p,c))}catch(e){d=g.options.defaultValue,u.Y.printStackTrace(e,null,this)}else d=t[c];null==d&&(d=g.options.defaultValue),this._setCellData({filteredRowIndex:e,colID:c,value:d,noEvent:!0})}else if("dataMap"===this.initializeType&&!a){var g=this.getCellInfo(c);this._setCellData({filteredRowIndex:e,colID:c,value:g.options.defaultValue,noEvent:!0})}var m=this.filteredRowIndexArr[e];this.broadcast({gridView:["notifyRowModified",[e]],linkedDataList:["notifyRowChanged",[m]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],treeview:["notifySetRowData",[e]],generalComp:"both"})}catch(e){u.Y.printStackTrace(e)}},ae.prototype.insertJSON=function(e,t){try{if(null==t)return void c.v.printLog("[WebSquare.DataCollection.dataController.insertJSON] data is null["+this.id+"]");if(null!=this.options.customUnformatter){var r=f.Z.getGlobalFunction(this.options.customUnformatter);"function"==typeof r&&(t=r(this,t))}var i=this.jsonData2ArrData(t);if(void 0===i.dataArr)return void c.v.printLog("[WebSquare.DataCollection.dataController.insertJSON] DataArray which converted from JSON is undefined.["+this.id+"]");this.insertData(e,i.dataArr)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setArray=function(e,t,r,i,a){try{
if(null==e)return void c.v.printLog("[WebSquare.DataCollection.dataController.setArray] data is null["+this.id+"]");var n=e.data,o=[];if(o="object"==typeof r&&null!=r&&r.constructor===Array?r:e.columnInfo,void 0===n)return void c.v.printLog("[WebSquare.DataCollection.dataController.setArray] DataArray which converted from jsonArray is undefined.["+this.id+"]");var s=f.Z.getBoolean(i)?e.rowStatus:[];this.setData(n,t,o,s,a)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setArrayFile=function(e,t,r,i,a){try{if(null==i&&(i=1),null==e)return void c.v.printLog("[WebSquare.DataCollection.dataController.setArrayFile] data is null["+this.id+"]");var n=e.data,o=e.columnInfo;if(void 0===n)return void c.v.printLog("[WebSquare.DataCollection.dataController.setArrayFile] DataArray which converted from jsonArray is undefined.["+this.id+"]");this.setDataFile(n,t,o,r,i,a)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setRowArray=function(e,t,r){try{if(null==t)return void c.v.printLog("[WebSquare.DataCollection.dataController.setRowArray] data is null["+this.id+"]");var i;if(0==(i=this.getMappingData(t.data,t.columnInfo)).length)return void c.v.printLog("[WebSquare.DataCollection.dataController.setRowArray] DataArray which converted from jsonArray is undefined.["+this.id+"]");this.setRowData(e,i,r)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.rowMoveUp=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e);if(t>=this.getRowCount()&&(t=this.getRowCount()-1),t<=0)return;this._rowMoveUp(e,t,t-1)}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.rowMoveDown=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e);if(t<0&&(t=0),t>=this.getRowCount()-1)return;this._rowMoveDown(e,t,t+1)}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.rowMoveUpFiltered=function(e){try{if(e<=0)return;var t=this.options.depthColumn?e:this.getRealRowIndex(e);t>=this.getRowCount()&&(t=this.getRowCount()-1),this._rowMoveUp(e,t,this.getRealRowIndex(e-1))}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.rowMoveDownFiltered=function(e){try{if(e>=this.getRowCount()-1||e<0)return;var t=this.options.depthColumn?e:this.getRealRowIndex(e);t<0&&(t=0),this._rowMoveDown(e,t,this.getRealRowIndex(e+1))}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype._rowMoveUp=function(e,t,r){try{for(var i,a=this.oneRowDataLength,n=0;n<a;n++)i=this.dataArr[a*r+n],this.dataArr[a*r+n]=this.dataArr[a*t+n],this.dataArr[a*t+n]=i,i=this.originalDataArr[a*r+n],this.originalDataArr[a*r+n]=this.originalDataArr[a*t+n],this.originalDataArr[a*t+n]=i;var o=this.getRowStatus(e-1),s=this.getRowStatus(e);this._setRowStatus(r,s),this._setRowStatus(t,o),t=this.filteredRowIndexArr[e],this.broadcast({linkedDataList:["notifyRowMoveUp",[t]],gridView:["notifyRowMoveUp",[e]],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype._rowMoveDown=function(e,t,r){try{for(var i,a=this.oneRowDataLength,n=0;n<a;n++)i=this.dataArr[a*r+n],this.dataArr[a*r+n]=this.dataArr[a*t+n],this.dataArr[a*t+n]=i,i=this.originalDataArr[a*r+n],this.originalDataArr[a*r+n]=this.originalDataArr[a*t+n],this.originalDataArr[a*t+n]=i;var o=this.getRowStatus(e+1),s=this.getRowStatus(e);this._setRowStatus(r,s),this._setRowStatus(t,o),t=this.filteredRowIndexArr[e],this.broadcast({linkedDataList:["notifyRowMoveDown",[t]],gridView:["notifyRowMoveDown",[e]],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.insertRow=function(e,t){try{t=t||{};var r=this.getDataLength(),i=this.getTotalRow();"string"!=typeof e&&null!=e||(e=parseInt(e,10)),isNaN(e)&&(e=r);var a=e;this.filterManager.useFilter()?"true"==t.insertIntoSortedRow&&this.filterManager.onlySortFilter()||(a=i):a>i&&(a=i),!this.options.depthColumn&&e>this.getDataLength()&&(e=this.getDataLength()),this.broadcast({gridView:["notifyBeforeInsertedRow",[e]]});for(var n=this.getTotalCol(),o=[a*n,0],s=[],l=0;l<n;l++){var c=this.getCellInfo(l)
;if(t.insertData&&t.insertData[l])var d=t.insertData[l];else if("number"==c.options.dataType&&c.options.defaultValue&&!isNaN(c.options.defaultValue))d=parseInt(c.options.defaultValue,10);else d=c.options.defaultValue;o.push(d),s.push(d)}[].splice.apply(this.dataArr,o),[].splice.apply(this.originalDataArr,o),this._createRowStatus(a),this._createCellStatus(a);var p=this.filteredRowIndexArr.length;if(this.options.depthColumn)for(l=0;l<this.filteredRowIndexArr.length;l++)if(1==this.filteredRowIndexArr.length)p=this.filteredRowIndexArr[l]==a?l:l+1;else{if(this.filteredRowIndexArr[l]<=a&&a<this.filteredRowIndexArr[l+1]){p=l;break}if(a==this.filteredRowIndexArr[l+1]){p=l+1;break}}else p=e;for(l=0;l<this.filteredRowIndexArr.length;l++)this.filteredRowIndexArr[l]>=a&&this.filteredRowIndexArr[l]++;this.filteredRowIndexArr.splice(p,0,a);a=this.filteredRowIndexArr[e];if(t.noEvent)this.broadcast({gridView:["notifyAfterInsertedRow",[p,!0]],_bForceBroadcast:!0});else{this.broadcast({linkedDataList:["notifyRowInserted",[a]],treeview:["notifyInsertRow",[p]],generalComp:"both",type:"insertRow"}),this.broadcast({gridView:["notifyAfterInsertedRow",[p,!this._getBroadcastAll()]],_bForceBroadcast:!0});var h={};h[p]=s,M.f.fireEvent(this,"oninsertrow",{insertedDataObj:h})}return e}catch(e){u.Y.printStackTrace(e)}},ae.prototype.removeRow=function(e,t){try{t=t||{},null==e&&(e=this.getTotalRow()-1),e=parseInt(e,10);var r=this.options.depthColumn?e:this.getRealRowIndex(e),i=this.getTotalCol();if(null==r||r>=this.getTotalRow())return;if(this.options.depthColumn&&!1!==t.removeChildren&&this.hasChild(r)){var a=this.getRecursiveRowIndex(r);return a.push(r),t.noEvent=!0,t.removeChildren=!1,this.removeRows(a,t)}this.broadcast({gridView:["notifyBeforeRemovedRow",[e]]});var n=this.dataArr.splice(r*i,i),o=this.removeRowStatus(e);this.removeCellStatus(e),this.originalDataArr.splice(r*i,i);var s=this.getFilteredRowIndex(r);s>-1&&this.filteredRowIndexArr.splice(s,1);for(var l=0;l<this.filteredRowIndexArr.length;l++)this.filteredRowIndexArr[l]>=r&&this.filteredRowIndexArr[l]--;"dataList"!=this.initializeType&&"grid"!=this.initializeType||this.options.removeDummyRowStatus&&(!this.options.removeDummyRowStatus||"C"==o)||(this.options.removeDummyRowStatus&&"V"==o?this.options.saveRemovedDataDeletedInsertedRow&&this.saveRemovedRow(r,n):this.saveRemovedRow(r,n));var c=n.slice(0);if(t.noEvent)this.broadcast({gridView:["notifyAfterRemovedRow",[s,!0,r,c.join(",")]],_bForceBroadcast:!0});else{this.broadcast({linkedDataList:["notifyRowRemoved",[r]],treeview:["notifyRemoveRow",[e]],pivot:["refreshItemset",[{type:"render",refresh:!0}]],generalComp:"both"}),this.broadcast({gridView:["notifyAfterRemovedRow",[s,!this._getBroadcastAll(),r,c.join(",")]],_bForceBroadcast:!0});var d={};d[s]=c,M.f.fireEvent(this,"onremoverow",{removedDataObj:d})}return n}catch(e){u.Y.printStackTrace(e)}},ae.prototype.removeRows=function(e,t){try{if(null==e)return void c.v.printLog("[WebSquare.DataCollection.dataController.removeRows] rowIndexArr is undefined.["+this.id+"]");if(0==e.length)return void c.v.printLog("[WebSquare.DataCollection.dataController.removeRows] rowIndexArr is empty.["+this.id+"]");function o(e,t){return parseInt(e)<parseInt(t)?1:-1}t=t||{noEvent:!0},e.sort(o);for(var r=[],i={},a=0;a<e.length;a++){var n=this.removeRow(e[a],t);i[e[a]]=n.slice(0),r.push(n)}return this.rowPosition=null,this.columnPosition=null,t.skipNotify||(this.broadcast({linkedDataList:["notifyRowRemoved"],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],treeview:["notifyRemovedRows",[e.join(","),!this._getBroadcastAll()]],generalComp:"both"}),this.broadcast({gridView:["notifyRemovedRows",[e.join(","),!this._getBroadcastAll()]],_bForceBroadcast:!0})),M.f.fireEvent(this,"onremoverow",{removedDataObj:i}),r}catch(s){u.Y.printStackTrace(s)}},ae.prototype.removeAll=function(e){try{
if(null!=e&&"true"==e.skipSavingRemovedData||"dataList"!=this.initializeType&&"grid"!=this.initializeType||this.removeManager.setData(this.getAllData({removeAll:!0}),!0),!this.dataArr)return;var t=this.dataArr.slice(0);this.dataArr=[],this.originalDataArr=[],this.filteredRowIndexArr=[],this._initRowStatus(0),this._initCellStatus(0),this.broadcast({linkedDataList:["notifyRemoveAll"],gridView:["notifyRemovedAll",[null==e||!1!==e.clearHistory]],generalComp:"both",pivot:["refreshItemset",[{type:"render",refresh:!0}]]});var r=e&&!0===e.skipEvent,i=!1;if("dataList"==this.initializeType&&this.userEventList&&!r){for(var a=this.userEventList.length-1;a>=0;a--)if("onremoverow"==this.userEventList[a].name){i=!0;break}if(i){var n=t.slice(0),o={},s=n.length/this.oneRowDataLength;for(a=0;a<s;a++)o[a]=n.slice(a*this.oneRowDataLength,(a+1)*this.oneRowDataLength);M.f.fireEvent(this,"onremoverow",{removedDataObj:o})}}return t}catch(e){u.Y.printStackTrace(e)}},ae.prototype._removeAll_keepFilter=function(e){try{return void 0!==e&&null!=e||(e={}),e.clearHistory=!1,this.removeAll(e)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.removeRange=function(e,t){try{for(var r=[],i=t;i>=e;i--)r.push(i);return this.removeRows(r)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.reform=function(){try{this._initRowStatus(),this._initCellStatus(),this.originalDataArr=this.dataArr.slice(0),"dataList"==this.initializeType&&this.removeManager.removeAll(),this.broadcast({linkedDataList:["notifyReformed"],gridView:["notifyReformed"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e)}},ae.prototype.undoRow=function(e){try{if(this.options.depthColumn&&this.hasChild(e)&&this.options.undoRecursiveRow){var t=this.getChildrenRowArr(e);this.undoRows(t)}this._undoRow(e);var r=this.filteredRowIndexArr[e];this.broadcast({linkedDataList:["notifyRowChanged",[r]],gridView:["notifyRowModified",[e]],generalComp:"both"})}catch(e){u.Y.printStackTrace(e)}},ae.prototype.undoRows=function(e){try{function a(e,t){return parseInt(e)<parseInt(t)?1:-1}e.sort(a);for(var t=[],r=0;r<e.length;r++){var i=this.undoRow(e[r]);t.push(i)}return t}catch(n){u.Y.printStackTrace(n)}},ae.prototype._undoRow=function(e){try{for(var t=this.options.depthColumn?e:this.getRealRowIndex(e),r=0;r<this.oneRowDataLength;r++){var i=this.originalDataArr[t*this.oneRowDataLength+r];this._setData(t,r,i)}this._updateRowStatus(t),this._undeleteRowStatus(t)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.undoAll=function(){try{for(var e=this.getRowIndexByStatus("UDV"),t=0;t<e.length;t++){var r=e[t];this._undoRow(r)}this.broadcast({linkedDataList:["notifyDataChanged"],gridView:["notifyDataChanged",[{refreshScroll:!0}]],generalComp:"both"})}catch(e){u.Y.printStackTrace(e)}},ae.prototype.restore=function(){try{if("undo"==this.undoRedo&&this.commandPosition--,this.commandPosition<0)return void(this.commandPosition=0);var e=this.commandList[this.commandPosition];this._setCellData({filteredRowIndex:e.row,colID:e.col,value:e.oldValue,noEvent:!1,undoRedo:"undo"}),this.undoRedo="undo"}catch(e){u.Y.printStackTrace(e)}},ae.prototype.redo=function(){try{if("redo"==this.undoRedo&&this.commandPosition++,this.commandList.length-1<this.commandPosition)return void(this.commandPosition=this.commandList.length-1);var e=this.commandList[this.commandPosition];this._setCellData({filteredRowIndex:e.row,colID:e.col,value:e.value,noEvent:!1,undoRedo:"redo"}),this.undoRedo="redo"}catch(e){u.Y.printStackTrace(e)}},ae.prototype._undoRedoHistoryClear=function(){try{this.commandList=[],this.commandPosition=-1,this.undoRedo=""}catch(e){u.Y.printStackTrace(e)}},ae.prototype.undoRedoSave=function(e){try{for("undo"!=this.undoRedoMulti&&"redo"!=this.undoRedoMulti||this.commandListMulti.splice(this.commandPositionMulti,this.commandListMulti.length-this.commandPositionMulti+1),this.commandListMulti.push(e);this.commandListMulti.length>500;)this.commandListMulti.shift();this.commandPositionMulti=this.commandListMulti.length-1,this.undoRedoMulti=""}catch(e){
u.Y.printStackTrace(e)}},ae.prototype._undoRedoMultiHistoryClear=function(){try{this.commandListMulti=[],this.commandPositionMulti=-1,this.undoRedoMulti="",this._undoRedoHistoryClear()}catch(e){u.Y.printStackTrace(e)}},ae.prototype._clearHistory=function(){try{this._undoRedoMultiHistoryClear()}catch(e){u.Y.printStackTrace(e,null,this)}},ae.prototype.restoreMulti=function(){try{if("undo"==this.undoRedoMulti&&this.commandPositionMulti--,this.commandPositionMulti<0)return void(this.commandPositionMulti=0);for(var e=this.commandListMulti[this.commandPositionMulti].length;e>0;e--)this.restore();this.undoRedoMulti="undo"}catch(e){u.Y.printStackTrace(e)}},ae.prototype.redoMulti=function(){try{if("redo"==this.undoRedoMulti&&this.commandPositionMulti++,this.commandListMulti.length-1<this.commandPositionMulti)return this.commandPositionMulti=this.commandListMulti.length-1,void(this.undoRedoMulti="");for(var e=this.commandListMulti[this.commandPositionMulti],t=0;t<e.length;t++)this.redo();this.undoRedoMulti="redo"}catch(e){u.Y.printStackTrace(e)}},ae.prototype.insertColumn=function(e,t){try{if(void 0!==this.bodyIdColIndexMap[e])return void c.v.printLog("[WebSquare.DataCollection.dataController.insertColumn] already exist column in ["+this.id+"]");for(var r=this.getTotalRow(),i=this.getTotalCol(),a=t||{},n=null==a.colIndex?i:parseInt(a.colIndex),s=null==a.defaultValue?"":a.defaultValue,l=[],d=[],p=0;p<r;p++)for(var h=0,f=0;f<i+1;f++)f===n?(l.push(s),d.push(s)):(l.push(this.dataArr[p*i+h]),d.push(this.originalDataArr[p*i+h]),h++);this.dataArr=l,this.originalDataArr=d,this.bodyIdColIndexMap[e]=this.oneRowDataLength;var g=new WebSquare.DataCollection.dataListCellInfo(null,this,this.oneRowDataLength);g.id=e,g.name=a.name||"name"+(this.oneRowDataLength+1),o.q.extendKeepingType(g.options,a),g.options.col_id=e,g.options.id=e,g.options.name=g.name,this.cellInfoHash[e]=g,this.oneRowDataLength++,this.cellIdList.splice(n,0,e);var m=o.q.extend({},g.options);this.structure.rowArr[0].splice(n,0,m),"dataList"===this.initializeType&&this.removeManager.insertColumn(e,t)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.removeColumn=function(e,t){try{var r=this.getTotalRow(),i=this.getTotalCol(),a=this.getColumnID(e);if(null==a)return!1;for(var n=this.getColumnIndex(a),o=[],s=[],l=0;l<r;l++)for(var c=0;c<i;c++)c!==n&&(o.push(this.dataArr[l*i+c]),s.push(this.originalDataArr[l*i+c]));this.dataArr=o,this.originalDataArr=s,delete this.bodyIdColIndexMap[a],delete this.cellInfoHash[a],this.oneRowDataLength--;var d=-1,p=0;for(l=0;l<this.cellIdList.length;l++)this.cellIdList[l]===a?d=l:(this.bodyIdColIndexMap[this.cellIdList[l]]=p,p++);this.cellIdList.splice(d,1);var h=this.structure.rowArr;for(l=0;l<h.length;l++){var f=h[l];for(c=0;c<f.length;c++)if(f[c].id===a){f.splice(c,1);break}}"dataList"===this.initializeType&&this.removeManager.removeColumn(e,t)}catch(e){u.Y.printStackTrace(e)}},ae.prototype.setMatchIgnoreCase=function(e){try{this.options.matchIgnoreCase=f.Z.getBoolean(e)}catch(e){u.Y.printStackTrace(e)}},ae.prototype._setInstanceValue=function(e,t,r,i){try{return!("grid"!=this.initializeType||!this.options.ref)&&(WebSquare.ModelUtil._setInstanceValue({xpath:this._getXPath({rowIndex:e,colID:t}),value:r,gridNoRefresh:i,scopeId:this.options.aliasDataCollection||void 0}),!0)}catch(e){u.Y.printStackTrace(e)}},ae.prototype._getXPath=function(e){try{var t="";if("grid"==this.initializeType&&this.options.ref&&null!=e){var r=e.rowIndex,i=this.getColumnID(e.colID);t=this.options.ref;for(var a=0;a<this.repeatNodeTagName.length;a++)0==a?null==r||isNaN(r)?t+="/"+this.repeatNodeTagName[0]:t+="/"+this.repeatNodeTagName[0]+"["+(r+1)+"]":t+="/"+this.repeatNodeTagName[a];this.options.valueNode&&!0!==e.skipValueNode?t+="/"+i+"/@value":t+="/"+i}return t}catch(e){u.Y.printStackTrace(e)}},ae.prototype._isInitialzedItemArr=function(e){try{if(void 0===e.itemArr)return!1;if("select"==e.options.inputType||"checkcombobox"==e.options.inputType||"autoComplete"==e.options.inputType){
var t=0;if(1==e.options.chooseOption&&t++,1==e.options.allOption&&t++,e.itemArr.length<t+1)return!1}return!0}catch(e){u.Y.printStackTrace(e)}};var ne=function(){};ne.prototype.getRowStatusValue=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e);return this._getRowStatusValue(t)}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype._getRowStatusValue=function(e){try{switch(this.rowStatusArr[e]){case"R":return 0;case"U":return 1;case"C":return 2;case"D":return 3;case"V":return 4;case"E":return 5}}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype.getRowStatus=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e);return this._getRowStatus(t)}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype._getRowStatus=function(e){try{return this.rowStatusArr[e]}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype.getCellStatusValue=function(e,t){try{var r=this.options.depthColumn?e:this.getRealRowIndex(e);return this._getCellStatusValue(r,t)}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype._getCellStatusValue=function(e,t){try{var r=this.getColumnIndex(t);switch(this.cellStatusArr[e*this.oneRowDataLength+r]){case"R":return 0;case"U":return 1;case"C":return 2;case"D":return 3;case"V":return 4;case"E":return 5}}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype.getCellStatus=function(e,t){try{var r=this.options.depthColumn?e:this.getRealRowIndex(e);return this._getCellStatus(r,t)}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype._getCellStatus=function(e,t){try{var r=this.getColumnIndex(t);return this.cellStatusArr[e*this.oneRowDataLength+r]}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype.getRowIndexByStatus=function(e){try{for(var t=[],r=0;r<this.getTotalRow();r++){var i=this.options.depthColumn?r:this.getRealRowIndex(r);e.indexOf(this.rowStatusArr[i])>-1&&t.push(r)}return t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getInsertedIndex=function(){try{return this.getRowIndexByStatus("C")}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getUpdatedIndex=function(){try{return this.getRowIndexByStatus("U")}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getDeletedIndex=function(){try{return this.getRowIndexByStatus("DV")}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getVoidIndex=function(){try{return this.getRowIndexByStatus("V")}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getOnlyDeletedIndex=function(){try{return this.getRowIndexByStatus("D")}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getModifiedIndex=function(){try{return this.getRowIndexByStatus("CUD")}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getInsertedData=function(e){try{this.broadcast({gridView:["_endEdit"]});for(var t=[],r=this.getInsertedIndex(),i=0;i<r.length;i++)t.push(this.getRowData(r[i],e));return t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getInsertedXML=function(e){try{this.broadcast({gridView:["_endEdit"]});var t=this.getInsertedIndex();return this.getArrXML(t,e)}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getInsertedJSON=function(e){try{this.broadcast({gridView:["_endEdit"]});for(var t=[],r=this.getInsertedIndex(),i=0;i<r.length;i++)t.push(this.getRowJSON(r[i],e));if(null!=this.options.customFormatter){var a=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof a&&(t=a(this,t))}return t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRefInsertedJSON=function(e){try{this.broadcast({gridView:["_endEdit"]});for(var t=[],r=this.getInsertedIndex(),i=0;i<r.length;i++)t.push(this.getRefRowJSON(r[i],e));if(null!=this.options.customFormatter){var a=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);null!=a&&(t=a(this,t))}return t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getInsertedArray=function(e){try{void 0!==e&&null!=e||(e={});var t={};"object"==typeof e.includeColumns&&null!=e.includeColumns&&e.includeColumns.constructor===Array?t.columnInfo=e.includeColumns:t.columnInfo=this.cellIdList,this.broadcast({gridView:["_endEdit"]
});for(var r=[],i=this.getInsertedIndex(),a=0;a<i.length;a++)r=r.concat(this.getRowData(i[a],e));return t.data=r,t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getDeletedData=function(e,t){try{void 0!==t&&null!=t||(t={}),!0!==t.noRefresh&&this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getDeletedIndex(),a=0;a<i.length;a++)r.push(this.getRowData(i[a],t));if(!e&&"dataList"==this.initializeType)for(a=0;a<this.removeManager.getDataLength();a++)r.push(this.removeManager.getRowData(a,t));if(null!=this.options.customFormatter){var n=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof n&&(r=n(this,r))}return r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getDeletedXML=function(e,t){try{this.broadcast({gridView:["_endEdit"]});var r=this.getDeletedIndex(),i=this.getArrXML(r,t);if(!e&&"dataList"==this.initializeType)if(this.options.removedDataMatch)for(var a=WebSquare.xml.findNode(i,this.options.baseNode),n=0;n<this.removeManager.getDataLength();n++){for(var o=a,s=this.options.repeatNode.split("/"),c=0;c<s.length-1;c++){var d=s[c],p=d.indexOf(":");if(p>=0)try{var h=d.substring(0,p),f=l.I.getNamespaces(a);f[h]&&(d=d+" xmlns:"+h+'="'+f[h]+'"')}catch(e){u.Y.printStackTrace(e)}o=o.appendChild(WebSquare.xml.parse("<"+d+"/>").documentElement)}o.appendChild(this.removeManager.getRowXML(n,t).documentElement)}else{var g=WebSquare.xml.findNode(i,this.options.baseNode);for(n=0;n<this.removeManager.getDataLength();n++)g.appendChild(this.removeManager.getRowXML(n,t).documentElement)}return i}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getDeletedJSON=function(e,t){try{this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getDeletedIndex(),a=0;a<i.length;a++)r.push(this.getRowJSON(i[a],t));if(!e&&"dataList"==this.initializeType)for(a=0;a<this.removeManager.getDataLength();a++)r.push(this.removeManager.getRowJSON(a,t));return r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRefDeletedJSON=function(e,t){try{this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getDeletedIndex(),a=0;a<i.length;a++)r.push(this.getRefRowJSON(i[a],t));if(!e&&"dataList"==this.initializeType)for(a=0;a<this.removeManager.getDataLength();a++)r.push(this.removeManager.getRefRowJSON(a,t));return r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getDeletedArray=function(e,t){try{void 0!==t&&null!=t||(t={});var r={};"object"==typeof t.includeColumns&&null!=t.includeColumns&&t.includeColumns.constructor===Array?r.columnInfo=t.includeColumns:r.columnInfo=this.cellIdList,this.broadcast({gridView:["_endEdit"]});for(var i=[],a=this.getDeletedIndex(),n=0;n<a.length;n++)i=i.concat(this.getRowData(a[n],t));if(!e&&"dataList"==this.initializeType)for(n=0;n<this.removeManager.getDataLength();n++)i=i.concat(this.removeManager.getRowData(n,t));return r.data=i,r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getVoidData=function(e,t){try{this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getVoidIndex(),a=0;a<i.length;a++)r.push(this.getRowData(i[a]));if(!e&&"dataList"==this.initializeType)for(a=0;a<this.removeManager.getDataLength();a++)r.push(this.removeManager.getRowData(a));return r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getVoidXML=function(e,t){try{this.broadcast({gridView:["_endEdit"]});var r=this.getVoidIndex(),i=this.getArrXML(r,t);if(!e&&"dataList"==this.initializeType)if(this.options.removedDataMatch)for(var a=WebSquare.xml.findNode(i,this.options.baseNode),n=0;n<this.removeManager.getDataLength();n++){for(var o=a,s=this.options.repeatNode.split("/"),c=0;c<s.length-1;c++){var d=s[c],p=d.indexOf(":");if(p>=0)try{var h=d.substring(0,p),f=l.I.getNamespaces(a);f[h]&&(d=d+" xmlns:"+h+'="'+f[h]+'"')}catch(e){u.Y.printStackTrace(e)}o=o.appendChild(WebSquare.xml.parse("<"+d+"/>").documentElement)}o.appendChild(this.removeManager.getRowXML(n,t).documentElement)}else{var g=WebSquare.xml.findNode(i,this.options.baseNode)
;for(n=0;n<this.removeManager.getDataLength();n++)g.appendChild(this.removeManager.getRowXML(n,t).documentElement)}return i}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getVoidJSON=function(e,t){try{this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getVoidIndex(),a=0;a<i.length;a++)r.push(this.getRowJSON(i[a]));if(!e&&"dataList"==this.initializeType)for(a=0;a<this.removeManager.getDataLength();a++)r.push(this.removeManager.getRowJSON(a));if(null!=this.options.customFormatter){var n=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof n&&(r=n(this,r))}return r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getVoidArray=function(e,t){try{var r={};r.columnInfo=this.cellIdList,this.broadcast({gridView:["_endEdit"]});for(var i=[],a=this.getVoidIndex(),n=0;n<a.length;n++)i=i.concat(this.getRowData(a[n]));if(!e&&"dataList"==this.initializeType)for(n=0;n<this.removeManager.getDataLength();n++)i=i.concat(this.removeManager.getRowData(n));return r.data=i,r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getOnlyDeletedData=function(e,t){try{this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getOnlyDeletedIndex(),a=0;a<i.length;a++)r.push(this.getRowData(i[a]));if(!e&&"dataList"==this.initializeType)for(a=0;a<this.removeManager.getDataLength();a++)r.push(this.removeManager.getRowData(a));return r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getOnlyDeletedXML=function(e,t){try{this.broadcast({gridView:["_endEdit"]});var r=this.getOnlyDeletedIndex(),i=this.getArrXML(r,t);if(!e&&"dataList"==this.initializeType)if(this.options.removedDataMatch)for(var a=WebSquare.xml.findNode(i,this.options.baseNode),n=0;n<this.removeManager.getDataLength();n++){for(var o=a,s=this.options.repeatNode.split("/"),c=0;c<s.length-1;c++){var d=s[c],p=d.indexOf(":");if(p>=0)try{var h=d.substring(0,p),f=l.I.getNamespaces(a);f[h]&&(d=d+" xmlns:"+h+'="'+f[h]+'"')}catch(e){u.Y.printStackTrace(e)}o=o.appendChild(WebSquare.xml.parse("<"+d+"/>").documentElement)}o.appendChild(this.removeManager.getRowXML(n,t).documentElement)}else{var g=WebSquare.xml.findNode(i,this.options.baseNode);for(n=0;n<this.removeManager.getDataLength();n++)g.appendChild(this.removeManager.getRowXML(n,t).documentElement)}return i}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getOnlyDeletedJSON=function(e,t){try{this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getOnlyDeletedIndex(),a=0;a<i.length;a++)r.push(this.getRowJSON(i[a],t));if(!e&&"dataList"==this.initializeType)for(a=0;a<this.removeManager.getDataLength();a++)r.push(this.removeManager.getRowJSON(a,t));if(null!=this.options.customFormatter){var n=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof n&&(r=n(this,r))}return r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getOnlyDeletedArray=function(e,t){try{var r={};r.columnInfo=this.cellIdList,this.broadcast({gridView:["_endEdit"]});for(var i=[],a=this.getOnlyDeletedIndex(),n=0;n<a.length;n++)i=i.concat(this.getRowData(a[n]));if(!e&&"dataList"==this.initializeType)for(n=0;n<this.removeManager.getDataLength();n++)i=i.concat(this.removeManager.getRowData(n));return r.data=i,r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getUpdatedData=function(e){try{this.broadcast({gridView:["_endEdit"]});for(var t=[],r=this.getUpdatedIndex(),i=0;i<r.length;i++)t.push(this.getRowData(r[i],e));return t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getUpdatedXML=function(e){try{this.broadcast({gridView:["_endEdit"]});var t=this.getUpdatedIndex();return this.getArrXML(t,e)}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getUpdatedJSON=function(e){try{this.broadcast({gridView:["_endEdit"]});for(var t=[],r=this.getUpdatedIndex(),i=0;i<r.length;i++)t.push(this.getRowJSON(r[i],e));if(null!=this.options.customFormatter){var a=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof a&&(t=a(this,t))}return t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRefUpdatedJSON=function(e){try{
this.broadcast({gridView:["_endEdit"]});for(var t=[],r=this.getUpdatedIndex(),i=0;i<r.length;i++)t.push(this.getRefRowJSON(r[i],e));if(null!=this.options.customFormatter){var a=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);null!=a&&(t=a(this,t))}return t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getUpdatedArray=function(e){try{void 0!==e&&null!=e||(e={});var t={};"object"==typeof e.includeColumns&&null!=e.includeColumns&&e.includeColumns.constructor===Array?t.columnInfo=e.includeColumns:t.columnInfo=this.cellIdList,this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getUpdatedIndex(),a=0;a<i.length;a++)r=r.concat(this.getRowData(i[a]));return t.data=r,t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRemovedData=function(e){try{return this.removeManager.getAllData(e)}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRemovedXML=function(e){try{return void 0!==e&&null!=e||(e={}),e.id=this.id,this.removeManager.getAllXML(e)}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRemovedJSON=function(e){try{return this.removeManager.getAllJSON(e)}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRemovedArray=function(e){try{return this.removeManager.getAllArray(e)}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getModifiedData=function(e){try{e=e||{},this.broadcast({gridView:["_endEdit"]});for(var t=[],r=this.getModifiedIndex(),i=0;i<r.length;i++)t.push(this.getRowData(r[i],e));if("dataList"==this.initializeType&&(e.saveRemovedData||this.options.saveRemovedData&&!1!==e.saveRemovedData))for(i=0;i<this.removeManager.getDataLength();i++)t.push(this.removeManager.getRowData(i,e));return t}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getModifiedXML=function(e){try{e=e||{},this.broadcast({gridView:["_endEdit"]});var t=this.getModifiedIndex(),r=this.getArrXML(t,e);if("dataList"==this.initializeType&&(e.saveRemovedData||this.options.saveRemovedData&&!1!==e.saveRemovedData))if(this.options.removedDataMatch)for(var i=WebSquare.xml.findNode(r,this.options.baseNode),a=0;a<this.removeManager.getDataLength();a++){for(var n=i,o=this.options.repeatNode.split("/"),s=0;s<o.length-1;s++){var c=o[s],d=c.indexOf(":");if(d>=0)try{var p=c.substring(0,d),h=l.I.getNamespaces(i);h[p]&&(c=c+" xmlns:"+p+'="'+h[p]+'"')}catch(e){u.Y.printStackTrace(e)}n=n.appendChild(WebSquare.xml.parse("<"+c+"/>").documentElement)}n.appendChild(this.removeManager.getRowXML(a,e).documentElement)}else{var f=WebSquare.xml.findNode(r,this.options.baseNode);for(a=0;a<this.removeManager.getDataLength();a++)f.appendChild(this.removeManager.getRowXML(a,e).documentElement)}return r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getModifiedJSON=function(e){try{e=e||{},this.broadcast({gridView:["_endEdit"]});for(var t=[],r=[],i=[],a=this.getModifiedIndex(),n=0;n<a.length;n++)t.push(this.getRowJSON(a[n],e));if("dataList"==this.initializeType&&(e.saveRemovedData||this.options.saveRemovedData&&!1!==e.saveRemovedData))for(n=0;n<this.removeManager.getDataLength();n++)r.push(this.removeManager.getRowJSON(n,e));if(i=e&&e.DB?(i=i.concat(r)).concat(t):e&&e.excludeRemovedData?i.concat(t):(i=i.concat(t)).concat(r),null!=this.options.customFormatter){var o=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof o&&(i=o(this,i))}return i}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRefModifiedJSON=function(e){try{e=e||{},this.broadcast({gridView:["_endEdit"]});for(var t=[],r=[],i=[],a=this.getModifiedIndex(),n=0;n<a.length;n++)t.push(this.getRefRowJSON(a[n],e));if("dataList"==this.initializeType&&(e.saveRemovedData||this.options.saveRemovedData&&!1!==e.saveRemovedData))for(n=0;n<this.removeManager.getDataLength();n++)r.push(this.removeManager.getRefRowJSON(n,e));if(i=e&&e.DB?(i=i.concat(r)).concat(t):e&&e.excludeRemovedData?i.concat(t):(i=i.concat(t)).concat(r),null!=this.options.customFormatter){var o=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);null!=o&&(i=o(this,i))}return i}catch(e){u.Y.printStackTrace(e)}},
ne.prototype.getModifiedArray=function(e){try{void 0!==e&&null!=e||(e={});var t={};"object"==typeof e.includeColumns&&null!=e.includeColumns&&e.includeColumns.constructor===Array?t.columnInfo=e.includeColumns:t.columnInfo=this.cellIdList,this.broadcast({gridView:["_endEdit"]});for(var r=[],i=this.getModifiedIndex(),a=0;a<i.length;a++)r=r.concat(this.getRowData(i[a],e));if("dataList"==this.initializeType&&(e.saveRemovedData||this.options.saveRemovedData&&!1!==e.saveRemovedData))for(a=0;a<this.removeManager.getDataLength();a++)r=r.concat(this.removeManager.getRowData(a,e));return t.data=r,t}catch(e){u.Y.printStackTrace(e)}},ne.prototype._setRowStatus=function(e,t){try{var r=this.rowStatusArr[e];return t!=r&&(this.rowStatusArr[e]=t),r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.setAllRowStatus=function(e,t){try{t=t||!1,this.rowStatusArr=t?this.rowStatusArr.concat(e):e;for(var r=[],i=0;i<e.length;i++)for(var a=0;a<this.oneRowDataLength;a++)r.push(e[i]);this.setAllCellStatus(r,t)}catch(e){u.Y.printStackTrace(e)}},ne.prototype._setCellStatus=function(e,t,r){try{var i=this.getColumnIndex(t),a=this.cellStatusArr[e*this.oneRowDataLength+i];return r!=a&&(this.cellStatusArr[e*this.oneRowDataLength+i]=r),a}catch(e){u.Y.printStackTrace(e)}},ne.prototype.setAllCellStatus=function(e,t){try{t=t||!1,this.cellStatusArr=t?this.cellStatusArr.concat(e):e}catch(e){u.Y.printStackTrace(e)}},ne.prototype._initRowStatus=function(e){try{null!=e&&void 0!==e||(e=0),0==e&&(this.rowStatusArr=[]);for(var t=this.getTotalRow(),r=e;r<t;r++)if("removeManager"===this.initializeType)this.rowStatusArr.push("E");else this.rowStatusArr.push("R")}catch(e){u.Y.printStackTrace(e)}},ne.prototype.initRowStatus=function(){try{this._initRowStatus(0),this.broadcast({gridView:["notifyReformed"]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype._createRowStatus=function(e){try{this.rowStatusArr=this.rowStatusArr.slice(0,e).concat(["C"]).concat(this.rowStatusArr.slice(e)),this.broadcast({gridView:["notifyCreatedRowStatus",[e]],_bForceBroadcast:!0})}catch(e){u.Y.printStackTrace(e)}},ne.prototype._updateRowStatus=function(e){try{var t=this.rowStatusArr[e],r=t;if("C"==t||"D"==t)return;for(var i=!1,a=this.getTotalCol(),n=0;n<a;n++){var o=this.cellInfoHash[this.cellIdList[n]],s=o.options.inputType,l=this._getOriginalCellData(e,o.id),c=this._getData(e,n);if("expression"==s||1==this.ignoreStatusColArr[n]||0!==l&&0!==c){if("expression"!=s&&1!=this.ignoreStatusColArr[n]&&l!=c&&(null!==l||""!==c)){i=!0;break}}else if(0===l&&0!==c&&"0"!==c||0===c&&0!==l&&"0"!==l){i=!0;break}}"R"==t?1==i&&(t="U"):"U"==t&&0==i&&(t="R"),this._setRowStatus(e,t);var d=this.getFilteredRowIndex(e);t!=r&&M.f.fireEvent(this,"onrowstatuschange",[{rowIndex:d,newRowStatus:t,oldRowStatus:r}]),this.broadcast({gridView:["notifyStatusChanged",[{rowIndex:[d]}]]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype.removeRowStatus=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e),r=this.rowStatusArr[t];return this.rowStatusArr.splice(t,1),this.broadcast({gridView:["notifyRemovedRowStatus",[t]],_bForceBroadcast:!0}),r}catch(e){u.Y.printStackTrace(e)}},ne.prototype.removeCellStatus=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e),r=this.getTotalCol();this.cellStatusArr.splice(t*r,r)}catch(e){u.Y.printStackTrace(e)}},ne.prototype._initCellStatus=function(e){try{null!=e&&void 0!==e||(e=0),0==e&&(this.cellStatusArr=[]);for(var t=this.getTotalRow(),r=this.getTotalCol(),i=e*r;i<t*r;i++)if("removeManager"===this.initializeType)this.cellStatusArr.push("E");else this.cellStatusArr.push("R")}catch(e){u.Y.printStackTrace(e)}},ne.prototype.initCellStatus=function(){try{this._initCellStatus(0),this.broadcast({gridView:["notifyReformed"]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype._createCellStatus=function(e){try{for(var t=[],r=0;r<this.oneRowDataLength;r++)t.push("C")
;this.cellStatusArr=this.cellStatusArr.slice(0,e*this.oneRowDataLength).concat(t).concat(this.cellStatusArr.slice(e*this.oneRowDataLength))}catch(e){u.Y.printStackTrace(e)}},ne.prototype._updateCellStatus=function(e,t){try{var r=this.cellStatusArr[e*this.oneRowDataLength+t];if("C"==r||"D"==r)return;var i=!1,a=(this.getTotalCol(),this.cellInfoHash[this.cellIdList[t]]),n=a.options.inputType,o=this._getOriginalCellData(e,a.id),s=this._getData(e,t);"expression"==n||1==this.ignoreStatusColArr[t]||0!==o&&0!==s?"expression"!=n&&1!=this.ignoreStatusColArr[t]&&o!=s&&(null===o&&""===s||(i=!0)):(0===o&&0!==s&&"0"!==s||0===s&&0!==o&&"0"!==o)&&(i=!0),"R"==r?1==i&&(r="U"):"U"==r&&0==i&&(r="R"),this._setCellStatus(e,t,r);this.getFilteredRowIndex(e)}catch(e){u.Y.printStackTrace(e)}},ne.prototype.deleteRow=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e),r=this.getFilteredRowIndex(t);if(this.options.depthColumn&&this.hasChild(t)){var i=this.getChildrenRowArr(t);this.deleteRows(i)}this._deleteRowStatus(t),this._deleteCellStatus(t),this.broadcast({linkedDataList:["notifyDeleteRow",[t]],gridView:["notifyDeleteRow",[r]]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype.deleteRows=function(e){try{function r(e,t){return parseInt(e)<parseInt(t)?1:-1}e.sort(r);for(var t=0;t<e.length;t++)this.deleteRow(e[t]);return this.getDeletedData(!0,{noRefresh:!0})}catch(i){u.Y.printStackTrace(i)}},ne.prototype.undeleteRows=function(e){try{function a(e,t){return parseInt(e)<parseInt(t)?1:-1}e.sort(a);for(var t=[],r=0;r<e.length;r++){var i=this.undeleteRow(e[r]);t.push(i)}return t}catch(n){u.Y.printStackTrace(n)}},ne.prototype._deleteRowStatus=function(e){try{var t=this.rowStatusArr[e],r="";if(!0===this.options.keepInsertedRowDeleteStatus){if("D"==t||"V"==t)return}else if("D"==r||"V"==r)return;r="C"==t?"V":"D",this._setRowStatus(e,r);var i=this.getFilteredRowIndex(e);r!=t&&M.f.fireEvent(this,"onrowstatuschange",[{rowIndex:i,newRowStatus:r,oldRowStatus:t}]),i>-1&&this.broadcast({gridView:["notifyStatusChanged",[i]]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype._deleteCellStatus=function(e){try{for(var t=0;t<this.oneRowDataLength;t++){var r=this.cellStatusArr[e*this.oneRowDataLength+t],i="";if(!0===this.options.keepInsertedRowDeleteStatus){if("D"==r||"V"==r)continue}else if("D"==i||"V"==i)continue;i="C"==r?"V":"D",this._setCellStatus(e,t,i)}}catch(e){u.Y.printStackTrace(e)}},ne.prototype.undeleteRow=function(e){try{var t=this.options.depthColumn?e:this.getRealRowIndex(e);if(this.options.depthColumn&&this.hasChild(t)){var r=this.getChildrenRowArr(t);this.undeleteRows(r)}this._undeleteRowStatus(t),this._undeleteCellStatus(t),this.broadcast({gridView:["notifyUndeleteRow",[e]]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype._undeleteRowStatus=function(e){try{var t=this.rowStatusArr[e],r=t;if("D"!=t&&"V"!=t)return;if("V"==t)t="C";else{for(var i=!1,a=this.getTotalCol(),n=0;n<a;n++){var o=this.getCellInfo(n);if("expression"!=o.options.inputType&&1!=this.ignoreStatusColArr[n]&&this._getOriginalCellData(e,o.id)!=this._getData(e,n)){i=!0;break}}t=i?"U":"R"}this._setRowStatus(e,t);var s=this.getFilteredRowIndex(e);t!=r&&M.f.fireEvent(this,"onrowstatuschange",[{rowIndex:s,newRowStatus:t,oldRowStatus:r}]),this.broadcast({gridView:["notifyStatusChanged",[{rowIndex:[s]}]]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype._undeleteCellStatus=function(e){try{for(var t=0;t<this.oneRowDataLength;t++){var r=this.cellStatusArr[e*this.oneRowDataLength+t];if("D"!=r&&"V"!=r)return;if("V"==r)r="C";else{var i=!1,a=this.getCellInfo(t);if("expression"!=a.options.inputType&&1!=this.ignoreStatusColArr[t]&&this._getOriginalCellData(e,a.id)!=this._getData(e,t)){i=!0;continue}r=i?"U":"R"}this._setCellStatus(e,t,r)}}catch(e){u.Y.printStackTrace(e)}},ne.prototype.modifyAllStatus=function(e){try{for(var t=[],r=0;r<this.rowStatusArr.length;r++){var i=this._setRowStatus(r,e);e!=i&&t.push({rowIndex:r,newRowStatus:e,oldRowStatus:i})
;for(var a=0;a<this.oneRowDataLength;a++)this._setCellStatus(r,a,e)}M.f.fireEvent(this,"onrowstatuschange",t),this.broadcast({gridView:["notifyModifyAllStatus",[e]]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype.modifyRangeStatus=function(e,t,r){try{var i,a=[];if(i=this.options.depthColumn?this.getTotalRow():this.getDataLength(),0<=e&&t<=i)for(var n=e;n<=t;n++){var o=this.options.depthColumn?n:this.getRealRowIndex(n),s=this._setRowStatus(o,r);r!=s&&a.push({rowIndex:n,newRowStatus:r,oldRowStatus:s})}M.f.fireEvent(this,"onrowstatuschange",a),this.broadcast({gridView:["notifyModifyRangeStatus",[e,t,r]]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype.modifyMatchedStatus=function(e,t,r){try{var i,a=[];i=this.options.depthColumn?this.getTotalRow():this.getDataLength();for(var n=0;n<i;n++){var o=this.getColumnID(e);if(this.getCellData(n,o)+""==t+""){var s=this.options.depthColumn?n:this.getRealRowIndex(n),l=this._setRowStatus(s,r);r!=l&&a.push({rowIndex:n,newRowStatus:r,oldRowStatus:l})}}M.f.fireEvent(this,"onrowstatuschange",a),this.broadcast({gridView:["notifyModifyMatchedStatus",[e,t,r]]})}catch(e){u.Y.printStackTrace(e)}},ne.prototype.modifyRowStatus=function(e,t){try{var r;if(r=this.options.depthColumn?this.getTotalRow():this.getDataLength(),e>-1&&e<r){var i=this.options.depthColumn?e:this.getRealRowIndex(e),a=this._setRowStatus(i,t);t!=a&&M.f.fireEvent(this,"onrowstatuschange",[{rowIndex:e,newRowStatus:t,oldRowStatus:a}]),this.options.depthColumn&&(e=this.getFilteredRowIndex(i)),this.broadcast({gridView:["notifyModifyRowStatus",[e,t]]})}}catch(e){u.Y.printStackTrace(e)}},ne.prototype.modifyCellStatus=function(e,t,r){try{var i;if(i=this.options.depthColumn?this.getTotalRow():this.getDataLength(),e>-1&&e<i){var a=this.options.depthColumn?e:this.getRealRowIndex(e);this._setCellStatus(a,t,r)}}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getRowPosition=function(){try{return"number"==typeof this.rowPosition?this.rowPosition:null}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype.setRowPosition=function(e,t){try{e=parseInt(e,10),isNaN(e)&&(e=null);var r=this.rowPosition;if(r!=e){if(!t)if(!1===M.f.fireEvent(this,"onbeforerowpositionchange",{oldRowIndex:r,newRowIndex:e}))return!1;return this.rowPosition=e,t||M.f.fireEvent(this,"onrowpositionchange",{oldRowIndex:r,newRowIndex:e}),this.broadcast({linkedDataList:["notifyRowPositionChanged"],generalComp:"refresh",restartFilter:!1}),!0}}catch(e){u.Y.printStackTrace(e)}},ne.prototype.getColumnPosition=function(){try{return this.getColumnID(this.columnPosition)||""}catch(e){u.Y.printStackTrace(e,null,this)}},ne.prototype.setColumnPosition=function(e,t){try{var r=this.getColumnIndex(e);if(this.columnPosition!=r){var i=this.getColumnID(this.columnPosition),a=this.getColumnID(e);return!1!==M.f.fireEvent(this,"onbeforecolumnchange",{oldColumnID:i,newColumnID:a})&&(this.columnPosition=r,M.f.fireEvent(this,"oncolumnchange",{oldColumnID:i,newColumnID:a}),!0)}}catch(e){u.Y.printStackTrace(e)}},ne.prototype.saveRemovedRow=function(e,t){try{for(var r=0;r<t.length;r++)this.removeManager.dataArr.push(t[r]),this.removeManager.cellStatusArr.push("E"),this.removeManager.originalDataArr.push("");this.removeManager.rowStatusArr.push("E");var i=this.removeManager.filteredRowIndexArr.length;this.removeManager.filteredRowIndexArr.push(i)}catch(e){u.Y.printStackTrace(e,null,this)}};var oe=function(e){this.parent=e,this.filterArr=[],this.allRowIndexArr=[],this.firstFiltering=!0};oe.prototype.useFilter=function(){return 0!=this.filterArr.length},oe.prototype.onlySortFilter=function(){for(var e=0;e<this.filterArr.length;e++)if(-1==this.filterArr[e].id.indexOf("sort^@"))return!1;return!0},oe.prototype.clear=function(){this.filterArr=[],this.firstFiltering=!0},oe.prototype._setAllRowIndexArr=function(e){if(this.allRowIndexArr.length!=e){this.allRowIndexArr=[];for(var t=0;t<e;t++)this.allRowIndexArr.push(t)}},oe.prototype.executeAllFilter=function(e,t,r){this._setAllRowIndexArr(t),this.firstFiltering=!0
;for(var i=0;i<this.filterArr.length;i++)this.executeFilter(this.filterArr[i],e,t,r);if(0==this.filterArr.length)for(i=0;i<this.parent.getDataLength();i++)this.parent.filteredRowIndexArr[i]=i},oe.prototype.executeFilter=function(e,t,r,i){try{if("and"==e.options.condition)this.firstFiltering?(this.parent.filteredRowIndexArr=this.allRowIndexArr.slice(0),this.parent.filteredRowIndexArr=e.execute(t,r,i,this.allRowIndexArr)):this.parent.filteredRowIndexArr=e.execute(t,r,i,this.parent.filteredRowIndexArr);else if("or"==e.options.condition){var a=e.execute(t,r,i,this.allRowIndexArr);this.firstFiltering?this.parent.filteredRowIndexArr=this.mergeArray(this.allRowIndexArr,a):this.parent.filteredRowIndexArr=this.mergeArray(this.parent.filteredRowIndexArr,a)}else if(">"==e.options.condition||">="==e.options.condition||"<"==e.options.condition||"<="==e.options.condition){if("number"!=e.options.columnDataType)return this.parent.filteredRowIndexArr=this.allRowIndexArr,void(this.firstFiltering=!1);this.firstFiltering?this.parent.filteredRowIndexArr=e.executeCondition(t,r,i,this.allRowIndexArr):this.parent.filteredRowIndexArr=e.executeCondition(t,r,i,this.parent.filteredRowIndexArr)}this.firstFiltering=!1}catch(e){u.Y.printStackTrace(e,null,this)}},oe.prototype.addFilter=function(e,t,r,i){try{var a=i.fakeExpressionArr?i.fakeExpressionArr:this.parent.dataArr;if(i.sortIndexArr){for(var n=[],o=0;o<i.sortIdArr.length;o++){var s=this.parent.getColumnIndex(i.sortIdArr[o]);i.isExpression?n.push(i.sortIndexArr[o]):n.push(s)}i.sortIndexArr=n}this._setAllRowIndexArr(t);var l=null;if("row"==i.type)l=new WebSquare.DataCollection.dataList.filter.rowFilter(e,i);else if("user"==i.type)l=new WebSquare.DataCollection.dataList.filter.userFilter(e,i);else if("cell"==i.type)l=new WebSquare.DataCollection.dataList.filter.cellFilter(e,i);else if("sort"==i.type){if("string"==typeof(c=i.sortIndex))var c=i.sortIndex.split(" ");var d=this.parent.childCompHash[i.gridId];if(i.isExpression&&d){var p,h=this.parent.getColCnt();i.colIndex=h,i.fakeExpressionArr&&(h++,r++,p=this.parent.getColCnt());for(o=0;o<c.length;o++){var f=d.getCellInfo(i.cellInfoArr[o]);!i.fakeExpressionArr&&i.isExpressionArr[o]&&(p=this.parent.getColumnIndex(c[o]));for(var g=0;g<t;g++){var m=f.getDisplayData(null,g,!0);a[p+h*g]=m+""}}}l=new WebSquare.DataCollection.dataList.filter.sortFilter(e,i),this.deleteFilterById("sort^@",!1)}else"func"==i.type?l=new WebSquare.DataCollection.dataList.filter.funcFilter(e,i):"regExp"==i.type?l=new WebSquare.DataCollection.dataList.filter.regExpFilter(e,i):"direct"===i.type&&(l=new WebSquare.DataCollection.dataList.filter.directFilter(e,i));this.executeFilter(l,a,t,r),this.filterArr.push(l)}catch(e){u.Y.printStackTrace(e,null,this)}},oe.prototype.deleteFilter=function(e,t,r,i,a,n){void 0===n&&(n=!0);for(var o=!1,s=[],l=0;l<this.filterArr.length;l++)-1==this.filterArr[l].id.indexOf(e)?s.push(this.filterArr[l]):o=!0;if(this.filterArr=s,1==n){this.firstFiltering=!0,this._setAllRowIndexArr(r);for(l=0;l<this.filterArr.length;l++)this.executeFilter(this.filterArr[l],t,r,i);if(0==this.filterArr.length){r=this.parent.getTotalRow();this.parent.filteredRowIndexArr=[];for(l=0;l<r;l++)this.parent.filteredRowIndexArr.push(l)}}return o},oe.prototype.mergeArray=function(e,t){for(var r=[],i=[],a=0;a<e.length;a++)r[e[a]]=1;for(a=0;a<t.length;a++)r[t[a]]=1;for(a=0;a<r.length;a++)1==r[a]&&i.push(a);return i},oe.prototype.deleteFilterById=function(e,t){void 0===t&&(t=!0);for(var r=[],i=0;i<this.filterArr.length;i++)-1==this.filterArr[i].id.indexOf(e)&&r.push(this.filterArr[i]);this.filterArr=r,1==t||0==this.filterArr.length&&(this.firstFiltering=!0)},oe.prototype.getOriginalRowIndex=function(e){return this.filteredRowIndexArr[e]},oe.prototype.getDisplayRowIndex=function(e){if(0!=this.parent._dataList.filteredRowIndexArr.length)for(var t=0;t<this.parent._dataList.filteredRowIndexArr.length;t++)if(e==this.parent._dataList.filteredRowIndexArr[t])return t;return e};var se={
rowFilter:function(e,t){this.id=e,this.options=o.q.extend({colIndex:-1,key:"",condition:"and",exactMatch:!1},t||{})}};se.rowFilter.prototype.execute=function(e,t,r,i){for(var a=[],n=0;n<i.length;n++){var o=i[n],s=f.Z.getComponentById(this.options.dataList),l="@rowStatus"==this.options.colIndex?s.rowStatusArr[o]:e[o*r+this.options.colIndex];null==l&&(l=""),this.options.exactMatch?l==this.options.key&&a.push(o):l.indexOf(this.options.key)>-1&&a.push(o)}return a},se.rowFilter.prototype.executeCondition=function(e,t,r,i){for(var a=[],n=0;n<i.length;n++){var o,s,l=i[n];"number"==this.options.columnDataType&&(o=parseFloat(e[l*r+this.options.colIndex])||0,s=parseFloat(this.options.key)),">"==this.options.condition?o>s&&a.push(l):">="==this.options.condition?o>=s&&a.push(l):"<"==this.options.condition?o<s&&a.push(l):"<="==this.options.condition&&o<=s&&a.push(l)}return a},se.userFilter=function(e,t){this.id=e,this.options=o.q.extend({key:"",condition:"and"},t||{})},se.userFilter.prototype.getColumnData=function(e,t,r,i,a){return"string"==typeof a&&(a=this.options.bodyIdColIndexMap[a]),e[i*r+a]},se.userFilter.prototype.execute=function(e,t,r,i){for(var a=this.options.key.replace(/col[\s]*\(/g,"_this.getColumnData(dataArr, totalRow, totalCol, row, "),n=[],o=0;o<i.length;o++){var s=i[o];new Function("_this","dataArr","totalRow","totalCol","row","return "+a)(this,e,t,r,s)&&n.push(s)}return n},se.cellFilter=function(e,t){this.id=e,this.options=o.q.extend({key:""},t||{})},se.cellFilter.prototype.execute=function(e,t,r,i){for(var a=[],n=0;n<i.length;n++)for(var o=i[n],s=0;s<r;s++){var l=e[o*r+s];null==l&&(l=""),l.indexOf(this.options.key)>-1&&a.push(o)}return a},se.sortFilter=function(e,t){this.id=e,this.options=o.q.extend({colIndex:"",sortIndex:"",sortOrder:"",dataType:"",sortIndexArr:[],sortOrderArr:[],dataTypeArr:[],sortFuncArr:[],sortIdArr:[]},t||{})},se.sortFilter.prototype.execute=function(e,t,r,i){for(var a=i.slice(0).sort((function(e,t){return e-t})),n=this.options,o=[],s=0;s<a.length;s++)o[s]=a[s]*r;var l,u,c=[];for(s=0;s<n.sortIndexArr.length;s++)if(c[s]={},n.sortFuncArr[s])for(var d=0;d<o.length;d++)c[s][a[d]]=e[o[d]+n.sortIndexArr[s]];else if("number"==n.dataTypeArr[s])for(d=0;d<o.length;d++){var p=e[o[d]+n.sortIndexArr[s]];1==n.numberExtractionValueArr[s]?p=(p+="").replace(/[^\+\-\.0-9]/g,""):isNaN(Number(p))&&(p=""),c[s][a[d]]=""===p?"":Number(p)}else if("float"==n.dataTypeArr[s])for(d=0;d<o.length;d++){p=e[o[d]+n.sortIndexArr[s]];1==n.numberExtractionValueArr[s]&&(p=(p+="").replace(/[^\+\-\.0-9]/g,"")),c[s][a[d]]=""===p?"":parseFloat(p)}else if("bigDecimal"===n.dataTypeArr[s])for(d=0;d<o.length;d++){p=e[o[d]+n.sortIndexArr[s]];1==n.numberExtractionValueArr[s]&&(p=(p+="").replace(/[^\+\-\.0-9]/g,"")),isNaN(Number(p))&&(p=""),isNaN(WebSquare.bigDecimal("").big)?($l("[sort filter] big.min.js is required."),c[s][a[d]]=""===p?"":Number(p)):c[s][a[d]]=""===p?"":WebSquare.bigDecimal(p)}else for(d=0;d<o.length;d++)c[s][a[d]]=e[o[d]+n.sortIndexArr[s]]||"";if(n.sortLabel)for(s=0;s<n.sortIndexArr.length;s++)if(!0===n.sortLabel[s])for(d=0;d<o.length;d++)c[s][d]=this.changeValueToLabel(c[s][d],s,n.isCustomCol[s],d);if(1==c.length)if(n.sortFuncArr[0]){var h=n.sortFuncArr[0];g=c[0];a.sort((function(e,t){return h(g[e],g[t])}))}else{var f=n.sortOrderArr[0],g=c[0];"bigDecimal"!==n.dataType||isNaN(WebSquare.bigDecimal("").big)?"true"==n.ignoreEmptyStringOnSort?a.sort((function(e,t){return g[e]===g[t]?0:""===g[e]?1:""===g[t]?-1:g[e]>g[t]?f:-f})):"true"==n.setEmptyStringFirstOnSort?a.sort((function(e,t){return g[e]==g[t]?0===g[e]&&""===g[t]?f:""===g[e]&&0===g[t]?-f:0:""===g[e]?-f:""===g[t]||g[e]>g[t]?f:-f})):"true"==n.setEmptyStringSortableOnSort?a.sort((function(e,t){return g[e]===g[t]?0:""===g[e]?-f:""===g[t]||g[e]>g[t]?f:-f})):a.sort((function(e,t){return g[e]==g[t]?0:g[e]>g[t]?f:-f})):"true"==n.ignoreEmptyStringOnSort?a.sort((function(e,t){l=""===g[e]?WebSquare.bigDecimal(""):g[e],u=""===g[t]?WebSquare.bigDecimal(""):g[t];var r=l.minus(u)
;return"0"===r.toString()?0:""===g[e]?1:""===g[t]?-1:"0"!==r.compare("0")?f:-f})):"true"==n.setEmptyStringFirstOnSort?a.sort((function(e,t){l=""===g[e]?WebSquare.bigDecimal(""):g[e],u=""===g[t]?WebSquare.bigDecimal(""):g[t];var r=l.minus(u);return"0"===r.toString()?"0"===l.toString()&&""===g[t]?f:""===g[e]&&"0"===u.toString()?-f:0:""===g[e]?-f:""===g[t]||"0"!==r.compare("0")?f:-f})):"true"==n.setEmptyStringSortableOnSort?a.sort((function(e,t){l=""===g[e]?WebSquare.bigDecimal(""):g[e],u=""===g[t]?WebSquare.bigDecimal(""):g[t];var r=l.minus(u);return"0"===r.toString()?0:""===g[e]?-f:""===g[t]||"0"!==r.compare("0")?f:-f})):a.sort((function(e,t){if(""===g[e]&&""===g[t])return 0;l=""===g[e]?WebSquare.bigDecimal(""):g[e],u=""===g[t]?WebSquare.bigDecimal(""):g[t];var r=l.minus(u);return"0"===r.toString()?0:"0"!==r.compare("0")?f:-f}))}else a.sort((function(e,t){for(var r=0;r<c.length;r++){var i,a;if(n.sortFuncArr.constructor==Array?(a=n.sortFuncArr[r],1==n.sortFuncArr.length&&(a=n.sortFuncArr[0])):a=n.sortFuncArr,a)i=a(c[r][e],c[r][t]);else if("bigDecimal"!==n.dataTypeArr[r]||isNaN(WebSquare.bigDecimal("").big))i=c[r][e]==c[r][t]?0:c[r][e]<c[r][t]?-n.sortOrderArr[r]:n.sortOrderArr[r];else{if(""===c[r][e]&&""===c[r][t])return 0;l=""===c[r][e]?WebSquare.bigDecimal(""):c[r][e],u=""===c[r][t]?WebSquare.bigDecimal(""):c[r][t];var o=l.minus(u);i="0"===o.toString()?0:"0"!==o.compare("0")?n.sortOrderArr[r]:-n.sortOrderArr[r]}if(0!=i)return i}return 0}));return a},se.sortFilter.prototype.changeValueToLabel=function(e,t,r,i){var a,n,o=this.options.sortItemArr,s=this.options.sortItemsetIdObj;if(r){var l=this.options.customCellDataListInfo[i];if(l){o=this.options.customDataListInfoHash[l];var u=this.options.customSortItemsetIdObj;a=u[i].label||"label",n=u[i].value||"value";for(var c=0;c<o.length;c++)if(e==o[c][n])return o[c][a]}}else if(a=s.label||"label",n=s.value||"value",o[t]&&o[t].length>0)for(c=0;c<o[t].length;c++)if(e==o[t][c][n])return o[t][c][a];return e},se.funcFilter=function(e,t){this.id=e,this.options=o.q.extend({colIndex:-1,key:"",condition:"and"},t||{})},se.funcFilter.prototype.execute=function(e,t,r,i){if("function"!=typeof this.options.key)throw new Error("This key is not a Function.[key:"+this.options.key+"]");for(var a=[],n=0;n<i.length;n++){var o=i[n],s=e[o*r+this.options.colIndex];"number"===this.options.columnDataType&&""!==s&&(s=s.toString().indexOf(".")>-1?parseFloat(s):parseInt(s,10)),this.options.key(s,this.options.param,o)&&a.push(o)}return a},se.regExpFilter=function(e,t){this.id=e,this.options=o.q.extend({colIndex:-1,key:"",condition:"and"},t||{}),this.regExp=this.options.key},se.regExpFilter.prototype.execute=function(e,t,r,i){if(!f.Z.isRegExp(this.regExp))throw new Error("This key is not a regular expression.[key:"+this.regExp+"]");if(f.Z.isNullReg(this.regExp))return[];for(var a=[],n=0;n<i.length;n++){var o=i[n];(e[o*r+this.options.colIndex]+"").match(this.regExp)&&a.push(o)}return a},se.directFilter=function(e,t){this.id=e,this.options=o.q.extend({colIndex:-1,key:"",condition:"and"},t||{})},se.directFilter.prototype.execute=function(){return this.options.key};var le=function(){};le.prototype.getCellInfo=function(e){var t="";return"string"==typeof e?t=e:"number"==typeof e&&(t=this.cellIdList[e]),this.cellInfoHash[t]||{options:{}}},le.prototype.getColumnCount=function(){return this.cellIdList.length},le.prototype.getColumnID=function(e){if("string"==typeof e)return this.cellInfoHash[e]?e:null;var t=this.cellIdList[e];return t||null},le.prototype.getColumnIndex=function(e){return"number"==typeof e?e:this.bodyIdColIndexMap[e]},le.prototype.hasColumn=function(e){try{"number"==typeof e&&(e=this.getColumnID(e));var t=!1;return"number"==typeof this.bodyIdColIndexMap[e]&&(t=!0),t}catch(e){u.Y.printStackTrace(e,null,this)}},le.prototype.getColumnName=function(e){"number"==typeof e&&(e=this.getColumnID(e));var t=this.getCellInfo(e);return t?t.name:""},le.prototype.setColumnName=function(e,t){
"number"==typeof e&&(e=this.getColumnID(e));var r=this.getCellInfo(e);r&&r.name&&(r.name=t),this.broadcast({fusionChart:["refresh"]})};var ue=function(e,t,r){this.options={name:"",id:"",col_id:"",colIndex:"",defaultValue:"",value:"",useFilter:!1,dataType:"text",valueType:"binary",trueValue:null,falseValue:null,ignoreStatus:!1,keepEmptyString:!1,encYN:!1,nullYN:!1},this.mainDataList=t,e&&this.setOptions(e),""!=this.options.value&&""==this.options.defaultValue&&(this.options.defaultValue=this.options.value),""==this.options.value&&""!=this.options.defaultValue&&(this.options.value=this.options.defaultValue),this.id=this.options.col_id,this.options.id=this.options.col_id,this.name=this.options.name||"",this.mainDataList.ignoreStatusColArr[r]=this.options.ignoreStatus};ue.prototype.setOptions=function(e){if("grid"==this.mainDataList.initializeType){var t=e.inputType||"text";this.configOptions=l.I.getConfig("grid/column[@inputType='"+t+"']"),this.options=o.q.extendKeepingType(this.options,this.configOptions)}for(var r in e)if("class"===r)this.options.className=e[r];else{var i=e[r];switch(typeof this.options[r]){case"string":if(""==i)continue;"$blank"==i&&(i="");break;case"number":i=i&&i.toString().indexOf(".")>-1?parseFloat(i):parseInt(i,10);break;case"boolean":i=f.Z.getBoolean(i)}this.options[r]=i}this.options.col_id=e.id,this.element=e},ue.prototype.getExpressionValue=function(e){this.rowIndex=e;var t=this.options.expression;return null==this.expressionStr&&(""!=t&&null!=t&&(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/[sS][uU][mM][\s]*[(]/g,"_this.colsum(")).replace(/[aA][vV][gG][\s]*[(]/g,"_this.colavg(")).replace(/[mM][aA][xX][\s]*[(]/g,"_this.colmax(")).replace(/[mM][iI][nN][\s]*[(]/g,"_this.colmin(")).replace(/[cC][aA][lL][cC][\s]*[(]/g,"_this.colcalc(")).replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"_this.display(")).replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"_this.getRowIndex(")).replace(/rowStatus[\s]*[(]/gi,"_this.rowStatus(")),this.expressionStr=t),new Function("_this","return "+this.expressionStr)(this)},ue.prototype.rowStatus=function(){switch(this.mainDataList.getRowStatusValue(this.rowIndex)){case 0:return"R";case 1:return"U";case 2:return"C";case 3:return"D";case 4:return"V"}},ue.prototype.colsum=function(){for(var e=0,t=0;t<arguments.length;t++){var r=this.mainDataList.getColumnIndex(arguments[t]);"bigDecimal"===this.mainDataList.getColumnOption(this.options.col_id,"dataType")?e=WebSquare.bigDecimal(e).plus(WebSquare.bigDecimal(this.mainDataList._getData(this.rowIndex,r)))||0:e+=parseFloat(this.mainDataList._getData(this.rowIndex,r))||0}return e},ue.prototype.colavg=function(){for(var e=0,t=this.mainDataList.getColumnOption(this.options.col_id,"dataType"),r=0;r<arguments.length;r++){var i=this.mainDataList.getColumnIndex(arguments[r]);"bigDecimal"===t?e=WebSquare.bigDecimal(e).plus(WebSquare.bigDecimal(this.mainDataList._getData(this.rowIndex,i)))||0:e+=parseFloat(this.mainDataList._getData(this.rowIndex,i))||0}return"bigDecimal"===t?e=WebSquare.bigDecimal(e).divide(WebSquare.bigDecimal(arguments.length)).toString():e/=arguments.length,e},ue.prototype.colmax=function(){for(var e=0,t=this.mainDataList.getColumnOption(this.options.col_id,"dataType"),r=0;r<arguments.length;r++){var i=this.mainDataList.getColumnIndex(arguments[r]);if("bigDecimal"===t)e=WebSquare.bigDecimal(e).compare(WebSquare.bigDecimal(this.mainDataList._getData(this.rowIndex,i)))||0;else{var a=parseFloat(this.mainDataList._getData(this.rowIndex,i))||0;(0==r||a>e)&&(e=a)}}return e},ue.prototype.colmin=function(){for(var e=0,t=this.mainDataList.getColumnOption(this.options.col_id,"dataType"),r=0;r<arguments.length;r++){var i=this.mainDataList.getColumnIndex(arguments[r]);if("bigDecimal"===t)e="0"===WebSquare.bigDecimal(e).toString()?WebSquare.bigDecimal(this.mainDataList._getData(this.rowIndex,i)):WebSquare.bigDecimal(e),e=WebSquare.bigDecimal(e).compare(WebSquare.bigDecimal(this.mainDataList._getData(this.rowIndex,i)),!0)||0;else{
var a=parseFloat(this.mainDataList._getData(this.rowIndex,i))||0;(0==r||a<e)&&(e=a)}}return e},ue.prototype.colcalc=function(e){function t(e,t){e[e.length]=t}function r(e){var t=e[e.length-1];return delete e[e.length-1],e.length--,t}function i(e){return!a(e)&&"("!=e&&")"!=e}function a(e){return"+"==e||"-"==e||"*"==e||"/"==e||"^"==e||"%"==e}function n(e){return e[e.length-1]}function o(e){return 0==e.length}function s(e){return"^"==e?5:"*"==e||"/"==e||"%"==e?4:"+"==e||"-"==e?3:"("==e?2:")"==e?1:void 0}function l(e,t,r){var i;try{return"+"==r&&(i=e.plus(t)),"-"==r&&(i=e.minus(t)),"*"==r&&(i=e.times(t)),"/"==r&&(i=e.divide(t)),"^"==r&&(i=e.pow(t)),"%"==r&&(i=e.mod(t)),i}catch(e){u.Y.printStackTrace(e)}}var c=function(e,l,u){l=new Array;var c=new Array,d=0;e=function(e){for(var t=e.split(""),r=new String(""),n=new Array,o=0,s=0;s<t.length;s++)i(t[s])&&null==t[s].match(/\s/)&&(r+=t[s]),(a(t[s])||")"==t[s]||"("==t[s])&&(""!=r&&(n[o]=r,o++),r="",n[o]=t[s],o++),s==t.length-1&&""!=r&&(n[o]=r);return n}(e);for(var p=0;p<e.length;p++){if(i(e[p])&&(l[d]=e[p],d++),a(e[p])){if("^"!=e[p])for(;!o(c)&&s(e[p])<=s(n(c));)l[d]=n(c),r(c),d++;else for(;!o(c)&&s(e[p])<s(n(c));)l[d]=n(c),r(c),d++;t(c,e[p])}if("("==e[p]&&t(c,e[p]),")"==e[p]){for(;"("!=n(c);)l[d]=r(c),d++;r(c)}}for(;!o(c);)"("==n(c)?r(c):l[l.length]=r(c);var h="";for(p=0;p<l.length;p++)h+=l[p];return 0==u?h:l}(e);for(var d in c){var p=this.mainDataList.getColumnIndex(c[d]);c[d]=null!=p?WebSquare.bigDecimal(this.mainDataList._getData(this.rowIndex,p)):c[d]}return function(e){for(var a,o,s=new Array,u=0;u<e.length;u++)if(i(e[u]))t(s,e[u]);else{(a=new Function("return "+n(s))()).constructor!=WebSquare.bigDecimalObj&&(a=WebSquare.bigDecimal(a)),r(s),(o=new Function("return "+n(s))()).constructor!=WebSquare.bigDecimalObj&&(o=WebSquare.bigDecimal(o));var c=l(o,a,e[u]);r(s),t(s,c)}return n(s)}(c)},ue.prototype.display=function(){var e=this.mainDataList.getColumnIndex(arguments[0]);return this.mainDataList.getCellData(this.rowIndex,e)},ue.prototype.getRowIndex=function(){return this.mainDataList.getDisplayRowIndex(this.rowIndex)};var ce=function(e){};ce.prototype.getBroadcast=function(){return!1!==this._broadCastFlag},ce.prototype._getBroadcastAll=function(){return!0===this.getBroadcast()&&!0===WebSquare.DataCollection.api.getBroadcast()},ce.prototype.setBroadcast=function(e,t,r){if(!1===e)this._broadCastFlag=e;else if(this._broadCastFlag=!0,!0===t){var i={gridView:[{refreshInstance:!0,refreshScroll:!0}],pivot:[{type:"render",refresh:!0}]};if("object"==typeof r)for(var a in r)"object"==typeof r[a]&&r[a].constructor===Array&&(i[a]=r[a].slice(0));var n={linkedDataList:["notifyDataChanged"],gridView:["notifyBroadcast"],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwRealtimeChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],pivot:["refreshItemset"],generalComp:"both"};for(var a in i)n[a].push(i[a]);this.broadcast(n)}},ce.prototype.broadcast=function(e){try{if(WebSquare.DataCollection.stopBroadCast&&WebSquare.DataCollection.stopBroadCastComp._wq_add(this.uuid),!e)return;if(!0!==e._bForceBroadcast&&(WebSquare.DataCollection.stopBroadCast||!this.getBroadcast()))return;for(var t in this.childCompHash){if(null!=(i=this.childCompHash[t])&&WebSquare.idCache[i.uuid]&&(void 0===i.render||null!=i.render))"linkedDataList"===(i.options.pluginName||i.initializeType)&&e.linkedDataList&&e.linkedDataList&&("notifyCellChanged"===e.linkedDataList[0]?i.restartFilterByCellChanged.apply(i,e.linkedDataList[1]||[]):void 0===e.restartFilter&&i.restartFilter.apply(i,e.linkedDataList[1]||[]))}for(var t in this.childCompHash){var r=null;if(e.excludeId&&e.excludeId[t]){if(!e.gridView||"notifySettedCellData"!==e.gridView[0])continue;(r=e.gridView[1].slice(0))[3]=!0}if(null!=(i=this.childCompHash[t])&&WebSquare.idCache[i.uuid])if(void 0===i.render||null!=i.render)switch("stop"==i.activeStatus&&"function"==typeof i.preActivate&&i.preActivate(),
i.options.pluginName||i.initializeType){case"linkedDataList":e.linkedDataList&&i[e.linkedDataList[0]].apply(i,e.linkedDataList[1]||[]);break;case"grid":case"gridView":e.gridView&&i[e.gridView[0]].apply(i,r||e.gridView[1]||[]);break;case"fusionchart":e.fusionChart&&i[e.fusionChart[0]].apply(i,e.fusionChart[1]||[]);break;case"mapchart":"refreshItemset"!=e.generalComp&&"both"!=e.generalComp&&"refreshItemArr"!=e.generalComp||i.refreshDataLists(this.id);break;case"pivot":e.pivot&&i[e.pivot[0]].apply(i,e.pivot[1]||[]);break;case"treeview":if(e.treeview){i[e.treeview[0]].apply(i,e.treeview[1]||[]);break}default:"refreshItemset"==e.generalComp||"both"==e.generalComp?i.modelControl.useItemset&&i.refreshItemset(e.refreshMode,e.type):"rollback"==e.generalComp&&i.rollback()}else if(null==i.render){i.options.pluginName||i.initializeType;"treeview"&&this._setDelayedRefreshComponent(t,!0)}}for(var t in this.refCompHash){var i;if(!e.excludeId||!e.excludeId[t])if(null!=(i=this.refCompHash[t])&&WebSquare.idCache[i.uuid]){if((!i.options.pluginName||i.options.pluginName.indexOf("fw")<0&&"fusionchart"!==i.options.pluginName)&&e.colID&&i.modelControl&&i.modelControl.dataCollectionRefInfo&&i.modelControl.dataCollectionRefInfo.colID!=e.colID)continue;switch("stop"==i.activeStatus&&"function"==typeof i.preActivate&&i.preActivate(),i.options.pluginName){case"fusionchart":e.fusionChart&&i[e.fusionChart[0]].apply(i,e.fusionChart[1]||[]);break;case"fwFunnelChart":e.fwFunnelChart&&i[e.fwFunnelChart[0]].apply(i,e.fwFunnelChart[1]||[]);break;case"fwGanttChart":e.fwGanttChart&&i[e.fwGanttChart[0]].apply(i,e.fwGanttChart[1]||[]);break;case"fwPyramidChart":e.fwPyramidChart&&i[e.fwPyramidChart[0]].apply(i,e.fwPyramidChart[1]||[]);break;case"fwSparkChart":e.fwSparkChart&&i[e.fwSparkChart[0]].apply(i,e.fwSparkChart[1]||[]);break;case"fwRealtimeChart":e.fwRealtimeChart&&i[e.fwRealtimeChart[0]].apply(i,e.fwRealtimeChart[1]||[]);break;case"linkedDataList":e.linkedDataList&&i.refresh();break;default:"refresh"==e.generalComp||"both"==e.generalComp?i.modelControl.useRef&&i.refresh():"binding"==e.generalComp?i.modelControl.binding():"rollback"==e.generalComp&&i.rollback()}}}}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype._setDelayedRefreshComponent=function(e,t){try{t=f.Z.getBoolean(t);WebSquare.DataCollection.delayedRefreshComponent[e]=t}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype._getDelayedRefreshComponent=function(e){try{return!0===WebSquare.DataCollection.delayedRefreshComponent[e]}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.synchronize=function(){try{var e=WebSquare.DataCollection.parentToChildRelation[this.id];if(e)for(var t in e)e[t]&&(this.childCompHash[t]=f.Z.getComponentById(t));this.broadcast({gridView:["setDataList"],linkedDataList:["setDataList"],generalComp:["refreshItemArr"],restartFilter:!1})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.synchronizeRef=function(){try{var e=WebSquare.DataCollection.parentToChildRef[this.id];if(e)for(var t in e)e[t]&&(this.refCompHash[t]=f.Z.getComponentById(t));this.broadcast({gridView:["drawData",[0,0]],generalComp:["refresh"]})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype._addRelation=function(e){try{if(!this.childCompHash)return;var t=f.Z.getComponentById(e);if(!t)return;if(this.childCompHash[e]===t)return;switch(this.childCompHash[e]=t,"stop"!=t.activeStatus||"function"!=typeof t.preActivate||t.skipPreActivate||t.preActivate(),t.options.pluginName||t.initializeType){case"linkedDataList":case"grid":case"gridView":t.setDataList()}}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype._addRefRelation=function(e){try{if(!this.refCompHash)return;var t=f.Z.getComponentById(e);if(!t)return;switch(this.refCompHash[e]=t,"stop"==t.activeStatus&&"function"==typeof t.preActivate&&t.preActivate(),t.options.pluginName||t.initializeType){case"grid":case"gridView":t.drawData(0,0);break;default:t.modelControl.useRef&&t.refresh()}}catch(e){u.Y.printStackTrace(e,null,this)}},
ce.prototype.addChild=function(e){try{this.childCompHash&&(this.childCompHash[e.id]=e)}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.removeChild=function(e){try{this.childCompHash&&delete this.childCompHash[e]}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.addRefComp=function(e){try{this.refCompHash[e.id]=e}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.removeRefComp=function(e){try{this.refCompHash&&delete this.refCompHash[e]}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getConfiguredOptions=function(){try{var e,t,r=this.defaultOptions.pluginName,i={};if(this.configuredOptions={},this.configuredOptions[r])e=this.configuredOptions[r].keys,t=this.configuredOptions[r].values;else{var a=o.q.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:!1},this.defaultOptions);if(a.useConfig||f.Z.getBoolean(l.I.getConfiguration("/WebSquare/"+r+"/useConfig/@value"))){var n=l.I.getConfig(r);a=o.q.extendKeepingType(a,n)}for(var s in e=[],t=[],a)e.push(s),t.push(a[s]);this.configuredOptions[r]={keys:e,values:t}}for(var c=0;c<e.length;c++)i[e[c]]=t[c];return i}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getStructure=function(){try{switch(this.elementType){case"XML":return this.xml2JSON(this.element);case"JSON":return this.json2Structure()}}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.json2Structure=function(){try{var e=this.element,t={attr:{id:this.id},rowArr:[[]]};if(t.attr=o.q.extendKeepingType(t.attr,e.options),e.columnInfo)for(var r=0;r<e.columnInfo.length;r++){var i=e.columnInfo[r];t.rowArr[0].push(i)}return t}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getInitializeType=function(){try{return this.getObjectType()}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.setColumnFilter=function(e,t,r,i){try{var a=this.getColumnIndex(e);this.broadcast({gridView:["notifyBeforeSettedColumnFilter"]});var n=!1;if("object"!=typeof e||f.Z.isString(e))M.f.fireEvent(this,"onbeforecolumnfilterchange"),this.setFilter({type:"row",colIndex:a,key:t,condition:r,exactMatch:i});else{if("row"!==e.type&&"func"!==e.type&&"regExp"!==e.type)throw new Error("type does not support.[type:"+e.type+"]");n=e.noRefreshAfter,!1!==e.columnfilterchangeFire&&M.f.fireEvent(this,"onbeforecolumnfilterchange"),this.setFilter({type:e.type,colIndex:"string"==typeof e.colIndex&&"rowstatus()"==e.colIndex.toLowerCase()?"@rowStatus":e.colIndex,key:e.key,condition:e.condition,param:e.param,exactMatch:e.exactMatch,noRefresh:e.noRefresh,keepTop:e.keepTop,internal:e.internal})}!0!==n&&this.broadcast({gridView:["notifyAfterSettedColumnFilter"]}),("object"!=typeof e||f.Z.isString(e)||!1!==e.columnfilterchangeFire)&&M.f.fireEvent(this,"onaftercolumnfilterchange")}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.removeColumnFilter=function(e,t){try{var r=this.getColumnID(e);this.broadcast({gridView:["notifyBeforeRemovedColumnFilter"]}),this.removeFilter({type:"row",colIndex:"rowstatus()"==e.toLowerCase()?"@rowStatus":r,key:"",noRefresh:t&&!0===t.noRefresh,internal:t&&!0===t.internal},!1),this.removeFilter({type:"func",colIndex:r,key:"",noRefresh:t&&!0===t.noRefresh,internal:t&&!0===t.internal},!1),this.removeFilter({type:"regExp",colIndex:r,key:"",noRefresh:t&&!0===t.noRefresh,internal:t&&!0===t.internal},!0),t&&!0===t.noRefreshAfter||this.broadcast({gridView:["notifyAfterRemovedColumnFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.clearSortFilter=function(){try{this.filterManager.deleteFilterById("sort^@",!1),this.filterManager.executeAllFilter(this.dataArr,this.getTotalRow(),this.getColumnCount()),this.sortStatusInfo={},this.sortStatusArr=[],this.broadcast({gridView:["notifyClearSortFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.removeColumnFilterAll=function(){try{this.clearFilter()}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.removeFilter=function(e,t){try{
e=o.q.extend({type:"",colIndex:-1,key:"",condition:"and",internal:!1,filterId:""},e||{}),t=void 0===t||t,"@rowStatus"!=e.colIndex&&"string"==typeof e.colIndex&&(e.colIndex=this.getColumnIndex(e.colIndex));var r=JSON.stringify(this.filteredRowIndexArr),i=e.filterId||e.type+"^@"+e.colIndex+"^@"+e.key;this.filterManager.deleteFilter(i,this.dataArr,this.getTotalRow(),this.getTotalCol(),e,t),!0!==e.noRefresh&&(this.broadcast({gridView:["notifyRemovedFilter",["sort"===e.type]],generalComp:"both"}),!0!==e.internal&&this.broadcast({gridView:["notifySettedFilterByUser",[{colID:this.getColumnID(e.colIndex),oldFilteredRowIndexArr:r,newFilteredRowIndexArr:JSON.stringify(this.filteredRowIndexArr)}]]}))}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.clearFilter=function(e){try{this.filterManager.clear(),this.filteredRowIndexArr=[];for(var t=this.getTotalRow(),r=0;r<t;r++)this.filteredRowIndexArr.push(r);e||this.broadcast({gridView:["notifyClearFilter"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.sort=function(e,t){try{switch(t){case 0:this.setFilter({type:"sort",sortIndex:e,sortOrder:"1",dataType:"text",internal:!0});break;case 1:this.setFilter({type:"sort",sortIndex:e,sortOrder:"-1",dataType:"text",internal:!0});break;case 2:this.clearSortFilter()}}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.clearSort=function(){try{this.broadcast({gridView:["notifyBeforeClearSort"]});var e=this.rowPosition;this.rowPosition=null,this.clearSortFilter(),this.rowPosition=e,this.broadcast({gridView:["notifySetFocusedCell"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.multisort=function(e){try{var t,r;void 0!==e&&null!=e||(e={}),e.type="sort",e.sortOrder=e.sortOrder||[];var i=typeof e.sortIndex,a=typeof e.sortOrder;"object"==i?t=e.sortIndex:"string"==i&&(t=e.sortIndex.split(" ")),"object"==a?r=e.sortOrder:"string"==a&&(r=e.sortOrder.split(" "));for(var n=0;n<t.length-r.length;n++)r.push(1);var o=[];for(n=0;n<t.length;n++){var s="number"==this.getCellInfo(this.getColumnID(t[n])).options.dataType?"number":"text";o.push(s)}e.dataType=o.join(" "),e.internal=!0,this.setFilter(e),!0!==e.noRefresh&&this.broadcast({gridView:["notifyMultisort"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.setFilter=function(e){try{e&&e.noRefresh||this.broadcast({gridView:["notifySaveFocusedCell"]}),e=o.q.extend({type:"",colIndex:-1,key:"",condition:"and",bodyIdColIndexMap:this.bodyIdColIndexMap,dataList:this.id,internal:!1,filterId:""},e||{});var t="";if("@rowStatus"!=e.colIndex){"string"==typeof e.colIndex&&(e.colIndex=this.bodyIdColIndexMap[e.colIndex]),t=(d=this.getCellInfo(e.colIndex)).options.col_id;var r=d.options.dataType;e.columnDataType=r}var i=!1;if(e.sortIndex){this.sortStatusInfo={},this.sortStatusArr=[];var a=[],n=[],s=[];a="string"==typeof e.sortIndex?e.sortIndex.wq_trim().split(" "):e.sortIndex,e.sortOrder&&"string"==typeof e.sortOrder?n=e.sortOrder.wq_trim().split(" "):"object"==typeof e.sortOrder&&(n=e.sortOrder),e.dataType&&(s=e.dataType.wq_trim().split(" ")),e.sortIndexArr=[],e.sortOrderArr=[],e.dataTypeArr=[],e.sortIdArr=[],e.numberExtractionValueArr=[];for(var l=0;l<a.length;l++){isNaN(a[l])?e.isExpression&&e.fakeExpressionArr?e.sortIndexArr.push(this.getColCnt()):e.sortIndexArr.push(this.bodyIdColIndexMap[a[l]]):e.sortIndexArr.push(parseInt(a[l],10));var c=parseInt(n[l]);isNaN(c)&&(c=1),e.sortOrderArr.push(c),e.dataTypeArr.push(s[l]||"text"),e.isExpression&&e.fakeExpressionArr?e.sortIdArr.push(a[l]):e.sortIdArr.push(this.getColumnID(e.sortIndexArr[l]));var d,p={},h="true"==(d=this.getCellInfo(e.sortIdArr[l])).options.numberExtraction;e.numberExtractionValueArr.push(h);var f="number"==d.options.dataType||"bigDecimal"===d.options.dataType||"float"==d.options.dataType?d.options.dataType:"text"
;"number"===this.options.sortType||"bigDecimal"===this.options.sortType||"text"===this.options.sortType||"float"===this.options.sortType?(f=this.options.sortType,e.dataType=f,e.dataTypeArr[l]=f):e.dataType!=f&&("numberFirst"===this.options.sortType?"number"===f||"bigDecimal"===f||"float"===f?(e.dataType=f,e.dataTypeArr[l]=f):"number"!==e.dataType&&"bigDecimal"!==e.dataType&&"float"!==e.dataType||(f=e.dataType):(e.dataType=f,e.dataTypeArr[l]=f)),p.colID=e.sortIdArr[l],p.sortOrder=e.sortOrderArr[l],p.dataType=f,this.sortStatusInfo[p.colID]=p,this.sortStatusArr.push(p),this.sortStatusArr[p.colID]=p}i=!0,t=""}e.numberExtraction=this.options.numberExtraction;var g=JSON.stringify(this.filteredRowIndexArr),m=e.filterId||e.type+"^@"+e.colIndex+"^@"+e.key;this.filterManager.addFilter(m,this.getTotalRow(),this.getTotalCol(),e),e.noRefresh||(this.broadcast({gridView:["notifySettedFilter",[{isSort:i,keepTop:e.keepTop,fiteredColID:t}]],generalComp:"both"}),!0!==e.internal&&this.broadcast({gridView:["notifySettedFilterByUser",[{colID:this.getColumnID(e.colIndex),oldFilteredRowIndexArr:g,newFilteredRowIndexArr:JSON.stringify(this.filteredRowIndexArr)}]]}))}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getFilterList=function(){try{for(var e=[],t=0;t<this.filterManager.filterArr.length;t++)e.push(this.filterManager.filterArr[t].options);return e}catch(e){u.Y.printStackTrace(e)}},ce.prototype.setXMLLayout=function(e,t,r){try{"undefined"!=e&&null!=e&&""!=e?e.endsWith("/")?this.options.baseNode=e.substring(0,e.length-1):this.options.baseNode=e:this.options.baseNode="","undefined"!=t&&null!=t&&(t.startsWith("/")&&(t=t.substring(1)),t.endsWith("/")&&(t=t.substring(0,t.length-1)),this.options.repeatNode=t),this.options.valueNode="undefined"!=r&&null!=r?r:""}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.xmlData2ArrData=function(e,t){try{if(null==e)return;if(9==e.nodeType)var r=e.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);else{if((i=this.options.baseNode).startsWith(e.tagName)){var i=i.replace(e.tagName,".");r=e.selectNodes(i+"/"+this.options.repeatNode)}if(0==r.length)r=(e=WebSquare.xml.parse(WebSquare.xml.serialize(e))).selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode)}for(var a=[],n=[],o={},s=this.options.valueNode,l=null==s||""==s,c=f.Z.getTextNodeValue,d=r.length,p=this.cellIdList.length,h=[],g=0;g<p;g++)h[g]=this.getCellInfo(this.cellIdList[g]);var m={},b=!1;if("object"==typeof t&&null!=t&&t.constructor===Array){b=!0;for(var y=0;y<t.length;y++)m[t[y]]=!0}for(g=0;g<d;g++){var S=g,v=(r[g],a.length),w={},C=[],q=this.options.rowStatusNodeName,W=r[g].selectSingleNode(q);null!=W&&n.push(c(W));for(var _=0;_<p;_++){var x=this.cellIdList[_];if(!b||m[x]){if(h[_].options.importExp)try{a[v+_]=new Function("return "+h[_].options.importExp)()}catch(e){a[v+_]=h[_].options.defaultValue,u.Y.printStackTrace(e,null,this)}else{if(h[_].options.importFormatter&&!h[_].options.setFormatter){C.push(_);continue}var I=r[g].selectSingleNode(x);a[v+_]=null!=I?l?c(I):I.getAttribute(s):h[_].options.defaultValue}this.options.xmlEncode&&null!=a[v+_]&&(a[v+_]=WebSquare.xml.decode(a[v+_])),w[x]=a[v+_]}else a[v+_]=h[_].options.defaultValue,this.options.xmlEncode&&null!=a[v+_]&&(a[v+_]=WebSquare.xml.decode(a[v+_])),w[x]=a[v+_]}for(var T=0;T<C.length;T++)try{var k=f.Z.getGlobalFunction(h[C[T]].options.importFormatter,this.scope_id);"function"==typeof k&&(a[v+C[T]]=k.call(this,w,S,C[T]))}catch(e){a[v+C[T]]=h[C[T]].options.defaultValue,u.Y.printStackTrace(e,null,this)}}return o.dataArr=a,o.rowStatusArr=n,o}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.jsonData2ArrData=function(e,t){try{if(null==e)return;for(var r=[],i=[],a={},n=e.length,o=this.cellIdList.length,s=this.options.rowStatusNodeName,l=[],c=0;c<o;c++)l[c]=this.getCellInfo(this.cellIdList[c]);var d={},p=!1;if("object"==typeof t&&null!=t&&t.constructor===Array){p=!0;for(var h=0;h<t.length;h++)d[t[h]]=!0}for(c=0;c<n;c++){var g=c,m=e[c],b=r.length
;null!=e[c][s]&&i.push(e[c][s]);for(var y=0;y<o;y++){var S=this.cellIdList[y];if(!p||d[S])if(l[y].options.importExp)try{r[b+y]=new Function("return "+l[y].options.importExp)()}catch(e){r[b+y]=l[y].options.defaultValue,u.Y.printStackTrace(e,null,this)}else if(l[y].options.importFormatter&&!l[y].options.setFormatter)try{var v=f.Z.getGlobalFunction(l[y].options.importFormatter,this.scope_id);"function"==typeof v&&(r[b+y]=v.call(this,m,g,S))}catch(e){r[b+y]=l[y].options.defaultValue,u.Y.printStackTrace(e,null,this)}else{var w=e[c][S];null!=w?r[b+y]=w:"number"==l[y].options.dataType&&l[y].options.defaultValue&&!isNaN(l[y].options.defaultValue)?r[b+y]=parseInt(l[y].options.defaultValue,10):r[b+y]=l[y].options.defaultValue}else r[b+y]=l[y].options.defaultValue}}return a.dataArr=r,a.rowStatusArr=i,a}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.columnValue=function(e,t){if(void 0!==e[t])return e[t];if(void 0!==e.selectSingleNode){var r=e.selectSingleNode(t);if(null!=r){var i=this.options.valueNode;return null==i||""==i?this.getTextNodeValue(r):r.getAttribute(i)}}var a=this.getCellInfo(t);return a&&a.options?a.options.defaultValue:""},ce.prototype.xpathValue=function(e,t){try{var r=WebSquare.xml.findNode(e,t);if(null==r)return"";if(1!=r.nodeType)return r.nodeValue;for(var i=r.firstChild;null!=i;i=i.nextSibling)if(3==i.nodeType)return i.nodeValue}catch(e){$l("xpath exeption"),u.Y.printStackTrace(e,null,this)}return""},ce.prototype.rowIndexValue=function(e){return e},ce.prototype.getArrXML=function(e,t){try{var r;switch(void 0!==t&&null!=t||(t={}),this.initializeType){case"grid":for(var i in this.childCompHash)return this.childCompHash[i].getArrXML(e);case"gridView":case"dataList":r=this.id;break;case"dataMap":case"removeManager":case"linkedDataList":r=this.parent.id}t.id?r=t.id:(r=this.id,this.scope_obj&&(r=this.org_id||this.id));var a=t.initializeType?t.initializeType:this.initializeType,n=t.rowStatusNodeName?t.rowStatusNodeName:this.options.rowStatusNodeName,o=t.baseNode||""==t.baseNode?t.baseNode:this.options.baseNode,s=t.repeatNode||""==t.repeatNode?t.repeatNode:this.options.repeatNode,l=t.idAttribute||""==t.idAttribute?t.idAttribute:this.options.idAttribute,c=t.valueAttribute||""==t.valueAttribute?t.valueAttribute:this.options.valueAttribute;if(e instanceof Array){var d=!1;this.tagNmArr=o.replace(/\[[^\]]+\]/g,"").split("/"),l=""==l?"id":l;for(var p=0;p<this.tagNmArr.length;p++)if(null!=this.tagNmArr[p]&&""!=this.tagNmArr[p].wq_trim())if(d){var h=m.createElement(this.tagNmArr[p]);h.setAttribute(l,r),g.push(h),g[p-1].appendChild(g[p])}else{var g=[],m=WebSquare.xml.parse("<"+this.tagNmArr[p]+"/>");m.documentElement.setAttribute(l,r),g.push(m.documentElement),d=!0}if("dataList"===this.initializeType)if(this.options.attributeMap&&(q=f.Z.getComponentById(this.options.attributeMap)))for(p=0;p<g.length;p++)for(var b=0;b<q.getCount();b++)g[p].setAttribute(q.getKey(b),q.get(b));var y=s.replace(/\[[^\]]+\]/g,"").split("/"),S=null;for(p=0;p<e.length;p++){var v=e[p];S=[];var w=null;for(b=0;b<y.length;b++)if(""!=y[b]){var C=m.createElement(y[b]);S.push(C),0==b?g[g.length-1].appendChild(C):S[b-1].appendChild(S[b])}switch(w=S[y.length-1],this.initializeType){case"dataList":w.setAttribute("index",v);break;case"removeManager":w.setAttribute("index","removed");break;case"dataMap":if(this.parent.options.attributeMap){var q=f.Z.getComponentById(this.parent.options.attributeMap);for(p=0;p<S.length;p++)if(S[p].setAttribute(l,this.parent.id),q)for(b=0;b<q.getCount();b++)S[p].setAttribute(q.getKey(b),q.get(b))}else for(p=0;p<S.length;p++)S[p].setAttribute(l,this.parent.id)}var W=this.getColumnCount()+1;W="object"==typeof t.includeColumns&&null!=t.includeColumns&&t.includeColumns.constructor===Array?t.includeColumns.length+1:this.getColumnCount()+1;for(var _=new Array(W),x=0;x<W;x++)if(x==W-1){if("dataList"!=a&&"removeManager"!=a&&"linkedDataList"!=a)continue;var I="";if(null==(I=this.getRowStatus(v))&&(I=""),
this.options.xmlEncode&&(I=WebSquare.xml.encode(I)),_[x]=m.createElement(n),""==c){var T=m.createTextNode(I);_[x].appendChild(T)}else _[x].setAttribute(c,I);if(_[x].setAttribute("statusValue",this.getRowStatusValue(v)),w.appendChild(_[x]),this.options.rowNumData){var k=m.createTextNode(v+1);_[x+1]=m.createElement("rowNum"),_[x+1].appendChild(k),w.appendChild(_[x+1])}}else{var L="";L="object"==typeof t.includeColumns&&null!=t.includeColumns&&t.includeColumns.constructor===Array?t.includeColumns[x]:this.cellIdList[x];var A=this.bodyIdColIndexMap[L],E=this.cellInfoHash[L],D=(I="",this.options.depthColumn||t.realRowIndex?v:this.filteredRowIndexArr[v]);if(E&&(I="expression"==E.options.inputType?E.getExpressionValue(D):this.dataArr[D*this.cellIdList.length+A]),null==I&&(I=""),this.options.xmlEncode&&(I=WebSquare.xml.encode(I)),_[x]=m.createElement(L),""==c){T=m.createTextNode(I);_[x].appendChild(T)}else _[x].setAttribute(c,I);w.appendChild(_[x])}}return m}}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getAllArrXML=function(e){try{var t;switch(void 0!==e&&null!=e||(e={}),this.initializeType){case"grid":for(var r in this.childCompHash)return this.childCompHash[r].getAllArrXML();case"dataList":case"gridView":t=this.id;break;case"dataMap":case"removeManager":case"linkedDataList":t=this.parent.id}e.id?t=e.id:(t=this.id,this.scope_obj&&(t=this.org_id||this.id));var i=e.initializeType?e.initializeType:this.initializeType,a=e.rowStatusNodeName?e.rowStatusNodeName:this.options.rowStatusNodeName,n=e.baseNode||""==e.baseNode?e.baseNode:this.options.baseNode,o=e.repeatNode||""==e.repeatNode?e.repeatNode:this.options.repeatNode,s=e.idAttribute||""==e.idAttribute?e.idAttribute:this.options.idAttribute,l=e.valueAttribute||""==e.valueAttribute?e.valueAttribute:this.options.valueAttribute,c=!1;this.tagNmArr=n.replace(/\[[^\]]+\]/g,"").split("/");s=""==s?"id":s;for(var d=0;d<this.tagNmArr.length;d++)if(null!=this.tagNmArr[d]&&""!=this.tagNmArr[d].wq_trim())if(c){var p=g.createElement(this.tagNmArr[d]);p.setAttribute(s,t),h.push(p),h[d-1].appendChild(h[d])}else{var h=[],g=WebSquare.xml.parse("<"+this.tagNmArr[d]+"/>");g.documentElement.setAttribute(s,t),h.push(g.documentElement),c=!0}if("dataList"===this.initializeType)if(this.options.attributeMap&&(C=f.Z.getComponentById(this.options.attributeMap)))for(d=0;d<h.length;d++)for(var m=0;m<C.getCount();m++)h[d].setAttribute(C.getKey(m),C.get(m));var b=o.replace(/\[[^\]]+\]/g,"").split("/"),y=null;for(d=0;d<this.getTotalRow();d++){var S=d;y=[];var v=null;for(m=0;m<b.length;m++)if(""!=b[m]){var w=g.createElement(b[m]);y.push(w),0==m?h[h.length-1].appendChild(w):y[m-1].appendChild(y[m])}switch(v=y[b.length-1],this.initializeType){case"dataList":v.setAttribute("index",S);break;case"removeManager":v.setAttribute("index","removed");break;case"dataMap":if(this.parent.options.attributeMap){var C=f.Z.getComponentById(this.parent.options.attributeMap);for(d=0;d<y.length;d++)if(y[d].setAttribute(s,this.parent.id),C)for(m=0;m<C.getCount();m++)y[d].setAttribute(C.getKey(m),C.get(m))}else for(d=0;d<y.length;d++)y[d].setAttribute(s,this.parent.id)}var q=0;q="object"==typeof e.includeColumns&&null!=e.includeColumns&&e.includeColumns.constructor===Array?e.includeColumns.length+1:this.getColumnCount()+1;for(var W=new Array(q),_=0;_<q;_++)if(_==q-1){if("dataList"!=i&&"removeManager"!=i&&"linkedDataList"!=i)continue;var x="";if(null==(x=this._getRowStatus(S))&&(x=""),this.options.xmlEncode&&(x=WebSquare.xml.encode(x)),W[_]=g.createElement(a),""==l){var I=g.createTextNode(x);W[_].appendChild(I)}else W[_].setAttribute(l,x);W[_].setAttribute("statusValue",this._getRowStatusValue(S)),v.appendChild(W[_])}else{var T="";T="object"==typeof e.includeColumns&&null!=e.includeColumns&&e.includeColumns.constructor===Array?e.includeColumns[_]:this.cellIdList[_];var k=this.bodyIdColIndexMap[T];x="";if(x=this._getData(S,k),this.options.xmlEncode&&(x=WebSquare.xml.encode(x)),W[_]=g.createElement(T),""==l){I=g.createTextNode(x)
;W[_].appendChild(I)}else W[_].setAttribute(l,x);v.appendChild(W[_])}}return g}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.xml2JSON=function(e){for(var t,r,i={attr:{},rowArr:[]},a=0;a<e.attributes.length;a++)WebSquare.nodeValueDeprecated?i.attr[e.attributes[a].name]=e.attributes[a].value:i.attr[e.attributes[a].nodeName]=e.attributes[a].nodeValue;var n=this.initializeType;switch(this.parent&&"grid"==this.parent.initializeType&&(n="grid"),n){case"removeManager":case"dataList":t="columnInfo",r="column";break;case"dataMap":t="keyInfo",r="key";break;case"grid":t="row",r="column"}var o=WebSquare.xml.getElementsByTagName(e,t,l.I._XML_NAMESPACE.W2);for(a=0;a<o.length;a++){for(var s=WebSquare.xml.getElementsByTagName(o[a],r,l.I._XML_NAMESPACE.W2),u=[],c=0;c<s.length;c++){for(var d=s[c],p={},h=0;h<d.attributes.length;h++)WebSquare.nodeValueDeprecated?p[d.attributes[h].name]=d.attributes[h].value:p[d.attributes[h].nodeName]=d.attributes[h].nodeValue;u.push(p)}i.rowArr.push(u)}return 0===o.length&&i.rowArr.push([]),i},ce.prototype.getTextNodeValue=function(e){for(var t=null,r=e.firstChild;null!=r;r=r.nextSibling)"3"==r.nodeType&&(t=r.nodeValue);return t},ce.prototype.getID=function(){try{return this.id}catch(e){u.Y.printStackTrace(e)}},ce.prototype.getOption=function(e){try{var t=e in this.options,r=this.options.attributeMap;if(t)return this.options[e];if(r){var i=f.Z.getComponentById(r);if(i&&i.hasKey(e))return i.get(e)}return}catch(e){u.Y.printStackTrace(e)}},ce.prototype.setOption=function(e,t){try{"string"==typeof t&&"$none"==t.wq_trim()&&(t=""),e in this.options&&(this.options[e]=t);var r=this.options.attributeMap;if(r){var i=f.Z.getComponentById(r);i&&i.hasKey(e)&&i.set(e,t)}}catch(e){u.Y.printStackTrace(e)}},ce.prototype.syncWithAttributeMap=function(e,t){try{if(this.options.attributeMap){var r=f.Z.getComponentById(this.options.attributeMap);if(r)for(var i=r.getCount(),a=0;a<i;a++){e=r.getKey(a),t=r.get(a);this.options[e]=t}}}catch(e){u.Y.printStackTrace(e)}},ce.prototype.getObjectType=function(){try{var e=this.initializeType;if("dataList"==e)return e}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.reset=function(){try{if("dataList"==this.initializeType){if(this.removeAll(),"XML"==this.elementType){var e=WebSquare.xml.getElementsByTagName(this.element,"data",l.I._XML_NAMESPACE.W2)[0];if(e&&this.useData){this.allowTextNode=!0;for(var t=WebSquare.xml.getElementsByTagName(e,"row",l.I._XML_NAMESPACE.W2),r=0;r<t.length;r++)this.setRowXML(r,t[r]);this.modifyAllStatus("R"),this.allowTextNode=!1}}else"JSON"==this.elementType&&this.useData&&this.element.data&&(this.setJSON(this.element.data),this.modifyAllStatus("R"));this.reform()}}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.initDataList=function(){try{this.broadcast({gridView:["notifyBeforeInitDataList"]});var e=this.dataList.removeAll();return this.clearFilter(),this.broadcast({gridView:["notifyAfterInitDataList"]}),e}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getColumnOption=function(e,t){try{return this.getCellInfo(e).options[t]}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.setColumnOption=function(e,t,r){try{this.getCellInfo(e).options[t]=r}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.setRowNumData=function(e){try{f.Z.getBoolean(e)?this.options.rowNumData=!0:this.options.rowNumData=!1}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getColumnInfo=function(e,t){try{var r=-1;if("number"==typeof e?(this.cellIdList[e],r=e):(e,r=this.bodyIdColIndexMap[e]),"number"!=typeof t&&(t=0),r>-1&&r<this.structure.rowArr[t].length){var i={};for(var a in this.structure.rowArr[t][r])"@xml"!==a&&(i[a]=this.structure.rowArr[t][r][a]);return i}}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getInfo=function(e,t){try{var r={};if("string"!=typeof e&&(e="dataList"===this.initializeType?"dataListInfo":"dataMap"===this.initializeType?"dataMapInfo":"attr"),
"string"!=typeof t&&(t="dataList"===this.initializeType?"columnInfo":"dataMap"===this.initializeType?"keyInfo":"col"),r[e]=o.q.extend({},this.structure.attr),r[t]={},this.structure.rowArr.length>1)for(var i=0;i<this.structure.rowArr.length;i++){var a=t+i;r[t][a]={};for(var n=0;n<this.structure.rowArr[i].length;n++)r[t][a][this.cellIdList[n]]=this.getColumnInfo(n,i)}else if(1===this.structure.rowArr.length)for(i=0;i<this.structure.rowArr[0].length;i++)r[t][this.cellIdList[i]]=this.getColumnInfo(i);return r}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.setUserData=function(e,t){try{return void 0!==this.defaultOptions[e]?($l("!!!WARNING - ["+e+"] can't define as UserData key!!!"),!1):(this.options[e]=t,!0)}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.getUserData=function(e){try{return void 0!==this.defaultOptions[e]?void $l("!!!WARNING - ["+e+"] is not UserData key!!!"):this.options[e]}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.fireOnModelChangeEvent=function(e){try{if(e){var t={type:e.type,rowIndex:e.rowIndex,colID:e.colID,oldValue:e.oldValue,newValue:e.newValue};M.f.fireEvent(this,"onmodelchange",t)}}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.fireOnBeforeColumnChangeEvent=function(e){try{if(e)return M.f.fireEvent(this,"onbeforecolumnchange",{oldColID:e.oldColumnID,newColID:e.newColumnID})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.fireOnColumnChangeEvent=function(e){try{if(e)return M.f.fireEvent(this,"oncolumnchange",{oldColID:e.oldColumnID,newColID:e.newColumnID})}catch(e){u.Y.printStackTrace(e,null,this)}},ce.prototype.setIgnoreStatus=function(e,t){try{var r=this.getColumnIndex(e);if(null==r||null==t)return;this.ignoreStatusColArr[r]=t,this.getCellInfo(r).options.ignoreStatus=t}catch(e){u.Y.printStackTrace(e,null,this)}};var de=function(e,t,r,i,a){try{this.initialize(e,t,r,i,a)}catch(e){u.Y.printStackTrace(e,null,this)}};o.q.extend(de.prototype,ae.prototype),o.q.extend(de.prototype,ne.prototype),o.q.extend(de.prototype,le.prototype),o.q.extend(de.prototype,ce.prototype),de.filter=se,de.prototype.defaultOptions={useConfig:!0,pluginType:"DataCollection.dataList",pluginName:"dataList",userEvents:["onbeforerowpositionchange","onrowpositionchange","oncelldatachange","onbeforecelldatachange","oninsertrow","onremoverow","ondataload","onmodelchange","onbeforecolumnchange","oncolumnchange","onbeforecolumnfilterchange","onaftercolumnfilterchange","onrowstatuschange"],baseNode:"list",repeatNode:"map",valueNode:"",valueAttribute:"",idAttribute:"",rowStatusNodeName:"rowStatus",initRowPosition:null,importFormatter:"",setFormatter:"",JSONPath:"",rowNumData:!1,saveRemovedData:!0,keepInsertedRowDeleteStatus:!1,saveRemovedDataDeletedInsertedRow:!0,removeDummyRowStatus:!1,removedDataMatch:!1,validateAllItemsetData:!1,getMatchedFromAllData:!1,keepRowPosition:!0,syncFilterWithLinkedDataList:!0,keepFilter:!1,keepDataType:!1,undoRecursiveRow:!1,maxHistoryCount:10,sortType:"numberFirst",preserveType:!1,nullYNType:"",_empty:!1},de.prototype.initialize=function(e,t,r,i,a){try{if(this.elementType=r.elementType?r.elementType:"XML",this.initializeType=i||"dataList",this.id=e,this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.element=r,this.options=this.getConfiguredOptions(),this._broadCastFlag=!0,this.scope_id=null,r)switch(this.elementType){case"XML":this.options=o.q.extendKeepingType(this.options,WebSquare.WebSquareparser.parseAttribute(r)),"dataList"==this.initializeType&&(this.options.xmlEvents=WebSquare.Parser.parseEvent(r));break;case"JSON":this.options=o.q.extendKeepingType(this.options,r.option),this.options.id=r.id}var n;if(t&&(this.options=o.q.extendKeepingType(this.options,t)),this.id||(this.id=this.options.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope?n=WebSquare.idCache[a]:WebSquare.strictModeFrame&&(n=WebSquare.strictModeFrame),n){var s=this.id,d=n.id;e=(d?d+"_":"")+this.id;this.id=e,this.org_id=s,this.scope_obj=n,this.scope_obj.scope[this.org_id]=this,
this.scope_id=this.scope_obj.id}if(this.options.id=this.id,r){var p="dataList",h=WebSquare.componentsCache,f=h[p];f||(f=h[p]={}),f[this.uuid]=!0}if(this.id){if(null!=window[WebSquare.noConflict].data[this.id]||null!=window[WebSquare.noConflict].comp[this.id]){var g=WebSquare.language.getMessage("E_dc_duplicated_Msg",this.id,"dataList")||"id ["+this.id+"] is duplicated, so the existing dataList has been deleted, and a new one has been created.";c.v.printLog(g);var m=WebSquare.DataCollection.stopBroadCast;try{WebSquare.DataCollection.stopBroadCast=!0,WebSquare.DataCollection.api.remove(this.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope&&(this.scope_obj=WebSquare.idCache[a],this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id),WebSquare.DataCollection.stopBroadCast=m}catch(e){m=WebSquare.DataCollection.stopBroadCast}}}else this.options.id=this.id=this.uuid;WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid,"dataList"==this.initializeType&&(window[WebSquare.noConflict].data[this.id]=this,"false"!=l.I.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()&&(window[this.id]=this)),this.event=new G.i,this.initializeDataList(r),this.bindAsEventList=[],this.bindAsUserEventList=[],this.userEventList=[],this.systemEventList={},"dataList"==this.initializeType&&this.options.xmlEvents&&(this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents),this.options.xmlEvents.length>0&&this.event.addEvents(this,this.options.xmlEvents)),null!=a&&WebSquare.idCache[a]&&(this.parentFrame=a,WebSquare.idCache[a].childAllControlList.push(this.uuid)),M.f.fireEvent(this,"onload",null)}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.initializeDataList=function(e){try{if(this.childCompHash={},this.refCompHash={},this.activated=!1,"dataList"===this.initializeType)this.options.attributeMap&&(WebSquare.DataCollection.attributeMapInfo[this.options.attributeMap]||(WebSquare.DataCollection.attributeMapInfo[this.options.attributeMap]=[]),WebSquare.DataCollection.attributeMapInfo[this.options.attributeMap].push(this.id),this.syncWithAttributeMap());if(this.filterManager=new WebSquare.DataCollection.filterController(this),"dataList"==this.initializeType||"grid"==this.initializeType)"JSON"==this.elementType?this.removeManager=new WebSquare.DataCollection.dataList(this.id+"??removeManager",this.options,this.element,"removeManager"):this.removeManager=new WebSquare.DataCollection.dataList(this.id+"??removeManager",this.options,this.element.cloneNode(!0),"removeManager"),this.removeManager.parent=this;else{var t=this.id.split("??");this.parent=f.Z.getComponentById(t[0])}this.columnPosition=null,this.rowPosition=null,this.dataArr=[],this.originalDataArr=[],this.filteredRowIndexArr=[],this.filteredRowIndexMap={},this.oneRowDataLength=0,this.bodyIdColIndexMap={},this.cellInfoHash={},this.cellIdList=[],this.rowStatusArr=[],this.cellStatusArr=[],this.ignoreStatusColArr=[],this.commandList=[],this.commandPosition=-1,this.commandListMulti=[],this.commandPositionMulti=-1,this.undoRedo="",this.undoRedo="",this.structure=this.getStructure(),"$none"==this.options.valueAttribute.wq_trim()&&(this.options.valueAttribute="");var r=""==this.options.valueNode?this.options.valueAttribute:this.options.valueNode;r=""==this.options.valueAttribute?this.options.valueNode:this.options.valueAttribute,this.options.valueNode=r,this.options.valueAttribute=r;for(var i=0,a=this.structure.rowArr,n=0;n<a.length;n++){this.oneRowDataLength+=a[n].length;for(var o=0;o<a[n].length;o++){var s=a[n][o],c=new WebSquare.DataCollection.dataListCellInfo(s,this,i);this.cellIdList.push(s.id),this.bodyIdColIndexMap[c.id]=i,this.cellInfoHash[c.id]=c,i++}}if("dataList"==this.initializeType)if(WebSquare.DataCollection.api.addChild(this),this.synchronize(),this.synchronizeRef(),"XML"==this.elementType){var d=WebSquare.xml.getElementsByTagName(e,"data",l.I._XML_NAMESPACE.W2)[0]
;if(d&&(this.useData=f.Z.getBoolean(d.getAttribute("use")),this.useData)){this.allowTextNode=!0;var p=WebSquare.xml.getElementsByTagName(d,"row",l.I._XML_NAMESPACE.W2),h=WebSquare.DataCollection.stopBroadCast;WebSquare.DataCollection.stopBroadCast=!0;for(n=0;n<p.length;n++)this.setRowXML(n,p[n]);WebSquare.DataCollection.stopBroadCast=h,this.broadcast({linkedDataList:["notifyDataChanged"],gridView:["notifySettedGridData",[void 0,void 0,void 0,void 0,void 0,!0]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],generalComp:"both"}),this.originalDataArr=this.dataArr.slice(0),this.modifyAllStatus("R"),this.allowTextNode=!1}}else"JSON"==this.elementType&&(this.useData=f.Z.getBoolean(this.element.option.useData),this.useData&&this.element.data&&(this.setJSON(this.element.data),this.modifyAllStatus("R")))}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.finalize=function(){try{for(var e in this.removeAll({skipSavingRemovedData:"true"}),this.childCompHash){var t=this.childCompHash[e];t?t.constructor==WebSquare.DataCollection.linkedDataList||t.constructor==WebSquare.DataCollection.dataMap||t.constructor==WebSquare.DataCollection.dataList?(WebSquare.DataCollection.stopBroadCast||t.refresh(),WebSquare.DataCollection.api.remove(e)):t.successBinding=!1:delete this.childCompHash[e]}this.activated=!1,this.removeManager&&this.removeManager.id&&WebSquare.DataCollection.api.remove(this.removeManager.id)}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.activate=function(){try{if(!this.activated){for(var e in this.options)if("ev:"==e.slice(0,3))for(var t=this.options[e].split(","),r=0;r<t.length;r++)this.bind(e.slice(3),t[r]);this.options.eventPause&&this.setEventPause(this.options.eventPause,!0)}if(null!=this.options.initRowPosition){var i=parseInt(this.options.initRowPosition,10);this.setRowPosition(i)}this.activated=!0}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.addEvent=function(e,t,r){try{if(!t)return;var i={name:e,action:r=r||"script",param:{handler:t}};this.options.xmlEvents||(this.options.xmlEvents=[]),this.options.xmlEvents.push(i),this.event.addUserEvents(this,[i],this.options.userEvents)}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.bind=function(e,t){try{"string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e),this.addEvent(e,t)}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.trigger=function(e,t){try{"string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e);var r=!1;if(null!=this.options.userEvents)for(var i=0;i<this.options.userEvents.length;i++)if(this.options.userEvents[i]===e){r=!0;break}if(!r&&M.f.isEventSupported(this.render,e))t&&t.constructor==Array?M.f.fireSystemEvent(this,e,t[0]):M.f.fireSystemEvent(this,e);else{var a=[this,e];a=a.concat(t),M.f.fireEvent.apply(M.f.fireEvent,a),a[0]=null}}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.unbind=function(e,t){try{if("string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e),"string"==typeof e&&"function"==typeof t)for(var r=0;r<this.userEventList.length;r++)e===this.userEventList[r].name&&t===this.userEventList[r].param.handler&&(this.userEventList.splice(r,1),"object"==typeof this.systemEventList[e]&&(this.systemEventList[e].count--,this.systemEventList[e].count<=0&&(this.event.removeListener(this.render,e,this.systemEventList[e].handler),delete this.systemEventList[e])));else if("string"==typeof e&&null==t){for(r=this.userEventList.length-1;r>=0;r--)e===this.userEventList[r].name&&this.userEventList.splice(r,1);"object"==typeof this.systemEventList[e]&&(this.event.removeListener(this.render,e,this.systemEventList[e].handler),delete this.systemEventList[e])}else{for(var i in this.systemEventList)this.event.removeListener(this.render,i,this.systemEventList[i].handler);this.userEventList=[],this.systemEventList={}}this.options.xmlEvents=this.userEventList.slice()}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.onComplete=function(){
this.completed?$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id):this.completed=!0},de.prototype.setEventPause=function(e,t){var r={},i=!1;if("string"==typeof e&&""!=e)for(var a=e.split(","),n=0;n<a.length;n++)a[n]&&(r[a[n]]=!0);else i=!0;for(n=this.userEventList.length-1;n>=0;n--)(i||r[this.userEventList[n].name])&&(this.userEventList[n].disabled=t)},de.prototype.getScope=function(){try{var e=null;return null!=this.scope_obj&&this.scope_obj.options&&(e=this.scope_obj),e}catch(e){u.Y.printStackTrace(e,null,this)}},de.prototype.getScopeWindow=function(){try{return null!=this.scope_obj&&this.scope_obj.options?this.scope_obj.scope:window}catch(e){u.Y.printStackTrace(e,null,this)}};var pe=function(){};pe.prototype.getBroadcast=function(){return!1!==this._broadCastFlag},pe.prototype.setBroadcast=function(e){this._broadCastFlag=!1!==e||e},pe.prototype.broadcast=function(e){try{if(WebSquare.DataCollection.stopBroadCast&&WebSquare.DataCollection.stopBroadCastComp._wq_add(this.uuid),WebSquare.DataCollection.stopBroadCast||!this.getBroadcast())return;for(var t in this.childCompHash){if(null!=(r=this.childCompHash[t])&&WebSquare.idCache[r.uuid]&&(void 0===r.render||null!=r.render))switch("stop"==r.activeStatus&&"function"==typeof r.preActivate&&r.preActivate(),r.initializeType){case"linkedDataList":if(e.linkedDataList){r[e.linkedDataList[0]](e.linkedDataList[1]);break}default:"refreshItemset"==e.generalComp||"both"==e.generalComp?r.modelControl.useItemset&&r.refreshItemset():"rollback"==e.generalComp&&r.rollback()}}for(var t in this.refCompHash){var r;if(null!=(r=this.refCompHash[t])&&WebSquare.idCache[r.uuid]){var i=r.modelControl?r.modelControl.dataCollectionRefInfo:null;if("searchbox"==r.options.pluginName&&(i=r.input&&r.input.modelControl?r.input.modelControl.dataCollectionRefInfo:null),e.key&&r.modelControl&&i&&i.key!=e.key)continue;switch("stop"==r.activeStatus&&"function"==typeof r.preActivate&&r.preActivate(),r.initializeType){case"linkedDataList":if(e.linkedDataList){r.refresh();break}default:"refresh"==e.generalComp||"both"==e.generalComp?(r.modelControl.useRef||"searchbox"==r.options.pluginName&&r.input.modelControl.useRef)&&r.refresh():"binding"==e.generalComp?r.modelControl.binding():"rollback"==e.generalComp&&r.rollback()}}}if(WebSquare.DataCollection.attributeMapInfo[this.id])for(var a=0;a<WebSquare.DataCollection.attributeMapInfo[this.id].length;a++){var n=WebSquare.DataCollection.attributeMapInfo[this.id][a];f.Z.getComponentById(n).syncWithAttributeMap()}}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.synchronize=function(){try{var e=WebSquare.DataCollection.parentToChildRelation[this.id];if(e)for(var t in e)e[t]&&(this.childCompHash[t]=f.Z.getComponentById(t))}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.synchronizeRef=function(){try{var e=WebSquare.DataCollection.parentToChildRef[this.id];if(e)for(var t in e)e[t]&&(this.refCompHash[t]=f.Z.getComponentById(t));this.broadcast({generalComp:["binding"]})}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype._addRelation=function(e){try{if(!this.childCompHash)return;var t=f.Z.getComponentById(e);if(!t)return;this.childCompHash[e]=t}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype._addRefRelation=function(e){try{if(!this.refCompHash)return;var t=f.Z.getComponentById(e);if(!t)return;this.refCompHash[e]=t,"stop"==t.activeStatus&&"function"==typeof t.preActivate&&t.preActivate(),t.modelControl.binding()}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.addChild=function(e){try{this.childCompHash[e.id]=e}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.removeChild=function(e){try{this.childCompHash&&delete this.childCompHash[e]}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.addRefComp=function(e){try{this.refCompHash[e.id]=e}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.removeRefComp=function(e){try{this.refCompHash&&delete this.refCompHash[e]}catch(e){u.Y.printStackTrace(e,null,this)}},
pe.prototype.syncWithAttributeMap=function(e,t){try{if(this.options.attributeMap&&this.options.attributeMap!=this.id){var r=f.Z.getComponentById(this.options.attributeMap);if(r)for(var i=r.getCount(),a=0;a<i;a++){e=r.getKey(a),t=r.get(a);this.options[e]=t}}}catch(e){u.Y.printStackTrace(e)}},pe.prototype.hasKey=function(e){try{return e=this.getKey(e),this._dataList.hasColumn(e)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getID=function(){try{return this.id}catch(e){u.Y.printStackTrace(e)}},pe.prototype.getOption=function(e){try{var t=e in this.options,r=this.options.attributeMap;if(t)return this.options[e];if(r){var i=f.Z.getComponentById(r);if(i.hasKey(e))return i.get(e)}return}catch(e){u.Y.printStackTrace(e)}},pe.prototype.setOption=function(e,t){try{"string"==typeof t&&"$none"==t.wq_trim()&&(t="");e in this.options&&(this.options[e]=t,this._dataList&&this._dataList.options&&!{bind:!0,id:!0,pluginName:!0,pluginType:!0}[e]&&(this._dataList.options[e]=t));var r=this.options.attributeMap;if(r){var i=f.Z.getComponentById(r);i.hasKey(e)&&i.set(e,t)}}catch(e){u.Y.printStackTrace(e)}},pe.prototype.getKey=function(e){try{return this._dataList.getColumnID(e)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getIndex=function(e){try{return this._dataList.getColumnIndex(e)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getCount=function(){try{return this._dataList.getTotalCol()}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.get=function(e){try{return e=this.getKey(e),this._dataList.getCellData(0,e)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getOriginal=function(e){try{var t;return(e=this.getKey(e))&&(t=this._dataList.getOriginalCellData(0,e)),t}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getArray=function(e){try{return this._dataList.getRowData(0,e)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getXML=function(e){try{e=e||{};var t,r=this._dataList.getRowXML(0,e);return e.id?null!=r.documentElement?r.documentElement.setAttribute("id",e.id):r.setAttribute("id",e.id):(this.scope_obj&&(t=this.org_id||this.id),null!=r.documentElement?r.documentElement.setAttribute("id",t):r.setAttribute("id",t)),r}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getJSON=function(e){try{var t=this._dataList.getRowJSON(0,e);if(!0===this.options.jsonArray&&(t=[t]),null!=this.options.customFormatter){var r=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof r&&(t=r(this,t))}return t}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getRefJSON=function(e){try{return void 0!==e&&null!=e||(e={}),e.exceptEmptyValue=!0,this.getJSON(e)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getType=function(e){try{e=this.getKey(e);var t=this._dataList.getCellInfo(e);if(t)return t.options?t.options.dataType:""}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getDefaultValue=function(e){try{e=this.getKey(e);var t=this._dataList.getCellInfo(e);if(t)return t.options?t.options.defaultValue:""}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getName=function(e){try{e=this.getKey(e);var t=this._dataList.getCellInfo(e);if(t)return t.name?t.name:""}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getInitializeType=function(){try{return this.getObjectType()}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.set=function(e,t,r){try{var i;if(null!=(e=this.getKey(e))&&null!=e){var a=this._dataList.getCellData(0,e);if(a!==t){if(!1===M.f.fireEvent(this,"onbeforemodelchange",{key:e,oldValue:a,newValue:t}))return void this.broadcast({key:e,linkedDataList:["refresh"],generalComp:"rollback"});this._dataList.setCellData(0,e,t),!this.firstSetting[e]&&this.options.firstSet?this.setOriginal(e,a):this.setOriginal(e,t);var n=!0;"undo"!=(i=null!=r&&null!=r?r:"")&&"redo"!=i||(n=!1),
n&&this.options.maxHistoryCount>0&&("undo"!=this.undoRedo&&"redo"!=this.undoRedo||this.commandList.splice(this.commandPosition,this.commandList.length-this.commandPosition+1),this.commandList.length>=this.options.maxHistoryCount&&this.commandList.shift(),this.commandList.push({key:e,oldValue:a,value:t}),this.commandPosition=this.commandList.length-1,this.undoRedo=""),M.f.fireEvent(this,"onmodelchange",{key:e,oldValue:a,newValue:t})}M.f.fireEvent(this,"onkeyset",{key:e,oldValue:a,newValue:t}),this.broadcast({key:e,linkedDataList:["refresh"],generalComp:"both"})}}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.setArray=function(e,t){try{this._dataList.setRowData(0,e,!0,t,this.options.keepValue);for(var r=0;r<this.getCount();r++)this.setOriginal(r,this.get(r));this.commandList=[],this.commandPosition=-1,this.broadcast({linkedDataList:["refresh"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.setXML=function(e,t,r){try{t=!1!==t,this._dataList.setRowXML(0,e,t,r,this.options.keepValue),this.options.firstSetSubmission&&(this.firstSetting={});for(var i=0;i<this.getCount();i++)this.setOriginal(i,this.get(i));this.commandList=[],this.commandPosition=-1,M.f.fireEvent(this,"onsetdata"),this.broadcast({linkedDataList:["refresh"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.setJSON=function(e,t,r){try{if(null!=this.options.customUnformatter){var i=f.Z.getGlobalFunction(this.options.customUnformatter,this.scope_id);"function"==typeof i&&(e=i(this,e))}!0===this.options.jsonArray&&e&&e.constructor==Array&&1===e.length&&(e=e[0]);var a=this._dataList.getRowCount()>0;this._dataList.setRowJSON(0,e,a,r,this.options.keepValue);var n=this.getCount();this.options.firstSetSubmission&&(this.firstSetting={});for(var o=0;o<n;o++)this.setOriginal(o,this.get(o));this.commandList=[],this.commandPosition=-1,M.f.fireEvent(this,"onsetdata"),this.broadcast({linkedDataList:["refresh"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.setOriginal=function(e,t){try{e=this.getKey(e),this.firstSetting[e]||(this._dataList.setOriginalCellData(0,e,t),this.firstSetting[e]=!0),this.firstSetting[e]&&e&&(this.statusHash[e]=this.getOriginal(e)==this.get(e))}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.addColumn=function(e){try{var t=this.getCount(),r=this._dataList.elementType;this._dataList.elementType="JSON";var i=new WebSquare.DataCollection.dataListCellInfo(e,this._dataList,t);this._dataList.elementType=r,this._dataList.cellIdList.push(e.id),this._dataList.bodyIdColIndexMap[i.id]=t,this._dataList.cellInfoHash[i.id]=i,this._dataList.oneRowDataLength=++t;var a=i.options.defaultValue||"";""!=a&&(this.firstSetting[i.options.id]=!0,this.statusHash[i.options.id]=!0),this._dataList.dataArr.push(a)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.reform=function(){try{for(var e in this._dataList.reform(),this.statusHash)this.statusHash[e]=!0;this.broadcast({linkedDataList:["refresh"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.undo=function(){try{for(var e=this.getCount(),t=0;t<e;t++){var r=this.getKey(t),i=this.getOriginal(r);this.set(r,i)}this.broadcast({linkedDataList:["refresh"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.restore=function(){try{if("undo"==this.undoRedo&&this.commandPosition--,this.commandPosition<0)return void(this.commandPosition=0);var e=this.commandList[this.commandPosition];this.set(e.key,e.oldValue,"undo"),this.undoRedo="undo"}catch(e){u.Y.printStackTrace(e)}},pe.prototype.redo=function(){try{if("redo"==this.undoRedo&&this.commandPosition++,this.commandList.length-1<this.commandPosition)return void(this.commandPosition=this.commandList.length-1);var e=this.commandList[this.commandPosition];this.set(e.key,e.value,"redo"),this.undoRedo="redo"}catch(e){u.Y.printStackTrace(e)}},pe.prototype.getConfiguredOptions=function(){try{var e,t,r=this.defaultOptions.pluginName,i={}
;if(this.configuredOptions={},this.configuredOptions[r])e=this.configuredOptions[r].keys,t=this.configuredOptions[r].values;else{var a=o.q.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:!1},this.defaultOptions);if(a.useConfig||f.Z.getBoolean(l.I.getConfiguration("/WebSquare/DataCollection/"+r+"/useConfig/@value"))){var n=l.I.getConfig(r);a=o.q.extendKeepingType(a,n)}for(var s in e=[],t=[],a)e.push(s),t.push(a[s]);this.configuredOptions[r]={keys:e,values:t}}for(var c=0;c<e.length;c++)i[e[c]]=t[c];return i}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getModifiedKey=function(){try{var e=[];for(var t in this.statusHash)this.statusHash[t]||e.push(t);return e}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getModifiedIndex=function(){try{var e,t=[];e=this.getModifiedKey();for(var r=0;r<e.length;r++)t.push(this.getIndex(e[r]));return t}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getModifiedData=function(){try{for(var e=[],t=this.getModifiedIndex(),r=0;r<t.length;r++)e.push(this.get(t[r]));return e}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getModifiedXML=function(){try{for(var e=this.getModifiedKey(),t=-1,r=function(e){var i=e[++t],a="<"+i+">";return t<e.length-1&&(a+=r(e)),a+="</"+i+">"},i=this.getOption("baseNode").split(),a=r(i),n=WebSquare.xml.parse(a).documentElement,o=0;o<e.length;o++){var s=WebSquare.xml.parse("<"+e[o]+"></"+e[o]+">").documentElement;this.getOption("valueAttribute")?s.setAttribute(this.getOption("valueAttribute"),this.get(e[o])):s=WebSquare.xml.parse("<"+e[o]+">"+this.get(e[o])+"</"+e[o]+">").documentElement,WebSquare.xml.appendChild(n,s)}return n}catch(e){u.Y.printStackTrace(e)}},pe.prototype.getModifiedJSON=function(){try{for(var e={},t=this.getModifiedIndex(),r=0;r<t.length;r++){e[this.getKey(t[r])]=this.get(t[r])}if(null!=this.options.customFormatter){var i=f.Z.getGlobalFunction(this.options.customFormatter,this.scope_id);"function"==typeof i&&(e=i(this,e))}return e}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getModifiedArray=function(){try{var e={};return e.key=this.getModifiedKey(),e.value=this.getModifiedData(),e}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.initRowStatus=function(){try{for(var e in this.statusHash)this.statusHash[e]||(this.statusHash[e]=!0)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.modifyKeyStatus=function(e,t){try{if(null==t||!this.hasKey(e))return;this.statusHash[e]=!f.Z.getBoolean(t)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getObjectType=function(){try{var e=this.initializeType;if("dataMap"==e)return e}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.reset=function(){try{if("dataMap"==this.initializeType){if(this.statusHash={},this.firstSetting={},this._dataList.removeAll(),"XML"==this.elementType){var e=WebSquare.xml.getElementsByTagName(this.element,"data",l.I._XML_NAMESPACE.W2)[0];e&&this.useData?(this._dataList.allowTextNode=!0,this.setXML(e,!1),this._dataList.allowTextNode=!1):(this._dataList.allowTextNode=!0,this.setEmpty(),this._dataList.allowTextNode=!1)}else"JSON"==this.elementType&&this.useData&&this.element.data&&this.setJSON(this.element.data);if(0==this._dataList.getRowCount()){this._dataList.insertRow(0);for(var t=this.getCount(),r=0;r<t;r++){var i=this._dataList.getCellInfo(r);""!=i.options.defaultValue&&(this.firstSetting[i.options.id]=!0,this.statusHash[i.options.id]=!0)}}}}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.setEmpty=function(){try{0==this._dataList.getRowCount()&&this._dataList.insertRow(0);for(var e=this.getCount(),t=0;t<e;t++){var r=this.getKey(t),i=this._dataList.getCellInfo(t).options.defaultValue;this.set(r,i),this.setOriginal(r,i)}this._clearHistory()}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype._clearHistory=function(){try{this._dataList._undoRedoMultiHistoryClear(),this.commandList=[],this.commandPosition=-1,this.undoRedo=""
}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.setEmptyValue=function(){try{this.setEmpty()}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getKeyInfo=function(e,t){try{return this._dataList.getColumnInfo(e,t)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getInfo=function(e,t){try{var r=this._dataList.getInfo(e,t);return r.dataMapInfo.id=this.id,r}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.setUserData=function(e,t){try{return void 0!==this.defaultOptions[e]?($l("!!!WARNING - ["+e+"] can't define as UserData key!!!"),!1):(this.options[e]=t,!0)}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getUserData=function(e){try{return void 0!==this.defaultOptions[e]?void $l("!!!WARNING - ["+e+"] is not UserData key!!!"):this.options[e]}catch(e){u.Y.printStackTrace(e,null,this)}},pe.prototype.getRefComponent=function(){try{var e=[];for(var t in this.refCompHash){var r={};r.originalID=this.refCompHash[t].org_id,r.id=this.refCompHash[t].id,e.push(r)}return e}catch(e){u.Y.printStackTrace(e,null,this)}};var he=function(e,t,r,i,a){try{this.initialize(e,t,r,i,a)}catch(e){u.Y.printStackTrace(e,null,this)}};o.q.extend(he.prototype,pe.prototype),he.prototype.defaultOptions={useConfig:!0,pluginType:"DataCollection.dataMap",pluginName:"dataMap",userEvents:["onmodelchange","onvalidatekey","onsetdata","onkeyset","onbeforemodelchange"],baseNode:"map",repeatNode:"",valueNode:"",valueAttribute:"",idAttribute:"",JSONPath:"",firstSet:!1,firstSetSubmission:!1,keepValue:!1,jsonArray:!1,maxHistoryCount:10,nullYNType:""},he.prototype.initialize=function(e,t,r,i,a){try{if(this.elementType=r.elementType?r.elementType:"XML",this.initializeType="dataMap",this.id=e,this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.element=r,this.options=this.getConfiguredOptions(),this._broadCastFlag=!0,r)switch(this.elementType){case"XML":this.options=o.q.extendKeepingType(this.options,WebSquare.WebSquareparser.parseAttribute(r)),this.options.xmlEvents=WebSquare.Parser.parseEvent(r);break;case"JSON":this.options=o.q.extendKeepingType(this.options,r.option),this.options.id=r.id}var n;if(t&&(this.options=o.q.extendKeepingType(this.options,t)),this.id||(this.id=this.options.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope?n=WebSquare.idCache[a]:WebSquare.strictModeFrame&&(n=WebSquare.strictModeFrame),n){var s=this.id,d=n.id;e=(d?d+"_":"")+this.id;this.id=e,this.org_id=s,this.scope_obj=n,this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id}if(this.options.id=this.id,r){var p="dataMap",h=WebSquare.componentsCache,f=h[p];f||(f=h[p]={}),f[this.uuid]=!0}if(this.id){if(null!=window[WebSquare.noConflict].data[this.id]||null!=window[WebSquare.noConflict].comp[this.id]){var g=WebSquare.language.getMessage("E_dc_duplicated_Msg",this.id,"dataMap")||"id ["+this.id+"] is duplicated, so the existing dataMap has been deleted, and a new one has been created.";c.v.printLog(g);var m=WebSquare.DataCollection.stopBroadCast;try{WebSquare.DataCollection.stopBroadCast=!0,WebSquare.DataCollection.api.remove(this.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope&&(this.scope_obj=WebSquare.idCache[a],this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id),WebSquare.DataCollection.stopBroadCast=m}catch(e){m=WebSquare.DataCollection.stopBroadCast}}}else this.options.id=this.id=this.uuid;WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid,window[WebSquare.noConflict].data[this.id]=this,"false"!=l.I.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()&&(window[this.id]=this),this.event=new G.i,this.initializeDataMap(r),this.bindAsEventList=[],this.bindAsUserEventList=[],this.userEventList=[],this.systemEventList={},this.options.xmlEvents&&(this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents),this.options.xmlEvents.length>0&&this.event.addEvents(this,this.options.xmlEvents)),
null!=a&&WebSquare.idCache[a]&&(this.parentFrame=a,WebSquare.idCache[a].childAllControlList.push(this.uuid))}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.initializeDataMap=function(e){try{this.childCompHash={},this.refCompHash={},this.statusHash={},this.firstSetting={},this.activated=!1,this.commandList=[],this.commandPosition=-1,this.options.attributeMap&&this.id!=this.options.attributeMap&&(WebSquare.DataCollection.attributeMapInfo[this.options.attributeMap]||(WebSquare.DataCollection.attributeMapInfo[this.options.attributeMap]=[]),WebSquare.DataCollection.attributeMapInfo[this.options.attributeMap].push(this.id),this.syncWithAttributeMap()),"$none"==this.options.valueAttribute.wq_trim()&&(this.options.valueAttribute="");var t=""==this.options.valueNode?this.options.valueAttribute:this.options.valueNode;if(t=""==this.options.valueAttribute?this.options.valueNode:this.options.valueAttribute,this.options.valueNode=t,this.options.valueAttribute=t,this.options.repeatNode=this.options.baseNode,this.element=e,"JSON"==this.elementType&&(e.columnInfo=e.keyInfo),this._dataList=new WebSquare.DataCollection.dataList(this.id+"??dataList",this.options,e,"dataMap"),this._dataList.parent=this,"dataMap"==this.initializeType){if(WebSquare.DataCollection.api.addChild(this),this.synchronize(),this.synchronizeRef(),"XML"==this.elementType){var r=WebSquare.xml.getElementsByTagName(e,"data",l.I._XML_NAMESPACE.W2)[0];r&&(this.useData=f.Z.getBoolean(r.getAttribute("use")),this.useData&&(this._dataList.allowTextNode=!0,this.setXML(r,!1),this._dataList.allowTextNode=!1))}else"JSON"==this.elementType&&(this.useData=this.element.option.useData,this.useData&&this.element.data&&this.setJSON(this.element.data));if(0==this._dataList.getRowCount()){this._dataList.insertRow(0);for(var i=this.getCount(),a=0;a<i;a++){var n=this._dataList.getCellInfo(a);""!=n.options.defaultValue&&(this.firstSetting[n.options.id]=!0,this.statusHash[n.options.id]=!0)}}}if(WebSquare.DataCollection.attributeMapInfo[this.id])for(a=0;a<WebSquare.DataCollection.attributeMapInfo[this.id].length;a++){var o=WebSquare.DataCollection.attributeMapInfo[this.id][a];f.Z.getComponentById(o).syncWithAttributeMap()}}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.finalize=function(){try{this.activated=!1,this._dataList.id&&WebSquare.DataCollection.api.remove(this._dataList.id)}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.activate=function(){try{if(!this.activated){for(var e in this.options)if("ev:"==e.slice(0,3))for(var t=this.options[e].split(","),r=0;r<t.length;r++)this.bind(e.slice(3),t[r]);this.options.eventPause&&this.setEventPause(this.options.eventPause,!0)}this.activated=!0}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.addEvent=function(e,t,r){try{if(!t)return;var i={name:e,action:r=r||"script",param:{handler:t}};this.options.xmlEvents||(this.options.xmlEvents=[]),this.options.xmlEvents.push(i),this.event.addUserEvents(this,[i],this.options.userEvents)}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.bind=function(e,t){try{"string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e),this.addEvent(e,t)}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.trigger=function(e,t){try{"string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e);var r=!1;if(null!=this.options.userEvents)for(var i=0;i<this.options.userEvents.length;i++)if(this.options.userEvents[i]===e){r=!0;break}if(!r&&M.f.isEventSupported(this.render,e))t&&t.constructor==Array?M.f.fireSystemEvent(this,e,t[0]):M.f.fireSystemEvent(this,e);else{var a=[this,e];a=a.concat(t),M.f.fireEvent.apply(M.f.fireEvent,a),a[0]=null}}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.unbind=function(e,t){try{if("string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e),"string"==typeof e&&"function"==typeof t)for(var r=0;r<this.userEventList.length;r++)e===this.userEventList[r].name&&t===this.userEventList[r].param.handler&&(this.userEventList.splice(r,1),
"object"==typeof this.systemEventList[e]&&(this.systemEventList[e].count--,this.systemEventList[e].count<=0&&(this.event.removeListener(this.render,e,this.systemEventList[e].handler),delete this.systemEventList[e])));else if("string"==typeof e&&null==t){for(r=this.userEventList.length-1;r>=0;r--)e===this.userEventList[r].name&&this.userEventList.splice(r,1);"object"==typeof this.systemEventList[e]&&(this.event.removeListener(this.render,e,this.systemEventList[e].handler),delete this.systemEventList[e])}else{for(var i in this.systemEventList)this.event.removeListener(this.render,i,this.systemEventList[i].handler);this.userEventList=[],this.systemEventList={}}this.options.xmlEvents=this.userEventList.slice()}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.onComplete=function(){this.completed?$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id):this.completed=!0},he.prototype.setEventPause=function(e,t){var r={},i=!1;if("string"==typeof e&&""!=e)for(var a=e.split(","),n=0;n<a.length;n++)a[n]&&(r[a[n]]=!0);else i=!0;for(n=this.userEventList.length-1;n>=0;n--)(i||r[this.userEventList[n].name])&&(this.userEventList[n].disabled=t)},he.prototype.getScope=function(){try{var e=null;return null!=this.scope_obj&&this.scope_obj.options&&(e=this.scope_obj),e}catch(e){u.Y.printStackTrace(e,null,this)}},he.prototype.getScopeWindow=function(){try{return null!=this.scope_obj&&this.scope_obj.options?this.scope_obj.scope:window}catch(e){u.Y.printStackTrace(e,null,this)}};var fe=function(){};fe.prototype.getBroadcast=function(){return!1!==this._broadCastFlag},fe.prototype.setBroadcast=function(e,t,r){if(!1===e)this._broadCastFlag=e;else if(this._broadCastFlag=!0,!0===t){var i={gridView:[{refreshInstance:!0}],pivot:[{type:"render",refresh:!0}]};if("object"==typeof r)for(var a in r)"object"==typeof r[a]&&r[a].constructor===Array&&(i[a]=r[a].slice(0));var n={linkedDataList:["notifyDataChanged"],gridView:["notifyDataChanged"],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwRealtimeChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],pivot:["refreshItemset"],generalComp:"both"};for(var a in i)n[a].push(i[a]);this.broadcast(n)}},fe.prototype.broadcast=function(e){try{if(WebSquare.DataCollection.stopBroadCast&&WebSquare.DataCollection.stopBroadCastComp._wq_add(this.uuid),WebSquare.DataCollection.stopBroadCast||!this.getBroadcast())return;for(var t in this.childCompHash){if(null!=(r=this.childCompHash[t])&&WebSquare.idCache[r.uuid]&&null!=r.render)switch("stop"==r.activeStatus&&"function"==typeof r.preActivate&&r.preActivate(),r.options.pluginName){case"gridView":e.gridView&&r[e.gridView[0]].apply(r,e.gridView[1]||[]);break;case"fusionchart":e.fusionChart&&r[e.fusionChart[0]].apply(r,e.fusionChart[1]||[]);break;case"checkcombobox":if(e.checkcombobox){r[e.checkcombobox[0]].apply(r,e.checkcombobox[1]||[]);break}default:"refreshItemset"==e.generalComp||"both"==e.generalComp?r.modelControl.useItemset&&r.refreshItemset(e.mode||"keepIndex"):e.generalComp&&r[e.generalComp[0]].apply(r,e.generalComp[1]||[])}}for(var t in this.refCompHash){var r;if(null!=(r=this.refCompHash[t])&&WebSquare.idCache[r.uuid])switch("stop"==r.activeStatus&&"function"==typeof r.preActivate&&r.preActivate(),r.options.pluginName){case"linkedDataList":if(e.linkedDataList){r.refresh();break}case"fusionchart":e.fusionChart&&r[e.fusionChart[0]].apply(r,e.fusionChart[1]||[]);break;default:"refresh"!=e.generalComp&&"both"!=e.generalComp||r.modelControl.useRef&&r.refresh()}}}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.synchronize=function(){try{var e=WebSquare.DataCollection.parentToChildRelation[this.id];if(e)for(var t in e)e[t]&&(this.childCompHash[t]=f.Z.getComponentById(t));this.broadcast({gridView:["setDataList"],generalComp:["refreshItemArr"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype._addRelation=function(e){try{if(!this.childCompHash)return;var t=f.Z.getComponentById(e);if(!t)return
;switch(this.childCompHash[e]=t,"stop"!=t.activeStatus||"function"!=typeof t.preActivate||t.skipPreActivate||t.preActivate(),t.options.pluginName||t.initializeType){case"linkedDataList":case"grid":case"gridView":t.setDataList()}}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype._addRefRelation=function(e){try{if(!this.refCompHash)return;var t=f.Z.getComponentById(e);if(!t)return;switch(this.refCompHash[e]=t,"stop"==t.activeStatus&&"function"==typeof t.preActivate&&t.preActivate(),t.options.pluginName||t.initializeType){case"grid":case"gridView":t.drawData(0,0);break;default:t.modelControl.useRef&&t.refresh()}}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.syncWithParent=function(){try{if(this._dataList){if(this.conditionInfo.targetInfo={},this.conditionInfo.keyArray=[],this.conditionInfo.columnArray=[],this.initialRowIndexArr=[],this.initialFilterList=[],this.filteredRowIndexArr=this._dataList.filteredRowIndexArr.slice(0),this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0),this.filterManager.clear(),this.filterManager.runFilter(this.conditionInfo.filterInfo.condition),this.filterManager.runSort(this.conditionInfo.sortInfo.condition),this.initialRowIndexArr=this.filteredRowIndexArr.slice(0),this.initialFilterList=this.filterManager.filterArr.slice(0),""==this.conditionInfo.sortInfo.condition&&this.sortStatusInfo)for(var e in this.sortStatusInfo)if(this.sortStatusInfo[e]){var t=this.sortStatusInfo[e].colID,r=this.sortStatusInfo[e].sortOrder;1==r?this.sort(t,0):-1==r&&this.sort(t,1)}this.broadcast({generalComp:["refreshItemArr"]})}}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.addChild=function(e){try{this.childCompHash[e.id]=e}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.removeChild=function(e){try{this.childCompHash&&delete this.childCompHash[e]}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.addRefComp=function(e){try{this.refCompHash[e.id]=e}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.removeRefComp=function(e){try{this.refCompHash&&delete this.refCompHash[e]}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.refresh=function(e){try{this.successBinding&&(this.syncWithParent(),this.broadcast({gridView:["refresh"],generalComp:"both",mode:e}))}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.refreshRef=function(e){try{this.successBinding&&this.conditionInfo.filterInfo.useRef&&(this.syncWithParent(),this.broadcast({gridView:["refresh"],generalComp:"both",mode:e}))}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getConfiguredOptions=function(){try{var e,t,r=this.defaultOptions.pluginName,i={};if(this.configuredOptions={},this.configuredOptions[r])e=this.configuredOptions[r].keys,t=this.configuredOptions[r].values;else{var a=o.q.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:!1},this.defaultOptions);if(a.useConfig||f.Z.getBoolean(l.I.getConfiguration("/WebSquare/"+r+"/useConfig/@value"))){var n=l.I.getConfig(r);a=o.q.extendKeepingType(a,n)}for(var s in e=[],t=[],a)e.push(s),t.push(a[s]);this.configuredOptions[r]={keys:e,values:t}}for(var c=0;c<e.length;c++)i[e[c]]=t[c];return i}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getOption=function(e){try{var t=e in this.options,r=this.options.attributeMap;if(t)return this.options[e];if(r){var i=f.Z.getComponentById(r);if(i&&i.hasKey(e))return i.get(e)}return}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getID=function(){try{return this.id}catch(e){u.Y.printStackTrace(e)}},fe.prototype.setOption=function(e,t){try{"string"==typeof t&&"$none"==t.wq_trim()&&(t=""),e in this.options&&(this.options[e]=t);var r=this.options.attributeMap;if(r){var i=f.Z.getComponentById(r);i&&i.hasKey(e)&&i.set(e,t)}}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRealRowIndex=function(e){return this.filteredRowIndexArr[e]},fe.prototype.getLinkedRowIndex=function(e){return this.getRealRowIndex(e)},
fe.prototype.getParentRealRowIndex=function(e){return this.initialRowIndexArr[e]},fe.prototype.getLinkedRealRowIndex=function(e){var t=this.filteredRowIndexArr[e];if("number"==typeof t)for(var r=0;r<this.initialRowIndexArr.length;r++)if(this.initialRowIndexArr[r]===t)return r;return null},fe.prototype.getFilteredRowIndex=function(e){if(this.filteredRowIndexArr[this.filteredRowIndexMap[e]]!==e){this.filteredRowIndexMap={};for(var t=0;t<this.filteredRowIndexArr.length;t++)this.filteredRowIndexMap[this.filteredRowIndexArr[t]]=t}return this.filteredRowIndexMap[e]},fe.prototype.getTotalRow=function(){try{return this.initialRowIndexArr.length}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getTotalCol=function(){try{return this._dataList.getTotalCol()}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRowCount=function(){try{return this.getDataLength()}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getCellData=function(e,t){try{var r=this.getRealRowIndex(e);return this._dataList.getCellData(r,t)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getOriginalCellData=function(e,t){try{var r=this.getRealRowIndex(e);return this._dataList.getOriginalCellData(r,t)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getDataLength=function(){return this.filteredRowIndexArr.length},fe.prototype.getColCnt=function(){try{return this._dataList.getColCnt()}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getRowPosition=function(){try{return this.getFilteredRowIndex(this._dataList.getRowPosition())}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.setRowPosition=function(e){try{return this._dataList.setRowPosition(this.getRealRowIndex(e))}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getColSum=function(e){try{var t=this.getColData(e);return f.Z.sum(t)}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getColAvg=function(e){try{var t="",r=this.getColData(e);if(r.length>0){for(var i=0;i<r.length;i++)""==r[i].replace(/^\s+|\s+$/g,"")&&(r[i]="0");t=f.Z.sum(r)}return""==t?"":t/r.length}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getColMax=function(e){try{for(var t=null,r=this.getColData(e),i=0;i<r.length;i++){var a=parseFloat(r[i]);isNaN(a)||(null==t||t<a)&&(t=a)}return t=null==t?"":t,t=f.Z.setPrecision(t)}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getColMin=function(e){try{for(var t=null,r=this.getColData(e),i=0;i<r.length;i++){var a=parseFloat(r[i]);isNaN(a)||(null==t||t>a)&&(t=a)}return t=null==t?"":t,t=f.Z.setPrecision(t)}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getRealRowIndexArr=function(){return this.filteredRowIndexArr.slice(0)},fe.prototype.getColData=function(e){try{for(var t=[],r=0;r<this.filteredRowIndexArr.length;r++)t.push(this.getCellData(r,e));return t}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRowData=function(e){try{var t=this.getRealRowIndex(e);return this._dataList.getRowData(t)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getDataRow=function(e){try{var t=this.getRealRowIndex(e);return this._dataList.getDataRow(t)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getMatchedData=function(e,t,r,i,a){try{this.broadcast({gridView:["_endEdit"]});for(var n=[],o=this.getMatchedIndex(e,t,r,i,a),s=0;s<o.length;s++){var l=this.getFilteredRowIndex(o[s]);n.push(this.getRowData(l))}return n}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUnmatchedData=function(e,t,r,i,a){try{this.broadcast({gridView:["_endEdit"]});for(var n=[],o=this.getUnmatchedIndex(e,t,r,i,a),s=0;s<o.length;s++){var l=this.getFilteredRowIndex(o[s]);n.push(this.getRowData(l))}return n}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getMatchedColumnData=function(e,t,r,i,a,n){try{this.broadcast({gridView:["_endEdit"]});for(var o=[],s=this.getMatchedIndex(e,t,i,a,n),l=0;l<s.length;l++){var c=this.getFilteredRowIndex(s[l]);o.push(this.getCellData(c,r))}return o}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUnmatchedColumnData=function(e,t,r,i,a,n){try{this.broadcast({gridView:["_endEdit"]})
;for(var o=[],s=this.getUnmatchedIndex(e,t,i,a,n),l=0;l<s.length;l++){var c=this.getFilteredRowIndex(s[l]);o.push(this.getCellData(c,r))}return o}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getFilteredColData=function(e){for(var t=[],r=0;r<this.getDataLength();r++)t.push(this.getCellData(r,e));return t},fe.prototype.getMatchedIndex=function(e,t,r,i,a){try{r=void 0===r||null==r||r,0!=(r=f.Z.getBoolean(r))&&(r=!0);var n=this._dataList.getColumnIndex(e),o=this.getFilteredColData(n),s=[];"number"!=typeof i&&(i=0),"number"!=typeof a&&(a=o.length),a>o.length&&(a=o.length);for(var l=i;l<a;l++){var c=o[l],d=this.getRealRowIndex(l);1==r?(c===t||this.options.matchIgnoreCase&&"string"==typeof t&&"string"==typeof c&&c.toLowerCase()===t.toLowerCase())&&s.push(d):(c.indexOf(t)>-1||this.options.matchIgnoreCase&&"string"==typeof t&&"string"==typeof c&&c.toLowerCase().indexOf(t.toLowerCase())>-1)&&s.push(d)}return s}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUnmatchedIndex=function(e,t,r,i,a){try{0!=r&&(r=!0);var n=this._dataList.getColumnIndex(e),o=this.getFilteredColData(n),s=[];"number"!=typeof i&&(i=0),"number"!=typeof a&&(a=o.length),a>o.length&&(a=o.length);for(var l=i;l<a;l++){var c=o[l],d=this.getRealRowIndex(l);1==r?c!==t&&(this.options.matchIgnoreCase&&"string"==typeof t&&"string"==typeof c?c.toLowerCase()!==t.toLowerCase()&&s.push(l):s.push(d)):(c.indexOf(t)<=-1||this.options.matchIgnoreCase&&"string"==typeof t&&"string"==typeof c&&c.toLowerCase().indexOf(t.toLowerCase())<=-1)&&s.push(d)}return s}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRangeData=function(e,t){try{var r=[];if(e>t){var i=t;t=e,e=i}e<0&&(e=0),t>this.getDataLength()-1&&(t=this.getDataLength()-1);for(var a=e;a<=t;a++){var n=this.getRealRowIndex(a);r=r.concat(this.getRowData(n))}return r}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getAllData=function(e){try{this.broadcast({gridView:["_endEdit"]}),e||(e={}),e.rowStatusNodeName=this.options.rowStatusNodeName;for(var t=[],r=0;r<this.initialRowIndexArr.length;r++)t=t.concat(this._dataList.getRowData(this.initialRowIndexArr[r],e));return t}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getAllFilteredData=function(e){this.broadcast({gridView:["_endEdit"]}),e||(e={}),e.rowStatusNodeName=this.options.rowStatusNodeName;for(var t=[],r=0;r<this.filteredRowIndexArr.length;r++)t=t.concat(this._dataList.getRowData(this.filteredRowIndexArr[r],e));return t},fe.prototype.getColumnDistinctDataArray=function(e){try{this.broadcast({gridView:["_endEdit"]});var t=[],r=[];"string"==typeof e&&(e=this._dataList.bodyIdColIndexMap[e]);for(var i=this._dataList.getCellInfo(e),a=this.getColData(e),n=0;n<a.length;n++){r[a[n]]=1}for(var o in r)t.push(o);return"text"==i.options.dataType?t.sort():t.sort(this.comparator),t}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRangeXML=function(e,t){try{if(e>t){var r=t;t=e,e=r}e<0&&(e=0),t>this.getDataLength()-1&&(t=this.getDataLength()-1);for(var i=[],a=e;a<=t;a++){var n=this.getRealRowIndex(a);i.push(n)}return this._dataList.getArrXML(i)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getMatchedXML=function(e,t,r,i,a){try{this.broadcast({gridView:["_endEdit"]});var n=this.getMatchedIndex(e,t,r,i,a);return this._dataList.getArrXML(n)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUnmatchedXML=function(e,t,r,i,a){try{this.broadcast({gridView:["_endEdit"]});var n=this.getUnmatchedIndex(e,t,r,i,a);return this._dataList.getArrXML(n)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRowXML=function(e){try{var t=this.getRealRowIndex(e);return this._dataList.getRowXML(t,{rowStatusNodeName:this.options.rowStatusNodeName})}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getAllXML=function(e){try{this.broadcast({gridView:["_endEdit"]});var t={id:this.id,initializeType:this.initializeType,baseNode:this.options.baseNode,repeatNode:this.options.repeatNode,idAttribute:this.options.idAttribute,valueAttribute:this.options.valueAttribute,rowStatusNodeName:this.options.rowStatusNodeName};return e&&(t={
id:e.id||this.id,initializeType:this.initializeType,baseNode:e.baseNode||this.options.baseNode,repeatNode:""==e.repeatNode||e.repeatNode?e.repeatNode:this.options.repeatNode,idAttribute:""==e.idAttribute||e.idAttribute?e.idAttribute:this.options.idAttribute,valueAttribute:""==e.valueAttribute||e.valueAttribute?e.valueAttribute:this.options.valueAttribute,rowStatusNodeName:""==e.rowStatusNodeName||e.rowStatusNodeName?e.rowStatusNodeName:this.options.rowStatusNodeName}),this._dataList.getArrXML(this.initialRowIndexArr,t)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getAllFilteredXML=function(e){this.broadcast({gridView:["_endEdit"]});var t={id:(e=e||{}).id||this.id,initializeType:this.initializeType,baseNode:e.baseNode||this.options.baseNode,repeatNode:""==e.repeatNode||e.repeatNode?e.repeatNode:this.options.repeatNode,idAttribute:""==e.idAttribute||e.idAttribute?e.idAttribute:this.options.idAttribute,valueAttribute:""==e.valueAttribute||e.valueAttribute?e.valueAttribute:this.options.valueAttribute,rowStatusNodeName:""==e.rowStatusNodeName||e.rowStatusNodeName?e.rowStatusNodeName:this.options.rowStatusNodeName};return this._dataList.getArrXML(this.filteredRowIndexArr,t)},fe.prototype.getRowJSON=function(e){try{var t=this.getRealRowIndex(e);return this._dataList.getRowJSON(t,{rowStatusNodeName:this.options.rowStatusNodeName})}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getAllJSON=function(e){try{this.broadcast({gridView:["_endEdit"]}),e||(e={}),e.rowStatusNodeName=this.options.rowStatusNodeName;for(var t=[],r=0;r<this.initialRowIndexArr.length;r++)t.push(this._dataList.getRowJSON(this.initialRowIndexArr[r],e));return t}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRefAllJSON=function(e){try{return void 0!==e&&null!=e||(e={}),e.exceptEmptyValue=!0,this.getAllJSON(e)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getAllFilteredJSON=function(e){try{this.broadcast({gridView:["_endEdit"]}),e||(e={}),e.rowStatusNodeName=this.options.rowStatusNodeName;for(var t=[],r=0;r<this.filteredRowIndexArr.length;r++)t=t.concat(this._dataList.getRowJSON(this.filteredRowIndexArr[r],e));return t}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRangeJSON=function(e,t){try{var r=[];if(e>t){var i=t;t=e,e=i}e<0&&(e=0),t>this.getDataLength()-1&&(t=this.getDataLength()-1);for(var a=e;a<=t;a++)r.push(this.getRowJSON(a));return r}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getMatchedJSON=function(e,t,r,i,a){try{this.broadcast({gridView:["_endEdit"]});for(var n=[],o=this.getMatchedIndex(e,t,r,i,a),s=0;s<o.length;s++){var l=this.getFilteredRowIndex(o[s]);n.push(this.getRowJSON(l))}return n}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUnmatchedJSON=function(e,t,r,i,a){try{this.broadcast({gridView:["_endEdit"]});for(var n=[],o=this.getUnmatchedIndex(e,t,r,i,a),s=0;s<o.length;s++){var l=this.getFilteredRowIndex(o[s]);n.push(this.getRowJSON(l))}return n}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getFusionChartData=function(e,t,r,i){try{var a={},n=(t=t,r.wq_replaceAll("'",'"'));r=(n=JSON.parse(n))[0];switch(this._singleSerises=function(){for(var e=[],n=this.getAllJSON(),o=0;o<n.length;o++){var s={label:n[o][t],value:n[o][r],color:n[o][i]};e.push(s)}return a.data=e,a},this._multiSerises=function(){(a=this._getFusionChartCategory()).dataset=[];for(var e=0;e<r.length;e++){var t=this._getFusionChartSeriesDate(e);a.dataset.push(t)}return a},this._msStacked=function(){(a=this._getFusionChartCategory()).dataset=[];for(var e=0;e<n.length;e++){r=n[e];for(var t={dataset:[]},i=0;i<r.length;i++){var o=this._getFusionChartSeriesDate(i);t.dataset.push(o)}a.dataset.push(t)}return a},this._msStackedColumn2DLineDY=function(){(a=this._getFusionChartCategory()).dataset=[];for(var e=0;e<n.length-1;e++){r=n[e];for(var t={dataset:[]},i=0;i<r.length;i++){var o=this._getFusionChartSeriesDate(i);t.dataset.push(o)}a.dataset.push(t)}a.lineset=[];var s=n.length-1;r=n[s];for(e=0;e<r.length;e++){o=this._getFusionChartSeriesDate(e);a.lineset.push(o)}return a},
this._scatter=function(){a.dataset=[];for(var i=this._getUniqueArr(this.getColData(t)),n=0;n<i.length;n++){for(var o={data:[]},s=0;s<this.getRowCount();s++)if(i[n]==this.getCellData(s,t)){var l={};"scatter"==e.toLowerCase()?l={x:this.getCellData(s,r[0]),y:this.getCellData(s,r[1])}:"bubble"==e.toLowerCase()&&(l={x:this.getCellData(s,r[0]),y:this.getCellData(s,r[1]),z:this.getCellData(s,r[2])}),o.data.push(l)}o.seriesname=this.getColumnName(i[n]),a.dataset.push(o)}return a},this._zoomLine=function(){if(1==this.getRowCount()){(a={categories:[{category:this.getCellData(0,t)}]}).dataset=[];for(var e=0;e<r.length;e++){var i={};i.seriesname=this.getColumnName(r[e]),i.data=this.getCellData(0,r[e]),a.dataset.push(i)}return a}return this._multiSerises()},this._getFusionChartCategory=function(){for(var e=[],r=this.getColData(t),i=0;i<r.length;i++){var a={label:r[i]};e.push(a)}return{categories:[{category:e}]}},this._getFusionChartSeriesDate=function(e){var t,i={};i.data=[];var a=[];if("string"!=typeof r[e]){for(var n in t=r[e].id,i.seriesname=this.getColumnName(t),r[e])if(r[e].hasOwnProperty(n))if(this.hasColumn(r[e][n])&&"id"!=n.toLowerCase()){var o={};o[n]=r[e][n],a.push(o)}else i[n]=r[e][n]}else t=r[e],i.seriesname=this.getColumnName(t);for(var s=0;s<this.getRowCount();s++){for(var l={value:this.getCellData(s,t)},u=0;u<a.length;u++)for(var c in a[u])l[c]=this.getCellData(s,a[u][c]);i.data.push(l)}return i},this._getUniqueArr=function(e){for(var t={},r=[],i=0;i<e.length;i++)void 0===t[e[i]]&&(t[e[i]]=1);for(var i in t)r.push(i);return r},e.toLowerCase()){case"column2d":case"column3d":case"bar2d":case"bar3d":case"pie2d":case"pie3d":case"doughnut2d":case"doughnut3d":case"pareto2d":case"pareto3d":case"line2d":case"area":case"ssgrid":return this._singleSerises();case"mscolumn2d":case"mscolumn3d":case"msline":case"msarea":case"msbar2d":case"msbar3d":case"marimekko":case"stackedcolumn2d":case"stackedcolumn3d":case"stackedarea2d":case"stackedbar2d":case"stackedbar3d":case"mscombi3d":case"mscombi2d":case"mscolumnline3d":case"stackedcolumn2dline":case"stackedcolumn3dline":case"mscombidy2d":case"mscolumn3dlinedy":case"stackedcolumn3dlinedy":case"scrollcolumn2d":case"scrollline2d":case"scrollArea2d":case"scrollstackedcolumn2d":case"scrollcombi2d":case"scrollcombidy2d":case"stackedcolumn3dlinedy":return this._multiSerises();case"scatter":case"bubble":return this._scatter();case"zoomline":return this._zoomLine();case"msstackedcolumn2d":return this._msStacked();case"msstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY()}}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRowArray=function(e){try{var t=this.getRealRowIndex(e);return this._dataList.getRowArray(t)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getRowStatusValue=function(e){try{var t=this.getRealRowIndex(e);return this._dataList._getRowStatusValue(t)}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getRowStatus=function(e){try{var t=this.getRealRowIndex(e);return this._dataList._getRowStatus(t)}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getRowIndexByStatus=function(e){try{for(var t=[],r=0;r<this.getDataLength();r++){var i=this.getRealRowIndex(r);e.indexOf(this._dataList.getRowStatus(i))>-1&&t.push(i)}return t}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getInsertedIndex=function(){try{return this.getRowIndexByStatus("C")}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUpdatedIndex=function(){try{return this.getRowIndexByStatus("U")}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getDeletedIndex=function(){try{return this.getRowIndexByStatus("DV")}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getOnlyDeletedIndex=function(){try{return this.getRowIndexByStatus("D")}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getModifiedIndex=function(){try{return this.getRowIndexByStatus("CUD")}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getInsertedData=function(){try{this.broadcast({gridView:["_endEdit"]})
;for(var e=[],t=this.getInsertedIndex(),r=0;r<t.length;r++)e.push(this.getRowData(t[r]));return e}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getInsertedXML=function(){try{this.broadcast({gridView:["_endEdit"]});var e=this.getInsertedIndex();return this._dataList.getArrXML(e)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getInsertedJSON=function(){try{this.broadcast({gridView:["_endEdit"]});for(var e=[],t=this.getInsertedIndex(),r=0;r<t.length;r++)e.push(this.getRowJSON(t[r]));return e}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getDeletedData=function(){try{this.broadcast({gridView:["_endEdit"]});for(var e=[],t=this.getDeletedIndex(),r=0;r<t.length;r++)e.push(this.getRowData(t[r]));return e}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getDeletedXML=function(){try{this.broadcast({gridView:["_endEdit"]});var e=this.getDeletedIndex();return this._dataList.getArrXML(e)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getDeletedJSON=function(){try{this.broadcast({gridView:["_endEdit"]});for(var e=[],t=this.getDeletedIndex(),r=0;r<t.length;r++)e.push(this.getRowJSON(t[r]));return e}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUpdatedData=function(){try{this.broadcast({gridView:["_endEdit"]});for(var e=[],t=this.getUpdatedIndex(),r=0;r<t.length;r++)e.push(this.getRowData(t[r]));return e}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUpdatedXML=function(){try{this.broadcast({gridView:["_endEdit"]});var e=this.getUpdatedIndex();return this._dataList.getArrXML(e)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getUpdatedJSON=function(){try{this.broadcast({gridView:["_endEdit"]});for(var e=[],t=this.getUpdatedIndex(),r=0;r<t.length;r++)e.push(this.getRowJSON(t[r]));return e}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getModifiedData=function(){try{this.broadcast({gridView:["_endEdit"]});for(var e=[],t=this.getModifiedIndex(),r=0;r<t.length;r++)e.push(this.getRowData(t[r]));return e}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getModifiedXML=function(){try{this.broadcast({gridView:["_endEdit"]});var e=this.getModifiedIndex();return this._dataList.getArrXML(e)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.getModifiedJSON=function(){try{this.broadcast({gridView:["_endEdit"]});for(var e=[],t=this.getModifiedIndex(),r=0;r<t.length;r++)e.push(this.getRowJSON(t[r]));return e}catch(e){u.Y.printStackTrace(e)}},fe.prototype.setCondition=function(e,t){try{switch(e.toLowerCase()){case"filter":this.setFilterCondition(t);break;case"sort":this.setSortCondition(t)}}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getFilterCondition=function(){try{return this.conditionInfo.filterInfo.orgCondition}catch(e){u.Y.printStackTrace(e,null,this)}return""},fe.prototype.setFilterCondition=function(e){try{"string"==typeof e&&(this.conditionInfo.filterInfo.parse=!1,this.conditionInfo.filterInfo.useRef=!1,this.conditionInfo.filterInfo.condition=e,this.conditionInfo.filterInfo.orgCondition=e,this.conditionInfo.filterInfo.checkVal=!0,this.syncWithParent()),this.broadcast({generalComp:"both",mode:"replace"})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.setSortCondition=function(e){try{"string"==typeof e&&(this.conditionInfo.sortInfo.parse=!1,this.conditionInfo.sortInfo.condition=e,this.conditionInfo.sortInfo.orgCondition=e,this.syncWithParent()),this.broadcast({generalComp:"both",mode:"replace"})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getSortCondition=function(){try{return this.conditionInfo.sortInfo.orgCondition}catch(e){u.Y.printStackTrace(e,null,this)}return""},fe.prototype.getObjectType=function(){try{var e=this.initializeType;if("linkedDataList"==e)return e}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.setColumnFilter=function(e,t,r,i){try{var a=this._dataList.getColumnIndex(e);if(this.broadcast({gridView:["notifyBeforeSettedColumnFilter"]}),"object"!=typeof arguments[0]||f.Z.isString(arguments[0]))this.setFilter({type:"row",colIndex:a,key:t,condition:r,exactMatch:i});else{
if("row"!==arguments[0].type&&"func"!==arguments[0].type&&"regExp"!==arguments[0].type)throw new Error("type does not support.[type:"+arguments[0].type+"]");this.setFilter({type:arguments[0].type,colIndex:"string"==typeof arguments[0].colIndex&&"rowstatus()"==arguments[0].colIndex.toLowerCase()?"@rowStatus":arguments[0].colIndex,key:arguments[0].key,condition:arguments[0].condition,exactMatch:arguments[0].exactMatch,param:arguments[0].param,noRefresh:arguments[0].noRefresh,keepTop:arguments[0].keepTop,internal:arguments[0].internal})}this.broadcast({gridView:["notifyAfterSettedColumnFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.removeColumnFilter=function(e,t){try{var r=this.getColumnID(e);this.broadcast({gridView:["notifyBeforeRemovedColumnFilter"]}),this.removeFilter({type:"row",colIndex:"rowstatus()"==e.toLowerCase()?"@rowStatus":r,key:"",noRefresh:t&&!0===t.noRefresh,internal:t&&!0===t.internal},!1),this.removeFilter({type:"func",colIndex:r,key:"",noRefresh:t&&!0===t.noRefresh,internal:t&&!0===t.internal},!1),this.removeFilter({type:"regExp",colIndex:r,key:"",noRefresh:t&&!0===t.noRefresh,internal:t&&!0===t.internal},!0),this.broadcast({gridView:["notifyAfterRemovedColumnFilter"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.clearSortFilter=function(){try{this.sortStatusInfo={},this.sortStatusArr=[],this.setSortCondition("")}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.removeColumnFilterAll=function(){try{this.clearFilter()}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getAllNoFilteredData=function(){try{return this._dataList.getAllData()}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.setFilter=function(e){try{if(e&&e.noRefresh||this.broadcast({gridView:["notifySaveFocusedCell"]}),"@rowStatus"!=(e=o.q.extend({type:"",colIndex:-1,key:"",condition:"and",bodyIdColIndexMap:this.bodyIdColIndexMap,internal:!1},e||{})).colIndex){"string"==typeof e.colIndex&&(e.colIndex=this._dataList.bodyIdColIndexMap[e.colIndex]);var t=(c=this._dataList.getCellInfo(e.colIndex)).options.dataType;e.columnDataType=t}var r=!1;if(e.sortIndex){this.sortStatusInfo={},this.sortStatusArr=[];var i=[],a=[],n=[];i="string"==typeof e.sortIndex?e.sortIndex.wq_trim().split(" "):e.sortIndex,e.sortOrder&&"string"==typeof e.sortOrder?a=e.sortOrder.wq_trim().split(" "):"object"==typeof e.sortOrder&&(a=e.sortOrder),e.dataType&&(n=e.dataType.wq_trim().split(" ")),e.sortIndexArr=[],e.sortOrderArr=[],e.dataTypeArr=[],e.sortIdArr=[],e.numberExtractionValueArr=[];for(var s=0;s<i.length;s++){isNaN(i[s])?e.sortIndexArr.push(this._dataList.bodyIdColIndexMap[i[s]]):e.sortIndexArr.push(parseInt(i[s],10));var l=parseInt(a[s]);isNaN(l)&&(l=1),e.sortOrderArr.push(l),e.dataTypeArr.push(n[s]||"text"),e.sortIdArr.push(this._dataList.getColumnID(e.sortIndexArr[s]));var c,d={},p="true"==(c=this._dataList.getCellInfo(e.sortIdArr[s])).options.numberExtraction;e.numberExtractionValueArr.push(p);var h="number"==c.options.dataType?"number":"text";d.colID=e.sortIdArr[s],d.sortOrder=e.sortOrderArr[s],d.dataType=h,e.dataType!=h&&(e.dataType=h,e.dataTypeArr[s]=h),this.sortStatusInfo[d.colID]=d,this.sortStatusArr.push(d),this.sortStatusArr[d.colID]=d}r=!0}e.numberExtraction=this._dataList.options.numberExtraction;var f=JSON.stringify(this.filteredRowIndexArr),g=e.type+"^@"+e.colIndex+"^@"+e.key;this.filterManager.addFilter(g,e),e.noRefresh||(this.broadcast({gridView:["notifySettedFilter",[{isSort:r}]],generalComp:"both"}),!0!==e.internal&&this.broadcast({gridView:["notifySettedFilterByUser",[{colID:this.getColumnID(e.colIndex),oldFilteredRowIndexArr:f,newFilteredRowIndexArr:JSON.stringify(this.filteredRowIndexArr)}]]}))}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.removeFilter=function(e,t){try{e=o.q.extend({type:"",colIndex:-1,key:"",condition:"and",internal:!1},e||{}),t=void 0===t||t,"@rowStatus"!=e.colIndex&&"string"==typeof e.colIndex&&(e.colIndex=this.getColumnIndex(e.colIndex))
;var r=JSON.stringify(this.filteredRowIndexArr),i=e.type+"^@"+e.colIndex+"^@"+e.key;this.filterManager.deleteFilter(i,e,t),this.broadcast({gridView:["notifyRemovedFilter"],generalComp:"both"}),!0!==e.internal&&this.broadcast({gridView:["notifySettedFilterByUser",[{colID:this.getColumnID(e.colIndex),oldFilteredRowIndexArr:r,newFilteredRowIndexArr:JSON.stringify(this.filteredRowIndexArr)}]]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.clearFilter=function(e){try{this.filterManager.filterArr=this.initialFilterList.slice(0),this.filteredRowIndexArr=this.initialRowIndexArr.slice(0),e||this.broadcast({gridView:["notifyClearFilter"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.sort=function(e,t){try{switch(t){case 0:this.setFilter({type:"sort",sortIndex:e,sortOrder:"1",dataType:"text",internal:!0});break;case 1:this.setFilter({type:"sort",sortIndex:e,sortOrder:"-1",dataType:"text",internal:!0});break;case 2:this.clearSortFilter()}}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.clearSort=function(){try{this.broadcast({gridView:["clearHeaderSort"]}),this.clearSortFilter(),this.broadcast({gridView:["notifySetFocusedCell"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.multisort=function(e){try{var t,r;e.type="sort",e.sortOrder=e.sortOrder||[];var i=typeof e.sortIndex,a=typeof e.sortOrder;"object"==i?t=e.sortIndex:"string"==i&&(t=e.sortIndex.split(" ")),"object"==a?r=e.sortOrder:"string"==a&&(r=e.sortOrder.split(" "));for(var n=0;n<t.length-r.length;n++)r.push(1);var o=[];this.sortStatusInfo={},this.sortStatusArr=[];for(n=0;n<t.length;n++){var s,l={};"string"==(i=typeof t[n])?s=this._dataList.getCellInfo(t[n]):"number"==i&&(s=this._dataList.getCellInfo(this.getColumnID(t[n]))),l.colID=t[n],l.sortOrder=parseInt(r[n]),l.dataType="number"!=s.options.dataType?"text":"number",o.push(l.dataType),this.sortStatusInfo[l.colID]=l,this.sortStatusArr.push(l),this.sortStatusArr[l.colID]=l}e.dataType=o.join(" "),e.internal=!0,this.setFilter(e),this.broadcast({gridView:["drawHeaderSortImages"],generalComp:"both"})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getCellInfo=function(e){var t="";return"string"==typeof e?t=e:"number"==typeof e&&(t=this.cellIdList[e]),this.cellInfoHash[t]||{options:{}}},fe.prototype.getColumnCount=function(){return this.cellIdList.length},fe.prototype.getColumnID=function(e){if("string"==typeof e)return e;var t=this.cellIdList[e];return t||null},fe.prototype.getColumnIndex=function(e){return"number"==typeof e?e:this.bodyIdColIndexMap[e]},fe.prototype.hasColumn=function(e){try{"number"==typeof e&&(e=this.getColumnID(e));var t=!1;return"number"==typeof this.bodyIdColIndexMap[e]&&(t=!0),t}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getColumnName=function(e){"number"==typeof e&&(e=this.getColumnID(e));var t=this.getCellInfo(e);return t?t.name:""},fe.prototype.getParentRowIndex=function(e){try{if(this.options.depthColumn)for(var t=this.options.depthColumn,r=this.getColumnID(t),i=parseInt(this._getData(this.initialRowIndexArr[e],r)),a=this.getLinkedRealRowIndex(e)-1;a>=0;a--){var n=this.initialRowIndexArr[a];if(this._getData(n,r)<i)return n}return-1}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyDataChanged=function(){try{this.broadcast({generalComp:"both",gridView:["notifySettedFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyCellChanged=function(e,t,r){try{for(var i=!1,a=0;a<this.conditionInfo.columnArray.length;a++)if(this.conditionInfo.columnArray[a]===t){i=!0;break}if(i)this.broadcast({generalComp:"both",gridView:["notifySettedFilter"]});else{var n=this.getFilteredRowIndex(e);"number"==typeof n&&this.broadcast({gridView:["notifySettedCellData",[n,t,r]],fusionChart:["refresh"],fwFunnelChart:["refresh"],fwSparkChart:["refresh"],fwPyramidChart:["refresh"],fwGanttChart:["refresh"],generalComp:"both"})}}catch(e){u.Y.printStackTrace(e,null,this)}},
fe.prototype.notifyRowChanged=function(e){try{this.broadcast({generalComp:"both",gridView:["notifySettedFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyRowRemoved=function(e){try{var t="notifySettedFilter";0==this.getRowCount()&&(t="notifyRemovedAll"),this.broadcast({generalComp:"both",gridView:[t]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyRowInserted=function(e){try{this.broadcast({generalComp:"both",gridView:["notifySettedFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyRowMoveUp=function(e){try{this.broadcast({generalComp:"both",gridView:["notifySettedFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyRowMoveDown=function(e){try{this.broadcast({generalComp:"both",gridView:["notifySettedFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyRemoveAll=function(e){try{this.broadcast({generalComp:"both",gridView:["notifyRemovedAll"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyReformed=function(e){try{this.broadcast({generalComp:"both",gridView:["notifySettedFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyDeleteRow=function(e){try{this.broadcast({generalComp:"both",gridView:["notifySettedFilter"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.notifyRowPositionChanged=function(e){try{this.broadcast({linkedDataList:["refresh"]})}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.restartFilter=function(){try{this.filterManager.restartFilter()}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.restartFilterByCellChanged=function(e,t,r){try{for(var i=!1,a=0;a<this.conditionInfo.columnArray.length;a++)if(this.conditionInfo.columnArray[a]===t){i=!0;break}i&&this.filterManager.restartFilter()}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.setMatchIgnoreCase=function(e){try{this.options.matchIgnoreCase=f.Z.getBoolean(e)}catch(e){u.Y.printStackTrace(e)}},fe.prototype.setUserData=function(e,t){try{return void 0!==this.defaultOptions[e]?($l("!!!WARNING - ["+e+"] can't define as UserData key!!!"),!1):(this.options[e]=t,!0)}catch(e){u.Y.printStackTrace(e,null,this)}},fe.prototype.getUserData=function(e){try{return void 0!==this.defaultOptions[e]?void $l("!!!WARNING - ["+e+"] is not UserData key!!!"):this.options[e]}catch(e){u.Y.printStackTrace(e,null,this)}};var ge=function(e){this.parent=e,this.filterArr=[],this.colArr=[];for(var t=0;t<this.parent._dataList.cellIdList.length;t++){var r=this.parent._dataList.cellIdList[t];this.colArr[r]=r}};ge.prototype.runFilter=function(e){try{var t=/function\s*\(\s*([a-zA-Z_$][0-9a-zA-Z_$.]*\s*)\)/;if("string"==typeof e&&t.test(e)){var r=e.replace(t,"$1"),i=f.Z.getGlobalFunction(r,this.parent.scope_id);this.evaluateCustomFilterCondition(i)}else this.evaluateFilterCondition(e)}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.evaluateCustomFilterCondition=function(e){try{if("function"!=typeof e)return this.evaluateFilterCondition(e);var t={type:"func"};t.key=e,t.colIndex=0,t.condition="and",t.param=this,this.parent.setFilter(t)}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.runSort=function(e){try{this.evaluateSortCondition(e)}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.evaluateFilterCondition=function(e){try{if("string"!=typeof e||""==e.trim())return void this.parent.broadcast({gridView:["notifySettedFilter",[{isSort:!1}]]});var t;if(this.parent.conditionInfo.filterInfo.parse)t=this.parent.conditionInfo.filterInfo.condition;else{function i(e,t){e[e.length]=t}function a(e){var t=e[e.length-1];return delete e[e.length-1],e.length--,t}function n(e){return!o(e)&&"("!=e&&")"!=e}function o(e){return"&"===e||"|"===e}function s(e){return e[e.length-1]}function l(e){return 0==e.length}function c(e){return"|"==e?4:"&"==e?3:"("==e?2:")"==e?1:void 0}function d(e,t,r){t=new Array;var u=new Array,d=0;e=h(e);for(var p=0;p<e.length;p++){if(n(e[p])&&(t[d]=e[p],d++),o(e[p])){
if("^"!=e[p])for(;!l(u)&&c(e[p])<=c(s(u));)t[d]=s(u),a(u),d++;else for(;!l(u)&&c(e[p])<c(s(u));)t[d]=s(u),a(u),d++;i(u,e[p])}if("("==e[p]&&i(u,e[p]),")"==e[p]){for(;"("!=s(u);)t[d]=a(u),d++;a(u)}}for(;!l(u);)"("==s(u)?a(u):t[t.length]=a(u);var f="";for(p=0;p<t.length;p++)f+=t[p];return 0==r?f:t}function p(e){for(var t=new Array,r="",o=0;o<e.length;o++)if(n(e[o]))i(t,e[o]);else{var s=a(t),l="&"===e[o]?"&&":"|"===e[o]?"||":e[o];r+=""===r?a(t)+l+s:l+s}return""===r?a(t):r}function h(e){for(var t=e.split(""),r=new String(""),i=new Array,a=0,s=0;s<t.length;s++)n(t[s])&&(r+=t[s]),(o(t[s])||")"==t[s]||"("==t[s])&&(""!=r&&(i[a]=r,a++),r="",i[a]=t[s],a++),s==t.length-1&&""!=r&&(i[a]=r);return i}var r=e;t="_this.executeLinkedFilter({condition:'and'",""!=e&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=p(d(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.trim()).replaceAll('"',"'")).replace(/[\s]*[&][&][\s]*/g,"&")).replace(/[\s]*[|][|][\s]*/g,"|")).replace(/[cC][oO][lL][\s]*[(].*[)]/g,(function(e){return e.wq_replaceAll("(","!_!").wq_replaceAll(")","_!_")}))).replace(/[vV][aA][lL][\s]*[(].*[)]/g,(function(e){return e.wq_replaceAll("(","!_!").wq_replaceAll(")","_!_")}))).replace(/[rR][eE][fF][\s]*[(].*[)]/g,(function(e){return e.wq_replaceAll("(","!_!").wq_replaceAll(")","_!_")}))).replace(/[\s]+[nN][oO][tT][\s]*[lL][iI][kK][eE][\s]+/g,"#LIKE#")).replace(/[\s]+[lL][iI][kK][eE][\s]+/g,"$LIKE$")).replace(/[rR][oO][wW][sS][tT][aA][tT][uU][sS][\s]*[(][\s]*[)]/g,"@rowStatus")))).wq_replaceAll("!_!","(").wq_replaceAll("_!_",")")).wq_replaceAll("#LIKE#"," NOTLIKE ")).wq_replaceAll("$LIKE$"," LIKE ")).replace(/[\s]*[=][=][\s]*/g,",operator:'E', key:")).replace(/[\s]*[!][=][\s]*/g,",operator:'IE', key:")).replace(/[\s]*[>][=][\s]*/g,",operator:'GTE', key:")).replace(/[\s]*[<][=][\s]*/g,",operator:'LTE', key:")).replace(/[\s]*[>][\s]*/g,",operator:'GT', key:")).replace(/[\s]*[<][\s]*/g,",operator:'LT', key:")).replace(/[\s]+[nN][oO][tT][\s]*[lL][iI][kK][eE][\s]+/g,",operator:'NOTLIKE', key:")).replace(/[\s]+[lL][iI][kK][eE][\s]+/g,",operator:'LIKE', key:")).replace(/[cC][oO][lL][\s]*[(]/g,",colID:_this.getColumnID(")).replace(/[rR][oO][wW][sS][tT][aA][tT][uU][sS][\s]*[(][\s]*[)]/g,",colID:'@rowStatus'")).replace(/[\s]*[&][&][\s]*/g," });_this.executeLinkedFilter({condition:'and'")).replace(/[\s]*[|][|][\s]*/g," });_this.executeLinkedFilter({condition:'or'")).replace(/[vV][aA][lL][\s]*[(]/g,"_this.getComponentValue(")).replace(/[rR][eE][fF][\s]*[(]/g,"_this.getRefValue(")),t=t+e+"});"}try{new Function("_this",t)(this),this.parent.conditionInfo.filterInfo.parse=!0,this.parent.conditionInfo.filterInfo.condition=t}catch(f){try{this.deprecatedEvaluateFilterCondition(r)}catch(g){this.parent.conditionInfo.filterInfo.parse=!1,$l(" filter error "),this.parent.broadcast({gridView:["notifySettedFilter",[{isSort:!1}]]})}}}catch(m){u.Y.printStackTrace(m,null,this)}},ge.prototype.deprecatedEvaluateFilterCondition=function(e){function t(e,t){e[e.length]=t}function r(e){var t=e[e.length-1];return delete e[e.length-1],e.length--,t}function i(e){return!a(e)&&"("!=e&&")"!=e}function a(e){return"&"===e||"|"===e}function n(e){return e[e.length-1]}function o(e){return 0==e.length}function s(e){return"|"==e?4:"&"==e?3:"("==e?2:")"==e?1:void 0}var l="_this.executeLinkedFilter{ 'and', _this.colArr['";""!=e&&(e=function(e){for(var a=new Array,n="",o=0;o<e.length;o++)if(i(e[o]))t(a,e[o]);else{var s=r(a),l="&"===e[o]?"&&":"|"===e[o]?"||":e[o];n+=""==n?r(a)+l+s:l+s}return""===n?r(a):n}(function(e,l,u){l=new Array;var c=new Array,d=0;e=function(e){for(var t=e.split(""),r=new String(""),n=new Array,o=0,s=0;s<t.length;s++)i(t[s])&&(r+=t[s]),(a(t[s])||")"==t[s]||"("==t[s])&&(""!=r&&(n[o]=r,o++),r="",n[o]=t[s],o++),s==t.length-1&&""!=r&&(n[o]=r);return n}(e);for(var p=0;p<e.length;p++){if(i(e[p])&&(l[d]=e[p],d++),a(e[p])){if("^"!=e[p])for(;!o(c)&&s(e[p])<=s(n(c));)l[d]=n(c),r(c),d++;else for(;!o(c)&&s(e[p])<s(n(c));)l[d]=n(c),r(c),d++;t(c,e[p])}if("("==e[p]&&t(c,e[p]),")"==e[p]){
for(;"("!=n(c);)l[d]=r(c),d++;r(c)}}for(;!o(c);)"("==n(c)?r(c):l[l.length]=r(c);var h="";for(p=0;p<l.length;p++)h+=l[p];return 0==u?h:l}(e=(e=(e=(e=(e=(e=(e=(e=e.trim()).replace(/[\s]*[&][&][\s]*/g,"&")).replace(/[\s]*[|][|][\s]*/g,"|")).replace(/[vV][aA][lL][\s]*[(].*[)]/g,(function(e){return e.wq_replaceAll("(","!_!").wq_replaceAll(")","_!_")}))).replace(/[rR][eE][fF][\s]*[(].*[)]/g,(function(e){return e.wq_replaceAll("(","!_!").wq_replaceAll(")","_!_")}))).replace(/[\s]+[nN][oO][tT][\s]*[lL][iI][kK][eE][\s]+/g,"#LIKE#")).replace(/[\s]+[lL][iI][kK][eE][\s]+/g,"$LIKE$")).replace(/[rR][oO][wW][sS][tT][aA][tT][uU][sS][\s]*[(][\s]*[)]/g,"@rowStatus"))),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.wq_replaceAll("!_!","(").wq_replaceAll("_!_",")")).wq_replaceAll("#LIKE#"," NOTLIKE ")).wq_replaceAll("$LIKE$"," LIKE ")).replace(/[vV][aA][lL][\s]*[(]/g,"_this.getComponentValue{")).replace(/[rR][eE][fF][\s]*[(]/g,"_this.getRefValue{")).replace(/[\s]*[=][=][\s]*/g,"'], 'E', ")).replace(/[\s]*[!][=][\s]*/g,"'], 'IE', ")).replace(/[\s]*[>][=][\s]*/g,"'], 'GTE', ")).replace(/[\s]*[<][=][\s]*/g,"'], 'LTE', ")).replace(/[\s]*[>][\s]*/g,"'], 'GT', ")).replace(/[\s]*[<][\s]*/g,"'], 'LT', ")).replace(/[\s]+[lL][iI][kK][eE][\s]+/g,"'], 'LIKE', ")).replace(/[\s]+[nN][oO][tT][\s]*[lL][iI][kK][eE][\s]+/g,"'], 'NOTLIKE', ")).replace(/[\s]*[&][&][\s]*/g,"); _this.executeLinkedFilter{ 'and', _this.colArr['")).replace(/[\s]*[|][|][\s]*/g,"); _this.executeLinkedFilter{ 'or', _this.colArr['"));var u=(l=(l=(l=l+e+");").replace(/[\s]*[(][\s]*/g,"")).wq_replaceAll("_this.colArr['@rowStatus']","'@rowStatus'")).split(";");l="";for(var c=0;c<u.length;c++)if(""!=u[c]){u[c]=u[c].replace(/[{][\s]*/g,"(");var d=u[c].match(/[(]/g).length;if(d<=u[c].match(/[)]/g).length){u[c]=u[c].replace(/[)][\s]*/g,"");for(var p=0;p<d;p++)u[c]=p==d-1?u[c]+");":u[c]+")"}l+=u[c]}new Function("_this",l)(this),this.parent.conditionInfo.filterInfo.parse=!0,this.parent.conditionInfo.filterInfo.condition=l},ge.prototype.executeLinkedFilter=function(e){try{var t,r,i,a;arguments.length>1?(a=arguments[0],r=arguments[1],i=arguments[2],t=arguments[3]):(a=e.condition,r=e.colID,i=e.operator,t=e.key);var n={type:"row"};switch(n.colIndex=r,n.condition=a,i){case"GT":n.operator=">";break;case"GTE":n.operator=">=";break;case"LT":n.operator="<";break;case"LTE":n.operator="<=";break;case"E":n.operator="==";break;case"IE":n.operator="!=";break;case"LIKE":n.operator="LIKE";break;case"NOTLIKE":n.operator="NOTLIKE"}"*"===t||t===WebSquare.allValue?n.key="":(n.key=t||"",n.exactMatch=!0),this.parent.conditionInfo.keyArray.push(n.key),this.parent.conditionInfo.columnArray.push(n.colIndex),this.parent.setFilter(n)}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.evaluateSortCondition=function(e){try{if("string"!=typeof e||""==e.trim())return;var t;this.parent.conditionInfo.sortInfo.parse?t=this.parent.conditionInfo.sortInfo.condition:(t="_this.executeLinkedSort([",""!=e&&(e=(e=(e=(e=(e=(e=e.trim()).replace(/[aA][sS][cC][\s]*[(]/g,"{ order: 1, columns: ")).replace(/[dD][eE][sS][cC][\s]*[(]/g,"{ order: -1, columns: ")).replace(/[)]/g,"")).replace("&&","}, ")).replace("||","}, ")),t=t+e+"}]);");try{new Function("_this",t)(this),this.parent.conditionInfo.sortInfo.parse=!0,this.parent.conditionInfo.sortInfo.condition=t}catch(e){this.parent.conditionInfo.sortInfo.parse=!1,$l(" sort error ")}}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.executeLinkedSort=function(e){try{for(var t={sortIndex:[],sortOrder:[]},r=0;r<e.length;r++)for(var i=e[r],a=i.columns.split(","),n=0;n<a.length;n++)t.sortIndex.push(a[n].trim()),t.sortOrder.push(i.order);t.sortIndex.length>0&&this.parent.multisort(t)}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.getRefValue=function(e){try{var t=(e=e.replace("data:","")).split("."),r=f.Z.getComponentById(t[0],this.parent.scope_id);if(r)switch(this.parent.conditionInfo.targetInfo[t[0]]||(this.parent.conditionInfo.targetInfo[t[0]]=[]),
this.parent.conditionInfo.targetInfo[t[0]].push(t[1]),r.addRefComp(this.parent),this.parent.conditionInfo.filterInfo.useRef=!0,r.initializeType){case"linkedDataList":case"dataList":return r.getCellData(r.getRowPosition(),t[1])||"";case"dataMap":return r.get(t[1])}else{var i=t[0];this.parent.scope_obj&&(this.parent.scope_obj.scope[i]?i=this.parent.scope_obj.scope[i].id:WebSquare.strictMode&&(i=this.parent.scope_id+"_"+i)),WebSquare.DataCollection.api.addRefRelation(this.parent.id,i)}}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.getComponentValue=function(e){try{var t=f.Z.getComponentById(e,this.parent.scope_id);if(t)return this.parent.conditionInfo.targetInfo[e]=!0,this.parent.conditionInfo.filterInfo.checkVal=!0,t.dataObjInfo[this.parent.id]=this.parent,t.getValue();this.parent.conditionInfo.filterInfo.checkVal=!1}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.getColumnID=function(e){try{return e}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.getKey=function(e){try{return e}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.useFilter=function(){return 0!=this.filterArr.length},ge.prototype.clear=function(){this.filterArr=[]},ge.prototype.executeAllFilter=function(){for(var e=0;e<this.filterArr.length;e++)this.executeFilter(this.filterArr[e])},ge.prototype.restartFilter=function(){this.parent.initialRowIndexArr=this.parent._dataList.filteredRowIndexArr.slice(0),this.parent.filteredRowIndexArr=this.parent._dataList.filteredRowIndexArr.slice(0);for(var e=0;e<this.parent.initialFilterList.length;e++)this.executeFilter(this.parent.initialFilterList[e]),this.deleteFilterById(this.parent.initialFilterList[e].id,!1);this.parent.initialRowIndexArr=this.parent.filteredRowIndexArr.slice(0);for(e=0;e<this.filterArr.length;e++)this.executeFilter(this.filterArr[e]);this.filterArr=this.parent.initialFilterList.concat(this.filterArr)},ge.prototype.executeFilter=function(e){try{var t=!1;if(">"!=e.options.operator&&">="!=e.options.operator&&"<"!=e.options.operator&&"<="!=e.options.operator&&"!="!=e.options.operator&&"LIKE"!=e.options.operator&&"NOTLIKE"!=e.options.operator||(t=!0),"and"==e.options.condition)this.parent.filteredRowIndexArr=t?e.executeCondition(this.parent.uuid,"and"):e.execute(this.parent.uuid,"and");else if("or"==e.options.condition){var r=t?e.executeCondition(this.parent.uuid,"or"):e.execute(this.parent.uuid,"or");this.parent.filteredRowIndexArr=this.mergeArray(this.parent.filteredRowIndexArr,r)}}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.addFilter=function(e,t){try{if(t.sortIndexArr){for(var r=[],i=0;i<t.sortIdArr.length;i++)r.push(this.parent._dataList.getColumnIndex(t.sortIdArr[i]));t.sortIndexArr=r}var a=null;"row"==t.type?a=new WebSquare.DataCollection.linkedDataList.filter.linkedRowFilter(e,t):"user"==t.type?a=new WebSquare.DataCollection.linkedDataList.filter.linkedUserFilter(e,t):"cell"==t.type?a=new WebSquare.DataCollection.linkedDataList.filter.linkedCellFilter(e,t):"sort"==t.type?(a=new WebSquare.DataCollection.linkedDataList.filter.linkedSortFilter(e,t),this.deleteFilterById("sort^@",!1)):"func"==t.type?a=new WebSquare.DataCollection.linkedDataList.filter.linkedFuncFilter(e,t):"regExp"==t.type&&(a=new WebSquare.DataCollection.linkedDataList.filter.linkedRegExpFilter(e,t)),this.executeFilter(a),this.filterArr.push(a)}catch(e){u.Y.printStackTrace(e,null,this)}},ge.prototype.deleteFilter=function(e,t,r){void 0===r&&(r=!0);for(var i=[],a=0;a<this.filterArr.length;a++)-1==this.filterArr[a].id.indexOf(e)&&i.push(this.filterArr[a]);if(this.filterArr=i,this.parent.filteredRowIndexArr=this.parent.initialRowIndexArr.slice(0),1==r)for(a=0;a<this.filterArr.length;a++)this.executeFilter(this.filterArr[a])},ge.prototype.mergeArray=function(e,t){for(var r=[],i=[],a=0;a<e.length;a++)r[e[a]]=1;for(a=0;a<t.length;a++)r[t[a]]=1;for(a=0;a<r.length;a++)1===r[a]&&i.push(a);return i},ge.prototype.deleteFilterById=function(e,t){void 0===t&&(t=!0)
;for(var r=[],i=0;i<this.filterArr.length;i++)-1==this.filterArr[i].id.indexOf(e)&&r.push(this.filterArr[i]);this.filterArr=r},ge.prototype.replacechar=function(e){return"^"==e||"$"==e||"."==e||"["==e||"]"==e||"{"==e||"}"==e||"+"==e||"("==e||")"==e||"|"==e||"\\"==e?"\\"+e:void 0};var me={linkedRowFilter:function(e,t){this.id=e,this.options=o.q.extend({colIndex:-1,key:"",condition:"and",exactMatch:!1},t||{})}};me.linkedRowFilter.prototype.execute=function(e,t){for(var r=[],i=WebSquare.idCache[e],a=i._dataList.getColumnIndex(this.options.colIndex),n=i._dataList.cellIdList.length,o="and"===t?i.filteredRowIndexArr:i.initialRowIndexArr,s=0;s<o.length;s++){var l=o[s],u="@rowStatus"==this.options.colIndex?i._dataList.rowStatusArr[l]:i._dataList.dataArr[l*n+a];null==u&&(u=""),this.options.exactMatch?u==this.options.key&&r.push(l):u.indexOf(this.options.key)>-1&&r.push(l)}return r},me.linkedRowFilter.prototype.executeCondition=function(e,t){for(var r=[],i=WebSquare.idCache[e],a=i._dataList.getColumnIndex(this.options.colIndex),n=i._dataList.cellIdList.length,o="and"===t?i.filteredRowIndexArr:i.initialRowIndexArr,s=0;s<o.length;s++){var l,u,c=o[s];if("number"==this.options.columnDataType){var d=i._dataList.dataArr[c*n+a];1==this.options.numberExtraction&&(d=(d+="").replace(/[^\+\-\.0-9]/g,"")),l=parseFloat(d,10)||0,u=parseFloat(this.options.key)}else l="@rowStatus"==this.options.colIndex?i._dataList.rowStatusArr[c]:i._dataList.dataArr[c*n+a],u=this.options.key;">"==this.options.operator?l>u&&r.push(c):">="==this.options.operator?l>=u&&r.push(c):"<"==this.options.operator?l<u&&r.push(c):"<="==this.options.operator?l<=u&&r.push(c):"!="==this.options.operator?l!=u&&r.push(c):"LIKE"==this.options.operator?null!=l.match("^(?:"+u.wq_replaceAll("_",".").wq_replaceAll("%",".*")+"$)")&&r.push(c):"NOTLIKE"==this.options.operator&&null==l.match("^(?:"+u.wq_replaceAll("_",".").wq_replaceAll("%",".*")+"$)")&&r.push(c)}return r},me.linkedUserFilter=function(e,t){this.id=e,this.options=o.q.extend({key:"",condition:"and"},t||{})},me.linkedUserFilter.prototype.getColumnData=function(e,t,r){var i=WebSquare.idCache[e],a=(r=i._dataList.getColumnIndex(r),i._dataList.cellIdList.length);return i._dataList.dataArr[t*a+r]},me.linkedUserFilter.prototype.execute=function(e,t){for(var r=this.options.key.replace(/col[\s]*\(/g,"_this.getColumnData(uuid, realRow, "),i=WebSquare.idCache[e],a="and"===t?i.filteredRowIndexArr:i.initialRowIndexArr,n=[],o=0;o<a.length;o++){var s=a[o];new Function("_this","uuid","realRow","return "+r)(this,e,s)&&n.push(s)}return n},me.linkedCellFilter=function(e,t){this.id=e,this.options=o.q.extend({key:""},t||{})},me.linkedCellFilter.prototype.execute=function(e,t){for(var r=[],i=WebSquare.idCache[e],a="and"===t?i.filteredRowIndexArr:i.initialRowIndexArr,n=i._dataList.oneRowDataLength,o=0;o<a.length;o++)for(var s=a[o],l=0;l<n;l++){var u=i._dataList._getData(s,l);null==u&&(u=""),u.indexOf(this.options.key)>-1&&r.push(s)}return r},me.linkedSortFilter=function(e,t){this.id=e,this.options=o.q.extend({colIndex:"",sortIndex:"",sortOrder:"",dataType:"",sortIndexArr:[],sortOrderArr:[],dataTypeArr:[],sortFuncArr:[],sortIdArr:[]},t||{})},me.linkedSortFilter.prototype.execute=function(e,t){for(var r=WebSquare.idCache[e],i="and"===t?r.filteredRowIndexArr:r.initialRowIndexArr,a=r._dataList.oneRowDataLength,n=i.slice(0).sort((function(e,t){return e-t})),o=this.options,s=r._dataList.dataArr,l=[],u=0;u<n.length;u++)l[u]=n[u]*a;var c=[];for(u=0;u<o.sortIndexArr.length;u++)if(c[u]={},o.sortFuncArr[u])for(var d=0;d<l.length;d++)c[u][n[d]]=s[l[d]+o.sortIndexArr[u]];else if("number"==o.dataTypeArr[u])for(d=0;d<l.length;d++){var p=s[l[d]+o.sortIndexArr[u]];1==o.numberExtractionValueArr[u]&&(p=(p+="").replace(/[^\+\-\.0-9]/g,"")),c[u][n[d]]=Number(p)}else for(d=0;d<l.length;d++)c[u][n[d]]=s[l[d]+o.sortIndexArr[u]]||"";if(1==c.length)if(o.sortFuncArr[0]){var h=o.sortFuncArr[0];g=c[0];n.sort((function(e,t){return h(g[e],g[t])}))}else{var f=o.sortOrderArr[0],g=c[0]
;n.sort((function(e,t){return g[e]==g[t]?0:g[e]>g[t]?f:-f}))}else n.sort((function(e,t){for(var r=0;r<c.length;r++){var i;if(0!=(i=o.sortFuncArr[r]?o.sortFuncArr[r](c[r][e],c[r][t]):c[r][e]==c[r][t]?0:c[r][e]<c[r][t]?-o.sortOrderArr[r]:o.sortOrderArr[r]))return i}return 0}));return n},me.linkedFuncFilter=function(e,t){this.id=e,this.options=o.q.extend({colIndex:-1,key:"",condition:"and"},t||{})},me.linkedFuncFilter.prototype.execute=function(e,t){if("function"!=typeof this.options.key)throw new Error("This key is not a Function.[key:"+this.options.key+"]");for(var r=[],i=WebSquare.idCache[e],a="and"===t?i.filteredRowIndexArr:i.initialRowIndexArr,n=0;n<a.length;n++){var o=a[n];this.options.key(i._dataList._getData(o,this.options.colIndex),this.options.param,o)&&r.push(o)}return r},me.linkedRegExpFilter=function(e,t){this.id=e,this.options=o.q.extend({colIndex:-1,key:"",condition:"and"},t||{}),this.regExp=this.options.key},me.linkedRegExpFilter.prototype.execute=function(e,t){if(!f.Z.isRegExp(this.regExp))throw new Error("This key is not a regular expression.[key:"+this.regExp+"]");for(var r=[],i=WebSquare.idCache[e],a="and"===t?i.filteredRowIndexArr:i.initialRowIndexArr,n=0;n<a.length;n++){var o=a[n];(i._dataList._getData(o,this.options.colIndex)+"").match(this.regExp)&&r.push(o)}return r};var be=function(e,t,r,i,a){try{this.initialize(e,t,r,i,a)}catch(e){u.Y.printStackTrace(e,null,this)}};o.q.extend(be.prototype,fe.prototype),be.filter=me,be.linkedFilterController=ge,be.prototype.defaultOptions={useConfig:!0,pluginType:"DataCollection.linkedDataList",pluginName:"linkedDataList",baseNode:"list",repeatNode:"map",valueAttribute:"",idAttribute:"",rowStatusNodeName:"rowStatus",JSONPath:""},be.prototype.initialize=function(e,t,r,i,a){try{if(this.elementType=r.elementType?r.elementType:"XML",this.initializeType="linkedDataList",this.id=e,this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.element=r,this.options=this.getConfiguredOptions(),this._broadCastFlag=!0,r)switch(this.elementType){case"XML":this.options=o.q.extendKeepingType(this.options,WebSquare.WebSquareparser.parseAttribute(r)),"linkedDataList"==this.initializeType&&(this.options.xmlEvents=WebSquare.Parser.parseEvent(r));break;case"JSON":this.options=o.q.extendKeepingType(this.options,r.option),this.options.id=r.id}var n;if(t&&(this.options=o.q.extendKeepingType(this.options,t)),this.id||(this.id=this.options.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope?n=WebSquare.idCache[a]:WebSquare.strictModeFrame&&(n=WebSquare.strictModeFrame),n){var s=this.id,d=n.id;e=(d?d+"_":"")+this.id;this.id=e,this.org_id=s,this.scope_obj=n,this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id}if(this.options.id=this.id,r){var p="linkedDataList",h=WebSquare.componentsCache,f=h[p];f||(f=h[p]={}),f[this.uuid]=!0}if(this.id){if(null!=window[WebSquare.noConflict].data[this.id]||null!=window[WebSquare.noConflict].comp[this.id]){c.v.printLog("id ["+this.id+"] is duplicated, so the existing linkedDataList has been deleted, and a new one has been created.");var g=WebSquare.DataCollection.stopBroadCast;try{WebSquare.DataCollection.stopBroadCast=!0,WebSquare.DataCollection.api.remove(this.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope&&(this.scope_obj=WebSquare.idCache[a],this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id),WebSquare.DataCollection.stopBroadCast=g}catch(e){g=WebSquare.DataCollection.stopBroadCast}}}else this.options.id=this.id=this.uuid;WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid,"false"!=l.I.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()&&(window[this.id]=this),window[WebSquare.noConflict].data[this.id]=this,this.event=new G.i,this.initializeLinkedDataList(r),this.bindAsEventList=[],this.bindAsUserEventList=[],this.userEventList=[],this.systemEventList={},null!=a&&WebSquare.idCache[a]&&(this.parentFrame=a,WebSquare.idCache[a].childAllControlList.push(this.uuid))
}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.initializeLinkedDataList=function(e){try{if(this.element=e,"$none"==this.options.valueAttribute.wq_trim()&&(this.options.valueAttribute=""),this.options.valueNode=this.options.valueAttribute,this.initialRowIndexArr=[],this.initialFilterList=[],this.filteredRowIndexArr=[],this.filteredRowIndexMap={},this.childCompHash={},this.refCompHash={},this.activated=!1,this.conditionInfo={targetInfo:{},sortInfo:{parse:!1,set:!1},filterInfo:{parse:!1,set:!1,useRef:!1,checkVal:!0}},"XML"==this.elementType)for(var t=WebSquare.xml.getElementsByTagName(e,"condition",l.I._XML_NAMESPACE.W2),r=0;r<t.length;r++){var i=t[r];switch(i.getAttribute("type")){case"sort":this.conditionInfo.sortInfo.set||(this.conditionInfo.sortInfo.set=!0,this.conditionInfo.sortInfo.condition=WebSquare.xml.getCDataNodeValue(i),this.conditionInfo.sortInfo.orgCondition=this.conditionInfo.sortInfo.condition);break;case"filter":this.conditionInfo.filterInfo.set||(this.conditionInfo.filterInfo.set=!0,this.conditionInfo.filterInfo.condition=WebSquare.xml.getCDataNodeValue(i),this.conditionInfo.filterInfo.orgCondition=this.conditionInfo.filterInfo.condition)}}else this.conditionInfo.sortInfo.set=!0,this.conditionInfo.filterInfo.set=!0,this.conditionInfo.sortInfo.condition=this.element.option.sortCondition,this.conditionInfo.filterInfo.condition=this.element.option.filterCondition,this.conditionInfo.sortInfo.orgCondition=this.conditionInfo.sortInfo.condition,this.conditionInfo.filterInfo.orgCondition=this.conditionInfo.filterInfo.condition;var a=this.options.bind;a=a.replace(/^data:/,""),this.scope_obj&&(this.scope_obj.scope[a]?a=this.scope_obj.scope[a].id:WebSquare.strictMode&&(a=this.scope_id+"_"+a)),this._dataList=f.Z.getComponentById(a),this._dataList&&WebSquare.DataCollection.api.isAliasDataCollection(this._dataList)&&(this._dataList=this._dataList.getObj()),WebSquare.DataCollection.api.addChild(this),WebSquare.DataCollection.api.addRelation(this.id,a),this._dataList?this.successBinding||(this.successBinding=!0,this.parent=this._dataList,this.columnPosition=null,this.rowPosition=null,this.oneRowDataLength=this._dataList.oneRowDataLength,this.bodyIdColIndexMap=this._dataList.bodyIdColIndexMap,this.cellInfoHash=this._dataList.cellInfoHash,this.cellIdList=this._dataList.cellIdList,this.structure=this._dataList.structure,this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0),this._dataList.addChild(this),this.filterManager=new WebSquare.DataCollection.linkedDataList.linkedFilterController(this),this.synchronize(),WebSquare.DataCollection.activated&&this.activate()):($l(this.id+" has been ignored because dataList is null. "),this.successBinding=!1,this._dataList={})}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.finalize=function(){try{this.activated=!1}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.activate=function(){try{if(!this.activated){for(var e in this.refresh(),this.options)if("ev:"==e.slice(0,3))for(var t=this.options[e].split(","),r=0;r<t.length;r++)this.bind(e.slice(3),t[r]);this.options.eventPause&&this.setEventPause(this.options.eventPause,!0)}this.activated=!0}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.setDataList=function(){try{if(!this.successBinding){var e=this.options.bind;e=e.replace(/^data:/,""),this.scope_obj&&(this.scope_obj.scope[e]?e=this.scope_obj.scope[e].id:WebSquare.strictMode&&(e=this.scope_id+"_"+e)),this._dataList=f.Z.getComponentById(e),this._dataList&&WebSquare.DataCollection.api.isAliasDataCollection(this._dataList)&&(this._dataList=this._dataList.getObj()),this._dataList?(this.successBinding=!0,this.parent=this._dataList,this.columnPosition=null,this.rowPosition=null,this.oneRowDataLength=this._dataList.oneRowDataLength,this.bodyIdColIndexMap=this._dataList.bodyIdColIndexMap,this.cellInfoHash=this._dataList.cellInfoHash,this.cellIdList=this._dataList.cellIdList,this.structure=this._dataList.structure,
this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0),this._dataList.addChild(this),this.filterManager=new WebSquare.DataCollection.linkedDataList.linkedFilterController(this),this.synchronize(),WebSquare.DataCollection.activated&&(this.refresh(),!0===this.conditionInfo.filterInfo.checkVal&&(this.activated=!0))):($l(this.id+" has been ignored because dataList is null. "),this.successBinding=!1,this._dataList={})}}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.addEvent=function(e,t,r){try{if(!t)return;var i={name:e,action:r=r||"script",param:{handler:t}};this.options.xmlEvents||(this.options.xmlEvents=[]),this.options.xmlEvents.push(i),this.event.addUserEvents(this,[i],this.options.userEvents)}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.bind=function(e,t){try{"string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e),"string"===e&&(e=e.toLowerCase()),this.addEvent(e,t)}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.trigger=function(e,t){try{"string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e);var r=!1;if(null!=this.options.userEvents)for(var i=0;i<this.options.userEvents.length;i++)if(this.options.userEvents[i]===e){r=!0;break}if(!r&&M.f.isEventSupported(this.render,e))t&&t.constructor==Array?M.f.fireSystemEvent(this,e,t[0]):M.f.fireSystemEvent(this,e);else{var a=[this,e];a=a.concat(t),M.f.fireEvent.apply(M.f.fireEvent,a),a[0]=null}}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.unbind=function(e,t){try{if("string"==typeof e&&"on"!=e.slice(0,2)&&(e="on"+e),"string"==typeof e&&"function"==typeof t)for(var r=0;r<this.userEventList.length;r++)e===this.userEventList[r].name&&t===this.userEventList[r].param.handler&&(this.userEventList.splice(r,1),"object"==typeof this.systemEventList[e]&&(this.systemEventList[e].count--,this.systemEventList[e].count<=0&&(this.event.removeListener(this.render,e,this.systemEventList[e].handler),delete this.systemEventList[e])));else if("string"==typeof e&&null==t){for(r=this.userEventList.length-1;r>=0;r--)e===this.userEventList[r].name&&this.userEventList.splice(r,1);"object"==typeof this.systemEventList[e]&&(this.event.removeListener(this.render,e,this.systemEventList[e].handler),delete this.systemEventList[e])}else{for(var i in this.systemEventList)this.event.removeListener(this.render,i,this.systemEventList[i].handler);this.userEventList=[],this.systemEventList={}}this.options.xmlEvents=this.userEventList.slice()}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.onComplete=function(){this.completed?$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id):this.completed=!0},be.prototype.setEventPause=function(e,t){var r={},i=!1;if("string"==typeof e&&""!=e)for(var a=e.split(","),n=0;n<a.length;n++)a[n]&&(r[a[n]]=!0);else i=!0;for(n=this.userEventList.length-1;n>=0;n--)(i||r[this.userEventList[n].name])&&(this.userEventList[n].disabled=t)},be.prototype.getScope=function(){try{var e=null;return null!=this.scope_obj&&this.scope_obj.options&&(e=this.scope_obj),e}catch(e){u.Y.printStackTrace(e,null,this)}},be.prototype.getScopeWindow=function(){try{return null!=this.scope_obj&&this.scope_obj.options?this.scope_obj.scope:window}catch(e){u.Y.printStackTrace(e,null,this)}};var ye=function(e,t,r,i,a){try{this.initialize(e,t,r,i,a)}catch(e){u.Y.printStackTrace(e,null,this)}};ye.prototype.defaultOptions={pluginType:"DataCollection.aliasDataList",pluginName:"aliasDataList",scope:""},ye._initImport=function(){WebSquare.DataCollection.aliasDataList.linkFunction()},o.q._initImportList.push("DataCollection.aliasDataList"),ye.prototype.initialize=function(e,t,r,i,a){try{var n;if(this.id=e,this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.options=o.q.extend({},this.defaultOptions),r&&(l.I.isXML(r)?this.options=o.q.extendKeepingType(this.options,WebSquare.WebSquareparser.parseAttribute(r)):r.option&&(this.options=o.q.extendKeepingType(this.options,r.option),this.options.id=r.id)),t&&(this.options=o.q.extendKeepingType(this.options,t)),
this.id||(this.id=this.options.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope?n=WebSquare.idCache[a]:WebSquare.strictModeFrame&&(n=WebSquare.strictModeFrame),n){var s=this.id,d=n.id;e=(d?d+"_":"")+this.id;this.id=e,this.org_id=s,this.scope_obj=n,this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id}if(this.options.id=this.id,r){var p="aliasDataList",h=WebSquare.componentsCache,f=h[p];f||(f=h[p]={}),f[this.uuid]=!0}if(this.id){if(null!=window[WebSquare.noConflict].data[this.id]||null!=window[WebSquare.noConflict].comp[this.id]){var g=WebSquare.language.getMessage("E_dc_duplicated_Msg",this.id,"aliasDataList")||"id ["+this.id+"] is duplicated, so the existing aliasDataList has been deleted, and a new one has been created.";c.v.printLog(g),alert(g);var m=WebSquare.DataCollection.stopBroadCast;try{WebSquare.DataCollection.stopBroadCast=!0,WebSquare.DataCollection.api.remove(this.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope&&(this.scope_obj=WebSquare.idCache[a],this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id),WebSquare.DataCollection.stopBroadCast=m}catch(e){m=WebSquare.DataCollection.stopBroadCast}}}else this.options.id=this.id=this.uuid;WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid,window[WebSquare.noConflict].data[this.id]=this,"false"!=l.I.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()&&(window[this.id]=this),this.childCompHash={},this.refCompHash={},this.initializeType="dataList",WebSquare.DataCollection.api.addChild(this),this._empty=new WebSquare.DataCollection.dataList(this.id+"??emptyDataList",{},{elementType:"JSON",option:{_empty:!0}},"dataList"),this.refresh(),null!=a&&WebSquare.idCache[a]&&(this.parentFrame=a,WebSquare.idCache[a].childAllControlList.push(this.uuid))}catch(e){u.Y.printStackTrace(e,null,this)}},ye.prototype.refresh=function(e){try{var t=this.options.scope?f.Z.getComponentByPath(this.options.scope,this.scope_id):null;this._dataComp=t||this._empty,this.synchronize(e),this.synchronizeRef(e)}catch(e){u.Y.printStackTrace(e,null,this)}},ye.prototype.getObj=function(){try{return this._dataComp}catch(e){u.Y.printStackTrace(e,null,this)}},ye.prototype.setScope=function(e){try{if("string"==typeof e&&e&&"dataList"===f.Z.getComponentByPath(e,this.scope_id).initializeType){for(var t in this.childCompHash){delete this._dataComp.childCompHash[t],(r=WebSquare.idCache[WebSquare.idToUUID[t]])&&r.modelControl&&(r.modelControl.unbindItemset(),r.modelControl.unbindRef())}for(var t in this.refCompHash){var r;delete this._dataComp.refCompHash[t],(r=WebSquare.idCache[WebSquare.idToUUID[t]])&&r.modelControl&&(r.modelControl.unbindItemset(),r.modelControl.unbindRef())}this.options.scope=e,this.refresh({reset:!0})}}catch(e){u.Y.printStackTrace(e,null,this)}},ye.prototype.synchronize=function(e){try{void 0!==e&&null!=e||(e={});var t=WebSquare.DataCollection.parentToChildRelation[this.id];if(t)for(var r in t)if(t[r]){this.childCompHash[r]=WebSquare.idToUUID[r];var i=WebSquare.idCache[WebSquare.idToUUID[r]];this._dataComp.childCompHash[r]=i,!0===e.reset&&i&&i.modelControl&&(i.modelControl.dataCollectionBinding(i.modelControl.ref),i.modelControl.isDataCollectionItemsetBinded=!0)}this.broadcast({gridView:["resetDataList"],linkedDataList:["setDataList"],generalComp:["refreshItemset"]})}catch(e){u.Y.printStackTrace(e)}},ye.prototype.synchronizeRef=function(e){try{void 0!==e&&null!=e||(e={});var t=WebSquare.DataCollection.parentToChildRef[this.id];if(t)for(var r in t){if(t[r]){this.refCompHash[r]=WebSquare.idToUUID[r];var i=WebSquare.idCache[WebSquare.idToUUID[r]];this._dataComp.refCompHash[r]=i}!0===e.reset&&i&&i.modelControl&&i.modelControl.dataCollectionBinding(i.modelControl.ref)}this.broadcast({gridView:["drawData",[0,0]],generalComp:["refresh"]})}catch(e){u.Y.printStackTrace(e)}},ye.prototype._addRelation=function(e){try{var t=WebSquare.idToUUID[e];if(!t||!WebSquare.idCache[t])return;return this.childCompHash[e]=t,
this._dataComp._addRelation.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ye.prototype._addRefRelation=function(e){try{var t=WebSquare.idToUUID[e];if(!t||!WebSquare.idCache[t])return;return this.refCompHash[e]=t,this._dataComp._addRefRelation.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ye.prototype.addChild=function(e){try{return this.childCompHash[e.id]=e.uuid,this._dataComp.addChild.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ye.prototype.removeChild=function(e){try{return delete this.childCompHash[e],this._dataComp.removeChild.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ye.prototype.addRefComp=function(e){try{return this.refCompHash[e.id]=e.uuid,this._dataComp.addRefComp.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ye.prototype.removeRefComp=function(e){try{return delete this.refCompHash[e],this._dataComp.removeRefComp.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ye.prototype.getOption=function(e){try{return this.options[e]}catch(e){u.Y.printStackTrace(e)}},ye.prototype.finalize=function(){try{this.options.scope="",this.refresh(),this.activated=!1,WebSquare.DataCollection.api.remove(this._empty.id)}catch(e){u.Y.printStackTrace(e,null,this)}},ye.prototype.activate=function(){try{this.activated=!0}catch(e){u.Y.printStackTrace(e,null,this)}},ye.prototype.onComplete=function(){this.completed?$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id):this.completed=!0},ye.prototype.setUserData=function(e,t){try{return void 0!==this.defaultOptions[e]?($l("!!!WARNING - ["+e+"] can't define as UserData key!!!"),!1):(this.options[e]=t,!0)}catch(e){u.Y.printStackTrace(e,null,this)}},ye.prototype.getUserData=function(e){try{return void 0!==this.defaultOptions[e]?void $l("!!!WARNING - ["+e+"] is not UserData key!!!"):this.options[e]}catch(e){u.Y.printStackTrace(e,null,this)}},ye.linkFunction=function(){try{for(var e in WebSquare.DataCollection.dataList.prototype)"function"!=typeof WebSquare.DataCollection.dataList.prototype[e]||WebSquare.DataCollection.aliasDataList.prototype[e]||(WebSquare.DataCollection.aliasDataList.prototype[e]=function(e){return function(){var t=this.getObj();return t[e].apply(t,arguments)}}(e))}catch(e){u.Y.printStackTrace(e,null,this)}};var Se=function(e,t,r,i,a){try{this.initialize(e,t,r,i,a)}catch(e){u.Y.printStackTrace(e,null,this)}};Se.prototype.defaultOptions={pluginType:"DataCollection.aliasDataMap",pluginName:"aliasDataMap",scope:""},Se._initImport=function(){WebSquare.DataCollection.aliasDataMap.linkFunction()},o.q._initImportList.push("DataCollection.aliasDataMap"),Se.prototype.initialize=function(e,t,r,i,a){try{var n;if(this.id=e,this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.options=o.q.extend({},this.defaultOptions),r&&(l.I.isXML(r)?this.options=o.q.extendKeepingType(this.options,WebSquare.WebSquareparser.parseAttribute(r)):r.option&&(this.options=o.q.extendKeepingType(this.options,r.option),this.options.id=r.id)),t&&(this.options=o.q.extendKeepingType(this.options,t)),this.id||(this.id=this.options.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope?n=WebSquare.idCache[a]:WebSquare.strictModeFrame&&(n=WebSquare.strictModeFrame),n){var s=this.id,d=n.id;e=(d?d+"_":"")+this.id;this.id=e,this.org_id=s,this.scope_obj=n,this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id}if(this.options.id=this.id,r){var p="aliasDataMap",h=WebSquare.componentsCache,f=h[p];f||(f=h[p]={}),f[this.uuid]=!0}if(this.id){if(null!=window[WebSquare.noConflict].data[this.id]||null!=window[WebSquare.noConflict].comp[this.id]){var g=WebSquare.language.getMessage("E_dc_duplicated_Msg",this.id,"aliasDataMap")||"id ["+this.id+"] is duplicated, so the existing aliasDataMap has been deleted, and a new one has been created.";c.v.printLog(g),alert(g);var m=WebSquare.DataCollection.stopBroadCast;try{WebSquare.DataCollection.stopBroadCast=!0,WebSquare.DataCollection.api.remove(this.id),
WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope&&(this.scope_obj=WebSquare.idCache[a],this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id),WebSquare.DataCollection.stopBroadCast=m}catch(e){m=WebSquare.DataCollection.stopBroadCast}}}else this.options.id=this.id=this.uuid;WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid,window[WebSquare.noConflict].data[this.id]=this,"false"!=l.I.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()&&(window[this.id]=this),this.childCompHash={},this.refCompHash={},this.initializeType="dataMap",WebSquare.DataCollection.api.addChild(this),this._empty=new WebSquare.DataCollection.dataList(this.id+"??emptydataMap",{},{elementType:"JSON",option:{}},"dataMap"),this.refresh(),null!=a&&WebSquare.idCache[a]&&(this.parentFrame=a,WebSquare.idCache[a].childAllControlList.push(this.uuid))}catch(e){u.Y.printStackTrace(e,null,this)}},Se.prototype.refresh=function(e){try{var t=this.options.scope?f.Z.getComponentByPath(this.options.scope,this.scope_id):null;this._dataComp=t||this._empty,this.synchronize(e),this.synchronizeRef(e)}catch(e){u.Y.printStackTrace(e,null,this)}},Se.prototype.getObj=function(){try{return this._dataComp}catch(e){u.Y.printStackTrace(e,null,this)}},Se.prototype.setScope=function(e){try{if("string"==typeof e&&e&&"dataMap"===f.Z.getComponentByPath(e,this.scope_id).initializeType){for(var t in this.childCompHash){delete this._dataComp.childCompHash[t],(r=WebSquare.idCache[WebSquare.idToUUID[t]])&&r.modelControl&&(r.modelControl.unbindItemset(),r.modelControl.unbindRef())}for(var t in this.refCompHash){var r;delete this._dataComp.refCompHash[t],(r=WebSquare.idCache[WebSquare.idToUUID[t]])&&r.modelControl&&(r.modelControl.unbindItemset(),r.modelControl.unbindRef())}this.options.scope=e,this.refresh({reset:!0})}}catch(e){u.Y.printStackTrace(e,null,this)}},Se.prototype.synchronize=function(e){try{void 0!==e&&null!=e||(e={});var t=WebSquare.DataCollection.parentToChildRelation[this.id];if(t)for(var r in t)if(t[r]){this.childCompHash[r]=WebSquare.idToUUID[r];var i=WebSquare.idCache[WebSquare.idToUUID[r]];this._dataComp.childCompHash[r]=i,!0===e.reset&&i&&i.modelControl&&(i.modelControl.dataCollectionBinding(i.modelControl.ref),i.modelControl.isDataCollectionItemsetBinded=!0)}}catch(e){u.Y.printStackTrace(e)}},Se.prototype.synchronizeRef=function(e){try{void 0!==e&&null!=e||(e={});var t=WebSquare.DataCollection.parentToChildRef[this.id];if(t)for(var r in t){if(t[r]){this.refCompHash[r]=WebSquare.idToUUID[r];var i=WebSquare.idCache[WebSquare.idToUUID[r]];this._dataComp.refCompHash[r]=i}!0===e.reset&&i&&i.modelControl&&i.modelControl.dataCollectionBinding(i.modelControl.ref)}this.broadcast({generalComp:["refresh"]})}catch(e){u.Y.printStackTrace(e)}},Se.prototype._addRelation=function(e){try{var t=WebSquare.idToUUID[e];if(!t||!WebSquare.idCache[t])return;return this.childCompHash[e]=t,this._dataComp._addRelation.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},Se.prototype._addRefRelation=function(e){try{var t=WebSquare.idToUUID[e];if(!t||!WebSquare.idCache[t])return;return this.refCompHash[e]=t,this._dataComp._addRefRelation.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},Se.prototype.addChild=function(e){try{return this.childCompHash[e.id]=e.uuid,this._dataComp.addChild.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},Se.prototype.removeChild=function(e){try{return delete this.childCompHash[e],this._dataComp.removeChild.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},Se.prototype.addRefComp=function(e){try{return this.refCompHash[e.id]=e.uuid,this._dataComp.addRefComp.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},Se.prototype.removeRefComp=function(e){try{return delete this.refCompHash[e],this._dataComp.removeRefComp.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},Se.prototype.getOption=function(e){try{return this.options[e]}catch(e){u.Y.printStackTrace(e)}},
Se.prototype.finalize=function(){try{this.options.scope="",this.refresh(),this.activated=!1,WebSquare.DataCollection.api.remove(this._empty.id)}catch(e){u.Y.printStackTrace(e,null,this)}},Se.prototype.activate=function(){try{this.activated=!0}catch(e){u.Y.printStackTrace(e,null,this)}},Se.prototype.onComplete=function(){this.completed?$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id):this.completed=!0},Se.prototype.setUserData=function(e,t){try{return void 0!==this.defaultOptions[e]?($l("!!!WARNING - ["+e+"] can't define as UserData key!!!"),!1):(this.options[e]=t,!0)}catch(e){u.Y.printStackTrace(e,null,this)}},Se.prototype.getUserData=function(e){try{return void 0!==this.defaultOptions[e]?void $l("!!!WARNING - ["+e+"] is not UserData key!!!"):this.options[e]}catch(e){u.Y.printStackTrace(e,null,this)}},Se.linkFunction=function(){try{for(var e in WebSquare.DataCollection.dataMap.prototype)"function"!=typeof WebSquare.DataCollection.dataMap.prototype[e]||WebSquare.DataCollection.aliasDataMap.prototype[e]||(WebSquare.DataCollection.aliasDataMap.prototype[e]=function(e){return function(){var t=this.getObj();return t[e].apply(t,arguments)}}(e))}catch(e){u.Y.printStackTrace(e,null,this)}};var ve=function(e,t,r,i,a){try{this.initialize(e,t,r,i,a)}catch(e){u.Y.printStackTrace(e,null,this)}};ve.prototype.defaultOptions={pluginType:"DataCollection.aliasLinkedDataList",pluginName:"aliasLinkedDataList",scope:""},ve._initImport=function(){WebSquare.DataCollection.aliasLinkedDataList.linkFunction()},o.q._initImportList.push("DataCollection.aliasLinkedDataList"),ve.prototype.initialize=function(e,t,r,i,a){try{var n;if(this.id=e,this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.options=o.q.extend({},this.defaultOptions),r&&(l.I.isXML(r)?this.options=o.q.extendKeepingType(this.options,WebSquare.WebSquareparser.parseAttribute(r)):r.option&&(this.options=o.q.extendKeepingType(this.options,r.option),this.options.id=r.id)),t&&(this.options=o.q.extendKeepingType(this.options,t)),this.id||(this.id=this.options.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope?n=WebSquare.idCache[a]:WebSquare.strictModeFrame&&(n=WebSquare.strictModeFrame),n){var s=this.id,d=n.id;e=(d?d+"_":"")+this.id;this.id=e,this.org_id=s,this.scope_obj=n,this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id}if(this.options.id=this.id,r){var p="aliasLinkedDataList",h=WebSquare.componentsCache,f=h[p];f||(f=h[p]={}),f[this.uuid]=!0}if(this.id){if(null!=window[WebSquare.noConflict].data[this.id]||null!=window[WebSquare.noConflict].comp[this.id]){var g=WebSquare.language.getMessage("E_dc_duplicated_Msg",this.id,"aliasLinkedDataList")||"id ["+this.id+"] is duplicated, so the existing aliasLinkedDataList has been deleted, and a new one has been created.";c.v.printLog(g),alert(g);var m=WebSquare.DataCollection.stopBroadCast;try{WebSquare.DataCollection.stopBroadCast=!0,WebSquare.DataCollection.api.remove(this.id),WebSquare.idCache[a]&&WebSquare.idCache[a].options.scope&&(this.scope_obj=WebSquare.idCache[a],this.scope_obj.scope[this.org_id]=this,this.scope_id=this.scope_obj.id),WebSquare.DataCollection.stopBroadCast=m}catch(e){m=WebSquare.DataCollection.stopBroadCast}}}else this.options.id=this.id=this.uuid;WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid,window[WebSquare.noConflict].data[this.id]=this,"false"!=l.I.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()&&(window[this.id]=this),this.childCompHash={},this.refCompHash={},this.initializeType="linkedDataList",WebSquare.DataCollection.api.addChild(this),this._empty=new WebSquare.DataCollection.dataList(this.id+"??emptyDataList",{},{elementType:"JSON",option:{}},"dataList"),this.refresh(),null!=a&&WebSquare.idCache[a]&&(this.parentFrame=a,WebSquare.idCache[a].childAllControlList.push(this.uuid))}catch(e){u.Y.printStackTrace(e,null,this)}},ve.prototype.refresh=function(e){try{
var t=this.options.scope?f.Z.getComponentByPath(this.options.scope,this.scope_id):null;this._dataComp=t||this._empty,this.synchronize(e)}catch(e){u.Y.printStackTrace(e,null,this)}},ve.prototype.getObj=function(){try{return this._dataComp}catch(e){u.Y.printStackTrace(e,null,this)}},ve.prototype.setScope=function(e){try{if("string"==typeof e&&e&&"linkedDataList"===f.Z.getComponentByPath(e,this.scope_id).initializeType){for(var t in this.childCompHash){delete this._dataComp.childCompHash[t],(r=WebSquare.idCache[WebSquare.idToUUID[t]])&&r.modelControl&&(r.modelControl.unbindItemset(),r.modelControl.unbindRef())}for(var t in this.refCompHash){var r;delete this._dataComp.refCompHash[t],(r=WebSquare.idCache[WebSquare.idToUUID[t]])&&r.modelControl&&(r.modelControl.unbindItemset(),r.modelControl.unbindRef())}this.options.scope=e,this.refresh({reset:!0})}}catch(e){u.Y.printStackTrace(e,null,this)}},ve.prototype.synchronize=function(e){try{void 0!==e&&null!=e||(e={});var t=WebSquare.DataCollection.parentToChildRelation[this.id];if(t)for(var r in t)if(t[r]){this.childCompHash[r]=WebSquare.idToUUID[r];var i=WebSquare.idCache[WebSquare.idToUUID[r]];this._dataComp.childCompHash[r]=i,!0===e.reset&&i&&i.modelControl&&(i.modelControl.dataCollectionBinding(i.modelControl.ref),i.modelControl.isDataCollectionItemsetBinded=!0)}this.broadcast({gridView:["resetDataList"],generalComp:["refreshItemset"]})}catch(e){u.Y.printStackTrace(e)}},ve.prototype._addRelation=function(e){try{var t=WebSquare.idToUUID[e];if(!t||!WebSquare.idCache[t])return;return this.childCompHash[e]=t,this._dataComp._addRelation.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ve.prototype._addRefRelation=function(e){try{var t=WebSquare.idToUUID[e];if(!t||!WebSquare.idCache[t])return;return this.refCompHash[e]=t,this._dataComp._addRefRelation.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ve.prototype.addChild=function(e){try{return this.childCompHash[e.id]=e.uuid,this._dataComp.addChild.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ve.prototype.removeChild=function(e){try{return delete this.childCompHash[e],this._dataComp.removeChild.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ve.prototype.addRefComp=function(e){try{return this.refCompHash[e.id]=e.uuid,this._dataComp.addRefComp.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ve.prototype.removeRefComp=function(e){try{return delete this.refCompHash[e],this._dataComp.removeRefComp.call(this._dataComp,e)}catch(e){u.Y.printStackTrace(e)}},ve.prototype.getOption=function(e){try{return this.options[e]}catch(e){u.Y.printStackTrace(e)}},ve.prototype.finalize=function(){try{this.options.scope="",this.refresh(),this.activated=!1,WebSquare.DataCollection.api.remove(this._empty.id)}catch(e){u.Y.printStackTrace(e,null,this)}},ve.prototype.activate=function(){try{this.activated=!0}catch(e){u.Y.printStackTrace(e,null,this)}},ve.prototype.onComplete=function(){this.completed?$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id):this.completed=!0},ve.prototype.setUserData=function(e,t){try{return void 0!==this.defaultOptions[e]?($l("!!!WARNING - ["+e+"] can't define as UserData key!!!"),!1):(this.options[e]=t,!0)}catch(e){u.Y.printStackTrace(e,null,this)}},ve.prototype.getUserData=function(e){try{return void 0!==this.defaultOptions[e]?void $l("!!!WARNING - ["+e+"] is not UserData key!!!"):this.options[e]}catch(e){u.Y.printStackTrace(e,null,this)}},ve.linkFunction=function(){try{for(var e in WebSquare.DataCollection.linkedDataList.prototype)"function"!=typeof WebSquare.DataCollection.linkedDataList.prototype[e]||WebSquare.DataCollection.aliasLinkedDataList.prototype[e]||(WebSquare.DataCollection.aliasLinkedDataList.prototype[e]=function(e){return function(){var t=this.getObj();return t[e].apply(t,arguments)}}(e))}catch(e){u.Y.printStackTrace(e,null,this)}};var we=function(e,t,r){te.q.call(this,e,t,r)};o.q.extend(we.prototype,te.q.prototype),we.prototype.defaultOptions={
pluginType:"uiplugin.body",pluginName:"body",userEvents:["onpageload","onpageunload","onbeforepageunload"],parseChild:!0,useConfig:!0,toolTipSec:10,toolTipNoEffect:!1,tooltipSec:10,tooltipNoEffect:!1,useExternalClass:!1},we.prototype.initialize=function(e){this.wmodeFrameHash={},this.modal=null,this.toolTipId="",this.toolTip=null,this.toolTipTimer=null,this.tooltipSec=l.I.getConfiguration("/WebSquare/body/toolTipSec/@value")||this.options.tooltipSec||this.options.toolTipSec,this.tooltipNoEffect=this.options.tooltipNoEffect||this.options.toolTipNoEffect,this.forceClose=l.I.getConfiguration("/WebSquare/body/layerForceClose/@value"),this.layerListener=new we.bodyLayerListener,this.modalStack=[],this.browserPopupList=[]},we.prototype.setRender=function(){if(!this.parentControl||"wframe"!=this.parentControl.options.pluginName&&"pageFrame"!=this.parentControl.options.pluginName&&"pageInherit"!=this.parentControl.options.pluginName&&"udc2"!==this.parentControl.options.pluginName){this.render=document.body,this.options.useExternalClass&&this.render.className?this.render.className=(this.render.className+" "+this.options.className).wq_trim():this.render.className=this.options.className,WebSquare.w2xTheme&&this.addClass("w5_"+WebSquare.w2xTheme);for(var e=l.I.getChildConfiguration("/WebSquare/browserSelector",{singleMode:!0}),t=0;t<e.length;t++)"className"==e[t]["@tagName"]&&new RegExp(e[t]["@pattern"]).test(navigator.userAgent)&&this.addClass(e[t]["@value"])}else this.render=this.parentControl.render},we.prototype.setAction=function(){try{null==this.parentControl&&this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,(function(){this._postClickTop()})))}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype._postClick=function(){try{!0===this._bFrameClickSkip?this._bFrameClickSkip=!1:this.layerListener.frameClick();for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var r=e[t],i=l.I._getOrigin(r.getAttribute("src"));i&&r.contentWindow.postMessage({_wq_type:"iframeClicked"},i)}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype._postClickTop=function(){try{if(this._bFrameClickSkip=!0,window.top!==window.self){o.q._allowedOrigin&&window.top.postMessage({_wq_type:"iframeClicked"},o.q._allowedOrigin)}else this._postClick()}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.toHTML=function(){for(var e=[],t=this.getChildren(),r=0;r<t.length;r++)e.push(t[r].toHTML());return e.join("")},we.prototype.parseDomToRender=function(e){if(e)for(var t=e.firstChild;null!=t;t=t.nextSibling)1==t.nodeType&&this.parseDomToRender(t)},we.prototype.showWModeFrame=function(e,t){try{if(!this.render||!t)return;if("menu"==e){if(0==t.childNodes.length)return;var r=t.childNodes,i=r[0].className.split(" ")[0];if(this.wmodeFrameHash[i]=document.getElementById(i+"_wmode_frame"),this.wmodeFrameHash[i]||(this.wmodeFrameHash[i]=document.createElement("iframe"),this.wmodeFrameHash[i].id=i+"_wmode_frame",this.wmodeFrameHash[i].className="w2wmode_frame w2wmode_menuFrame",this.wmodeFrameHash[i].style.position="absolute",this.wmodeFrameHash[i].frameBorder="no","https:"==location.protocol&&(this.wmodeFrameHash[i].src=WebSquare.net.getSSLBlankPage(!0))),this.wmodeFrameHash[i]){var a=this;setTimeout((function(){a.wmodeFrameHash[i].controlID=i,a.wmodeFrameHash[i].style.top=WebSquare.style.getAbsoluteTop(r[0])+"px",a.wmodeFrameHash[i].style.width=r[0].offsetWidth+"px",a.wmodeFrameHash[i].style.height=r[0].offsetHeight+"px",a.wmodeFrameHash[i].style.display="block",a.wmodeFrameHash[i].style.left=WebSquare.style.getAbsoluteLeft(r[0])+"px",a.render.insertBefore(a.wmodeFrameHash[i],t.parentElement)}),1)}}else if(this.wmodeFrameHash[e]=document.getElementById(this.id+"_"+e+"_wmode_frame"),this.wmodeFrameHash[e]||(this.wmodeFrameHash[e]=document.createElement("iframe"),this.wmodeFrameHash[e].id=this.id+"_"+e+"_wmode_frame",this.wmodeFrameHash[e].className="w2wmode_frame",this.wmodeFrameHash[e].style.position="absolute",
this.wmodeFrameHash[e].frameBorder="no","https:"==location.protocol&&(this.wmodeFrameHash[e].src=WebSquare.net.getSSLBlankPage(!0))),this.wmodeFrameHash[e]){a=this;setTimeout((function(){a.wmodeFrameHash[e].controlID=t.id,a.wmodeFrameHash[e].style.left=t.offsetLeft+"px",a.wmodeFrameHash[e].style.top=t.offsetTop+"px",a.wmodeFrameHash[e].style.width=t.offsetWidth+"px",a.wmodeFrameHash[e].style.height=t.offsetHeight+"px",a.wmodeFrameHash[e].style.display="block",a.render.insertBefore(a.wmodeFrameHash[e],t)}),1)}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.hideWModeFrame=function(e,t){try{"menu"==e?this.wmodeFrameHash[t]&&this.wmodeFrameHash[t].controlID==t&&(this.wmodeFrameHash[t].style.display="none"):this.wmodeFrameHash[e]&&this.wmodeFrameHash[e].controlID==t&&(this.wmodeFrameHash[e].style.display="none")}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.removeWModeFrame=function(e,t){try{"menu"==e&&this.wmodeFrameHash[t]&&this.wmodeFrameHash[t].controlID==t&&(document.body.removeChild(this.wmodeFrameHash[t]),delete this.wmodeFrameHash[t])}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.showModal=function(e,t,r){try{return 1===arguments.length&&"object"==typeof arguments[0]?this._showModal(arguments[0]):this._showModal({className:e,popupComponents:t,stackComponents:r})}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype._showModal=function(e){try{var t=e.className||"",r=e.popupComponents||void 0,i=e.stackComponents||void 0,a=e.popupModal;if(this.modal||(this.modal=document.createElement("div"),this.modal.id="_modal",this.modalStack=[],this.modalStackPopupLayer=[],this.stackComponents=null,this.browserPopupList=[]),t?(this.modalStack[this.modalStack.length]=t,this.modal.className=t):(this.modalStack[this.modalStack.length]="w2modal",this.modal.className="w2modal"),this.modal){if(!1!==a&&(this.render.appendChild(this.modal),this.modal.style.display="block"),i)for(var n in null==this.stackComponents&&(this.stackComponents={}),i)if(null==this.stackComponents[n])this.stackComponents[n]=[i[n]];else{if("popup"===n){if((b=this.stackComponents[n].length-1)>=0)for(var o=b;o>=0;o--){if(!(y=WebSquare.idCache[this.stackComponents[n][o].id])&&this.stackComponents[n][o].id)(s=WebSquare.util.getPopup(this.stackComponents[n][o].id))&&(y=s.popupWin);if(y&&y.render&&!0===a){if((d=parseInt(y.getStyleProperty("z-index"),10))==(p=parseInt(f.Z.getStyleProperty(this.modal,"z-index"),10)-1))break;y.zIndex=d,y.setStyle("z-index",p)}}}else{var s,c=this.stackComponents[n].length-1;if(!(y=WebSquare.idCache[this.stackComponents[n][c]])&&this.stackComponents[n][c])(s=f.Z.getPopup(this.stackComponents[n][c]))&&(y=s.popupWin);if(y&&y.render){var d=parseInt(y.getStyleProperty("z-index"),10),p=parseInt(f.Z.getStyleProperty(this.modal,"z-index"),10)-1;y.zIndex=d,y.setStyle("z-index",p)}}this.stackComponents[n].push(i[n])}if(this.wframeSubPopup&&this.wframeSubPopup.length>0)for(var h=0;h<this.wframeSubPopup.length;h++){if((m=WebSquare.idCache[this.wframeSubPopup[h]])&&"visible"===m.getStyle("visibility"))for(var n in m.stackComponents){if(void 0!==m.stackComponents[n])if((b=m.stackComponents[n].length-1)>=0)for(o=b;o>=0;o--){if(!(y=WebSquare.idCache[m.stackComponents[n][o].id])&&m.stackComponents[n][o].id&&(y=f.Z.getPopup(m.stackComponents[n][o].id).popupWin),y&&y.render&&this.modal.style.display){if(!((d=parseInt(y.getStyleProperty("z-index"),10))>=(p=parseInt(f.Z.getStyleProperty(this.modal,"z-index"),10)-1)))break;y.wframePopupZIndex=d,y.setStyle("z-index",p)}}}}var g=f.Z.getPopupList(!0);if(g.length>0)for(h=g.length-1;h>=0;h--){var m;if((m=WebSquare.idCache[g[h]._targetFrameObjUUID])&&"visible"===m.getStyle("visibility")){for(var n in m.stackComponents){var b;if(void 0!==m.stackComponents[n])if((b=m.stackComponents[n].length-1)>=0)for(o=b;o>=0;o--){var y;if(!(y=WebSquare.idCache[m.stackComponents[n][o].id])&&m.stackComponents[n][o].id&&(y=f.Z.getPopup(m.stackComponents[n][o].id).popupWin),y&&y.render&&a){
if(!((d=parseInt(y.getStyleProperty("z-index"),10))>=(p=parseInt(f.Z.getStyleProperty(this.modal,"z-index"),10)-1))||y.wframePopupZIndex)break;y.wframePopupZIndex=d,y.setStyle("z-index",p)}}}if(m._wframePopupModal&&"block"===m._wframePopupModal.render.style.display)break}}var S=!1;try{this.modal.setActive&&(this.modal.setActive(),S=!0)}catch(e){u.Y.printStackTrace(e,null,this)}if(S||(document.activeElement?document.activeElement.blur():this.modal.focus()),f.Z.isIE(6)&&(this.modal.style.top=document.documentElement.scrollTop+"px",this.modal.style.left=document.documentElement.scrollLeft+"px",this.modal.style.width=document.documentElement.scrollWidth+"px",this.modal.style.height=document.documentElement.scrollHeight+"px"),(!f.Z.isMobile()||f.Z.isMobile()&&"hidden"===this.options.mobileModalOverflow)&&this.addClass(document.documentElement,"w2modalopenedbody"),r&&r.length>0){for(o=0;o<r.length;o++){var v=r[o];v&&f.Z.getComponentById(v).options.pluginName?f.Z.getComponentById(v).addClass("w2modal_popupLayer"):$l("[body.showModal]Component with provided ID not found.("+v+")")}this.modalStackPopupLayer[this.modalStackPopupLayer.length]=r}f.Z.isTouchDevice()&&"true"==l.I.getConfiguration("/WebSquare/modal/@preventTouch")&&M.f.addListener(this.modal,"ontouchmove",this.handleTouchMove)}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.handleTouchMove=function(e){M.f.preventDefault(e)},we.prototype.modalEvent=function(e){try{if("true"==l.I.getConfiguration("/WebSquare/modal/@modalFocus"))return;if(this.modal&&e){var t=WebSquare.uiplugin.popup.getPopup(e);if(t&&t.options&&!0===t.options.modalFocus)return;for(var r=!1,i=0;i<this.browserPopupList.length;i++)if(this.browserPopupList[i]===e){r=!0;break}r||this.browserPopupList.push(e),"added"!==this.modal.getAttribute("data-wqmodalEvent")&&(this.modal.setAttribute("data-wqmodalEvent","added"),this.event.addListener(this.modal,"onclick",this.event.bindAsEventListener(this,this.handleModalEvent)),this.event.addListener(this.modal,"ondblclick",this.event.bindAsEventListener(this,this.handleModalEvent)))}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.handleModalEvent=function(){try{for(var e=!1,t=this.browserPopupList.length-1;t>=0;t--){var r=this.browserPopupList[t],i=WebSquare.uiplugin.popup.getPopupWindow(r);i?e||(e=!0,i.focus()):this.browserPopupList.splice(t,1)}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.hideModal=function(e,t){try{if(this.modal){var r,i=!1;if(null!=this.stackComponents&&!0!==e){var a=!1;for(var n in this.stackComponents){var o=this.stackComponents[n];if(t){for(var s=this.stackComponents[n].length-1;s>=0;s--)if(o[s].id===t){o.splice(s,1),a=!0;break}if(!a)continue}else o.pop(),a=!0;for(s=y=o.length-1;s>=0;s--){0!=s||0!==o.length&&!1!==o[s].modal||(i=!0);var c=o[o.length-1];if("popup"===n&&(c=o[s].id),(S=WebSquare.idCache[c])||(S=f.Z.getComponentById(c)),S&&S.render){var d=S.zIndex;isNaN(d)&&(d=""),S.setStyle("z-index",d)}if("popup"!=n||!0===o[s].modal)break}}}if(this.wframeSubPopup&&this.wframeSubPopup.length>0)for(var p=0;p<this.wframeSubPopup.length;p++){if((b=WebSquare.idCache[this.wframeSubPopup[p]])&&"visible"===b.getStyle("visibility"))for(var n in b.stackComponents){if(void 0!==b.stackComponents[n])if((y=b.stackComponents[n].length-1)>=0)for(s=y;s>=0;s--){if(!(S=WebSquare.idCache[b.stackComponents[n][s].id])&&b.stackComponents[n][s].id&&(S=f.Z.getPopup(b.stackComponents[n][s].id).popupWin),S&&S.render&&S&&S.render){d=S.wframePopupZIndex;isNaN(d)||(S.setStyle("z-index",d),S.wframePopupZIndex=0)}}}}if(t&&!a||this.modalStack.pop(),this.wframeSubPopup&&this.wframeSubPopup.pop(),0==this.modalStack.length||!0===i)this.modal.style.display="none",(!f.Z.isMobile()||f.Z.isMobile()&&"hidden"===this.options.mobileModalOverflow)&&this.removeClass(document.documentElement,"w2modalopenedbody");else{var h=this.modalStack[this.modalStack.length-1];this.modal.className=h}if(this.modalStackPopupLayer.length>0){
var g=this.modalStackPopupLayer[this.modalStackPopupLayer.length-1];for(s=0;s<g.length;s++){var m=g[s];f.Z.getComponentById(m)&&f.Z.getComponentById(m).removeClass("w2modal_popupLayer")}this.modalStackPopupLayer.splice(this.modalStackPopupLayer.length-1,1)}if(f.Z.isTouchDevice()&&"true"==l.I.getConfiguration("/WebSquare/modal/@preventTouch")&&M.f.removeListener(this.modal,"ontouchmove",this.handleTouchMove),"block"!==this.modal.style.display&&(r=f.Z.getPopupList(!0)),r&&r.length>0)for(p=r.length-1;p>=0;p--){var b;if((b=WebSquare.idCache[r[p]._targetFrameObjUUID])&&"visible"===b.getStyle("visibility")){for(var n in b.stackComponents){var y;if(void 0!==b.stackComponents[n])if((y=b.stackComponents[n].length-1)>=0)for(s=y;s>=0;s--){var S;if(!(S=WebSquare.idCache[b.stackComponents[n][s].id])&&b.stackComponents[n][s].id&&(S=f.Z.getPopup(b.stackComponents[n][s].id).popupWin),S&&S.render&&S.wframePopupZIndex&&S&&S.render){d=S.wframePopupZIndex;isNaN(d)||(S.setStyle("z-index",d),S.wframePopupZIndex=0)}}}if(!0===b._modal)break}}}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.setToolTip=function(e,t){try{f.Z.isTouchDevice()&&(M.f.addListener(e,"ontouchstart",this.event.bindAsEventListener(this,(function(r){WebSquare.getBody().showToolTip(r,e,t)}))),M.f.addListener(e,"ontouchend",this.event.bindAsEventListener(this,(function(e){WebSquare.getBody().hideToolTip(e)})))),M.f.addListener(e,"onmouseover",this.event.bindAsEventListener(this,(function(r){WebSquare.getBody().showToolTip(r,e,t)}))),M.f.addListener(e,"onmouseout",this.event.bindAsEventListener(this,(function(e){WebSquare.getBody().hideToolTip(e)})))}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.setToolTipComp=function(e,t){try{if(void 0===t||""==t)return;f.Z.isTouchDevice()&&(M.f.addListener(e,"ontouchstart",this.event.bindAsEventListener(this,(function(r){WebSquare.getBody().showToolTipComp(r,e,t)}))),M.f.addListener(e,"ontouchend",this.event.bindAsEventListener(this,(function(e){WebSquare.getBody().hideToolTipComp(e,t)})))),M.f.addListener(e,"onmouseover",this.event.bindAsEventListener(this,(function(r){WebSquare.getBody().showToolTipComp(r,e,t)}))),M.f.addListener(e,"onmouseout",this.event.bindAsEventListener(this,(function(e){WebSquare.getBody().hideToolTipComp(e,t)})))}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.showToolTip=function(e,t,r){try{if(0==t.tooltipShow||!r)return;if(f.Z.isFF()&&t.getAttribute("disabled"))return;if(r.indexOf("javascript:")>-1){var i=r.substring(11,r.length);"function"==typeof(o=f.Z.getGlobalFunction(i,this.scope_id))&&(r=o())}if(""==r)return;if(this.toolTipTimer&&(clearTimeout(this.toolTipTimer),this.toolTipTimer=null),this.toolTip||(this.toolTip=new WebSquare.uiplugin.balloonTip(this.id+"_balloonTip"),this.toolTip.writeTo(this),this.toolTip.activate()),this.toolTip){for(var a=this.event.getTargetIterator(e,this.render),n=null;a.next();)if((n="idToUUID"in WebSquare?WebSquare.idCache[WebSquare.idToUUID[a.getElement().getAttribute("id")]]:WebSquare.componentIdCache[a.getElement().getAttribute("id")])&&n.render==a.getElement()||(n=null),n&&n.options&&(""!=n.options.tooltip||n.options.toolTip)){if((r=n.options.tooltip||n.options.toolTip).indexOf("javascript:")>-1){var o;i=r.substring(11,r.length);"function"==typeof(o=f.Z.getGlobalFunction(i,this.scope_id))&&(r=o())}else if(n.options.useLocale&&n.options.tooltipLocaleRef){var s=this.getLocaleValue(n.options.tooltipLocaleRef);s&&(r=s)}break}a=null,this._tooltipTriggerComponentId=this.uuid,n&&(n.render.setAttribute("aria-describedby",this.toolTip.id),M.f.fireEvent(n,"ontooltipshow"),this._tooltipTriggerComponentId=n.uuid);var d=null!=WebSquare.BootLoader.fullViewRatio?WebSquare.BootLoader.fullViewRatio:1,p=WebSquare.style.getAbsoluteLeft(t),h=WebSquare.style.getAbsoluteTop(t),g=WebSquare.style.getSize(t,"height"),m="";if(n&&(n.options.tooltipPositionX||n.options.tooltipPositionY)){var b=n.render.offsetWidth,y=n.render.offsetHeight,S=0,v=0;try{
n.options.tooltipPositionX&&(S=20,S=n.options.tooltipPositionX.indexOf("cellWidth")>-1||n.options.tooltipPositionX.indexOf("cellHeight")>-1?new Function("cellWidth","cellHeight","return "+n.options.tooltipPositionX)(b,y):new Function("width","height","return "+n.options.tooltipPositionX)(b,y)),n.options.tooltipPositionY&&(v=y+3,v=n.options.tooltipPositionY.indexOf("cellWidth")>-1||n.options.tooltipPositionY.indexOf("cellHeight")>-1?new Function("cellWidth","cellHeight","return "+n.options.tooltipPositionY)(b,y):new Function("width","height","return "+n.options.tooltipPositionY)(b,y))}catch(e){c.v.printLog("An error occurred while applying the tooltipPosition option. Default value used instead.["+n.id+"]"),u.Y.printStackTrace(e,null,this)}p+=S,h+=v}var w=this.tooltipSec;n&&n.options&&n.options.tooltipSec&&(w=parseInt(n.options.tooltipSec));var C=n&&n.options&&n.options.tooltipFormatter?f.Z.getGlobalFunction(n.options.tooltipFormatter,n.scope_id):null;m="function"==typeof C?C.call(n,n.id,r):r,this.toolTip.setValue(m);var q=this;try{var W=l.I.getConfiguration("/WebSquare/tooltipShowHideHandler/@value");if(W){var _=f.Z.getGlobalFunction(W,n.scope_id),x=!0;if("function"==typeof _&&(x=_(n)),!x)return}}catch(e){u.Y.printStackTrace(e)}this.toolTipTimer=setTimeout((function(){q.toolTip.show();var e=q.toolTip.render.offsetWidth,t=q.toolTip.render.offsetHeight,r=document.documentElement.clientWidth!=document.body.clientWidth?document.body.clientWidth:document.documentElement.clientWidth;p+e>document.documentElement.scrollLeft/d+r/d-10&&(p=document.documentElement.scrollLeft/d+r/d-e-10);var i=h-t;i<document.documentElement.scrollTop/d+10&&(i=i<0?h+g+5:document.documentElement.scrollTop/d+10),q.toolTip.setPosition(p,i),WebSquare.style.adjustZIndex(q._tooltipTriggerComponentId,q.toolTip.uuid,"toolTip")}),w)}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.showToolTipComp=function(e,t,r){try{if(void 0===r||""==r)return;this.toolTipTimer&&(clearTimeout(this.toolTipTimer),this.toolTipTimer=null);var i=f.Z.getComponentById(r);if(i){var a=WebSquare.style.getAbsoluteLeft(t),n=WebSquare.style.getAbsoluteTop(t),o=WebSquare.style.getSize(t,"height"),s=WebSquare.style.getSize(t,"width");this.toolTipTimer=setTimeout((function(){i.show();var e=i.render.offsetWidth,t=i.render.offsetHeight;a>document.documentElement.scrollLeft+document.documentElement.clientWidth-a-10&&(a=a+s-e);var r=n-t;r<document.documentElement.scrollTop+10&&(r=r<0?n+o+5:document.documentElement.scrollTop+10),i.setPosition(a,r)}),this.toolTipSec)}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.hideToolTip=function(e){try{if(this.toolTipTimer&&(clearTimeout(this.toolTipTimer),this.toolTipTimer=null),this.toolTip){this.toolTip.hide();var t=this.event.getTargetIterator(e,this.render),r=null,i=t.getElement();null!=i&&((r="idToUUID"in WebSquare?WebSquare.idCache[WebSquare.idToUUID[i.getAttribute("id")]]:WebSquare.componentIdCache[i.getAttribute("id")])&&r.render==i||(r=null)),t=null,i=null,r&&(r.render.removeAttribute("aria-describedby"),M.f.fireEvent(r,"ontooltiphide"))}}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.hideToolTipComp=function(e,t){try{var r=f.Z.getComponentById(t);r&&(this.toolTipTimer&&(clearTimeout(this.toolTipTimer),this.toolTipTimer=null),r&&r.hide())}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.getLayerListener=function(){try{return this.layerListener}catch(e){u.Y.printStackTrace(e,null,this)}},we.prototype.finalize=function(){try{this.modal&&"function"==typeof this.modal.remove&&(this.modal.remove(),delete this.modal)}catch(e){u.Y.printStackTrace(e,null,this)}},(we.bodyLayerListener=function(){this.layers={},this.existShow=!1,this.useOtherComponentId={}}).prototype.addListener=function(e){try{var t=!0;for(var r in this.layers){t=!1;break}var i=e.component,a=e.component.id;if(this.layers[a]={component:e.component,show:e.fnShow,hide:e.fnHide,paramHide:e.paramHide,event:e.event,isShow:!1,otherClick:e.otherClick,
frameClick:e.frameClick},t&&(WebSquare.getBody().event.addListener(document.documentElement,"onmousewheel",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleMouseWheelEventDocument)),f.Z.isTouchDevice()?WebSquare.getBody().event.addListener(document.documentElement,"ontouchstart",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleMouseDownEventDocument)):(WebSquare.getBody().event.addListener(window,"onscroll",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleScrollEventDocument)),WebSquare.getBody().event.addListener(window,"onresize",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleMouseWheelEventDocument))),WebSquare.getBody().event.addListener(document.documentElement,"onmousedown",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleMouseDownEventDocument))),e.event)for(var n in e.event)i.event.addListener(document.documentElement,n,i.event.bindAsEventListener(i,e.event[n]))}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.show=function(e,t){try{if(this.layers[e]&&"function"==typeof this.layers[e].show){for(var r=this.layers[e].component,i={};r.parentControl;)(r=r.parentControl).id&&(i[r.id]=!0);this.hideAll(i),this.layers[e].show.call(this.layers[e].component,t),this.layers[e].isShow=!0,this.existShow=!0}}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.hide=function(e,t){try{if(this.layers[e]&&"function"==typeof this.layers[e].hide)for(var r in this.layers[e].hide.call(this.layers[e].component,t),this.layers[e].isShow=!1,this.existShow=!1,this.layers)if(this.layers[r].isShow){this.existShow=!0;break}}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.hideAll=function(e){try{for(var t in this.targetHideArr=[],this.layers)if((!e||!e[t])&&this.layers[t].isShow){var r={};r.id=t,r.param=this.layers[t].paramHide,this.targetHideArr.push(r),this.hide(t,this.layers[t].paramHide)}}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.isExist=function(e){try{return!!this.layers[e]}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.isShow=function(e){try{return!!this.layers[e]&&!!this.layers[e].isShow}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.remove=function(e){try{if(this.layers[e]){for(var t in this.layers[e].event)M.f.removeListener(document.documentElement,t,this.layers[e].event[t]);this.layers[e].component=null,this.layers[e].draw=null,this.layers[e].show=null,this.layers[e].hide=null,this.layers[e].event=null,delete this.layers[e]}}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.removeAll=function(){try{for(var e in this.layers){for(var t in this.layers[e].event)M.f.removeListener(document.documentElement,t,this.layers[e].event[t]);this.layers[e].component=null,this.layers[e].draw=null,this.layers[e].show=null,this.layers[e].hide=null,this.layers[e].event=null,delete this.layers[e]}this.layers={}}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.handleMouseDownEventDocument=function(e){try{if(!this.layerListener.existShow)return;var t,r;f.Z.isIE("6 7 8")?(t=document.documentElement.scrollTop,r=document.documentElement.scrollLeft):(t=window.pageYOffset,r=window.pageXOffset),M.f.getMouseX(e)<document.documentElement.clientWidth+r&&M.f.getMouseY(e)<document.documentElement.clientHeight+t&&this.layerListener.hideAll()}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.handleMouseWheelEventDocument=function(e){try{if(!f.Z.isMobile()){var t=l.I.getConfiguration("/WebSquare/body/blurAll/@value");if("true"!==t||function(e){for(var t=e.offsetTop,r=e.offsetLeft,i=e.offsetWidth,a=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft
;return t>=(window.pageYOffset||document.documentElement.scrollTop)&&r>=(window.pageXOffset||document.documentElement.scrollLeft)&&t+a<=(window.pageYOffset||document.documentElement.scrollTop)+(window.innerHeight||document.documentElement.clientHeight)&&r+i<=(window.pageXOffset||document.documentElement.scrollLeft)+(window.innerWidth||document.documentElement.clientWidth)}(document.activeElement)||"INPUT"!==document.activeElement.tagName.toUpperCase()||document.activeElement.blur(),f.Z.isIE("6 7 8")&&e&&"resize"===e.type.toLowerCase())return}if(!this.layerListener.existShow)return;var r;for(var i in this.layerListener.layers)this.layerListener.layers[i].isShow&&this.layerListener.layers[i].component&&this.layerListener.layers[i].component.render.parentNode&&(r=this.layerListener.layers[i].component.render.parentNode);var a=M.f.getTarget(e);if("true"==this.forceClose||a!=WebSquare.getBody().render&&r!=WebSquare.getBody().render)return void this.layerListener.hideAll();var n,o,s=document.documentElement;if(f.Z.isIE("6 7 8")?(n=document.documentElement.scrollTop,o=document.documentElement.scrollLeft):(n=window.pageYOffset,o=window.pageXOffset),0===n||s.scrollHeight-n===s.clientHeight||0===o||s.scrollWidth-o===s.clientWidth)return;this.useWheel=!0,this.layerListener.hideAll()}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.handleScrollEventDocument=function(e){try{var t=this.layerListener.targetHideArr;if(!t||t.length<=0||null==this.useWheel||!this.useWheel)return;for(var r=0;r<t.length;r++)this.layerListener.show(t[r].id,t[r].param);this.layerListener.targetHideArr=[],this.useWheel=!1}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.otherClick=function(e){try{for(var t in this.layers)"function"==typeof this.layers[t].otherClick&&this.layers[t].otherClick.call(this.layers[t].component,e)}catch(e){u.Y.printStackTrace(e,null,this)}},we.bodyLayerListener.prototype.frameClick=function(){try{for(var e in this.existShow&&this.hideAll(),this.layers)"function"==typeof this.layers[e].frameClick&&this.layers[e].frameClick.call(this.layers[e].component)}catch(e){u.Y.printStackTrace(e,null,this)}};var Ce=function(e,t,r){te.q.call(this,e,t,r)};o.q.extend(Ce.prototype,te.q.prototype),Ce.prototype.defaultOptions={pluginType:"uiplugin.itemTable",pluginName:"itemTable",parentPluginName:"",row:"5",col:"1",submenuSize:"fixed",useRowHover:"true",useColHover:"true",useKey:"true",useHotKey:"true",useCacheData:"true",w2table:"w2table",w2table_main:"w2table_main",w2table_main_depth:"w2table_main_depth",w2table_row:"w2table_row",w2table_col:"w2table_col",w2table_col_over:"w2table_col_over",w2table_col_checkbox:"w2table_col_checkbox",w2table_col_label:"w2table_col_label",w2table_depth:"w2table_depth",w2table_subdepth:"w2table_subdepth",w2table_subdepth_show:"w2table_subdepth_show",w2table_subdepth_hide:"w2table_subdepth_hide",w2table_subdepth_parent:"w2table_subdepth_parent",defaultStyle:"",checkbox:!1,escape:!1,tableRender:"",findItem:!1,keyBufferResetTime:1e3,wheelRows:0,visibleColNum:1,depthColumn:"",depthColumnHeight:0,depthColumnWidth:0,useFindItemFirstKeyChar:!0,noUseUpDownKey:!1,noUseTabKeyByMove:!1},Ce.prototype.initialize=function(e){var t=l.I.getConfiguration("/WebSquare/"+this.options.pluginName+"/overrideKey/@value");t&&(this.options.overrideKey=t);var r=l.I.getConfiguration("/WebSquare/"+this.options.pluginName+"/wheelRows/@value");r&&!isNaN(r)&&(this.options.wheelRows=Number(r)),this.rowCount=this.options.row,this.colCount=this.options.col,this.selectedCell=null,this.data=[],this._keyBuffer="",this.keyCharHash={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",110:".",111:"/",106:"*",107:"+",109:"-",187:"=",189:"-",
192:"`","220 ":"\\"},this.korCharHash={65:"ㅁ",67:"ㅊ",68:"ㅇ",69:"ㄷ",70:"ㄹ",71:"ㅎ",81:"ㅂ",82:"ㄱ",83:"ㄴ",84:"ㅅ",86:"ㅍ",87:"ㅈ",88:"ㅌ",90:"ㅋ"},this.korCharHash2={69:"ㄸ",81:"ㅃ",82:"ㄲ",84:"ㅆ",87:"ㅉ"},this.inputBlurInside=!1,this.itemTableFocus=!1,this._keyIndex=-1,this._directionKeyPressed=!1,this.myhelper=new WebSquare.korHelper},Ce.prototype.toHTML=function(){var e=[],t=""==this.options.style?"":"style='"+this.options.style+"'",r="";return this.options.depthColumn&&(r=this.options.w2table_main_depth+" "),e.push("<div id='"+this.id+"' "+t+" class='"+this.options.w2table+" "+r+this.options.className+"' tabIndex='0'>"),1==this.options.checkbox&&1==this.options.navBtn&&(e.push("<div id='"+this.id+"_wrapper' aria-expanded='true' "+t+" class='"+this.options.w2table+" "+this.options.className+"' tabIndex='0'></div>"),e.push("<div id='"+this.id+"_btn_div' class='w2checkcombobox_btn_div'></div>")),e.push("</div>"),e.join("")},Ce.prototype.addClickEventListener=function(e){this.clickFunc=e},Ce.prototype.addKeyDownEventListener=function(e){this.keyDownFunc=e},Ce.prototype.addKeyUpEventListener=function(e){this.keyUpFunc=e},Ce.prototype.addMouseLeaveEventListener=function(e){this.mouseLeaveFunc=e},Ce.prototype.addMouseOverEventListener=function(e){this.mouseOverFunc=e},Ce.prototype.addMouseUpEventListener=function(e){this.mouseUpFunc=e},Ce.prototype.addOnchangeListener=function(e){this.onchangeFunc=e},Ce.prototype.setItemArr=function(e){var t=[],r="";r=this.options.submenuSize&&"column"!==this.options.submenuSize?"style='table-layout:"+this.options.submenuSize+"; width:0px;'":"style='width:0px'";var i=f.Z.getDataPrefix("index"),a=f.Z.getDataPrefix("row"),n=f.Z.getDataPrefix("col"),o=0,s={},l=1,u=1;if("ul"===this.options.tableRender){var c;c=this.options.depthColumn?this.options.w2table_depth:this.options.w2table_main;var d="checkcombobox"===this.options.parentPluginName?"role='group'":"role='listbox'";t.push("<ul id='"+this.id+"_main' class='"+c+"' "+d+">");for(var p=0;p<e.length;++p){var h="",g="";!0===e[p]._hidden?(h=" data-wqhidden='true'",g=" w2selectbox_item_hidden"):!0===e[p]._disabled&&(h=" data-wqdisabled='true'",!0!==this.options.checkbox&&(g=" w2selectbox_item_disabled")),o++;var m,b=!1;if(this.options.depthColumn){var y=p>0&&Number(e[p-1]._depth)||1,S=Number(e[p]._depth)||1,v=p<e.length-1&&Number(e[p+1]._depth)||1;if(l=Math.max(S,l),u=S,s[S]||(s[S]=[1,1,1]),S<v&&(b=!0),y<S){var w=this.options.w2table_depth;t.push("<ul class='"+w+"'>")}else if(y>S){for(var C=0;C<y-S;C++)t.push("</li>"),t.push("</ul>"),s[y-C-1][0]+=s[y-C][0]-1;for(var q=S;q<=y;q++)s[q][1]=Math.max(s[q][0],s[q][1]),q===S?(s[q][2]++,s[q][0]=s[q][2]):(s[q][0]=1,s[q][2]=1)}else t.push("</li>"),p>0&&(s[S][0]++,s[S][2]++)}this.options.depthColumn?(m=this.options.w2table_subdepth+" "+this.options.w2table_subdepth_hide,!0===b&&(m=m+" "+this.options.w2table_subdepth_parent)):m=this.options.w2table_col;var W=""==this.options.defaultStyle?"":"style='"+this.options.defaultStyle+"'";if("checkcombobox"===this.options.parentPluginName){var _=this.options.escape?this._encode(e[p].label):e[p].label;t.push("<li id='"+this.id+"_"+p+"' aria-checked='false' role='checkbox' class='"+m+g+"' "+a+"='"+p+"' "+n+"='"+this.options.col+"' "+W+" "+i+"='"+p+"'"+h+" aria-label= '"+_+"'>")}else if("autoComplete_input"===this.options.parentPluginName)t.push("<li id='"+this.id+"_option"+(p+1)+"' class='"+m+g+"' "+W+" "+i+"='"+p+"' "+h+" role='option'>");else{var x=f.Z.getDataPrefix("unique_id"),I="";"windowContainer"===this.options.parentPluginName&&!0===this.options.useAccessibilityMenu&&(I=x+" = '"+e[p].id+"'"),t.push("<li class='"+m+g+"' "+I+W+" "+i+"='"+p+"' "+h+" role='option' aria-selected='false' aria-setsize='"+e.length+"' aria-posinset='"+(p+1)+"' >")}for(var T=0;T<1;++T){_=this.options.escape?this._encode(e[p].label):e[p].label;if("checkcombobox"===this.options.parentPluginName){var k=e[p].value,L=this.id+"_"+p+"_checkbox"
;t.push("<input type='checkbox' id='"+L+"' class='"+this.options.w2table_col_checkbox+"' value='"+k+"' tabindex='-1'/>"),t.push("<label id='"+this.id+"_"+p+"_label' type='checkbox' for='"+L+"' class='"+this.options.w2table_col_label+"' "+n+"='"+T+"' "+i+"='"+p+"'>"),t.push(_),t.push("</label>")}else if("windowContainer"===this.options.parentPluginName&&!0===this.options.useCloseButton&&!0===this.options.useAccessibilityMenu){t.push("<a id='"+this.id+"_"+p+"' "+n+"='"+T+"' "+i+"='"+p+"' href='javascript:void(null)' role='button'>"),t.push(_),t.push("</a>");var A=WebSquare.language.getMessage("Accssibility_btn_aria_label_windowContainer")||"close";t.push("<button type='button' aria-label='"+A+"' class='w2list_listColumn_accessibility_close w2windowContainer_accessibility_button'>"),t.push("</button>")}else"autoComplete_input"===this.options.parentPluginName?t.push(_):(t.push("<a id='"+this.id+"_"+p+"' "+n+"='"+T+"' "+i+"='"+p+"' href='javascript:void(null)'>"),t.push(_),t.push("</a>"))}!0!==b&&t.push("</li>")}t.push("</ul>")}else{t.push("<table id='"+this.id+"_main' "+r+" class='"+this.options.w2table_main+"'>");var E=e.length,D=this.options.visibleColNum;1==D&&this.options.visibleColMax>1&&(D=Math.min(Math.ceil(e.length/this.options.row),this.options.visibleColMax)),D>1?E=Math.ceil(E/D):D=1;for(p=0;p<E;++p){h="",g="";var M="";!0===e[p]._hidden?(h=" data-wqhidden='true'",g=" w2selectbox_item_hidden"):!0===e[p]._disabled&&(h=" data-wqdisabled='true'",!0!==this.options.checkbox&&(g=" w2selectbox_item_disabled",M=" disabled")),o++,t.push("<tr class='"+this.options.w2table_row+g+"' "+a+"='"+p+"'"+h+">");for(T=0;T<D;++T){var N=p*D+T;if(N>=e.length)t.push("<td id='"+this.id+"_"+N+"' role='listitem option' "+W+" class='"+this.options.w2table_col+"' "+n+"='"+T+"' "+a+"='"+p+"'></td>");else{_=this.options.escape?this._encode(e[N].label):e[N].label,k=e[N].value,W=""==this.options.defaultStyle?"":"style='"+this.options.defaultStyle+"'";var R="";if(this.options.checkbox&&this.options.editable&&(R=!0===(e[N].checked||e[N].allchecked)?"checked":""),t.push("<td id='"+this.id+"_"+N+"' role='listitem option' aria-setsize='"+e.length+"' aria-posinset='"+(N+1)+"' "+W+" class='"+this.options.w2table_col+"' "+n+"='"+T+"' "+a+"='"+p+"' "+i+"='"+N+"'>"),1==this.options.checkbox){L=this.id+"_"+N+"_checkbox";t.push("<input type='checkbox' id='"+L+"' class='"+this.options.w2table_col_checkbox+"' value='"+k+"' "+R+M+"/>"),t.push("<label type='checkbox' for='"+L+"' class='"+this.options.w2table_col_label+"'>"),t.push(_),t.push("</label>")}else t.push(_);t.push("</td>")}}t.push("</tr>")}t.push("</table>")}var O=!1;if("none"==this.render.style.display&&(this.render.style.display="",O=!0),!0===this.options.navBtn?document.getElementById(this.id+"_wrapper").innerHTML=t.join(""):this.render.innerHTML=t.join(""),1==this.options.checkbox&&1==this.options.navBtn){this.mainTable=this.render.firstChild.firstChild;var P=document.getElementById(this.id)}else this.mainTable=this.render.firstChild;this.dom.td=null,"ul"===this.options.tableRender?this.dom.tds=this.getDomList("td","li"):this.dom.tds=this.getDomList("td","td");var F=0,Y=!1;if(this.options.depthColumn){var j=document.getElementById(this.id+"_main");if(this.options.depthColumnHeight>0)this.setStyle("height",this.options.depthColumnHeight+"px");else{if(1!==u){for(C=0;C<u-1;C++)t.push("</li>"),t.push("</ul>"),s[u-C-1][0]+=s[u-C][0]-1;for(q=1;q<=u;q++)s[q][1]=Math.max(s[q][0],s[q][1]),1===q?(s[q][2]++,s[q][0]=s[q][2]):(s[q][0]=1,s[q][2]=1)}for(var B=j.offsetHeight,U=0,V=0;V<j.childNodes.length;V++){"LI"===(re=j.childNodes[V]).tagName.toUpperCase()&&U++}var H=B/U,z=1;for(var X in s)z=Math.max(z,s[X][1]);var $=Math.ceil(z*H)+5;this.setStyle("height",Math.max(B,$)+"px")}if(this.options.depthColumnWidth>0)this.setStyle("width",this.options.depthColumnWidth+"px");else{var Z=j.offsetWidth;this.setStyle("width",Z*l+18+"px")}}else if(D>1){var K=this.mainTable.getElementsByTagName("tr");for(q=0;q<K.length;q++){
for(var J=0,G=K[q].getElementsByTagName("td"),Q=0;Q<G.length;Q++){J+=(le=parseInt(WebSquare.style.getStyle(G[Q],"padding-left").wq_replaceAll("px",""),10)||0)+(se=parseInt(WebSquare.style.getStyle(G[Q],"padding-right").wq_replaceAll("px",""),10)||0);for(var ee=G[Q].childNodes,te=0;te<ee.length;te++){var re;if(1===(re=ee[te]).nodeType){var ie=WebSquare.style.getStyle(re,"margin-left").wq_replaceAll("px",""),ae=WebSquare.style.getStyle(re,"margin-right").wq_replaceAll("px","");ie="auto"===ie?2:parseInt(ie,10),ae="auto"===ae?2:parseInt(ie,10),J+=re.offsetWidth+ie+ae+le+se}else J+=re.offsetWidth}}F=Math.max(F,J)}this.mainTable.style.width=F+"px",Y=!0}else if(this.dom.tds&&this.dom.tds.length>0){H=this.dom.tds[0].offsetHeight;var ne=0,oe=this.options.row>o?o:this.options.row;this.setStyle("height",oe*H+"px"),1==this.options.checkbox&&1==this.options.navBtn&&(P.style.height=oe*H+"px");for(Q=0;Q<this.dom.tds.length;Q++){var se,le=parseInt(WebSquare.style.getStyle(this.dom.tds[Q],"padding-left").wq_replaceAll("px",""),10)||0;ne=(se=parseInt(WebSquare.style.getStyle(this.dom.tds[Q],"padding-right").wq_replaceAll("px",""),10)||0)+le;for(ie=0,ae=0,q=0;q<this.dom.tds[Q].childNodes.length;q++)this.dom.tds[Q].childNodes[q].nodeType==WebSquare.Elem.type.element?(ie=WebSquare.style.getStyle(this.dom.tds[Q].childNodes[q],"margin-left").wq_replaceAll("px",""),ae=WebSquare.style.getStyle(this.dom.tds[Q].childNodes[q],"margin-right").wq_replaceAll("px",""),ie="auto"===ie?2:parseInt(ie,10),ae="auto"===ae?2:parseInt(ie,10),ne+=this.dom.tds[Q].childNodes[q].offsetWidth+ie+ae):ne+=this.dom.tds[Q].offsetWidth;F<ne&&((f.Z.isIE("6")||f.Z.isIE("7"))&&(ne=ne+se+le+ie+ae),F=ne)}F+=17,Y=!0}Y&&(this.maxWidth=F,1==this.options.checkbox&&1==this.options.navBtn&&(P.style.width=F+"px",this.render.firstChild.style.width=F+"px",this.render.firstChild.firstChild.style.width=F+"px"),this.setStyle("width",F+"px"),this.options.useAccessibilityMenu&&(WebSquare.style.setStyle(this.dom.tds[0].parentNode,"padding-left","0px"),WebSquare.style.setStyle(this.dom.tds[0].parentNode,"margin-top","0px"),WebSquare.style.setStyle(this.dom.tds[0].parentNode,"margin-bottom","0px"))),O&&(this.render.style.display="none")},Ce.prototype.setAction=function(){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent)),this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent)),f.Z.isTouchDevice()&&this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,(function(e){try{this.inputBlurInside=!0,M.f.stopPropagation(e)}catch(e){u.Y.printStackTrace(e)}}))),this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,(function(e){try{this.inputBlurInside=!0,M.f.stopPropagation(e)}catch(e){u.Y.printStackTrace(e)}}))),1==this.options.navBtn?this.event.addListener(document.getElementById(this.id+"_wrapper"),"onmousewheel",this.event.bindAsEventListener(this,this.handleMouseWheelEvent)):this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMouseWheelEvent)),this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent)),this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent)),this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent)),this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseUpEvent)),this.event.addListener(this.render,"onmouseleave",this.event.bindAsEventListener(this,this.handleMouseLeaveEvent))},Ce.prototype.handleMouseWheelEvent=function(e){try{if(f.Z.isMobile())return void M.f.stopPropagation(e);var t=null;if(this.options.wheelRows>0){var r=this.dom.tds[0].offsetHeight,i=M.f.getMouseWheelDelta(e);t=r*Math.round(this.options.wheelRows*i)*-1
}else e.wheelDelta?t=-1*e.wheelDelta:f.Z.isNumber(e.detail)&&(t=50*e.detail);if(t)if(M.f.stopEvent(e),!0===this.options.navBtn){var a=document.getElementById(this.id+"_wrapper");a&&(a.scrollTop=t+a.scrollTop)}else this.render.scrollTop=t+this.render.scrollTop}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.handleMouseOverEvent=function(e){try{if(this._directionKeyPressed)return;M.f.stopEvent(e);for(var t=this.event.getTargetIterator(e,this.render);t.next();)if(t.match(this.options.w2table_col)){if("ul"===this.options.tableRender)var r=this.getElementById(this.id).firstChild.childNodes;else r=this.getElementById(this.id).firstChild.firstChild.childNodes;for(var i=0;i<r.length;i++){if("ul"===this.options.tableRender)var a=r[i];else a=r[i].firstChild;this.removeClass(a,this.options.w2table_col_over)}this.selectedCell=t.getElement(),this.addClass(this.selectedCell,this.options.w2table_col_over),this.mouseOverFunc&&this.mouseOverFunc(this.selectedCell)}}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.handleMouseOutEvent=function(e){try{if(this._directionKeyPressed)return;M.f.stopEvent(e);for(var t=this.event.getTargetIterator(e,this.render);t.next();)t.match(this.options.w2table_col)&&(this.removeClass(t.getElement(),this.options.w2table_col_over),this.selectedCell=null)}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.handleMouseLeaveEvent=function(e){try{this.mouseLeaveFunc&&this.mouseLeaveFunc(e)}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.handleMouseUpEvent=function(e){try{this.mouseUpFunc&&this.mouseUpFunc(e)}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.handleClickEvent=function(e){try{M.f.stopPropagation(e);for(var t=!1,r=!1,i=f.Z.getDataPrefix("index"),a=this.event.getTargetIterator(e,this.render);a.next();)if(this.options.depthColumn&&a.match(this.options.w2table_subdepth)){var n=a.getElement();this.selectedCell=n,this.addClass(n,this.options.w2table_subdepth_show),this.removeClass(n,this.options.w2table_subdepth_hide);for(var o=[n.parentNode],s=0;s<n.childNodes.length;s++){var l=n.childNodes[s];"UL"===l.tagName.toUpperCase()&&this.hasClass(l,this.options.w2table_depth)&&o.push(l)}for(s=0;s<o.length;s++)for(var c=o[s],d=0;d<c.childNodes.length;d++){var p=c.childNodes[d];"LI"===p.tagName.toUpperCase()&&p!==n&&(this.removeClass(p,this.options.w2table_subdepth_show),this.addClass(p,this.options.w2table_subdepth_hide))}this.fireClick(e),a.stop()}else if(a.match(this.options.w2table_col)){if(this.selectedCell=a.getElement(),this._getCellDisabled()){a.stop();break}if("checkcombobox"!==this.options.parentPluginName){var h=this.selectedCell.parentElement;if(h)for(s=0;s<h.childNodes.length;s++){"LI"===(n=h.childNodes[s]).tagName.toUpperCase()&&n.setAttribute("aria-selected","false")}this.selectedCell.setAttribute("aria-selected","true")}if(!this.options.checkbox||t||r)if(this.options.checkbox){m=this.selectedCell.index||this.selectedCell.getAttribute(i);!(g=document.getElementById(this.id+"_"+m+"_checkbox"))||g.disabled||r||this.fireClick(e)}else this.fireClick(e);else{var g,m=this.selectedCell.index||this.selectedCell.getAttribute(i);(g=document.getElementById(this.id+"_"+m+"_checkbox"))&&!g.disabled&&g.click()}}else a.match(this.options.w2table_col_checkbox)?t=!0:a.match(this.options.w2table_col_label)&&(r=!0)}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.focus=function(){try{this.inputBlurInside=!0,this.itemTableFocus=!0,"ul"!=this.options.tableRender&&(f.Z.isIEAllVersion()||f.Z.isSpartan())?f.Z.isSpartan()?document.getElementById(this.id).focus():this.render.firstChild.focus():this.render.focus()}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.handleKeydownEvent=function(e){try{var t=e.charCode?e.charCode:e.keyCode,r=this.getSelectedIndex(),i=r=parseInt(r);if(38==t){if(!0!==this.options.noUseUpDownKey){var a=!1;for(i>0?0==--i&&this._getCellHidden(i)&&(i--,a=!0):a=!0;i>=0&&(this._getCellDisabled(i)||this._getCellHidden(i));)i--;i>=0&&this.setSelectedIndex(i),this._keyIndex=a?-1:i,this._directionKeyPressed=!0}}else if(40==t){
if(!0!==this.options.noUseUpDownKey){var n=this.getItemCount();a=!1;for(i+1<n?++i+1==n&&this._getCellHidden(i)&&(i++,a=!0):a=!0;i+1<=n&&(this._getCellDisabled(i)||this._getCellHidden(i));)i++;i<n&&this.setSelectedIndex(i),this._keyIndex=a?n:i,this._directionKeyPressed=!0}}else if(32==t){if(this.options.checkbox&&!this._getCellDisabled(i)&&r>=0)document.getElementById(this.id+"_"+r+"_checkbox").click()}else if(33==t){for((i=r-this.rowCount)<0&&(i=0);i>0&&this._getCellDisabled(i)||this._getCellHidden(i);)i--;this.setSelectedIndex(i),this._directionKeyPressed=!0}else if(34==t){for((i=r+this.rowCount)>=this.getItemCount()&&(i=this.getItemCount()-1);i+1<n&&this._getCellDisabled(i)||this._getCellHidden(i);)i++;this.setSelectedIndex(i),this._directionKeyPressed=!0}else if(35==t){for(i=this.getItemCount()-1;i>0&&this._getCellDisabled(i)||this._getCellHidden(i);)i--;this.setSelectedIndex(i),this._directionKeyPressed=!0}else if(36==t){for(i=0;i+1<n&&this._getCellDisabled(i)||this._getCellHidden(i);)i++;this.setSelectedIndex(i),this._directionKeyPressed=!0}else if(13==t||this.options.selectByTabKey&&9==t)this.options.checkbox||this._getCellDisabled(i)||(this._directionKeyPressed=!1,this.mouseUpFunc&&this.mouseUpFunc(e),this.fireClick(e));else if(9==t){if(1==this.options.noUseTabKeyByMove&&(this.endReached=!0),"ul"==this.options.tableRender&&!0!==this.options.noUseTabKeyByMove)if(e.shiftKey)if(r>0){for(;0<=r-1&&this._getCellDisabled(r-1)||this._getCellHidden(r-1);)0===--r&&(this.endReached=!0);r>0&&this.setSelectedIndex(r-1)}else!0===this.options.useAccessibilityMenu?this.setSelectedIndex(this.getItemCount()-1):this.endReached=!0;else{n=this.getItemCount();if(document.activeElement==this.render){for(i=0;i+1<n&&this._getCellDisabled(i)||this._getCellHidden(i);)i++;this.setSelectedIndex(i)}else if(i+1<n){for(i++;i+1<=n&&this._getCellDisabled(i)||this._getCellHidden(i);)++i===n&&(this.endReached=!0);i<n&&this.setSelectedIndex(i)}else!0===this.options.useAccessibilityMenu?this.setSelectedIndex(0):this.endReached=!0}}else this.findItemStartedWithKeyChar(e,t),this.options.findItem&&this._keyBuffer&&(f.Z.clearTimeout(this.id+"_selectKeyBuffer"),f.Z.setTimeout((function(){this._keyBuffer=""}),{key:this.id+"_selectKeyBuffer",caller:this,delay:this.options.keyBufferResetTime}));"autoComplete_input"!=this.options.parentPluginName&&"ul"!=this.options.tableRender&&this.render.setAttribute("aria-activedescendant",this.id+"_"+this.getSelectedIndex());var o=f.Z.getDataPrefix("index");if(this.keyDownFunc){if(this.selectedCell){if(this._getCellDisabled())return;void 0===(r=this.selectedCell.index)&&(r=this.selectedCell.getAttribute(o))}this.keyDownFunc.call(this,e,r)}M.f.preventDefault(e)}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.handleKeyupEvent=function(e){try{if(this._directionKeyPressed=!1,this.keyUpFunc&&!this.options.checkbox){var t;if(this.selectedCell){if(this._getCellDisabled())return;t=this.selectedCell.index;var r=f.Z.getDataPrefix("index");void 0===t&&(t=this.selectedCell.getAttribute(r))}this.keyUpFunc.call(this,e,t)}}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.setSelectedIndex=function(e,t){if(this.dom.tds&&0!==this.dom.tds.length){t=t||{};if(e=e<0?0:e>=this.dom.tds.length?this.dom.tds.length-1:e,this.removeClass(this.selectedCell,this.options.w2table_col_over),this.selectedCell=this.dom.tds[e],this.addClass(this.selectedCell,this.options.w2table_col_over),"ul"==this.options.tableRender&&"checkcombobox"!==this.options.parentPluginName&&"autoComplete_input"!==this.options.parentPluginName&&this.selectedCell.childNodes[0]&&this.selectedCell.childNodes[0].focus(),this.selectedCell.offsetTop>this.render.offsetHeight/2){var r=Math.min(this.getItemCount(),this.rowCount),i=this.dom.tds[e-parseInt(r/2)];this.render.scrollTop=i.offsetTop}else this.render.scrollTop=0;this.onchangeFunc&&!0!==t.noChangeFunc&&this.onchangeFunc(e)}},Ce.prototype.getItemCount=function(){return this.dom.tds?this.dom.tds.length:0},Ce.prototype.fireClick=function(e){
try{var t;if(this.selectedCell){if(this._getCellDisabled())return;t=this.selectedCell.index;var r=f.Z.getDataPrefix("index");void 0===t&&(t=this.selectedCell.getAttribute(r))}this.clickFunc.call(this,e,t)}catch(e){u.Y.printStackTrace(e)}},Ce.prototype._getCellDisabled=function(e){try{var t;return(t=isNaN(e)?this.selectedCell:this.dom.tds[e])&&(t.getAttribute("data-wqdisabled")||t.parentNode.getAttribute("data-wqdisabled"))}catch(e){u.Y.printStackTrace(e)}},Ce.prototype._getCellHidden=function(e){try{var t;return(t=isNaN(e)?this.selectedCell:this.dom.tds[e])&&(t.getAttribute("data-wqhidden")||t.parentNode.getAttribute("data-wqhidden"))}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.findItemStartedWithKeyChar=function(e,t){try{if(!1===this.options.useFindItemFirstKeyChar)return;var r=this.keyCharHash[t],i=-1;if(r){var a=this.selectedCell?this.selectedCell.index:-1;this.options.findItem&&(a=0);var n=f.Z.getDataPrefix("index");void 0===a&&this.selectedCell&&!this._getCellDisabled()&&(a=this.selectedCell.getAttribute(n));var o=this.korCharHash[t],s=this.korCharHash2[t],l=1;for(this.options.findItem?this._keyBuffer+=r:(this._keyBuffer=r,a++);;)if(a%=this.dom.tds.length,"none"!==this.dom.tds[a].style.display)if(0!=a||!0!==this.options.chooseOption&&!0!==this.options.allOption)if(0!=a&&1!=a||!0!==this.options.chooseOption||!0!==this.options.allOption){var c=this.dom.tds[a].innerHTML.toLowerCase(),d=!1;o&&!e.shiftKey?d=this.myhelper.startWith(c,o):s&&e.shiftKey&&(d=this.myhelper.startWith(c,s));var p=this.options.findItem?this._keyBuffer:r;if(c.startsWith(p)||d&&f.Z.getBoolean(this.options.findItemKor)){i=a;break}if(c.startsWith(p)){this._keyBuffer="",i=a;break}if(l>this.dom.tds.length)break;a++,l++}else{if(this.dom.tds.length<=2)break;a++}else{if(this.dom.tds.length<=1)break;a++}else a++;i>-1?this.setSelectedIndex(i):this._keyBuffer=""}}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.getSelectedIndex=function(){try{var e=-1;try{if(this.selectedCell&&void 0===(e=this.selectedCell.index)){var t=f.Z.getDataPrefix("index");e=this.selectedCell.getAttribute(t)}}catch(e){u.Y.printStackTrace(e)}return e}catch(e){u.Y.printStackTrace(e,null,this)}},Ce.prototype.hide=function(){try{this.itemTableFocus=!1,WebSquare.style.hide(this.render)}catch(e){u.Y.printStackTrace(e)}},Ce.prototype.getFocusedComponentId=function(){try{return this.id.split("_")[0]}catch(e){u.Y.printStackTrace(e)}},Ce.prototype._encode=function(e){var t=e;try{var r=WebSquare.idCache[this.options.parent_uuid];return t=r&&"function"==typeof r._encode?r._encode(e):WebSquare.xml._encode(e)}catch(e){return u.Y.printStackTrace(e,null,this),t}};var qe=function(e,t,r){te.q.call(this,e,t,r)};o.q.extend(qe.prototype,te.q.prototype),qe.prototype.defaultOptions={pluginType:"uiplugin.gridItemTable",pluginName:"gridItemTable"},qe.prototype.initialize=function(e){try{var t=l.I.getConfiguration("/WebSquare/"+this.options.pluginName+"/overrideKey/@value");t&&(this.options.overrideKey=t);for(var r=[],i=[],a=0;a<this.options.itemsetObj.items.length;a++)if(this.options.itemsetObj.items[a].style){for(var n=this.options.itemsetObj.items[a].style.split(";"),o=!1,s=!1,c=0;c<n.length;c++){if("width"==(p=n[c].split(":"))[0].wq_trim()?(r.push(parseInt(p[1],10)),o=!0):"text-align"==p[0].wq_trim()&&(i.push(p[1]),s=!0),o&&s)break}o||r.push(70),s||i.push("center")}else r.push(70),i.push("center");var d=[];for(a=0;a<this.options.itemsetObj.items.length;a++)if(this.options.itemsetObj.items[a].headerStyle){for(n=this.options.itemsetObj.items[a].headerStyle.split(";"),c=0;c<n.length;c++){var p;if("text-align"==(p=n[c].split(":"))[0].wq_trim()){d.push(p[1]);break}}c==n.length&&d.push("center")}var h=[];for(a=0;a<this.options.itemsetObj.items.length;a++){"true"==this.options.itemsetObj.items[a].hidden?h.push("true"):h.push("false")}for(a=0;a<this.options.itemsetObj.items.length;a++)this.options.itemsetObj.items[a].id||(this.options.itemsetObj.items[a].id=this.id+"_column_body_"+a)
;this.options.gridOptions.visibleRowNum||(this.options.gridOptions.visibleRowNum=this.options.visibleRowNum),this.options.gridOptions.rowNumVisible||(this.options.gridOptions.rowNumVisible=!1),this.options.gridOptions.wheelStop||(this.options.gridOptions.wheelStop=!1),this.options.gridOptions.rowStatusVisible||(this.options.gridOptions.rowStatusVisible=!1),this.options.gridOptions.selectedRowColor||(this.options.gridOptions.selectedRowColor=""),this.options.gridOptions.rowMouseOverColor||(this.options.gridOptions.rowMouseOverColor=""),this.options.gridOptions.tooltipDisplay||(this.options.gridOptions.tooltipDisplay=!1),this.options.gridOptions.tooltipFormatter||(this.options.gridOptions.tooltipFormatter=""),this.options.gridOptions.tooltipShowAlways||(this.options.gridOptions.tooltipShowAlways=!1),this.options.gridOptions.applyAllColumnStyle||(this.options.gridOptions.applyAllColumnStyle=!0),this.options.rowNumVisible=this.options.gridOptions.rowNumVisible,this.options.rowStatusVisible=this.options.gridOptions.rowStatusVisible,this.options.wheelStop=this.options.gridOptions.wheelStop,this.options.tooltipDisplay=this.options.gridOptions.tooltipDisplay,this.options.tooltipFormatter=this.options.gridOptions.tooltipFormatter,this.options.tooltipShowAlways=this.options.gridOptions.tooltipShowAlways,this.options.applyAllColumnStyle=this.options.gridOptions.applyAllColumnStyle,this.options.initFixedHeightByRowNum=this.options.gridOptions.initFixedHeightByRowNum=-1;var g="position : absolute;";!this.options.gridOptions.width&&this.options.gridOptions.parentWidth?this.options.width=parseInt(this.options.gridOptions.parentWidth,10):this.options.width=parseInt(this.options.gridOptions.width,10),this.options.height=parseInt(this.options.gridOptions.height,10);try{isNaN(this.options.height)&&(this.options.height=20*this.options.gridOptions.visibleRowNum),isNaN(this.options.width)&&(this.options.width=f.Z.sum(r)+18)}catch(e){u.Y.printStackTrace(e,null,this)}g+=" width : "+this.options.width+"px;",g+=" height : "+this.options.height+"px;",this.options.style=g;var m=[];m.push('<w2:grid xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms" '),m.push('id="'+this.id+'_grid" style="'+this.options.style+'" class="w2gridItemTable_main" readOnly="true" sortable="false" '),m.push('focusMode="row" enterKeyMove="none" rowStatusVisible="'+this.options.rowStatusVisible+'" rowNumVisible="'+this.options.rowNumVisible+'" rowMouseOver="'+this.options.gridOptions.rowMouseOver+'" visibleRowNum="'+this.options.gridOptions.visibleRowNum+'" autoFit="'+this.options.gridOptions.autoFit+'" hideHeader="'+this.options.gridOptions.hideHeader+'" rowMouseOverColor="'+this.options.gridOptions.rowMouseOverColor+'" selectedRowColor="'+this.options.gridOptions.selectedRowColor+'" tooltipDisplay="'+this.options.gridOptions.tooltipDisplay+'" tooltipFormatter="'+this.options.gridOptions.tooltipFormatter+'" tooltipShowAlways="'+this.options.gridOptions.tooltipShowAlways+'" applyAllColumnStyle="'+this.options.gridOptions.applyAllColumnStyle+'" initFixedHeightByRowNum="'+this.options.gridOptions.initFixedHeightByRowNum+'" drawType="virtual" wheelStop="'+this.options.gridOptions.wheelStop+'">'),m.push('<w2:header style="height:20px;" id="header">'),m.push("<w2:row>");for(a=0;a<this.options.itemsetObj.items.length;a++)m.push('<w2:column inputType="text" style="height:20px;" width="'+r[a]+'" textAlign="'+d[a]+'" id="'+this.id+"_column_header_"+a+'" value="'+(this.options.itemsetObj.items[a].header||"")+'" sortable="false">'),m.push("</w2:column>");m.push("</w2:row>"),m.push("</w2:header>"),m.push('<w2:gBody id="gBody">'),m.push("<w2:row>");for(a=0;a<this.options.itemsetObj.items.length;a++)m.push('<w2:column inputType="text" style="height:20px;" width="'+r[a]+'" textAlign="'+i[a]+'" id="'+this.options.itemsetObj.items[a].id+'" hidden="'+h[a]+'" sortable="false">'),
m.push("</w2:column>");m.push("</w2:row>"),m.push("</w2:gBody>"),m.push("</w2:grid>");var b=WebSquare.xml.parse(m.join(""),!0),y=WebSquare.xmljs.xml2json(b).E[0];this.grid=new WebSquare.uiplugin.grid(this.id+"_grid",{},y),this.addControl(this.grid),this.grid.options.isItemTable=!0,this.inputBlurInside=!1}catch(e){u.Y.printStackTrace(e,null,this)}},qe.prototype.toHTML=function(){var e=[],t=""==this.options.style?"":"style='"+this.options.style+"'";return e.push("<div id='"+this.id+"' aria-expanded='true' "+t+" class='w2gridItemTable "+this.options.className+"'>"),e.push(this.grid.toHTML()),e.push("</div>"),e.join("")},qe.prototype.setAction=function(){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,(function(e){try{this.inputBlurInside=!0,M.f.stopPropagation(e)}catch(e){u.Y.printStackTrace(e)}}))),this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,(function(e){try{M.f.stopPropagation(e)}catch(e){u.Y.printStackTrace(e)}})))},qe.prototype.setFocusedCell=function(e,t){this.inputBlurInside=!0,this.itemTableFocus=!0,this.grid.setFocusedCell(e,t)},qe.prototype.setSelectedIndex=function(e,t){var r=this.grid.getDataLength();if(0!=r){e=e<0?0:e>=r?r-1:e;for(var i=0;i<this.grid._dataList.filteredRowIndexArr.length;i++)if(e==this.grid._dataList.filteredRowIndexArr[i]){e=i;break}var a=this.grid.getVisibleRowNum(),n=e-parseInt(a/2);this.grid.setTopRowIndex(n),t||this.setFocusedCell(e,0)}},qe.prototype.hide=function(){try{this.inputBlurInside=!1,this.itemTableFocus=!1,WebSquare.style.hide(this.render)}catch(e){u.Y.printStackTrace(e)}};var We=function(e,t,r){te.q.call(this,e,t,r)};o.q.extend(We.prototype,te.q.prototype),We.prototype.defaultOptions={pluginType:"uiplugin.gridViewItemTable",pluginName:"gridViewItemTable"},We.prototype.addKeyDownEventListener=function(e){this.keyDownFunc=e},We.prototype.addClickEventListener=function(e){this.clickFunc=e},We.prototype.initialize=function(e){try{var t=l.I.getConfiguration("/WebSquare/"+this.options.pluginName+"/overrideKey/@value");t&&(this.options.overrideKey=t);var r=[],i=[];this.searchFlag=!1;var a=null;if(this.options.gridViewOptions.dataComp){for(var n=this.options.gridViewOptions.dataComp.cellIdList,o=[],s=0;s<n.length;s++){var c={};c.id=n[s],o.push(c)}var d=this.id+"_searchDataList";0==this.searchFlag&&(WebSquare.api.data.create({id:d,type:"dataList",option:{baseNode:"vactor",repeatNode:"list",valueAttribute:""},columnInfo:o}),this.searchFlag=!0),(a=f.Z.getComponentById(d)).setData(this.options.gridViewOptions.dataComp.getAllData())}var p=["font-weight","font-size","font-style","background-color","text-decoration","color"];for(s=0;s<this.options.itemsetObj.items.length;s++)if(this.options.itemsetObj.items[s].style){for(var h=this.options.itemsetObj.items[s].style.split(";"),g=!1,m=!1,b=[],y=0;y<h.length;y++){if("width"==(w=h[y].split(":"))[0].wq_trim())r.push(parseInt(w[1],10)),g=!0;else if("text-align"==w[0].wq_trim())i.push(w[1]),m=!0;else{var S=w[0].wq_trim();p.indexOf(S)>-1&&b.push(h[y])}if(g&&m)break}g||r.push(70),m||i.push("center"),b||(this.options.itemsetObj.items[s].style=b.join(";"))}else r.push(70),i.push("center");var v=[];for(s=0;s<this.options.itemsetObj.items.length;s++)if(this.options.itemsetObj.items[s].headerStyle){for(h=this.options.itemsetObj.items[s].headerStyle.split(";"),b=[],y=0;y<h.length;y++){var w;if("text-align"==(w=h[y].split(":"))[0].wq_trim()){v.push(w[1]);break}S=w[0].wq_trim();p.indexOf(S)>-1&&b.push(h[y])}b||(this.options.itemsetObj.items[s].headerStyle=b.join(";")),y==h.length&&v.push("center")}else v.push("center");var C=[];for(s=0;s<this.options.itemsetObj.items.length;s++){"true"==this.options.itemsetObj.items[s].hidden?C.push("true"):C.push("false")}for(s=0;s<this.options.itemsetObj.items.length;s++)this.options.itemsetObj.items[s].id||(this.options.itemsetObj.items[s].id=this.id+"_column_body_"+s)
;this.options.gridViewOptions.visibleRowNum||(this.options.gridViewOptions.visibleRowNum=this.options.visibleRowNum),this.options.gridViewOptions.rowNumVisible||(this.options.gridViewOptions.rowNumVisible=!1),this.options.gridViewOptions.wheelStop||(this.options.gridViewOptions.wheelStop=!1),this.options.gridViewOptions.rowStatusVisible||(this.options.gridViewOptions.rowStatusVisible=!1),this.options.gridViewOptions.selectedRowColor||(this.options.gridViewOptions.selectedRowColor=""),this.options.gridViewOptions.rowMouseOverColor||(this.options.gridViewOptions.rowMouseOverColor=""),this.options.gridViewOptions.tooltipDisplay||(this.options.gridViewOptions.tooltipDisplay=!1),this.options.gridViewOptions.tooltipFormatter||(this.options.gridViewOptions.tooltipFormatter=""),this.options.gridViewOptions.tooltipShowAlways||(this.options.gridViewOptions.tooltipShowAlways=!1),this.options.gridViewOptions.applyAllColumnStyle||(this.options.gridViewOptions.applyAllColumnStyle=!0),this.options.rowNumVisible=this.options.gridViewOptions.rowNumVisible,this.options.rowStatusVisible=this.options.gridViewOptions.rowStatusVisible,this.options.wheelStop=this.options.gridViewOptions.wheelStop,this.options.tooltipDisplay=this.options.gridViewOptions.tooltipDisplay,this.options.tooltipFormatter=this.options.gridViewOptions.tooltipFormatter,this.options.tooltipShowAlways=this.options.gridViewOptions.tooltipShowAlways,this.options.applyAllColumnStyle=this.options.gridViewOptions.applyAllColumnStyle,this.options.initFixedHeightByRowNum=this.options.gridViewOptions.initFixedHeightByRowNum=-1;var q="position : absolute;";!this.options.gridViewOptions.width&&this.options.gridViewOptions.parentWidth?this.options.width=this.options.gridViewOptions.parentWidth:this.options.width=this.options.gridViewOptions.width,this.options.height=this.options.gridViewOptions.height;try{isNaN(parseInt(this.options.height,10))&&(this.options.height=20*this.options.gridViewOptions.visibleRowNum),isNaN(parseInt(this.options.width,10))&&(this.options.width=f.Z.sum(r)+18)}catch(e){u.Y.printStackTrace(e,null,this)}this.options.width+="",this.options.height+="",q+=" width : "+(-1!==this.options.width.indexOf("%")?this.options.width+";":parseInt(this.options.width,10)+"px;"),q+=" height : "+(-1!==this.options.height.indexOf("%")?this.options.height+";":parseInt(this.options.height,10)+"px;"),this.options.style=q;var W=[];W.push('<w2:gridView xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms" '),W.push('id="'+this.id+'_gridView" style="width:100%; height:100%;" class="w2gridViewItemTable_main" readOnly="false" sortable="false" '),W.push('focusMode="row" enterKeyMove="none" rowStatusVisible="'+this.options.rowStatusVisible+'" rowNumVisible="'+this.options.rowNumVisible+'" rowMouseOver="'+this.options.gridViewOptions.rowMouseOver+'" visibleRowNum="'+this.options.gridViewOptions.visibleRowNum+'" autoFit="'+this.options.gridViewOptions.autoFit+'" hideHeader="'+this.options.gridViewOptions.hideHeader+'" rowMouseOverColor="'+this.options.gridViewOptions.rowMouseOverColor+'" selectedRowColor="'+this.options.gridViewOptions.selectedRowColor+'" tooltipDisplay="'+this.options.gridViewOptions.tooltipDisplay+'" tooltipFormatter="'+this.options.gridViewOptions.tooltipFormatter+'" tooltipShowAlways="'+this.options.gridViewOptions.tooltipShowAlways+'" applyAllColumnStyle="'+this.options.gridViewOptions.applyAllColumnStyle+'" initFixedHeightByRowNum="'+this.options.gridViewOptions.initFixedHeightByRowNum+'" drawType="virtual" wheelStop="'+this.options.gridViewOptions.wheelStop+'">'),W.push('<w2:header style="height:20px;" id="header">'),W.push("<w2:row>");for(s=0;s<this.options.itemsetObj.items.length;s++){var _=' style="height:20px;';(x=this.options.itemsetObj.items[s]).headerStyle&&(_+=this.options.itemsetObj.items[s].headerStyle),
W.push('<w2:column inputType="text"'+_+'" width="'+r[s]+'" textAlign="'+v[s]+'" id="'+this.id+"_column_header_"+s+'" value="'+(this.options.itemsetObj.items[s].header||"")+'">'),W.push("</w2:column>")}W.push("</w2:row>"),W.push("</w2:header>"),W.push('<w2:gBody id="gBody">'),W.push("<w2:row>");for(s=0;s<this.options.itemsetObj.items.length;s++){var x,I="text",T="",k="";(x=this.options.itemsetObj.items[s]).inputType&&(I=x.inputType),x.depthColumn&&(T='" depthColumn = "'+x.depthColumn),x.showDepth&&(k='" showDepth = "'+x.showDepth);var L=parseInt(this.options.gridViewOptions.checkColumn)===s&&"checkbox"===I?"false":"true";W.push('<w2:column inputType = "'+I+T+k+'" style="height:20px;'+this.options.itemsetObj.items[s].style+'" width="'+r[s]+'" textAlign="'+i[s]+'" id="'+this.options.itemsetObj.items[s].ref+'" hidden="'+C[s]+'" readOnly="'+L+'" sortable="false">'),W.push("</w2:column>")}W.push("</w2:row>"),W.push("</w2:gBody>"),W.push("</w2:gridView>");var A=WebSquare.xml.parse(W.join(""),!0);this.gridView=new WebSquare.uiplugin.gridView(this.id+"_gridView",{dataList:null==a?"":a.id},new WebSquare.Elem(A.firstChild)),this.gridView.options.isItemTable=!0,this.addControl(this.gridView),this.inputBlurInside=!1,this._keyBuffer="",this.keyCharHash={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",110:".",111:"/",106:"*",107:"+",109:"-",187:"=",189:"-",192:"`","220 ":"\\"},this.korCharHash={65:"ㅁ",67:"ㅊ",68:"ㅇ",69:"ㄷ",70:"ㄹ",71:"ㅎ",81:"ㅂ",82:"ㄱ",83:"ㄴ",84:"ㅅ",86:"ㅍ",87:"ㅈ",88:"ㅌ",90:"ㅋ"},this.korCharHash2={69:"ㄸ",81:"ㅃ",82:"ㄲ",84:"ㅆ",87:"ㅉ"},this.myhelper=new WebSquare.korHelper}catch(e){u.Y.printStackTrace(e,null,this)}},We.prototype.toHTML=function(){var e=[],t=""==this.options.style?"":"style='"+this.options.style+"'";return e.push("<div id='"+this.id+"' aria-expanded='true' "+t+" class='w2gridItemTable "+this.options.className+" "+this.options.w2table+"'>"),1==this.options.navBtn?(e.push("<div id='"+this.id+"_wrapper' aria-expanded='true' "+t+"' tabIndex='0'>"),e.push(this.gridView.toHTML()),e.push("</div>"),e.push("<div id='"+this.id+"_btn_div' style='' class='w2checkcombobox_btn_div'>"),e.push("</div>")):e.push(this.gridView.toHTML()),e.push("</div>"),e.join("")},We.prototype.setAction=function(){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,(function(e){try{this.inputBlurInside=!0,M.f.stopPropagation(e)}catch(e){u.Y.printStackTrace(e)}}))),this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,(function(e){try{M.f.stopPropagation(e)}catch(e){u.Y.printStackTrace(e)}}))),f.Z.isTouchDevice()&&this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,(function(e){try{this.inputBlurInside=!0,M.f.stopPropagation(e)}catch(e){u.Y.printStackTrace(e)}}))),this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent))},We.prototype.setFocusedCell=function(e,t){this.inputBlurInside=!0,this.options.findItemFirstKey,this.gridView.setFocusedCell(e,t)},We.prototype.setSelectedIndex=function(e,t){var r=this.gridView.getDataLength();if(0!=r){this.gridView.getVisibleRowNum();t||this.setFocusedCell(e,this.options.gridViewOptions.label)}},We.prototype.getSelectedIndex=function(){try{return this.gridView.getFocusedRowIndex()}catch(e){u.Y.printStackTrace(e)}},We.prototype.hide=function(){try{this.inputBlurInside=!1,WebSquare.style.hide(this.render)}catch(e){u.Y.printStackTrace(e)}},We.prototype.finalize=function(){try{this.gridView&&this.gridView._dataList&&WebSquare.DataCollection.api.remove(this.gridView._dataList.id)}catch(e){u.Y.printStackTrace(e)}},We.prototype.handleKeydownEvent=function(e){try{
var t=e.charCode?e.charCode:e.keyCode,r=this.getSelectedIndex();r=parseInt(r);var i=this.gridView.getRowCount(),a=r;if(38==t){var n=!1;for(a>0?0!=--a||this.gridView.getRowVisible(a)||(a--,n=!0):n=!0;a>0&&!this.gridView.getRowVisible(a);)a--;a>=0&&this.setSelectedIndex(a),this._keyIndex=n?-1:a,this._directionKeyPressed=!0}else if(40==t){var o=this.getItemCount();n=!1;for(a+1<i?++a+1!=o||this.gridView.getRowVisible(a)||(a++,n=!0):n=!0;a+1<i&&!this.gridView.getRowVisible(a);)a++;a<i&&(this.gridView.getRowVisible(a)?this.setSelectedIndex(a):a++),this._keyIndex=n?o:a,this._directionKeyPressed=!0}else if(32==t){if(this.options.checkbox)document.getElementById(this.id+"_"+r+"_checkbox").click()}else if(33==t){(a=r-this.rowCount)<0&&(a=0),this.setSelectedIndex(a),this._directionKeyPressed=!0}else if(34==t){(a=r+this.rowCount)>=i&&(a=i-1),this.setSelectedIndex(a),this._directionKeyPressed=!0}else 35==t?(this.setSelectedIndex(i-1),this._directionKeyPressed=!0):36==t?(this.setSelectedIndex(0),this._directionKeyPressed=!0):13==t?this._directionKeyPressed=!1:9==t?"ul"==this.options.tableRender&&(e.shiftKey?r>0?this.setSelectedIndex(r-1):this.endReached=!0:document.activeElement==this.render?this.setSelectedIndex(0):r+1<i?this.setSelectedIndex(r+1):this.endReached=!0):(this.findItemStartedWithKeyChar(e,t,r),this.options.findItem&&this._keyBuffer&&(f.Z.clearTimeout(this.id+"_selectKeyBuffer"),f.Z.setTimeout((function(){this._keyBuffer=""}),{key:this.id+"_selectKeyBuffer",caller:this,delay:this.options.keyBufferResetTime})));this.render.setAttribute("aria-activedescendant",this.id+"_"+this.getSelectedIndex()),this.keyDownFunc&&this.keyDownFunc(e),M.f.stopEvent(e)}catch(e){u.Y.printStackTrace(e)}},We.prototype.fireClick=function(e){try{var t,r=this.gridView.getLastFocusedCell();r&&(t=r.focusedRowIndex),this.clickFunc.call(this,e,t)}catch(e){u.Y.printStackTrace(e)}},We.prototype.findItemStartedWithKeyChar=function(e,t,r){try{var i=this.keyCharHash[t],a=-1;if(i){var n=this.gridView.getLastFocusedCell(),o=n?n.focusedRowIndex:-1;this.options.findItem&&(o=0);var s=this.korCharHash[t],l=this.korCharHash2[t],c=1;this.options.findItem?this._keyBuffer+=i:(this._keyBuffer=i,o++);for(var d=this.gridView.getRowCount();;)if(o%=d,!1!==this.gridView.getRowVisible(o))if(0!=o||!0!==this.options.chooseOption&&!0!==this.options.allOption)if(0!=o&&1!=o||!0!==this.options.chooseOption||!0!==this.options.allOption){var p=this.options.gridViewOptions.label,h=this.gridView.getCellData(o,p).toLowerCase(),g=!1;s&&!e.shiftKey?g=this.myhelper.startWith(h,s):l&&e.shiftKey&&(g=this.myhelper.startWith(h,l));var m=this.options.findItem?this._keyBuffer:i;if(h.startsWith(m)||g&&f.Z.getBoolean(this.options.findItemKor)){a=o;break}if(h.startsWith(m)){this._keyBuffer="",a=o;break}if(c>d)break;o++,c++}else{if(d<=2)break;o++}else{if(d<=1)break;o++}else o++;a>-1?this.setSelectedIndex(a):this._keyBuffer=""}}catch(e){u.Y.printStackTrace(e)}},We.prototype.getItemCount=function(){return this.gridView.getRowCount()},We.prototype._focus=function(){try{var e=WebSquare.idCache[this.options.parent_uuid];if(e&&"autoComplete"===e._wTagName)if(e._parentGridUUID)WebSquare.idCache[e._parentGridUUID]._setFocusedCell();else e.focus()}catch(e){u.Y.printStackTrace(e)}};var _e=function(e,t,r){r=r||{};this.displayFormat="yyyyMMdd",this.dayStrArr=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],this.monthDays=[31,28,31,30,31,30,31,31,30,31,30,31],this.year=null,this.month=null,this.date=null,this.day=null,this.hour=null,this.minute=null,this.second=null,this.useUnlimitedYear=r.useUnlimitedYear,this.maxYear=r.maxYear,this.setToday(e,t)};_e.prototype.setToday=function(e,t,r){var i,a;r=r||{};if(e&&1==e)if(i="everyTime"===r.serverSyncType?this.getServerDate():this._getServerDate(t)){var n="",o="",s="";8==i.length&&(n=i.substr(0,4),o=i.substr(4,2),s=i.substr(6,2)),a=new Date(parseInt(n),parseInt(o,10)-1,parseInt(s,10))}else a=new Date;else a=new Date;this.year=a.getFullYear(),
this.month=a.getMonth()+1,this.date=a.getDate(),this.hour=a.getHours(),this.minute=a.getMinutes(),this.second=a.getSeconds()},_e.prototype.setYear=function(e){this.year=parseInt(e)},_e.prototype.setMonth=function(e){this.month=parseInt(e)},_e.prototype.setDate=function(e){this.date=parseInt(e)},_e.prototype.setDateAll=function(e,t,r,i,a,n){if(e&&this.setYear(e),e&&t)if(i){a=a||0;var o=new Date(parseInt(e),parseInt(t)-1,parseInt(r),parseInt(i),parseInt(a));this.year=o.getFullYear(),this.month=o.getMonth()+1,this.date=o.getDate(),this.hour=o.getHours(),this.minute=o.getMinutes(),n&&(o=new Date(parseInt(e),parseInt(t)-1,parseInt(r),parseInt(i),parseInt(a),parseInt(n)),this.year=o.getFullYear(),this.month=o.getMonth()+1,this.date=o.getDate(),this.hour=o.getHours(),this.minute=o.getMinutes(),this.second=o.getSeconds())}else if(r){o=new Date(parseInt(e),parseInt(t)-1,parseInt(r));this.year=o.getFullYear(),this.month=o.getMonth()+1,this.date=o.getDate()}else{o=new Date(parseInt(e),parseInt(t)-1);this.year=o.getFullYear(),this.month=o.getMonth()+1}},_e.prototype.setDateAllByString=function(e){if(e&&8==e.length){var t=e.substr(0,4);"0"==(a=e.substr(4,2)).charAt(0)&&(a=a.charAt(1)),"0"==(n=e.substr(6,2)).charAt(0)&&(n=n.charAt(1)),this.setDateAll(t,a,n)}else if(e&&12==e.length){t=e.substr(0,4);"0"==(a=e.substr(4,2)).charAt(0)&&(a=a.charAt(1)),"0"==(n=e.substr(6,2)).charAt(0)&&(n=n.charAt(1)),"0"==(o=e.substr(8,2)).charAt(0)&&(o=o.charAt(1)),"0"==(r=e.substr(10,2)).charAt(0)&&(r=r.charAt(1)),this.setDateAll(t,a,n,o,r)}else if(e&&6==e.length){t=e.substr(0,4);"0"==(a=e.substr(4,2)).charAt(0)&&(a=a.charAt(1)),this.setDateAll(t,a)}else if(e&&14==e.length){var r;t=e.substr(0,4);"0"==(a=e.substr(4,2)).charAt(0)&&(a=a.charAt(1)),"0"==(n=e.substr(6,2)).charAt(0)&&(n=n.charAt(1)),"0"==(o=e.substr(8,2)).charAt(0)&&(o=o.charAt(1)),"0"==(r=e.substr(10,2)).charAt(0)&&(r=r.charAt(1));var i=e.substr(12,2);"0"==i.charAt(0)&&(i=i.charAt(1)),this.setDateAll(t,a,n,o,r,i)}else if(e&&10==e.length){var a,n,o;t=e.substr(0,4);"0"==(a=e.substr(4,2)).charAt(0)&&(a=a.charAt(1)),"0"==(n=e.substr(6,2)).charAt(0)&&(n=n.charAt(1)),"0"==(o=e.substr(8,2)).charAt(0)&&(o=o.charAt(1)),this.setDateAll(t,a,n,o)}else e&&4==e.length&&this.setYear(e)},_e.prototype.getYear=function(){return this.year},_e.prototype.getMonth=function(){return this.month},_e.prototype.getDate=function(){return this.date},_e.prototype.getHour=function(){return this.hour},_e.prototype.getMinute=function(){return this.minute},_e.prototype.getSecond=function(){return this.second},_e.prototype.getDateAll=function(){var e=this.year+"",t=this.month+"",r=this.date+"";return 1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),e+t+r},_e.prototype.getFormatDateAll=function(e){var t="";t=e&&""!=e?e:this.displayFormat;var r=this.getDateAll();return r=WebSquare.text.formatDate(r,t)},_e.prototype.getDay=function(){var e=new Date(parseInt(this.year),parseInt(this.month)-1,parseInt(this.date));return this.day=e.getDay(),this.day},_e.prototype.getDayStr=function(e,t){return(t=t||this.dayStrArr)[e]?t[e]:""},_e.prototype.getMonthCount=function(e,t){e=e||this.getYear(),t=t||this.getMonth();return this.setLeapYear(e),this.monthDays[t-1]},_e.prototype.getFirstDay=function(){var e=new WebSquare.uiplugin.dateHelper;return e.setDateAll(this.getYear(),this.getMonth(),1),e.getDay()},_e.prototype.getFirstDayStr=function(e){var t=new WebSquare.uiplugin.dateHelper;return t.setDateAll(this.getYear(),this.getMonth(),1),t.getDayStr(e)},_e.prototype.setLeapYear=function(e){this.monthDays[1]=(e%4||!(e%100))&&e%400?28:29},_e.prototype.getLeapYear=function(e){return!(e%4)&&e%100||!(e%400)},_e.prototype.equals=function(e){return this.getYear()==e.getYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()},_e.prototype.setNextYear=function(){var e=this.getYear();this.useUnlimitedYear&&e==this.maxYear?this.setYear("9999"):this.setYear(e+1),this._checkValidDate()},_e.prototype.setLastYear=function(){var e=this.getYear()
;this.useUnlimitedYear&&"9999"==e?this.setYear(this.maxYear):this.setYear(e-1),this._checkValidDate()},_e.prototype.setNextMonth=function(){var e=this.getYear(),t=this.getMonth();t<12?this.setMonth(t+1):(this.useUnlimitedYear&&e==this.maxYear?this.setYear("9999"):this.setYear(e+1),this.setMonth(1)),this._checkValidDate()},_e.prototype.setLastMonth=function(){var e=this.getYear(),t=this.getMonth();t>1?this.setMonth(t-1):(this.useUnlimitedYear&&"9999"==e?this.setYear(this.maxYear):this.setYear(e-1),this.setMonth(12)),this._checkValidDate()},_e.prototype._checkValidDate=function(){var e=this.getDate(),t=this.getMonthCount();e>t&&this.setDate(t)},_e.prototype.getServerDate=function(e){return WebSquare.date.getCurrentServerDate(e)},_e.prototype._getServerDate=function(e){try{var t,r="";return e||(e="wq_main"),null==WebSquare.uiplugin.dateHelper._currentDate?WebSquare.uiplugin.dateHelper._currentDate={}:t=WebSquare.uiplugin.dateHelper._currentDate[e],"string"==typeof t&&8===t.length?r=WebSquare.uiplugin.dateHelper._currentDate[e]:(r=this.getServerDate(),WebSquare.uiplugin.dateHelper._currentDate[e]=r),r}catch(e){u.Y.printStackTrace(e,null,this)}};var xe=__webpack_require__(8683),Ie=__webpack_require__(4129),Te=function(e,t,r){if(this.parentControl=null,this.childControlList=[],this.element=r,this.options={},1==r.nodeType){this.id=r.getAttribute("id"),this.uuid=WebSquare.UUIDPrefix+"_"+WebSquare.UUID++,this.id||(this.element._element.A||(this.element._element.A={}),this.element.setAttribute("id",this.uuid),this.id=this.uuid,this.options.id=this.uuid),WebSquare.idCache[this.uuid]=this,WebSquare.idToUUID[this.id]=this.uuid;var i=f.Z.getBoolean(l.I.getConfiguration("/WebSquare/parseHtml/@value")||"true");this.options.parseChild="w2:tag"==this.element.getTagName()||i}this.refreshAdaptive=Ie.A.prototype.refreshAdaptive};o.q.extend(Te.prototype,xe.A.prototype),Te.idCounter=0,Te.prototype.toHTML=function(){var e=this.element.getTagName(),t=l.I.getEmptyTag(),r=null;if("w2:tag"==e?r=this.setTag():"td"==e&&this.setTd(),this.options.parseChild&&!t[e.toLowerCase()]){var i,a=this.element.getAttributes();if(1==this.element.nodeType)if("w2:tag"!=e){for(var n="<"+e,o=0;o<a.length;o++)n+=" "+a[o]+"='"+this.element.getAttribute(a[o])+"'";n+=">"}else n=r,e=this.element.getAttribute("tagname")||"div";i="</"+e+">";var s=[n];if(0==n.toLowerCase().wq_trim().indexOf("<script ")){var u=this.setScript();0!=u&&s.push(u)}else{var c=this.getChildren();for(o=0;o<c.length;o++)s.push(c[o].toHTML())}return s.push(i),s.join("")}a=this.element.getAttributes();r="<"+e+" xmlns='"+l.I._XML_NAMESPACE.XHTML+"' ";for(o=0;o<a.length;o++)r+=a[o]+"="+this.element.getAttribute(a[o])+" ";return r+="/>",this.options.parseChild&&(r.endsWith("/>")||((r=r.substring(0,r.indexOf(">"))).endsWith(" ")?r+="/>":r+=" />")),3==this.element.nodeType?this.element.getNodeValue():r},Te.prototype.setTag=function(){try{var e=null,t=this.element.getAttribute("tagname")||"div";if(this.element.getAttribute("tagname")){this.element.removeAttribute("tagname");var r=this.element.getAttributes();e="<"+t+" xmlns:w2='"+l.I._XML_NAMESPACE.W2+"' ";for(var i=0;i<r.length;i++)e+=r[i]+"='"+this.element.getAttribute(r[i])+"' ";this.element.setAttribute("tagname",t)}else{r=this.element.getAttributes();e="<div xmlns:w2='"+l.I._XML_NAMESPACE.W2+"' ";for(i=0;i<r.length;i++)e+=r[i]+"='"+this.element.getAttribute(r[i])+"' "}return e+=">",this.options.parseChild&&!this.id&&(this.id="w2tag_"+Te.idCounter++,this.element.setAttribute("id",this.id)),e}catch(e){u.Y.printStackTrace(e,null,this)}},Te.prototype.setScript=function(){try{var e=this.getParentNode(),t=e&&e.getTagName()||"";if(!(t.indexOf("xf")<0&&t.indexOf("w2")<0))return!1;var r=this.element.getChildNodes()[0]||{};if(3===r.nodeType||4===r.nodeType){var i=r.getNodeValue(),a=WebSquare.idCache[this.parentFrame];return i=a?f.Z.scopingFuncBody(i,a.id,!0):f.Z.scopingFuncBody(i,null,!0),
"executed"===WebSquare.scriptSectionExcuteFlag||"preExecuted"===WebSquare.scriptSectionExcuteFlag?WebSquare.BootLoader.globalEval(i):WebSquare.scriptSection+=";"+i,i}}catch(e){u.Y.printStackTrace(e,null,this)}},Te.prototype.setTd=function(){try{for(var e=this.element.getAttribute("id"),t=this.getSiblingNodes(),r=null,i=0;i<t.length;i++)t[i].getAttribute("id")==e&&(r=i-1);var a=null;r>-1?"th"==t[r].getTagName()&&null!=t[r]._element.E&&(a=t[r].getChildNodes()[0]):r+=1,null!=a&&a.getTagName;var n=(null==a?t[r].getNodeValue():"w2:textbox"==a.getTagName()?a.getAttribute("label"):a.getNodeValue())||"";this.element.setAttribute("data-title",n)}catch(e){u.Y.printStackTrace(e,null,this)}},Te.prototype.activate=function(){if(this.options.parseChild){for(var e=this.getChildren(),t=0;t<e.length;t++)e[t].activate();if("td"==this.element.getTagName()){var r=this.element.getAttribute("id"),i=this.getSiblingNodes(),a=null;for(t=0;t<i.length;t++)if(i[t].getAttribute("id")==r){a=t-1;break}a>-1?"th"!=i[a].getLocalName()&&this.addClass(" w2tb_noTH"):this.addClass(" w2tb_noTH")}}},Te.prototype.setAction=function(){},Te.prototype.remove=function(){try{for(var e in this.destroy(),WebSquare.removeNode(this.render),window[this.id]&&(window[this.id]=null),WebSquare.getBody().childControlList)WebSquare.getBody().childControlList[e]==this&&WebSquare.getBody().childControlList.splice(e,1);for(var e in this)delete this[e]}catch(e){u.Y.printStackTrace(e,null,this)}},Te.prototype.setAdaptive=function(){try{var e=WebSquare.BootLoader.fullViewed||!1,t=f.Z.fullViewed||!1;if(!e&&!t){var r=parseInt(this.element.getAttribute("adaptiveThreshold"))||480;f.Z.isIE()&&parseInt(l.I.browserVersion(),10)<10||(f.Z._getBrowserWidth()<=r?this.addAdaptive():this.removeAdaptive())}}catch(e){u.Y.printStackTrace(e)}},Te.prototype.addAdaptive=function(){try{if(!(f.Z.isIE()&&parseInt(l.I.browserVersion(),10)<10)){var e,t=this.element.getAttribute("adaptive");"layout"==t?e=" w2tb_adaptive_layout":"crosstab"==t&&(e=" w2tb_adaptive_crosstab"),this.addClass(e),this.removeAdaptiveHeight(t),this.setAdaptiveHeight(t)}}catch(e){u.Y.printStackTrace(e)}},Te.prototype.removeAdaptive=function(){try{if(!(f.Z.isIE()&&parseInt(l.I.browserVersion(),10)<10)){var e,t=this.element.getAttribute("adaptive");"layout"==t?e=" w2tb_adaptive_layout":"crosstab"==t&&(e=" w2tb_adaptive_crosstab"),this.removeClass(e),this.removeAdaptiveHeight(t)}}catch(e){u.Y.printStackTrace(e)}},Te.prototype.addClass=function(e){try{for(var t=document.getElementById(this.id).className.wq_trim(),r=t.split(" "),i=0;i<r.length;i++){if((" "+r[i].wq_trim()+" ").indexOf(e)>-1&&i==r.length-1)return}r.length>1&&(t+=" "),t+=e,document.getElementById(this.id).className=t}catch(e){u.Y.printStackTrace(e)}},Te.prototype.removeClass=function(e){try{for(var t=document.getElementById(this.id).className.split(" "),r=[],i=0;i<t.length;i++){var a=t[i].wq_trim();(" "+a+" ").indexOf(e)>-1||a.length>0&&r.push(a)}document.getElementById(this.id).className=r.join(" ")}catch(e){u.Y.printStackTrace(e)}},Te.prototype.setDisabled=function(e){for(var t=0;t<this.childControlList.length;t++){var r=this.childControlList[t];r&&WebSquare.idCache[r.uuid]&&"function"==typeof r.setDisabled&&r.setDisabled(e)}},Te.prototype.finalize=function(){},Te.prototype.setAdaptiveHeight=function(e){try{if("crosstab"==e)for(var t=document.getElementById(this.id).getElementsByClassName("w2tb_th"),r=document.getElementById(this.id).getElementsByTagName("tbody")[0].getElementsByClassName("w2tb_tr"),i=document.getElementById(t[0].id),a=parseInt(WebSquare.style.getStyle(i,"padding-top")),n=parseInt(WebSquare.style.getStyle(i,"padding-bottom")),o=document.getElementById(document.getElementById(this.id).getElementsByClassName("w2tb_td")[0].id),s=parseInt(WebSquare.style.getStyle(o,"padding-top")),l=parseInt(WebSquare.style.getStyle(o,"padding-bottom")),c=0;c<t.length;c++){
for(var d=t[c].offsetHeight,p=0,h=0;h<r.length;h++)for(var g=r[h].getElementsByClassName("w2tb_td"),m=0;m<g.length;m++){var b=g[c].offsetHeight;p=p>=b?p:b}if(d>p)for(var y=0;y<r.length;y++){g=r[y].getElementsByClassName("w2tb_td");document.getElementById(g[c].id).style.height=d-(s+l+1)+"px"}else if(d<p){document.getElementById(t[c].id).style.height=p-(a+n+1)+"px";for(y=0;y<r.length;y++){g=r[y].getElementsByClassName("w2tb_td");document.getElementById(g[c].id).style.height=p-(a+n+1)+"px"}}}else if("layout"==e)for(g=document.getElementById(this.id).getElementsByClassName("w2tb_td"),c=0;c<g.length;c++){var S=g[c].getAttribute("data-title");if(S){var v=f.Z.getRulerSpan();v.style.padding=window.getComputedStyle(g[c],":before").getPropertyValue("padding"),v.style.width=window.getComputedStyle(g[c],":before").getPropertyValue("width"),v.style["white-space"]=window.getComputedStyle(g[c],":before").getPropertyValue("white-space"),v.style["font-weight"]=window.getComputedStyle(g[c],":before").getPropertyValue("font-weight"),v.innerHTML=S,v.offsetHeight>g[c].offsetHeight&&(g[c].style.height=v.offsetHeight+"px"),v.style.top="-10000px",v.style.left="-10000px",v.style.visibility="hidden"}}}catch(e){u.Y.printStackTrace(e)}},Te.prototype.removeAdaptiveHeight=function(e){try{if("crosstab"==e){for(var t=document.getElementById(this.id).getElementsByClassName("w2tb_th"),r=document.getElementById(this.id).getElementsByClassName("w2tb_td"),i=0;i<t.length;i++)t[i].style.removeProperty("height");for(var a=0;a<r.length;a++)r[a].style.removeProperty("height")}else if("layout"==e)for(r=document.getElementById(this.id).getElementsByClassName("w2tb_td"),i=0;i<r.length;i++)r[i].style.removeProperty("height")}catch(e){u.Y.printStackTrace(e)}},Te.prototype.onComplete=function(){if(this.completed)$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);else{var e=this.childControlList;"wframe"!==this.options.pluginName&&"pageFrame"!==this.options.pluginName&&"pageInherit"!==this.options.pluginName&&"udc2"!==this.options.pluginName||null==e[0]||(e=[]);for(var t=0;t<e.length;t++)e[t].completed||"function"!=typeof e[t].onComplete||e[t].onComplete();if(this.completed=!0,!(f.Z.isIE()&&parseInt(l.I.browserVersion(),10)<10)&&3!==this.element.nodeType){var r=this.element.getAttribute("adaptive");if("crosstab"==r||"layout"==r){var i=document.getElementById(this.id).getElementsByTagName("tr");for(t=0;t<i.length;t++){var a=i[t].className;-1==a.indexOf("w2selectbox_row")&&-1==a.indexOf("w2checkcombobox_row")&&-1==a.indexOf("w2tb_tr")&&(i[t].className=a+" w2tb_tr")}var n=WebSquare.BootLoader.fullViewed||!1,o=f.Z.fullViewed||!1;n||o||(this.setAdaptive(),M.f.addListener(window,"onresize",M.f.bindAsEventListener(this,this.setAdaptive)));var s=document.getElementById(this.id).getElementsByClassName("w2inputCalendar_div");for(t=0;t<s.length;t++){var u=s[t].id;f.Z.getComponentById(u).setSetting()}}}}},Te.prototype._clone=function(e){try{var t=f.Z.getDataPrefix("g_index"),r=f.Z._copyOptions(this.options);3!==e.nodeType&&(r.id=e.getAttribute("id")||null,r[t]=e.getAttribute(t)),e.constructor===WebSquare.Elem&&e._element&&(e=e._element);var i=WebSquare.controlFactory.create(null,r,e,this.scope_obj,this.parentFrame,!1);return i.attributes=this.attributes,i.getAttributeNode=this.getAttributeNode,i.setAttributeNode=this.setAttributeNode,i.removeAttributeNode=this.removeAttributeNode,i}catch(e){u.Y.printStackTrace(e,null,this)}},Te.prototype._cloneRecursive=function(e){try{if(!e&&!this.element)return;return this._clone(e||this.element)}catch(e){u.Y.printStackTrace(e,null,this)}},Te.prototype.getParentNode=function(){try{if(this.parentControl&&this.parentControl.element&&this.parentControl.element.constructor===WebSquare.Elem)return this.parentControl.element}catch(e){u.Y.printStackTrace(e,null,this)}},Te.prototype.getSiblingNodes=function(){try{var e=[],t=this.getParentNode();return t&&(e=t.getChildNodes()),e}catch(e){u.Y.printStackTrace(e,null,this)}}
;var ke=__webpack_require__(1731),Le=function(e,t,r){this.id=e,this.options=t,this.element=r};o.q.extend(Le.prototype,te.q.prototype),Le.prototype._initImport=function(){var e=o.q.UUIDPrefix,t=o.q.UUID;o.q.UUIDPrefix="wq_popup",te.q.call(this,this.id,this.options,this.element),o.q.UUIDPrefix=e,o.q.UUID=t},o.q._initImportList.push("uiplugin.popup"),Le.prototype.defaultOptions={pluginType:"uiplugin.popup",pluginName:"popup",useConfig:!0,popupName:""},Le.prototype.initialize=function(e){try{this.popupList=[],this.popupParams={},this._zIndex=-1,this._status="idle"}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.toHTML=function(){try{return""}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.setAction=function(){},Le.prototype.createPopup=function(e,t,r,i,a,n,o,s,l,c,d,p,h,f,g,m,b){try{this.openPopup(o,{id:e,type:t,popupName:r,style:i,useIFrame:a,modal:n,srcORurl:o,srcData:s,destData:l,xml:c,popupUrl:d||"popup.html",dataObject:p,frameMode:h||"iframe",useATagBtn:f,disableCloseButton:g,alwaysOnTop:m,fixPosition:b})}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.openPopup=function(e,t,r,i){try{"iframePopup"==t.type?(t.type="litewindow",t.frameMode="iframe"):"wframePopup"==t.type?(t.type="litewindow",t.frameMode="wframe"):"browserPopup"==t.type?t.type="browser":"pageFramePopup"==t.type&&(t.type="litewindow",t.frameMode="pageFrame"),t.id&&t.scope_uuid&&WebSquare.idCache[t.scope_uuid]&&(t.org_id=t.id,t.id=WebSquare.idCache[t.scope_uuid].id+"_"+t.org_id);var a=f.Z.getBoolean(l.I.getConfiguration("/WebSquare/popup/denyConflictPopupId/@value"));if(t.useIFrame+""=="true"&&"browser"!=t.type||!0===a&&"litewindow"==t.type){if(window[t.id])return;window[t.id]=t.id}if("iframe"!==t.frameMode||WebSquare.uiplugin.iframe)this._openPopupAfter(e,t,r,i);else requires("uiplugin.iframe").then(function(e,t,r,i,a){return function(n,o){e._openPopupAfter(t,r,i,a)}}(this,e,t,r,i))}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype._openPopupAfter=function(e,t,r,i){try{var a=new WebSquare.uiplugin.popupWindow(t.id,t,r);e=WebSquare.BootLoader._getEncodeURL(e),a.open(e,i),this.startChkModalClosed(),f.Z.setInterval(this.startChkModalClosed,{key:this.id+"_startChkModalClosed",caller:this,delay:500})}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.getPopupParam=function(){try{var e=WebSquare.net.getParameter("popupID"),t=l.I._getParentObj();if(t&&t.WebSquare.dataObject[e]){var r=t.WebSquare.dataObject[e].name;if(WebSquare.userData[r])return l.I.isXML(WebSquare.userData[r])?WebSquare.xml.serialize(WebSquare.userData[r]):JSON.stringify(WebSquare.userData[r])}else if(null!=WebSquare.net.getParameter("idx")&&""!=WebSquare.net.getParameter("idx")){var i=WebSquare.net.getParameter("idx");return t.WebSquare.uiplugin.popup.popupParams[i]}return null}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.callClose=function(e,t){try{for(var r=0;r<this.popupList.length;r++)if(this.popupList[r]&&this.popupList[r].id==e&&!1!==this.popupList[r].close(t)){if("browser"===this.popupList[r].options.type){var i=WebSquare.idCache[this.popupList[r]._parentFrameUUID];i?i.hideFrameModal(this.popupList[r].id):WebSquare.getBody().hideModal(!1,this.popupList[r].id)}this._deletePopup(r)}}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.removeFromPopupList=function(e){try{for(var t=0;t<this.popupList.length;t++)this.popupList[t]&&this.popupList[t].id==e&&this._deletePopup(t)}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.startChkModalClosed=function(){try{for(var e=!1,t=0;t<this.popupList.length;t++)if(this.popupList[t]&&(e=!0),this.popupList[t]&&this.popupList[t].popupWin&&this.popupList[t].popupWin.closed){if(this.popupList[t]._parentFrameUUID&&this.popupList[t]._parentFrameUUID!==(WebSquare.strictModeFrame?WebSquare.strictModeFrame.uuid:"")){var r=WebSquare.idCache[this.popupList[t]._parentFrameUUID];if(r&&r.hideFrameModal(this.popupList[t].id),this.popupList[t].useWindowPopup()){
var i=WebSquare.idCache[this.popupList[t].options.scope_uuid];if(i&&i.popupList)for(var a=0;a<i.popupList.length;a++)i.popupList[a].id===this.popupList[t].id&&i.popupList.splice(a)}}else this.popupList[t].options.useModalStack?WebSquare.getBody().hideModal(!1,this.popupList[t].id):1==this.popupList[t].options.modal&&WebSquare.getBody().hideModal(!1);this._deletePopup(t)}!1===e&&f.Z.clearInterval(this.id+"_startChkModalClosed")}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.getPopupWindow=function(e,t){try{if(t&&WebSquare.idCache[t])return this.getPopupWindow(WebSquare.idCache[t].id+"_"+e)||this.getPopupWindow(e);for(var r=0;r<this.popupList.length;r++)if(this.popupList[r]&&this.popupList[r].id==e&&null!=this.popupList[r].popupWin)return this.popupList[r].getWindow()}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.getPopupWindowList=function(e,t,r){try{var i=this.getPopupList(e,t);return this._getWindowArr(i,r)}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.getPopup=function(e,t){try{if(t&&WebSquare.idCache[t])return this.getPopup(WebSquare.idCache[t].id+"_"+e)||this.getPopup(e);for(var r=0;r<this.popupList.length;r++)if(this.popupList[r]&&this.popupList[r].id==e)return this.popupList[r]}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype._deletePopup=function(e){try{var t=this.popupList[e]._idx;if(t&&(delete this.popupList[e]._idx,l.I.setTimer((function(e){delete WebSquare.uiplugin.popup.popupParams[t]}),{key:"_deletePopup_"+t,delay:1e3,args:[t]})),this.popupList[e].useWindowPopup()){var r=WebSquare.idCache[this.popupList[e].options.scope_uuid];if(r&&r.popupList)for(var i=0;i<r.popupList.length;i++)r.popupList[i].id===this.popupList[e].id&&r.popupList.splice(i)}this.popupList.splice(e,1)}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.getPopupList=function(e,t){try{var r=[];if(t&&WebSquare.idCache[t]){for(var i=WebSquare.idCache[t].id,a=0;a<this.popupList.length;a++){var n=this.popupList[a].popupWin,o=this.popupList[a]._getTargetFrame(this.popupList[a].options.scope_uuid);this.popupList[a]&&null!=n&&(!0===e?(this.popupList[a].options.frameModal||o)&&(r.push(this.popupList[a]),n.opener&&n.WebSquare.uiplugin.popup&&(r=r.concat(n.WebSquare.uiplugin.popup.getPopupList()))):i===n.scope_id&&r.push(this.popupList[a]))}return r}for(a=0;a<this.popupList.length;a++){n=this.popupList[a].popupWin,o=this.popupList[a]._getTargetFrame(this.popupList[a].options.scope_uuid);this.popupList[a]&&null!=n&&(!0===e?(this.popupList[a].options.frameModal||o)&&(r.push(this.popupList[a]),n.opener&&n.WebSquare.uiplugin&&n.WebSquare.uiplugin.popup&&(r=r.concat(n.WebSquare.uiplugin.popup.getPopupList()))):r.push(this.popupList[a]))}return r}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.getAllPopupList=function(){try{return this.popupList}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype.getAllPopupWindowList=function(e){try{var t=this.getAllPopupList();return this._getWindowArr(t,e)}catch(e){u.Y.printStackTrace(e,null,this)}},Le.prototype._getWindowArr=function(e,t){try{for(var r=[],i=0;i<e.length;i++){var a=e[i].getWindow();!0!==t||e[i].popupWin&&e[i].popupWin.frame&&(e[i].popupWin.frame.constructor===WebSquare.uiplugin.wframe||e[i].popupWin.frame.constructor===WebSquare.uiplugin.pageFrame)?r.push(a):a.WebSquare&&a.WebSquare.util?r.push(a.WebSquare.util.getMainFrame()):r.push(a)}return r}catch(e){u.Y.printStackTrace(e,null,this)}},Le=new Le("w2popup_singleton");var Ae=function(e,t,r){try{this.id=e,this.popupWin=null,f.Z.getBoolean(l.I.getConfiguration("/WebSquare/popup/popupCenter/@value"))&&t&&null==t.top&&null==t.left&&(this._popupCenter=!0),this.options=o.q.extendKeepingType({id:"pop1",type:"browser",popupName:"WebSquarePopup",style:"",useIFrame:!1,className:"",modal:!1,srcORurl:"",srcData:null,destData:null,xml:null,popupUrl:"popup.html",left:100,top:100,width:500,height:500,resizable:!1,status:!1,menubar:!1,scrollbars:!1,title:!1,useControl:!1,controls:{minimize:!0,maximize:!0,close:!0},
frameMode:"iframe",disableCloseButton:!1,fullscreen:!1,alwaysOnTop:!0,foldSize:{width:500},windowDragMove:!1,windowMoveType:"restrict",processMsgFrame:!1,msaName:"",fixPosition:!1,useATagBtn:!1,useModalDisable:!1,useMaximize:!0,useModalStack:!1,accessibility:!1,useHeadingTagTitle:!1},t||{}),this.options.scope_uuid&&WebSquare.idCache[this.options.scope_uuid]&&(this.options.org_id?this.org_id=this.options.org_id:(this.org_id=this.id,this.id=this.options.id=WebSquare.idCache[this.options.scope_uuid].id+"_"+this.org_id)),this.params=r||{},""!=this.options.style&&(this.options.styleObj=l.I.makeStyle(this.options.style),this.options.left=this.options.styleObj.left||"0px",this.options.top=this.options.styleObj.top||"0px",this.options.width=this.options.styleObj.width||"500px",this.options.height=this.options.styleObj.height||"500px"),this.options.dataObject&&"wframe"!==this.options.frameMode&&"pageFrame"!==this.options.frameMode&&(WebSquare.dataObject[this.id]=this.options.dataObject),this.options.srcData&&(WebSquare.srcData=this.options.srcData),this.options.destData&&(WebSquare.destData=this.options.destData),WebSquare.docTitleInfo||(WebSquare.docTitleInfo={}),"WebSquarePopup"!=this.options.popupName?WebSquare.docTitleInfo[this.options.id]=this.options.popupName:WebSquare.uiplugin.popup.options.title?WebSquare.docTitleInfo[this.options.id]=WebSquare.uiplugin.popup.options.title:WebSquare.docTitleInfo[this.options.id]=this.options.popupName}catch(e){u.Y.printStackTrace(e,null,this)}};Ae.prototype.open=function(e,t){try{var r=this._popupCenter,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=this.useWindowPopup();this._compModal=!1;var s,c=!1,d=WebSquare.idCache[this.options.scope_uuid],p=d,h=(this.options.frameModal,WebSquare.strictModeFrame?WebSquare.strictModeFrame.uuid:""),g=WebSquare.getBody();g.modal&&"block"===g.modal.style.display&&(c=!0,this._alreadyDisplayedModal=!0);var m="w2xPath";f.Z.getEncodeParameterOption("pathName")?m=f.Z.getEncodeParameterOption("pathName"):f.Z.isEncodeParameter()&&(m=f.Z.encodeParameter("w2xPath"));var b=this.options.popupUrl;this.options.xml&&"string"!=typeof this.options.xml&&(this.options.xml=WebSquare.xml.serialize(this.options.xml));var y="",S={msaName:this.options.msaName,frameObj:d};if("wframe"!==this.options.frameMode&&"pageFrame"!==this.options.frameMode||n)if(0==this.options.useQueryString){WebSquare._popupInfo="";var v={};if(e)if(b=o.q.baseURI+b+(b.indexOf("?")>-1?"&":"?"),f.Z.isEncodeParameter())if(f.Z.getEncodeParameterOption("onlyParam")){for(var w=e.split(/[\&\?]/),C=0;C<w.length;C++)(q=w[C].indexOf("="))>=0&&(w[C]=f.Z.encodeParameter(w[C].substring(0,q))+w[C].substring(q));e=w.join("&"),b=b+m+"="+l.I._getMsaSrc(e,S)}else b=b+m+"="+f.Z.encodeParameter(l.I._getMsaSrc(e,S));else b=b+m+"="+l.I._getMsaSrc(e,S);this.options.xml&&(y="idx10_"+(new Date).getTime()+o.q.safeRandom(),WebSquare.uiplugin.popup.popupParams[y]=this.options.xml,v.idx=this.idx),v.popupID=this.id,v.w2xHome=WebSquare.w2xHome,v.w2xDocumentRoot=WebSquare.w2xDocumentRoot+this._getW2Config(),WebSquare._popupInfo=JSON.stringify(v)}else{if(e){if(b=o.q.baseURI+b+(b.indexOf("?")>-1?"&":"?"),f.Z.getEncodeParameterOption("onlyParam")){var q;for(w=e.split(/[\&\?]/),C=0;C<w.length;C++)(q=w[C].indexOf("="))>=0&&(w[C]=f.Z.encodeParameter(w[C].substring(0,q))+w[C].substring(q));e=w.join("&")}b=f.Z.isEncodeParameter()?f.Z.getEncodeParameterOption("onlyParam")?b+m+"="+l.I._getMsaSrc(e,S)+"&":b+m+"="+f.Z.encodeParameter(l.I._getMsaSrc(e,S)+"&"):b+m+"="+l.I._getMsaSrc(e,S)+"&"}else b+=b.indexOf("?")>-1?"&":"?";this.options.xml?(y="idx10_"+(new Date).getTime()+o.q.safeRandom(),WebSquare.uiplugin.popup.popupParams[y]=this.options.xml,f.Z.isEncodeParameter()?f.Z.getEncodeParameterOption("onlyParam")?(b=b+f.Z.encodeParameter("popupID=")+this.id,b+=f.Z.encodeParameter("&idx=")+y,
b+=f.Z.encodeParameter("&w2xHome=")+WebSquare.w2xHome,b+=f.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config()):b+=f.Z.encodeParameter("popupID="+this.id+"&idx="+y+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config()):b=b+"popupID="+this.id+"&idx="+y+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config()):f.Z.isEncodeParameter()?f.Z.isEncodeParameter()?(b=b+f.Z.encodeParameter("popupID=")+this.id,b+=f.Z.encodeParameter("&w2xHome=")+WebSquare.w2xHome,b+=f.Z.encodeParameter("&w2xDocumentRoot=")+WebSquare.w2xDocumentRoot+this._getW2Config()):b+=f.Z.encodeParameter("popupID="+this.id+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config()):b=b+"popupID="+this.id+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot+this._getW2Config()}else e&&(b=e);if(1==n){r&&(this.options.left=(i-parseInt(this.options.width)-2)/2,this.options.top=(a-parseInt(this.options.height)-2)/2,this.options.width=parseInt(this.options.width),this.options.height=parseInt(this.options.height));var W=this.makePopupString(this.options);if(this.popupWin=window.open(b,this.options.id,W),!this.popupWin)return;WebSquare.uiplugin.popup._status="busy",l.I.setTimer((function(){WebSquare.uiplugin.popup._status="idle"}),{key:X+"_preventPopupClickTimer",delay:1})}else{var _,x=!1!==this.options.useMaximize,I=this.options.className&&""!=this.options.className?" "+this.options.className:"",T=this.options.buttonInfo;if(h!==this.options.scope_uuid&&!0===this.options.frameModal&&"browser"!==this.options.type){var k=WebSquare.idCache[this.options.scope_uuid];_=f.Z.getStyleProperty(k.render,"overflow")}else _=f.Z.getStyleProperty(document.documentElement,"overflow");var L,A=!1;this.options.useControl&&1==(L=o.q.extend({minimize:!0,maximize:!0,close:!0},this.options.controls)).minimize&&(A=!0),1==this.options.accessibility&&(this._targetId=document.activeElement.id);var E=this.options.scope_uuid?WebSquare.idCache[this.options.scope_uuid]:null;this.popupWin=WebSquare.controlFactory.create(this.options.org_id||this.options.id,{className:"w2popup_window"+I,src:b,windowTitle:this.options.popupName,defaultWidth:this.options.width+"",defaultHeight:this.options.height+"",title:this.options.id,dragResizable:void 0===this.options.resizable||this.options.resizable,dragResizableLeft:void 0!==this.options.resizableLeft&&this.options.resizableLeft,displayParentWindowScroll:"auto"==_||"scroll"==_,useMaximize:x,frameMode:this.options.frameMode,disableCloseButton:this.options.disableCloseButton,useATagBtn:this.options.useATagBtn,useATagTitle:this.options.useATagTitle,useHeadingTagTitle:this.options.useHeadingTagTitle,foldOnMinimized:A,foldSize:this.options.foldSize,pluginName:"window",parseChild:!1,windowDragMove:this.options.windowDragMove,processMsgFrame:this.options.processMsgFrame||!1,frameModal:this.options.frameModal||!1,windowMoveType:this.options.windowMoveType,minVisibleWindowPixel:this.options.minVisibleWindowPixel||0,modal:this.options.modal||!1,accessibility:this.options.accessibility||!1,_targetId:this._targetId,msaName:this.options.msaName,fixPosition:this.options.fixPosition||!1},null,E,this.options.scope_uuid,!0),WebSquare.uiplugin.popup._status="busy",!this.options.dataObject||"wframe"!==this.options.frameMode&&"pageFrame"!==this.options.frameMode||this.popupWin.setDataObject(this.options.dataObject)}if(h!==this.options.scope_uuid){if(!1===c)if(this.options.frameModal){var D,N;switch((D=this._getModalOpendFrame(d))&&(N=D.uuid),this.options.frameModal){case"frame":d&&h!==d.uuid?(s=d,s=this._getModalTargetFrame(s.uuid,this.options.frameModal,N)):s=null;break;case"parent":s=h!==d.parentFrame?WebSquare.idCache[d.parentFrame]:d,s=this._getModalTargetFrame(s.uuid,this.options.frameModal,N);break;case"top":s=null;break;default:s=this._getModalTargetFrame(d.uuid,this.options.frameModal,N)}
s&&(this._targetFrameObjUUID=s.uuid)}else(s=this._getTargetFrame(this.options.scope_uuid))&&(!s.parentControl||"tabControl"!==s.parentControl.options.pluginName&&"windowContainer"!==s.parentControl.options.pluginName?this.options.frameModal=s.org_id:this.options.frameModal=s.parentControl.org_id,this._targetFrameObjUUID=s.uuid);s?(this._compModal=!0,!0===this.options.modal&&(s._modal=!0),n&&(p.popupList||(p.popupList=[]),this._parentFrameUUID=s.uuid,p._parentFrameUUID=s.uuid,p.popupList.push(this))):(c=!0,this._bodyShowModal())}else c=!0,this._bodyShowModal();if(1==n&&!s){var R=l.I.getConfiguration("/WebSquare/clearMemory/@closeChildPopup");!p||"wframe"!==p.options.pluginName&&"pageFrame"!==p.options.pluginName||"false"===R||(p.popupList||(p.popupList=[]),!1===c&&(this._parentFrameUUID=p.uuid),p.popupList.push(this))}if(y&&(this._idx=y),this.popupWin&&this.popupWin.options&&(this.options.closeAction&&(this.popupWin.options.closeAction=this.options.closeAction),this.options.openAction&&(this.popupWin.options.openAction=this.options.openAction),this.options.clickAction&&(this.popupWin.options.clickAction=this.options.clickAction)),f.Z.getBoolean(this.options.parentPopupDisabled)&&window.self!==window.top){var O=window.parent;if(O.WebSquare&&O.WebSquare.uiplugin.popup&&O.WebSquare.uiplugin.popup.popupList&&O.WebSquare.uiplugin.popup.popupList.length>0)for(C=0;C<O.WebSquare.uiplugin.popup.popupList.length;C++)O.WebSquare.uiplugin.popup.popupList[C].popupWin.setDisabled(!0)}if("browser"==this.options.type)for(var P=0;P<WebSquare.uiplugin.popup.popupList.length;P++)this.options.id===WebSquare.uiplugin.popup.popupList[P].id&&WebSquare.uiplugin.popup.popupList.splice(P,1);if(WebSquare.uiplugin.popup.popupList.push(this),1==n){if(null!=this.popupWin&&this.popupWin.focus(),null!=this.popupWin){var F=WebSquare.getBody(),Y="popup";if(s){if((F=s).stackComponents&&F.stackComponents[Y])for(P=0;P<F.stackComponents[Y].length;P++)this.options.id===F.stackComponents[Y][P].id&&(F.stackComponents[Y].splice(P,1),F.modalStack.splice(P,1));(Z={})[Y]={id:this.id,modal:this.options.modal};v={className:"w2modal_popup",isPopup:!0,useWindowPopup:n,popupModal:this.options.modal,stackComponents:Z};F.showFrameModal(v)}F.modalEvent(this.id)}}else{var j=0,B=0;if("wframe"===this.options.frameMode||"pageFrame"===this.options.frameMode){var U={};if(null!=this.options.dataObject){var V=this.options.dataObject.type||"s",H=this.options.dataObject.name;"string"==typeof H&&H.length>0&&(this.popupWin.options.popupParam=V.charAt(0)+H)}else if(null!=this.options.xml){var z="idx_"+this.popupWin.popupIdx++;U.idx="s"+z,U[z]="d"+this.options.xml,this.popupWin.options.popupParam="d"+z}U.popupID="s"+this.id,U.w2xHome="s"+WebSquare.w2xHome,U.w2xDocumentRoot="s"+WebSquare.w2xDocumentRoot,this.popupWin.options.params=JSON.stringify(U),s&&(this.popupWin._targetFrameObjUUID=this._targetFrameObjUUID),this.popupWin._isWframePopup=!0;var X=this.popupWin.id;this.popupWin.bind("onwindowload",(function(){WebSquare.uiplugin.popup._status="done",l.I.setTimer((function(){WebSquare.uiplugin.popup._status="idle"}),{key:X+"_preventPopupClickTimer",delay:10})}))}else this.popupWin.bind("onwindowload",(function(){WebSquare.uiplugin.popup._status="done",WebSquare.uiplugin.popup._status="idle"})),j=document.documentElement.scrollTop||document.body.scrollTop,B=document.documentElement.scrollLeft||document.body.scrollLeft;T&&(this.popupWin.hasButtons=!0,this.popupWin.buttonInfo=T);var $=this;this.popupWin.addEvent("onbeforeclose",(function(){if(WebSquare.uiplugin.popup.removeFromPopupList($.options.id),!0===$._compModal&&(WebSquare.strictModeFrame?WebSquare.strictModeFrame.uuid:"")!==this.scope_obj.uuid)if(this.options.frameModal)this.parentControl.hideFrameModal(this.id);else{var e=$._getTargetFrame(this.scope_obj.uuid);e&&e.hideFrameModal(this.id)
}else $.options.useModalStack?$.hideModal($.id):$.options.useModalDisable?WebSquare.layer.hideModal():1==$.options.modal&&WebSquare.getBody().hideModal(!$.options.useModalStack);if(f.Z.getBoolean($.options.parentPopupDisabled)&&window.self!==window.top){var t=window.parent;if(t.WebSquare&&t.WebSquare.uiplugin.popup&&t.WebSquare.uiplugin.popup.popupList&&t.WebSquare.uiplugin.popup.popupList.length>0)for(var r=0;r<t.WebSquare.uiplugin.popup.popupList.length;r++)t.WebSquare.uiplugin.popup.popupList[r].popupWin.setDisabled(!1)}}));F=WebSquare.getBody();if(s?(s.wframeSubPopup||(s.wframeSubPopup=[]),s.wframeSubPopup.indexOf(this.id)&&s.wframeSubPopup.push(this.id),F=s):!p||!0===p._isWframePopup||"wframe"!==p.options.pluginName&&"pageFrame"!==p.options.pluginName||(F.wframeSubPopup||(F.wframeSubPopup=[]),F.wframeSubPopup.indexOf(p.uuid)&&F.wframeSubPopup.push(p.uuid)),this.popupWin.writeTo(F,null,this.parentFrame),s){var Z;(Z={}).popup={id:this.id,modal:this.options.modal};v={className:"w2modal_popup",isPopup:!0,useWindowPopup:n,popupModal:this.options.modal,stackComponents:Z};s.showFrameModal(v)}if(r)var K=(i-parseInt(this.options.width)-2)/2,J=(a-parseInt(this.options.height)-2)/2,G=parseInt(this.options.width)-2,Q=parseInt(this.options.height)-2;else K=this.options.left,J=this.options.top,G=parseInt(this.options.width)-2,Q=parseInt(this.options.height)-2;if(s){var ee=F.render.clientWidth||F.render.style.width||WebSquare.style.getComputedStyle(F.render,"width"),te=F.render.clientHeight||F.render.style.height||WebSquare.style.getComputedStyle(F.render,"height");if(0===ee||"100%"===ee||"auto"===ee){for(var re,ie=F.render.parentElement;ie&&(0===(re=ie.clientWidth||ie.style.width||WebSquare.style.getComputedStyle(ie,"width"))||"100%"===re||"auto"===re);)ie=ie.parentElement;ee=0===re||"100%"===re||"auto"===re?document.documentElement.clientWidth||document.body.clientWidth||0:re}if(0===te||"100%"===te||"auto"===te){var ae;for(ie=F.render.parentElement;ie&&(0===(ae=ie.clientHeight||ie.style.width||WebSquare.style.getComputedStyle(ie,"height"))||"100%"===ae||"auto"===ae);)ie=ie.parentElement;te=0===ae||"100%"===ae||"auto"===ae?document.documentElement.clientHeight||document.body.clientHeight||0:ae}K+G>ee&&(K=ee-G-2),J+Q>te&&(J=te-Q-2),G>ee&&(G=ee-2),Q>te&&(Q=te-2),"relative"!==WebSquare.style.getStyle(F.render,"position")&&(J+=F.render.offsetTop,K+=F.render.offsetLeft)}var ne=f.Z.getBoolean(l.I.getConfiguration("/WebSquare/popup/lazyPopup/@value"));if(ne||(this.popupWin.setPosition(K+B,J+j),this.popupWin.setSize(G,Q)),this.popupWin.activate(),(s||this.options.frameModal||p&&!0===p.options.popupAutoClose)&&(this.popupWin.frame.options.popupAutoClose=!0),ne&&(this.popupWin.setPosition(K,J),this.popupWin.setSize(G,Q)),"wframe"===this.options.frameMode||"pageFrame"===this.options.frameMode){M.f.fireEvent(this.popupWin.frame,"onsetsize");for(var oe=!1,se=document.activeElement;null!=se&&se!==document.body;se=se.parentElement)if(this.popupWin.hasClass(se,"w2popup_window")){oe=!0;break}if(1==this.options.accessibility){var le=document.getElementById(this.id+"_close");WebSquare.style.addClass(le,"w2window_close_acc"),le.focus()}else oe||this.popupWin._focus()}if(f.Z.isIE(6),this.options.useControl){var ue=document.getElementById(this.popupWin.id+"_header_control"),ce=ue.getElementsByTagName("div");WebSquare.style.addClass(ue,"w2window_header_control_inline");for(var de=0,pe=ce.length;de<pe;de++)WebSquare.style.addClass(ce[de],"w2window_btn_header_control");var he=document.getElementById(this.id+"_minimize"),fe=document.getElementById(this.id+"_restore");le=document.getElementById(this.id+"_close");if(L.minimize||(WebSquare.style.setStyle(he,"display","none"),WebSquare.style.removeClass(he,"w2window_btn_header_control")),L.maximize||(WebSquare.style.setStyle(fe,"display","none"),WebSquare.style.removeClass(fe,"w2window_btn_header_control")),L.close||(WebSquare.style.setStyle(le,"display","none"),
WebSquare.style.removeClass(le,"w2window_btn_header_control")),this.options.useATagBtn){var ge=document.getElementById(this.id+"_close");WebSquare.style.addClass(ge,"w2window_btn_header_control")}}if(this.popupWin.movable(!this.popupWin.options||!0!==this.popupWin.options.fixPosition),this.options.alwaysOnTop){var me=this.popupWin.getStyle("z-index");WebSquare.uiplugin.popup._zIndex<me?WebSquare.uiplugin.popup._zIndex=me:this.popupWin.setStyle("z-index",WebSquare.uiplugin.popup._zIndex)}this.popupWin.addEvent("onclick",(function(){if($.options.alwaysOnTop&&"idle"===WebSquare.uiplugin.popup._status&&(WebSquare.uiplugin.popup._zIndex++,this.setStyle("z-index",WebSquare.uiplugin.popup._zIndex)),this.options.clickAction){var e=f.Z.getGlobalFunction(this.options.clickAction,this.scope_id);"function"==typeof e&&e.call(this,WebSquare.uiplugin.popup._zIndex)}})),this.popupWin.addEvent("ondragstart",(function(){$.options.alwaysOnTop&&"idle"===WebSquare.uiplugin.popup._status&&(WebSquare.uiplugin.popup._zIndex++,this.setStyle("z-index",WebSquare.uiplugin.popup._zIndex))})),this.popupWin.addEvent("onwindowmousedown",(function(){if($.options.alwaysOnTop&&"idle"===WebSquare.uiplugin.popup._status&&(WebSquare.uiplugin.popup._zIndex++,this.setStyle("z-index",WebSquare.uiplugin.popup._zIndex)),this.options.clickAction){var e=f.Z.getGlobalFunction(this.options.clickAction,this.scope_id);"function"==typeof e&&e.call(this,WebSquare.uiplugin.popup._zIndex)}}));try{switch(typeof this.options.openAction){case"function":this.options.openAction.apply(this,this);break;case"string":var be=f.Z.getGlobalFunction(this.options.openAction,this.scope_id);"function"==typeof be&&(this.options.openAction=be,be.apply(this,this))}}catch(e){u.Y.printStackTrace(e,null,this)}}}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype._getModalOpendFrame=function(e){try{for(var t,r=WebSquare.strictModeFrame?WebSquare.strictModeFrame.uuid:"";e&&r!==e.uuid;)e._wframePopupModal&&"block"===e._wframePopupModal.render.style.display&&(t=e),e=WebSquare.idCache[e.parentFrame];return t}catch(e){u.Y.printStackTrace(e)}},Ae.prototype._getTargetFrame=function(e,t){try{for(var r,i=WebSquare.idCache[e];null!=i&&i!==WebSquare.strictModeFrame;i=WebSquare.idCache[i.parentFrame])if(i.options&&!0===i.options.frameModal){r=i;break}return r}catch(e){u.Y.printStackTrace(e)}},Ae.prototype._getModalTargetFrame=function(e,t,r){try{var i=WebSquare.idCache[e],a=WebSquare.strictModeFrame?WebSquare.strictModeFrame.uuid:"",n=i,o=i,s=!1;for(r||(s=!0);n&&a!==n.uuid&&("frame"!==this.options.frameModal||0!==WebSquare.uiplugin.popup.popupList.length);){n._wframePopupModal&&(o=n),r&&n.uuid===r&&(s=!0);var l=n.getParentFrame()?n.getParentFrame().uuid:null;if(t){if(s&&(t===n.id||n.parentControl&&0===n.parentControl.org_id.indexOf(t)))break;l&&(n=WebSquare.idCache[l])}else{if(n.parentFrame===a)break;l&&(n=WebSquare.idCache[l])}}return"frame"===this.options.frameModal?o:t&&n.uuid===a?o||null:n}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype._bodyShowModal=function(){try{this.options.useModalStack?this.showModal():1==this.options.modal&&(this.options.useModalDisable?WebSquare.layer.showModal():WebSquare.getBody().showModal())}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.makeParamString=function(e){try{var t=[];for(var r in e)t.push(r+"="+e[r]);return"?"+t.join("&")}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.getWebsquareUrl=function(e,t,r){try{if(r||(r=window),r&&r.location){t.w2xPath=l.I.getURL(e),t.w2xHome=WebSquare.w2xHome,t.w2xDocumentRoot=WebSquare.w2xDocumentRoot;var i=this.makeParamString(t);return o.q.baseURI+"popup.html"+i}return""}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.getHTMLUrl=function(e,t,r){try{if(r||(r=window),r&&r.location){var i=this.makeParamString(t);return e.replace(/\?.*/,i)}return""}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.makePopupString=function(e){try{
var t="width height resizable status menubar scrollbars title left top"+(!0===this.options.fullscreen?"fullscreen":""),r="";for(var i in e){if(t.indexOf(i)>-1)if("width"==i||"height"==i||"left"==i||"top"==i)r+=i+"="+parseInt(e[i])+"px,";else r+=i+"="+(1==e[i]?"yes":"no")+","}return r}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.close=function(e){try{if(this.popupWin){var t=this.popupWin.close(e);if(!1!==t){if(1==this.options.modal&&this.useWindowPopup()){var r=WebSquare.strictModeFrame?WebSquare.strictModeFrame.uuid:"";if(this._parentFrameUUID&&this._parentFrameUUID!==r){var i=WebSquare.idCache[this._parentFrameUUID];i&&i.hideFrameModal(this.id)}else WebSquare.getBody().hideModal()}this.popupWin=null,WebSquare.dataObject[this.id]&&delete WebSquare.dataObject[this.id]}return t}}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.getWindow=function(){try{return 1==this.useWindowPopup()?this.popupWin:this.popupWin.frame.getWindow()}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.useWindowPopup=function(){try{var e=!1;return"browser"==this.options.type&&(e=!0),"window"==this.options.type&&(e=!0),"window"==this.options.type&&1==this.options.useIFrame&&(e=!1),e}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.setSize=function(e,t){try{1==this.useWindowPopup()?this.popupWin.resizeTo(e,t):(this.popupWin.setSize(parseInt(e)-2,parseInt(t)-2),f.Z.isIE(6))}catch(e){u.Y.printStackTrace(e)}},Ae.prototype.setCloseButtonStatus=function(e){try{this.popupWin.setCloseButtonStatus(e)}catch(e){u.Y.printStackTrace(e)}},Ae.prototype._getW2Config=function(){try{var e="",t=-1;if(f.Z.isEncodeParameter()){if((t=location.toString().indexOf(f.Z.encodeParameter("w2Config")))>=0)(i=(r=location.toString().slice(t+9)).slice(0,r.indexOf(f.Z.encodeParameter("config.xml"))+10))&&(e=f.Z.encodeParameter("&w2Config=")+i);else if(f.Z.getBoolean(l.I.getConfiguration("/WebSquare/encodeParameter/@fallback"))){var r,i;if((t=location.toString().indexOf("w2Config"))>=0)(i=(r=location.toString().slice(t+9)).slice(0,r.indexOf("config.xml")+10))&&(e=f.Z.getEncodeParameterOption("onlyParam")?f.Z.encodeParameter("&w2Config=")+i:f.Z.encodeParameter("&w2Config="+i))}}else if((t=location.toString().indexOf("w2Config"))>=0)(i=(r=location.toString().slice(t+9)).slice(0,r.indexOf("config.xml")+10))&&(e="&w2Config="+i);return e}catch(e){u.Y.printStackTrace(e,null,this)}},Ae.prototype.showModal=function(){var e=WebSquare.getBody();if(f.Z.getBoolean(this.options.useModalStack)){var t="popup";if("browser"===this.options.type&&e.stackComponents&&e.stackComponents[t])for(var r=0;r<e.stackComponents[t].length;r++)this.options.id===e.stackComponents[t][r].id&&(e.stackComponents[t].splice(r,1),e.modalStack.splice(r,1));var i={};i[t]={id:this.id,modal:this.options.modal};var a={className:"w2modal_popup",isPopup:!0,popupModal:this.options.modal,stackComponents:i};e.showModal(a)}else e.showModal("w2modal_popup")},Ae.prototype.hideModal=function(e){WebSquare.getBody().hideModal(null,e)},n.l.init(window),o.q.BootLoader=s.Q,o.q.core=l.I,o.q.exception=u.Y,o.q.logger=c.v,o.q.debug=c.Y,o.q.xml=d._,o.q.xmljs=p,o.q.collection=h.r,o.q.Parser=v,o.q.Model=w,o.q.ModelUtil=C.K,o.q.DataCollection=W,o.q.Events=b,o.q.net=_,o.q.session=x,o.q.util=f.Z,o.q.date=I.p,o.q.text=T.Q,o.q.numberFormatter=T.E,o.q.layer=k,o.q.cookie=L,o.q.effect=A,o.q.targetIterator=D,o.q.event=M.f,o.q.skin=S,o.q.language=N.B,o.q.cssStyleSheet=O,o.q.styleSheet=R,o.q.dragdrop=P,o.q.style=F,o.q.validator=Y.N,o.q.IValidate=Y.G,o.q.json=q,o.q.jsonUtil=g.r,o.q.jsonParser=B,o.q.pageInfo=U,o.q.jsLoader=H,o.q.format=z,o.q.bigDecimal=X,o.q.bigDecimalObj=Z,o.q.api=K,o.q.Elem=m.S,o.q.korHelper=J,o.q.messageBroker=j,o.q.eventControl=G.i,o.q.cssManager=y,o.q.cssCustomizer=Q.v,o.q.modelControl=ee,o.q.xfControl=te.q,o.q.controlFactory=V.o,o.q.historyManager=re,o.q.itemsetControl=ie.t,o.q.DataCollection.dataList=de,o.q.DataCollection.filterController=oe,o.q.DataCollection.dataListCellInfo=ue,
o.q.DataCollection.dataMap=he,o.q.DataCollection.linkedDataList=be,o.q.DataCollection.aliasDataList=ye,o.q.DataCollection.aliasDataMap=Se,o.q.DataCollection.aliasLinkedDataList=ve,o.q.uiplugin={},o.q.uiplugin.body=we,o.q.uiplugin.itemTable=Ce,o.q.uiplugin.gridItemTable=qe,o.q.uiplugin.gridViewItemTable=We,o.q.uiplugin.dateHelper=_e,o.q.tag=Te,o.q.uiplugin.udc=ke.udc,o.q.uiplugin.popup=Le,o.q.uiplugin.popupWindow=Ae,window.WebSquare=o.q})()})();