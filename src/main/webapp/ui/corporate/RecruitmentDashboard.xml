<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_screenName="Ï±ÑÏö©Í¥ÄÎ¶¨ ÎåÄÏãúÎ≥¥Îìú">
        <w2:type>COMPONENT</w2:type>
        <w2:buildDate/>
        <w2:MSA/>
        <xf:model>
        	<w2:dataCollection baseNode="map">
        		<!-- Í≥µÍ≥† Î™©Î°ù Ï°∞ÌöåÏö© -->
        		<w2:dataMap baseNode="map" id="dmp_postVo" style="">
        			<w2:keyInfo>
        				<w2:key dataType="text" id="pageIndex" name="ÌéòÏù¥ÏßÄ_Î≤àÌò∏" defaultValue="1"></w2:key>
        				<w2:key dataType="text" id="pageSize" name="ÌéòÏù¥ÏßÄ_Í±¥Ïàò" defaultValue="10"></w2:key>
        				<w2:key dataType="text" id="companyId" name="ÌöåÏÇ¨_ID" defaultValue=""></w2:key>
        			</w2:keyInfo>
        			<w2:data use="false"></w2:data>
        		</w2:dataMap>
        		

        		
        		<!-- Í≥µÍ≥† Î™©Î°ù Îç∞Ïù¥ÌÑ∞ -->
        		<w2:dataList baseNode="list" id="dlt_postVoList" repeatNode="map" saveRemovedData="true" style="">
        			<w2:columnInfo>
        				<w2:column dataType="text" id="jobPostingId" name="job_posting_id"></w2:column>
        				<w2:column dataType="text" id="companyId" name="company_id"></w2:column>
        				<w2:column dataType="text" id="title" name="title"></w2:column>
        				<w2:column dataType="text" id="description" name="description"></w2:column>
        				<w2:column dataType="text" id="requiredSkills" name="required_skills"></w2:column>
        				<w2:column dataType="text" id="experienceLevel" name="experience_level"></w2:column>
        				<w2:column dataType="text" id="salaryRange" name="salary_range"></w2:column>
        				<w2:column dataType="text" id="location" name="location"></w2:column>
        				<w2:column dataType="text" id="workType" name="work_type"></w2:column>
        				<w2:column dataType="text" id="preferredDeveloperTypes" name="preferred_developer_types"></w2:column>
        				<w2:column dataType="text" id="expiresAt" name="expires_at"></w2:column>
        				<w2:column dataType="text" id="postedAt" name="posted_at"></w2:column>
        				<w2:column dataType="text" id="status" name="status"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		
        		<!-- Í≥µÍ≥† ÏÉÅÏÑ∏ Îç∞Ïù¥ÌÑ∞ -->
        		<w2:dataMap baseNode="map" id="dmp_postVoDetail" style="">
        			<w2:keyInfo>
        				<w2:key dataType="text" id="jobPostingId" name="job_posting_id"></w2:key>
        				<w2:key dataType="text" id="companyId" name="company_id"></w2:key>
        				<w2:key dataType="text" id="title" name="title"></w2:key>
        				<w2:key dataType="text" id="description" name="description"></w2:key>
        				<w2:key dataType="text" id="requiredSkills" name="required_skills"></w2:key>
        				<w2:key dataType="text" id="experienceLevel" name="experience_level"></w2:key>
        				<w2:key dataType="text" id="salaryRange" name="salary_range"></w2:key>
        				<w2:key dataType="text" id="location" name="location"></w2:key>
        				<w2:key dataType="text" id="workType" name="work_type"></w2:key>
        				<w2:key dataType="text" id="preferredDeveloperTypes" name="preferred_developer_types"></w2:key>
        				<w2:key dataType="text" id="expiresAt" name="expires_at"></w2:key>
        				<w2:key dataType="text" id="postedAt" name="posted_at"></w2:key>
        				<w2:key dataType="text" id="status" name="status"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        	</w2:dataCollection>
        	<w2:workflowCollection />
        	


        	<!-- Í∏∞ÏóÖÏö© Í≥µÍ≥† Î™©Î°ù Ï°∞Ìöå (ÏûêÏã†Ïùò Í≥µÍ≥†Îßå) -->
    	<xf:submission id="sbm_selectPostVoList" ref='data:json,{"id":"dmp_postVo","key":"postVo"}'
    		target='data:json,{"id":"dlt_postVoList","key":"elData.postVoList"}' action="/InsWebApp/POS0005List.pwkjson" method="post"
    		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
    		processMsg="Ïö∞Î¶¨ ÌöåÏÇ¨Ïùò Í≥µÍ≥†Ï†ïÎ≥¥Î•º Ï°∞Ìöå Ï§ëÏûÖÎãàÎã§." ev:submit="" ev:submitdone="scwin.sbm_postList_submitdone" ev:submiterror="" abortTrigger="">
    	</xf:submission>

        	<!-- Í≥µÍ≥† ÏàòÏ†ï -->
        	<xf:submission id="sbm_updatePostVo" ref='data:json,{"id":"dmp_postVoDetail","key":"postVo"}'
        		target="" action="/InsWebApp/POS0001Upd.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="Í≥µÍ≥†Ï†ïÎ≥¥Î•º ÏàòÏ†ï Ï§ëÏûÖÎãàÎã§." ev:submit="" ev:submitdone="scwin.sbm_updatePost_submitdone" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	
        	<!-- Í≥µÍ≥† ÏÇ≠Ï†ú -->
        	<xf:submission id="sbm_deletePostVo" ref='data:json,{"id":"dmp_postVoDetail","key":"postVo"}'
        		target="" action="/InsWebApp/POS0001Del.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="Í≥µÍ≥†Ï†ïÎ≥¥Î•º ÏÇ≠Ï†ú Ï§ëÏûÖÎãàÎã§." ev:submit="" ev:submitdone="scwin.sbm_deletePost_submitdone" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	
        	<xf:submission id="sbm_deleteCorporateVo" action="/InsWebApp/CP0001Del.pwkjson" method="post" mediatype="application/json"
        		ref='data:json,{"id":"dmp_corporateVoDetail","key":"corporateVo"}' target="" encoding="UTF-8" instance="" replace=""
        		errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="scwin.sbm_deleteCorporateVo_submitdone" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <w2:layoutInfo/>
        <w2:publicInfo method=""/>
        <style type="text/css"><![CDATA[
            /* ==========================================================================
               Ï†ÑÏó≠ ÏÑ§Ï†ï
               ========================================================================== */
            * {
                box-sizing: border-box;
            }

            /* ==========================================================================
               Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà
               ========================================================================== */
            .dashboard_container {
                min-height: 100vh;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                padding: 0;
                margin: 0;
            }
            
            .dashboard_content {
                padding: 40px;
                max-width: 1400px;
                margin: 0 auto;
            }

            /* ==========================================================================
               Ìó§Îçî ÏÑπÏÖò
               ========================================================================== */
            .dashboard_header {
                text-align: center;
                margin-bottom: 50px;
                color: white;
            }
            
            .dashboard_title {
                font-size: 48px;
                font-weight: 800;
                margin-bottom: 12px;
                text-shadow: 0 4px 20px rgba(0,0,0,0.3);
                background: linear-gradient(45deg, #ffffff, #f0f8ff);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }
            
            .dashboard_subtitle {
                font-size: 20px;
                font-weight: 400;
                opacity: 0.9;
                text-shadow: 0 2px 10px rgba(0,0,0,0.2);
            }

            /* ==========================================================================
               ÌÜµÍ≥Ñ Ïπ¥Îìú ÏÑπÏÖò
               ========================================================================== */
            .stats_grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 30px;
                margin-bottom: 50px;
            }
            
            .stat_card {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(20px);
                border-radius: 24px;
                padding: 40px 35px;
                text-align: center;
                border: 1px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
                transition: all 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
                position: relative;
                overflow: hidden;
                cursor: pointer;
            }
            
            .stat_card:hover {
                transform: translateY(-8px) scale(1.02);
                box-shadow: 0 30px 80px rgba(0, 0, 0, 0.15);
                background: rgba(255, 255, 255, 1);
            }
            
            .stat_card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 6px;
                background: var(--card-gradient);
                border-radius: 24px 24px 0 0;
            }
            
            .stat_card.blue::before { --card-gradient: linear-gradient(90deg, #4285f4, #34a853); }
            .stat_card.green::before { --card-gradient: linear-gradient(90deg, #34a853, #0f9d58); }
            .stat_card.orange::before { --card-gradient: linear-gradient(90deg, #ff9800, #f57c00); }
            .stat_card.purple::before { --card-gradient: linear-gradient(90deg, #9c27b0, #673ab7); }
            
            .stat_icon {
                width: 80px;
                height: 80px;
                border-radius: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 36px;
                margin: 0 auto 24px;
                background: var(--icon-bg);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            }
            
            .stat_card.blue .stat_icon { --icon-bg: linear-gradient(135deg, #e3f2fd, #bbdefb); }
            .stat_card.green .stat_icon { --icon-bg: linear-gradient(135deg, #e8f5e9, #c8e6c9); }
            .stat_card.orange .stat_icon { --icon-bg: linear-gradient(135deg, #fff3e0, #ffe0b2); }
            .stat_card.purple .stat_icon { --icon-bg: linear-gradient(135deg, #f3e5f5, #e1bee7); }
            
            .stat_value {
                font-size: 48px;
                font-weight: 800;
                color: #1a2332;
                margin-bottom: 12px;
                background: linear-gradient(135deg, #1a2332, #2c3e50);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }
            
            .stat_label {
                font-size: 18px;
                color: #64748b;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 1px;
            }

            /* ==========================================================================
               Ïï°ÏÖò Ïπ¥Îìú ÏÑπÏÖò
               ========================================================================== */
            .action_grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                gap: 30px;
                margin-bottom: 50px;
            }
            
            .action_card {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(20px);
                border-radius: 24px;
                padding: 35px;
                border: 1px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
                transition: all 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
            }
            
            .action_card:hover {
                transform: translateY(-5px);
                box-shadow: 0 30px 80px rgba(0, 0, 0, 0.15);
            }
            
            .action_header {
                display: flex;
                align-items: center;
                margin-bottom: 25px;
            }
            
            .action_icon {
                width: 50px;
                height: 50px;
                border-radius: 12px;
                background: linear-gradient(135deg, #667eea, #764ba2);
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 24px;
                color: white;
                margin-right: 16px;
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            }
            
            .action_title {
                font-size: 22px;
                font-weight: 700;
                color: #1a2332;
                margin: 0;
            }
            
            .action_description {
                color: #64748b;
                font-size: 16px;
                line-height: 1.6;
                margin-bottom: 25px;
            }

            /* ==========================================================================
               Î≤ÑÌäº Ïä§ÌÉÄÏùº
               ========================================================================== */
            .btn_primary {
                background: linear-gradient(135deg, #667eea, #764ba2);
                color: white;
                border: none;
                padding: 14px 32px;
                border-radius: 12px;
                font-size: 16px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                gap: 8px;
            }
            
            .btn_primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
                background: linear-gradient(135deg, #5a72e7, #6a44a0);
            }
            
            .btn_secondary {
                background: rgba(255, 255, 255, 0.9);
                color: #667eea;
                border: 2px solid rgba(102, 126, 234, 0.2);
                padding: 12px 28px;
                border-radius: 12px;
                font-size: 16px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                backdrop-filter: blur(10px);
            }
            
            .btn_secondary:hover {
                background: rgba(255, 255, 255, 1);
                border-color: #667eea;
                color: #5a72e7;
                transform: translateY(-1px);
            }

            /* ==========================================================================
               Í≥µÍ≥† Í¥ÄÎ¶¨ ÏÑπÏÖò
               ========================================================================== */
            .posts_section {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(20px);
                border-radius: 24px;
                padding: 40px;
                border: 1px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
                margin-bottom: 30px;
            }
            
            .section_header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 30px;
                flex-wrap: wrap;
                gap: 20px;
            }
            
            .section_title {
                font-size: 28px;
                font-weight: 700;
                color: #1a2332;
                background: linear-gradient(135deg, #1a2332, #667eea);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            /* ==========================================================================
               Í∑∏Î¶¨Îìú Ïä§ÌÉÄÏùº Í∞úÏÑ†
               ========================================================================== */
            .grid_container {
                background: #f8fafc;
                border-radius: 16px;
                padding: 20px;
                border: 1px solid #e2e8f0;
            }
            
            .grid_header_controls {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                flex-wrap: wrap;
                gap: 15px;
            }
            
            .record_count {
                color: #64748b;
                font-size: 16px;
                font-weight: 500;
            }
            
            .record_number {
                color: #1a2332;
                font-weight: 700;
                font-size: 18px;
                margin: 0 5px;
            }
            
            .grid_actions {
                display: flex;
                gap: 12px;
                align-items: center;
            }
            
            .btn_grid {
                padding: 10px 20px;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.3s ease;
                border: 1px solid #e2e8f0;
                background: white;
            }
            
            .btn_grid.refresh {
                color: #0ea5e9;
                border-color: #0ea5e9;
            }
            
            .btn_grid.refresh:hover {
                background: #0ea5e9;
                color: white;
            }
            
            .btn_grid.delete {
                color: #ef4444;
                border-color: #ef4444;
            }
            
            .btn_grid.delete:hover {
                background: #ef4444;
                color: white;
            }

            /* ==========================================================================
               Î∞òÏùëÌòï ÎîîÏûêÏù∏
               ========================================================================== */
            @media (max-width: 1200px) {
                .dashboard_content {
                    padding: 30px 20px;
                }
                
                .stats_grid {
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 20px;
                }
                
                .action_grid {
                    grid-template-columns: 1fr;
                }
            }
            
            @media (max-width: 768px) {
                .dashboard_content {
                    padding: 20px 15px;
                }
                
                .dashboard_title {
                    font-size: 36px;
                }
                
                .dashboard_subtitle {
                    font-size: 18px;
                }
                
                .stats_grid {
                    grid-template-columns: 1fr;
                }
                
                .stat_card {
                    padding: 30px 25px;
                }
                
                .section_header {
                    flex-direction: column;
                    align-items: flex-start;
                }
                
                .grid_header_controls {
                    flex-direction: column;
                    align-items: flex-start;
                }
            }

            /* ==========================================================================
               Ïï†ÎãàÎ©îÏù¥ÏÖò
               ========================================================================== */
            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            
            .fade-in-up {
                animation: fadeInUp 0.6s ease-out forwards;
            }
            
            .delay-100 { animation-delay: 0.1s; }
            .delay-200 { animation-delay: 0.2s; }
            .delay-300 { animation-delay: 0.3s; }
            .delay-400 { animation-delay: 0.4s; }
        ]]></style>
        <script lazy="false" type="text/javascript"><![CDATA[
scwin.onpageload = function () {
    console.log("=== Ï±ÑÏö©Í¥ÄÎ¶¨ ÎåÄÏãúÎ≥¥Îìú Î°úÎìú ===");
    
    var userInfoStr = WebSquare.cookie.getCookie("userInfo");
    if (!userInfoStr) {
        console.warn("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§. Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
        $p.url("/InsWebApp/ui/common/MainPage.xml");
        return;
    }
    
    try {
        var userInfo = JSON.parse(userInfoStr);
        if (userInfo.role !== "COMPANY") {
            console.warn("Í∏∞ÏóÖ ÌöåÏõêÏù¥ ÏïÑÎãôÎãàÎã§. Î©îÏù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
            $p.url("/InsWebApp/ui/common/MainPage.xml");
            return;
        }
        
        console.log("Í∏∞ÏóÖ Ï†ïÎ≥¥:", userInfo);
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        scwin.initializeDashboard();
        
        // Ïï†ÎãàÎ©îÏù¥ÏÖò Ìö®Í≥º Ï†ÅÏö©
        scwin.applyAnimations();
        
    } catch (e) {
        console.error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÌååÏã± Ïò§Î•ò:", e);
        $p.url("/InsWebApp/ui/common/MainPage.xml");
    }
};

// ÎåÄÏãúÎ≥¥Îìú Ï¥àÍ∏∞Ìôî
scwin.initializeDashboard = function () {
    console.log("ÎåÄÏãúÎ≥¥Îìú Ï¥àÍ∏∞Ìôî ÏãúÏûë");
    
    // ÌöåÏÇ¨ ID ÏÑ§Ï†ï
    var userInfoStr = WebSquare.cookie.getCookie("userInfo");
    var userInfo = JSON.parse(userInfoStr);
    var companyId = userInfo.companyId;
    
    if (companyId) {
        dmp_postVo.set("companyId", companyId);
        
        // Í≥µÍ≥† Î™©Î°ù Ï°∞Ìöå (ÌÜµÍ≥ÑÎäî Ïù¥ Í≤∞Í≥ºÏóêÏÑú Í≥ÑÏÇ∞)
        scwin.loadPostList();
    } else {
        console.error("ÌöåÏÇ¨ IDÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");
        alert("ÌöåÏÇ¨ Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§. Îã§Ïãú Î°úÍ∑∏Ïù∏Ìï¥Ï£ºÏÑ∏Ïöî.");
    }
};

// Í≥µÍ≥† Îç∞Ïù¥ÌÑ∞Î°úÎ∂ÄÌÑ∞ ÌÜµÍ≥Ñ Í≥ÑÏÇ∞
scwin.calculateStatistics = function (postList) {
    console.log("ÌÜµÍ≥Ñ Í≥ÑÏÇ∞ ÏãúÏûë");

    var totalJobs = postList.length;
    var activeJobs = 0;
    var closedJobs = 0;

    // Í∞Å ÏÉÅÌÉúÎ≥ÑÎ°ú Í∞úÏàò Í≥ÑÏÇ∞
    for (var i = 0; i < postList.length; i++) {
        var status = postList[i].status;
        switch (status) {
            case 'active':
                activeJobs++;
                break;
            case 'closed':
                closedJobs++;
                break;
        }
    }

    // Ïπ¥Ïö¥ÌÑ∞ Ïï†ÎãàÎ©îÏù¥ÏÖòÍ≥º Ìï®Íªò Í∞í ÏÑ§Ï†ï
    scwin.animateCounter(tbx_totalJobs, totalJobs);
    scwin.animateCounter(tbx_activeJobs, activeJobs);
    scwin.animateCounter(tbx_closedJobs, closedJobs);

    console.log("ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏ ÏôÑÎ£å:", { totalJobs, activeJobs, closedJobs });
};

// Ïπ¥Ïö¥ÌÑ∞ Ïï†ÎãàÎ©îÏù¥ÏÖò
scwin.animateCounter = function (element, targetValue) {
    var currentValue = 0;
    var increment = targetValue / 20; // 20Îã®Í≥ÑÎ°ú ÎÇòÎàÑÏñ¥ Ïï†ÎãàÎ©îÏù¥ÏÖò
    var timer = setInterval(function() {
        currentValue += increment;
        if (currentValue >= targetValue) {
            currentValue = targetValue;
            clearInterval(timer);
        }
        element.setValue(Math.floor(currentValue).toString());
    }, 50); // 50ms Í∞ÑÍ≤©
};

// Í≥µÍ≥† Î™©Î°ù Ï°∞Ìöå
scwin.loadPostList = function () {
    console.log("Í≥µÍ≥† Î™©Î°ù Ï°∞Ìöå ÏãúÏûë");
    
    // ÌéòÏù¥ÏßÄ Î≤àÌò∏ Ï¥àÍ∏∞Ìôî
    dmp_postVo.set("pageIndex", "1");
    if (pgl_postList) {
        pgl_postList.setSelectedIndex(1);
    }
    
    // ÏÑúÎ≤ÑÌÜµÏã† - Í≥µÍ≥†Ï†ïÎ≥¥ Ï°∞Ìöå
    $c.sbm.execute($p, sbm_selectPostVoList);
};

// Í≥µÍ≥† Î™©Î°ù Ï°∞Ìöå ÏôÑÎ£å
scwin.sbm_postList_submitdone = function (e) {
    console.log("Í≥µÍ≥† Î™©Î°ù Ï°∞Ìöå ÏôÑÎ£å:", e.responseJSON);
    
    var elHeader = e.responseJSON.elHeader;
    if (elHeader && elHeader.resSuc === false) {
        console.error("Í≥µÍ≥† Î™©Î°ù Ï°∞Ìöå ÏóêÎü¨:", elHeader);
        alert(`ÏóêÎü¨: ${elHeader.resMsg}`);
        return false;
    }
    
    var elData = e.responseJSON.elData;
    
    // ÏÑ†ÌÉùÎêú Í≥µÍ≥† Ï†ïÎ≥¥ Ï¥àÍ∏∞Ìôî
    dmp_postVoDetail.setEmptyValue();
    
    // Ï¥ù Î†àÏΩîÎìú Ïàò ÏóÖÎç∞Ïù¥Ìä∏
    if (spn_listCnt) {
        spn_listCnt.setLabel(elData.totalCount || 0);
    }
    
    // Îç∞Ïù¥ÌÑ∞Î•º Í∑∏Î¶¨ÎìúÏóê Î∞îÏù∏Îî©
    dlt_postVoList.setJSON(elData.postVoList || []);
    
    // ÌéòÏù¥ÏßÄ ÎÑ§ÎπÑÍ≤åÏù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏
    if (pgl_postList && elData.totalCount) {
        var totalPageCount = Math.ceil(elData.totalCount / (dmp_postVo.get("pageSize") || 10));
        pgl_postList.setCount(totalPageCount);
    }
    
    // ÌÜµÍ≥Ñ Í≥ÑÏÇ∞ (ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏùò Îç∞Ïù¥ÌÑ∞Î°ú)
    if (elData.postVoList && elData.postVoList.length > 0) {
        scwin.calculateStatistics(elData.postVoList);
    } else {
        // Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏúºÎ©¥ 0ÏúºÎ°ú ÏÑ§Ï†ï
        scwin.animateCounter(tbx_totalJobs, 0);
        scwin.animateCounter(tbx_activeJobs, 0);
        scwin.animateCounter(tbx_closedJobs, 0);
    }
    
    console.log("Í≥µÍ≥† Î™©Î°ù Î∞îÏù∏Îî© ÏôÑÎ£å");
};

// Ïï†ÎãàÎ©îÏù¥ÏÖò Ìö®Í≥º Ï†ÅÏö©
scwin.applyAnimations = function () {
    // Ïï†ÎãàÎ©îÏù¥ÏÖò ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä (Ïã§Ï†ú DOM Ï°∞ÏûëÏùÄ WebSquare ÌôòÍ≤ΩÏóêÏÑú Ï†úÌïúÏ†Å)
    console.log("Ïï†ÎãàÎ©îÏù¥ÏÖò Ìö®Í≥º Ï†ÅÏö©");
};

// =========================
// Îπ†Î•∏ Ïï°ÏÖò Í∏∞Îä•Îì§
// =========================

// ÏÉà Í≥µÍ≥† ÏûëÏÑ±
scwin.btn_newJob_onclick = function (e) {
    console.log("ÏÉà Í≥µÍ≥† ÏûëÏÑ± Î≤ÑÌäº ÌÅ¥Î¶≠");
    try {
        if ($p.parent() && $p.parent().pf_main) {
            $p.parent().pf_main.setSrc("../post/PostCreate.xml");
        } else {
            $p.url("../post/PostCreate.xml");
        }
    } catch (error) {
        console.error("ÌéòÏù¥ÏßÄ Ïù¥Îèô Ïò§Î•ò:", error);
        $p.url("../post/PostCreate.xml");
    }
};



// Í∏∞ÏóÖÏ†ïÎ≥¥ ÏàòÏ†ï
scwin.btn_companyUpdate_onclick = function (e) {
    console.log("Í∏∞ÏóÖÏ†ïÎ≥¥ ÏàòÏ†ï Î≤ÑÌäº ÌÅ¥Î¶≠");
    try {
        if ($p.parent() && $p.parent().pf_main) {
            $p.parent().pf_main.setSrc("../corporate/CorporateUpdate.xml");
        } else {
            $p.url("../corporate/CorporateUpdate.xml");
        }
    } catch (error) {
        console.error("ÌéòÏù¥ÏßÄ Ïù¥Îèô Ïò§Î•ò:", error);
        $p.url("../corporate/CorporateUpdate.xml");
    }
};



// Ï†ÑÏ≤¥ Í≥µÍ≥† Î≥¥Í∏∞
scwin.btn_allPosts_onclick = function (e) {
    console.log("Ï†ÑÏ≤¥ Í≥µÍ≥† Î≥¥Í∏∞ Î≤ÑÌäº ÌÅ¥Î¶≠");
    try {
        if ($p.parent() && $p.parent().pf_main) {
            $p.parent().pf_main.setSrc("../post/PostList.xml");
        } else {
            $p.url("../post/PostList.xml");
        }
    } catch (error) {
        console.error("ÌéòÏù¥ÏßÄ Ïù¥Îèô Ïò§Î•ò:", error);
        $p.url("../post/PostList.xml");
    }
};

// =========================
// Í≥µÍ≥† Í¥ÄÎ¶¨ Í∏∞Îä•Îì§
// =========================

// GridView Ìñâ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
scwin.grd_postList_oncellclick = function (row, col) {
    console.log("Í≥µÍ≥† Ìñâ ÌÅ¥Î¶≠:", row);
    
    if (row < 0) return;
    
    // ÏÑ†ÌÉùÎêú Í≥µÍ≥† Îç∞Ïù¥ÌÑ∞ ÏÑ§Ï†ï
    dmp_postVoDetail.setJSON(dlt_postVoList.getRowJSON(row));
    
    var postData = dmp_postVoDetail.getJSON();
    console.log("ÏÑ†ÌÉùÎêú Í≥µÍ≥†:", postData.title);
    
    // Í≥µÍ≥† ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
    scwin.openPostDetail(postData.jobPostingId);
};

// Í≥µÍ≥† ÏÉÅÏÑ∏Î≥¥Í∏∞ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
scwin.openPostDetail = function (jobPostingId) {
    console.log("Í≥µÍ≥† ÏÉÅÏÑ∏Î≥¥Í∏∞:", jobPostingId);
    
    if (!jobPostingId) {
        alert("Í≥µÍ≥† Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");
        return;
    }
    
    try {
        if ($p.parent() && $p.parent().pf_main) {
            $p.parent().pf_main.setSrc("../post/PostDetail.xml", {
                dataObject: { jobPostingId: jobPostingId }
            });
        } else {
            $p.url("../post/PostDetail.xml?jobPostingId=" + encodeURIComponent(jobPostingId));
        }
    } catch (error) {
        console.error("ÌéòÏù¥ÏßÄ Ïù¥Îèô Ïò§Î•ò:", error);
        alert("ÌéòÏù¥ÏßÄ Ïù¥Îèô Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.");
    }
};

// ÏÉàÎ°úÍ≥†Ïπ®
scwin.btn_refresh_onclick = function () {
    console.log("ÏÉàÎ°úÍ≥†Ïπ® Î≤ÑÌäº ÌÅ¥Î¶≠");
    scwin.loadPostList();
};

// Í≥µÍ≥† ÏÇ≠Ï†ú
scwin.btn_delete_onclick = function () {
    console.log("ÏÇ≠Ï†ú Î≤ÑÌäº ÌÅ¥Î¶≠");
    
    var postData = dmp_postVoDetail.getJSON();
    if (!postData || !postData.jobPostingId) {
        alert("ÏÇ≠Ï†úÌï† Í≥µÍ≥†Î•º Î®ºÏ†Ä ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.\n(Î™©Î°ùÏóêÏÑú ÌñâÏùÑ ÌÅ¥Î¶≠ÌïòÏó¨ ÏÑ†ÌÉù)");
        return;
    }
    
    var confirmMsg = `'${postData.title || "ÏÑ†ÌÉùÎêú Í≥µÍ≥†"}'Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n\nÏÇ≠Ï†úÎêú Í≥µÍ≥†Îäî Î™©Î°ùÏóêÏÑú Î≥¥Ïù¥ÏßÄ ÏïäÍ≤å Îê©ÎãàÎã§.`;
    
    if (confirm(confirmMsg)) {
        $c.sbm.execute($p, sbm_deletePostVo);
    }
};

// Í≥µÍ≥† ÏÇ≠Ï†ú ÏôÑÎ£å
scwin.sbm_deletePost_submitdone = function (e) {
    console.log("Í≥µÍ≥† ÏÇ≠Ï†ú ÏôÑÎ£å:", e.responseJSON);
    
    var elHeader = e.responseJSON.elHeader;
    if (elHeader && elHeader.resSuc === false) {
        console.error("Í≥µÍ≥† ÏÇ≠Ï†ú ÏóêÎü¨:", elHeader);
        alert(`ÏÇ≠Ï†ú Ïã§Ìå®: ${elHeader.resMsg}`);
        return false;
    }
    
    alert("Í≥µÍ≥†Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§!");
    
    // ÏÑ†ÌÉùÎêú Í≥µÍ≥† Ï†ïÎ≥¥ Ï¥àÍ∏∞Ìôî
    dmp_postVoDetail.setEmptyValue();
    
    // Î™©Î°ù ÏÉàÎ°úÍ≥†Ïπ® (ÌÜµÍ≥ÑÎèÑ Ìï®Íªò ÏóÖÎç∞Ïù¥Ìä∏Îê®)
    scwin.loadPostList();
};

// ÌéòÏù¥ÏßÄ Î≥ÄÍ≤Ω
scwin.pgl_postList_onclick = function (idx) {
    console.log("ÌéòÏù¥ÏßÄ Î≥ÄÍ≤Ω:", idx);
    dmp_postVo.set("pageIndex", idx);
    $c.sbm.execute($p, sbm_selectPostVoList);
};

// ÌÜµÍ≥Ñ Ïπ¥Îìú ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Îì§
scwin.statCard_totalJobs_onclick = function () {
    console.log("Ï¥ù Í≥µÍ≥† Ïàò Ïπ¥Îìú ÌÅ¥Î¶≠");
    // Ïä§ÌÅ¨Î°§ÏùÑ Í≥µÍ≥† Î™©Î°ùÏúºÎ°ú Ïù¥Îèô
    document.querySelector('.posts_section').scrollIntoView({ behavior: 'smooth' });
};

scwin.statCard_activeJobs_onclick = function () {
    console.log("ÌôúÏÑ± Í≥µÍ≥† Ïπ¥Îìú ÌÅ¥Î¶≠");
    // Ïä§ÌÅ¨Î°§ÏùÑ Í≥µÍ≥† Î™©Î°ùÏúºÎ°ú Ïù¥Îèô
    document.querySelector('.posts_section').scrollIntoView({ behavior: 'smooth' });
};

scwin.statCard_closedJobs_onclick = function () {
    console.log("ÎßàÍ∞êÎêú Í≥µÍ≥† Ïπ¥Îìú ÌÅ¥Î¶≠");
    // Ïä§ÌÅ¨Î°§ÏùÑ Í≥µÍ≥† Î™©Î°ùÏúºÎ°ú Ïù¥Îèô
    document.querySelector('.posts_section').scrollIntoView({ behavior: 'smooth' });
};


]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload">
        <w2:wframe src="../common/Header.xml" id="headerFrame" />
        <xf:group class="dashboard_container" id="">
        	<xf:group class="dashboard_content" id="">
        		<!-- Ìó§Îçî ÏÑπÏÖò -->
        		<xf:group class="dashboard_header fade-in-up" id="">
        			<w2:textbox id="" label="üéØ Ï±ÑÏö©Í¥ÄÎ¶¨ ÎåÄÏãúÎ≥¥Îìú" class="dashboard_title"></w2:textbox>
        			<w2:textbox id="" label="Ïö∞Î¶¨ ÌöåÏÇ¨Ïùò Í≥µÍ≥†Î•º Í¥ÄÎ¶¨ÌïòÍ≥† Ïö∞ÏàòÌïú Ïù∏Ïû¨Î•º Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî" class="dashboard_subtitle"></w2:textbox>
        		</xf:group>

        		<!-- ÌÜµÍ≥Ñ Ïπ¥Îìú ÏÑπÏÖò -->
        		<xf:group class="stats_grid" id="">
        			<!-- Ï¥ù Í≥µÍ≥† Ïàò -->
        			<xf:group class="stat_card blue fade-in-up delay-100" id="" ev:onclick="scwin.statCard_totalJobs_onclick">
        				<xf:group class="stat_icon" id="">
        					<w2:span label="üìÑ"></w2:span>
        				</xf:group>
        				<w2:textbox id="tbx_totalJobs" label="0" class="stat_value"></w2:textbox>
        				<w2:textbox id="" label="Ï¥ù Í≥µÍ≥† Ïàò" class="stat_label"></w2:textbox>
        			</xf:group>

        			<!-- ÌôúÏÑ± Í≥µÍ≥† -->
        			<xf:group class="stat_card green fade-in-up delay-200" id="" ev:onclick="scwin.statCard_activeJobs_onclick">
        				<xf:group class="stat_icon" id="">
        					<w2:span label="üìã"></w2:span>
        				</xf:group>
        				<w2:textbox id="tbx_activeJobs" label="0" class="stat_value"></w2:textbox>
        				<w2:textbox id="" label="ÌôúÏÑ± Í≥µÍ≥†" class="stat_label"></w2:textbox>
        			</xf:group>

        			<!-- ÎßàÍ∞êÎêú Í≥µÍ≥† -->
        			<xf:group class="stat_card orange fade-in-up delay-300" id="" ev:onclick="scwin.statCard_closedJobs_onclick">
        				<xf:group class="stat_icon" id="">
        					<w2:span label="üì™"></w2:span>
        				</xf:group>
        				<w2:textbox id="tbx_closedJobs" label="0" class="stat_value"></w2:textbox>
        				<w2:textbox id="" label="ÎßàÍ∞êÎêú Í≥µÍ≥†" class="stat_label"></w2:textbox>
        			</xf:group>
        		</xf:group>

        		<!-- Îπ†Î•∏ Ïï°ÏÖò Ïπ¥Îìú -->
        		<xf:group class="action_grid" id="">
        			<!-- Í≥µÍ≥† ÏûëÏÑ± Ïπ¥Îìú -->
        			<xf:group class="action_card fade-in-up delay-100" id="">
        				<xf:group class="action_header" id="">
        					<xf:group class="action_icon" id="">
        						<w2:span label="‚úèÔ∏è"></w2:span>
        					</xf:group>
        					<w2:textbox id="" label="ÏÉàÎ°úÏö¥ Í≥µÍ≥† ÏûëÏÑ±" class="action_title"></w2:textbox>
        				</xf:group>
        				<w2:textbox id="" label="ÏÉàÎ°úÏö¥ Ï±ÑÏö©Í≥µÍ≥†Î•º ÏûëÏÑ±ÌïòÏó¨ Ïö∞ÏàòÌïú Ïù∏Ïû¨Î•º Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî." class="action_description"></w2:textbox>
        				<xf:trigger id="btn_newJob" type="button" class="btn_primary" ev:onclick="scwin.btn_newJob_onclick">
        					<xf:label><![CDATA[‚ûï Í≥µÍ≥† ÏûëÏÑ±ÌïòÍ∏∞]]></xf:label>
        				</xf:trigger>
        			</xf:group>

        			<!-- Ï†ÑÏ≤¥ Í≥µÍ≥† Î≥¥Í∏∞ Ïπ¥Îìú -->
        			<xf:group class="action_card fade-in-up delay-200" id="">
        				<xf:group class="action_header" id="">
        					<xf:group class="action_icon" id="">
        						<w2:span label="üìã"></w2:span>
        					</xf:group>
        					<w2:textbox id="" label="Ï†ÑÏ≤¥ Í≥µÍ≥† Î≥¥Í∏∞" class="action_title"></w2:textbox>
        				</xf:group>
        				<w2:textbox id="" label="ÏãúÏû•Ïùò Îã§Î•∏ Í≥µÍ≥†Îì§ÏùÑ ÌôïÏù∏ÌïòÍ≥† Í≤ΩÏüÅÎ†•ÏùÑ Î∂ÑÏÑùÌï¥Î≥¥ÏÑ∏Ïöî." class="action_description"></w2:textbox>
        				<xf:trigger id="btn_allPosts" type="button" class="btn_secondary" ev:onclick="scwin.btn_allPosts_onclick">
        					<xf:label><![CDATA[üåê Ï†ÑÏ≤¥ Í≥µÍ≥† Î≥¥Í∏∞]]></xf:label>
        				</xf:trigger>
        			</xf:group>

        			<!-- Í∏∞ÏóÖÏ†ïÎ≥¥ Í¥ÄÎ¶¨ Ïπ¥Îìú -->
        			<xf:group class="action_card fade-in-up delay-300" id="">
        				<xf:group class="action_header" id="">
        					<xf:group class="action_icon" id="">
        						<w2:span label="üè¢"></w2:span>
        					</xf:group>
        					<w2:textbox id="" label="Í∏∞ÏóÖÏ†ïÎ≥¥ Í¥ÄÎ¶¨" class="action_title"></w2:textbox>
        				</xf:group>
        				<w2:textbox id="" label="ÌöåÏÇ¨ Ï†ïÎ≥¥ÏôÄ ÌîÑÎ°úÌïÑÏùÑ ÏµúÏã† ÏÉÅÌÉúÎ°ú Ïú†ÏßÄÌïòÏÑ∏Ïöî." class="action_description"></w2:textbox>
        				<xf:trigger id="btn_companyUpdate" type="button" class="btn_secondary" ev:onclick="scwin.btn_companyUpdate_onclick">
        					<xf:label><![CDATA[‚öôÔ∏è Ï†ïÎ≥¥ ÏàòÏ†ï]]></xf:label>
        				</xf:trigger>
        			</xf:group>
        		</xf:group>

        		<!-- Ï±ÑÏö©Í≥µÍ≥† Î™©Î°ù ÏÑπÏÖò -->
        		<xf:group class="posts_section fade-in-up" id="">
        			<xf:group class="section_header" id="">
        				<w2:textbox id="" label="üìã ÌòÑÏû¨ ÏßÑÌñâ Ï§ëÏù∏ Ï±ÑÏö©Í≥µÍ≥†" class="section_title"></w2:textbox>
        			</xf:group>

        			<!-- Í∑∏Î¶¨Îìú Ïª®Ìä∏Î°§ -->
        			<xf:group class="grid_container" id="">
        				<xf:group class="grid_header_controls" id="">
        					<xf:group class="record_count" id="">
        						<w2:span id="" label="Ï¥ù"></w2:span>
        						<w2:span class="record_number" id="spn_listCnt" label="0"></w2:span>
        						<w2:span id="" label="Í∞úÏùò Í≥µÍ≥†"></w2:span>
        					</xf:group>
        					<xf:group class="grid_actions" id="">
        						<xf:trigger class="btn_grid refresh" id="btn_refresh" type="button" ev:onclick="scwin.btn_refresh_onclick">
        							<xf:label><![CDATA[üîÑ ÏÉàÎ°úÍ≥†Ïπ®]]></xf:label>
        						</xf:trigger>
        						<xf:trigger class="btn_grid delete" id="btn_delete" type="button" ev:onclick="scwin.btn_delete_onclick">
        							<xf:label><![CDATA[üóëÔ∏è ÏÑ†ÌÉù ÏÇ≠Ï†ú]]></xf:label>
        						</xf:trigger>
        					</xf:group>
        				</xf:group>

        				<!-- Í≥µÍ≥† Î™©Î°ù GridView -->
        				<w2:gridView autoFit="allColumn" checkReadOnlyOnPasteEnable="true" class="gvw" dataList="data:dlt_postVoList"
        					defaultCellHeight="35" focusMode="row" id="grd_postList" scrollByColumn="false" 
        					style="height: 400px; border-radius: 12px; border: 1px solid #e2e8f0;" 
        					visibleRowNum="10" ev:oncellclick="scwin.grd_postList_oncellclick" readOnly="true">
        					<w2:caption style="" id="caption1" value="üìå Í≥µÍ≥†Î•º ÌÅ¥Î¶≠ÌïòÎ©¥ ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º Î≥º Ïàò ÏûàÏäµÎãàÎã§"></w2:caption>
        					<w2:header style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; font-weight: 600;" id="header1">
        						<w2:row style="" id="row1">
        							<w2:column width="100" inputType="text" style="" id="column1" value="Í≥µÍ≥†ID" displayMode="label"></w2:column>
        							<w2:column width="300" inputType="text" style="" id="column2" value="üìù Ï†úÎ™©" displayMode="label"></w2:column>
        							<w2:column width="250" inputType="text" style="" id="column3" value="üíº ÏÑ§Î™Ö" displayMode="label"></w2:column>
        							<w2:column width="120" inputType="text" style="" id="column4" value="üìç ÏßÄÏó≠" displayMode="label"></w2:column>
        							<w2:column width="120" inputType="text" style="" id="column5" value="üè† Í∑ºÎ¨¥ÌòïÌÉú" displayMode="label"></w2:column>
        							<w2:column width="100" inputType="text" style="" id="column6" value="üìä ÏÉÅÌÉú" displayMode="label"></w2:column>
        							<w2:column width="120" inputType="text" style="" id="column7" value="üìÖ Îì±Î°ùÏùº" displayMode="label"></w2:column>
        						</w2:row>
        					</w2:header>
        					<w2:gBody style="" id="gBody1">
        						<w2:row style="cursor: pointer;" id="row2">
        							<w2:column width="100" inputType="text" style="" id="jobPostingId" value="" displayMode="label"></w2:column>
        							<w2:column width="300" inputType="text" style="font-weight: 600; color: #1a2332;" id="title" value="" displayMode="label"></w2:column>
        							<w2:column width="250" inputType="text" style="color: #64748b;" id="description" value="" displayMode="label"></w2:column>
        							<w2:column width="120" inputType="text" style="" id="location" value="" displayMode="label"></w2:column>
        							<w2:column width="120" inputType="text" style="" id="workType" value="" displayMode="label"></w2:column>
        							<w2:column width="100" inputType="text" style="font-weight: 500;" id="status" value="" displayMode="label"></w2:column>
        							<w2:column width="120" inputType="text" style="color: #64748b;" id="postedAt" value="" displayMode="label"></w2:column>
        						</w2:row>
        					</w2:gBody>
        				</w2:gridView>

        				<!-- ÌéòÏù¥Ïßï -->
        				<xf:group style="text-align: center; padding: 25px 0;" id="">
        					<w2:pageList displayButtonType="display" displayFormat="#" id="pgl_postList" pageSize="5" pagingType="0"
        						style="display: inline-block;" ev:onclick="scwin.pgl_postList_onclick">
        					</w2:pageList>
        				</xf:group>
        			</xf:group>
        		</xf:group>
        	</xf:group>
        </xf:group>
    </body>
</html>