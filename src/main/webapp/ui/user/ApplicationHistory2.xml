<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" 
    xmlns:xf="http://www.w3.org/2002/xforms">
    
    <head meta_screenName="ÏßÄÏõêÌòÑÌô©">
        <w2:type>COMPONENT</w2:type>
        <w2:buildDate/>
        <w2:MSA/>
        <xf:model>
            <w2:dataCollection baseNode="map">
                <w2:dataList baseNode="list" repeatNode="map" id="dlt_applications" saveRemovedData="true">
                    <w2:columnInfo>
                        <w2:column id="company" name="ÌöåÏÇ¨Î™Ö" dataType="text"></w2:column>
                        <w2:column id="position" name="Ìè¨ÏßÄÏÖò" dataType="text"></w2:column>
                        <w2:column id="applicationDate" name="ÏßÄÏõêÏùºÏûê" dataType="text"></w2:column>
                        <w2:column id="status" name="ÏÉÅÌÉú" dataType="text"></w2:column>
                        <w2:column id="result" name="Í≤∞Í≥º" dataType="text"></w2:column>
                        <w2:column id="logo" name="Î°úÍ≥†" dataType="text"></w2:column>
                    </w2:columnInfo>
                    <w2:data use="true">
                        <w2:row>
                            <company><![CDATA[„àúÎÑ§Ïù¥Î≤Ñ]]></company>
                            <position><![CDATA[Î∞±ÏóîÎìú Í∞úÎ∞úÏûê]]></position>
                            <applicationDate><![CDATA[2024-01-15]]></applicationDate>
                            <status><![CDATA[ÏÑúÎ•òÌÜµÍ≥º]]></status>
                            <result><![CDATA[1Ï∞® Î©¥Ï†ë ÎåÄÍ∏∞]]></result>
                            <logo><![CDATA[üü¢]]></logo>
                        </w2:row>
                        <w2:row>
                            <company><![CDATA[Ïπ¥Ïπ¥Ïò§]]></company>
                            <position><![CDATA[ÌîÑÎ°†Ìä∏ÏóîÎìú Í∞úÎ∞úÏûê]]></position>
                            <applicationDate><![CDATA[2024-01-10]]></applicationDate>
                            <status><![CDATA[ÏµúÏ¢ÖÌï©Í≤©]]></status>
                            <result><![CDATA[Ìï©Í≤©]]></result>
                            <logo><![CDATA[üü°]]></logo>
                        </w2:row>
                        <w2:row>
                            <company><![CDATA[ÏÇºÏÑ±Ï†ÑÏûê]]></company>
                            <position><![CDATA[ÌíÄÏä§ÌÉù Í∞úÎ∞úÏûê]]></position>
                            <applicationDate><![CDATA[2024-01-05]]></applicationDate>
                            <status><![CDATA[Î©¥Ï†ëÏßÑÌñâ]]></status>
                            <result><![CDATA[2Ï∞® Î©¥Ï†ë ÏßÑÌñâÏ§ë]]></result>
                            <logo><![CDATA[üîµ]]></logo>
                        </w2:row>
                        <w2:row>
                            <company><![CDATA[LGÏ†ÑÏûê]]></company>
                            <position><![CDATA[Î∞±ÏóîÎìú Í∞úÎ∞úÏûê]]></position>
                            <applicationDate><![CDATA[2024-01-01]]></applicationDate>
                            <status><![CDATA[Î∂àÌï©Í≤©]]></status>
                            <result><![CDATA[ÏïÑÏâΩÍ≤å Î∂àÌï©Í≤©]]></result>
                            <logo><![CDATA[üî¥]]></logo>
                        </w2:row>
                        <w2:row>
                            <company><![CDATA[ÌÜ†Ïä§]]></company>
                            <position><![CDATA[ÌíÄÏä§ÌÉù Í∞úÎ∞úÏûê]]></position>
                            <applicationDate><![CDATA[2024-01-20]]></applicationDate>
                            <status><![CDATA[ÏÑúÎ•òÌÜµÍ≥º]]></status>
                            <result><![CDATA[ÏÑúÎ•ò Í≤ÄÌÜ† ÏôÑÎ£å]]></result>
                            <logo><![CDATA[üíô]]></logo>
                        </w2:row>
                        <w2:row>
                            <company><![CDATA[Ïø†Ìå°]]></company>
                            <position><![CDATA[Î∞±ÏóîÎìú Í∞úÎ∞úÏûê]]></position>
                            <applicationDate><![CDATA[2024-01-18]]></applicationDate>
                            <status><![CDATA[ÏµúÏ¢ÖÌï©Í≤©]]></status>
                            <result><![CDATA[ÏµúÏ¢Ö Ìï©Í≤©]]></result>
                            <logo><![CDATA[üü†]]></logo>
                        </w2:row>
                        <w2:row>
                            <company><![CDATA[ÎùºÏù∏]]></company>
                            <position><![CDATA[ÌîÑÎ°†Ìä∏ÏóîÎìú Í∞úÎ∞úÏûê]]></position>
                            <applicationDate><![CDATA[2024-01-22]]></applicationDate>
                            <status><![CDATA[Î©¥Ï†ëÏßÑÌñâ]]></status>
                            <result><![CDATA[1Ï∞® Î©¥Ï†ë ÌÜµÍ≥º]]></result>
                            <logo><![CDATA[üíö]]></logo>
                        </w2:row>
                        <w2:row>
                            <company><![CDATA[Î∞∞Îã¨ÏùòÎØºÏ°±]]></company>
                            <position><![CDATA[ÌíÄÏä§ÌÉù Í∞úÎ∞úÏûê]]></position>
                            <applicationDate><![CDATA[2024-01-25]]></applicationDate>
                            <status><![CDATA[ÏÑúÎ•òÌÜµÍ≥º]]></status>
                            <result><![CDATA[ÏΩîÎî©ÌÖåÏä§Ìä∏ ÏßÑÌñâÏ§ë]]></result>
                            <logo><![CDATA[üî∑]]></logo>
                        </w2:row>
                    </w2:data>
                </w2:dataList>
            </w2:dataCollection>
        </xf:model>
        <w2:layoutInfo/>
        <w2:publicInfo method=""/>
        
        <style type="text/css"><![CDATA[
            /* Í∏∞Î≥∏ ÏÑ§Ï†ï */
            * {
                box-sizing: border-box;
            }

            .main-wrap {
                width: 100%;
                background-color: #ffffff;
                font-family: "Malgun Gothic", "ÎßëÏùÄ Í≥†Îîï", sans-serif;
            }

            /* Ìó§Îçî Ïä§ÌÉÄÏùº */
            .header {
                width: 100%;
                height: 70px;
                background-color: #ffffff;
                border-bottom: 1px solid #e0e0e0;
                position: relative;
                padding: 0 min(30px, 4vw);
            }

            .header-left {
                float: left;
                padding-top: 18px;
                display: flex;
                align-items: center;
                gap: 15px;
            }

            .nav-menu {
                display: inline-block;
                vertical-align: middle;
            }

            .nav-link {
                font-size: 14px;
                color: #333;
                text-decoration: none;
                cursor: pointer;
                margin-right: 20px;
                vertical-align: middle;
                transition: color 0.2s ease;
            }

            .nav-link:hover {
                color: #007bff;
            }

            .header-right {
                float: right;
                padding-top: 18px;
            }

            .search-container {
                display: inline-block;
                background-color: #f5f5f5;
                border-radius: 20px;
                padding: 6px 15px;
                margin-right: 10px;
                vertical-align: middle;
            }

            .search-input {
                border: none;
                background: transparent;
                width: 150px;
                outline: none;
                font-size: 13px;
                height: 24px;
                vertical-align: middle;
            }

            .search-btn {
                border: none;
                background: none;
                cursor: pointer;
                margin-left: 8px;
                font-size: 14px;
                vertical-align: middle;
            }

            .btn-login {
                background-color: #fff;
                border: 1px solid #ddd;
                padding: 6px 12px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 12px;
                margin-right: 8px;
                height: 32px;
                vertical-align: middle;
                transition: background-color 0.2s ease;
            }

            .btn-login:hover {
                background-color: #f8f9fa;
            }

            .btn-enterprise {
                background-color: #333;
                color: #fff;
                border: none;
                padding: 6px 12px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 12px;
                height: 32px;
                vertical-align: middle;
                transition: background-color 0.2s ease;
            }

            .btn-enterprise:hover {
                background-color: #555;
            }

            .clearfix::after {
                content: "";
                display: table;
                clear: both;
            }

            /* Î©îÏù∏ Î†àÏù¥ÏïÑÏõÉ */
            .main-container {
                display: flex;
                min-height: calc(100vh - 70px);
                max-width: 1400px;
                margin: 0 auto;
                background-color: #f8f9fa;
            }

            /* Î©îÏù∏ ÏΩòÌÖêÏ∏† */
            .main-content {
                flex: 1;
                padding: min(30px, 4vw);
                overflow-y: auto;
            }

            /* ÏßÄÏõêÌòÑÌô© ÌéòÏù¥ÏßÄ Ìó§Îçî */
            .page-header {
                background-color: white;
                border-radius: 12px;
                padding: min(30px, 4vw);
                margin-bottom: 24px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.08);
                display: flex;
                align-items: center;
                justify-content: space-between;
                flex-wrap: wrap;
                gap: 20px;
            }

            .page-info {
                display: flex;
                align-items: center;
                gap: 20px;
                flex: 1;
                min-width: 0;
            }

            .page-icon {
                width: 80px;
                height: 80px;
                border-radius: 50%;
                background: linear-gradient(135deg, #f093fb, #f5576c);
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: clamp(32px, 4vw, 40px);
                flex-shrink: 0;
            }

            .page-details h1 {
                font-size: clamp(24px, 4vw, 28px);
                font-weight: bold;
                color: #333;
                margin: 0 0 8px 0;
            }

            .page-description {
                font-size: clamp(14px, 2vw, 16px);
                color: #666;
                line-height: 1.5;
            }

            /* ÌÜµÍ≥Ñ Ïπ¥Îìú */
            .stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }

            .stat-card {
                background: linear-gradient(135deg, #667eea, #764ba2);
                color: white;
                padding: 24px;
                border-radius: 12px;
                text-align: center;
                box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
                transition: transform 0.2s ease;
            }

            .stat-card:hover {
                transform: translateY(-2px);
            }

            .stat-card.waiting {
                background: linear-gradient(135deg, #f093fb, #f5576c);
                box-shadow: 0 4px 15px rgba(240, 147, 251, 0.3);
            }

            .stat-card.accepted {
                background: linear-gradient(135deg, #4facfe, #00f2fe);
                box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
            }

            .stat-card.rejected {
                background: linear-gradient(135deg, #fa709a, #fee140);
                box-shadow: 0 4px 15px rgba(250, 112, 154, 0.3);
            }

            .stat-number {
                font-size: 36px;
                font-weight: bold;
                margin-bottom: 8px;
                display: block;
            }

            .stat-label {
                font-size: 14px;
                opacity: 0.9;
            }

            /* ÌïÑÌÑ∞ ÌÉ≠ */
            .filter-section {
                background-color: white;
                border-radius: 12px;
                padding: 20px;
                margin-bottom: 24px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            }

            .filter-tabs {
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
            }

            .filter-tab {
                padding: 8px 16px;
                border: 1px solid #e0e0e0;
                background: white;
                border-radius: 20px;
                cursor: pointer;
                font-size: 14px;
                transition: all 0.2s ease;
                color: #666;
            }

            .filter-tab.active {
                background: linear-gradient(135deg, #667eea, #764ba2);
                color: white;
                border-color: #667eea;
            }

            .filter-tab:hover:not(.active) {
                background-color: #f8f9fa;
                color: #333;
            }

            /* ÏßÄÏõêÌòÑÌô© Ïπ¥ÎìúÎì§ */
            .applications-section {
                background-color: white;
                border-radius: 12px;
                padding: 24px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            }

            .applications-grid {
                display: grid;
                gap: 20px;
            }

            .application-card {
                background: #f8f9fa;
                border-radius: 12px;
                padding: 24px;
                border-left: 4px solid #e0e0e0;
                transition: all 0.3s ease;
                position: relative;
            }

            .application-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            }

            .application-card.pending {
                border-left-color: #f093fb;
            }

            .application-card.accepted {
                border-left-color: #4facfe;
            }

            .application-card.rejected {
                border-left-color: #fa709a;
            }

            .card-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 16px;
            }

            .company-info {
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .company-logo {
                width: 48px;
                height: 48px;
                border-radius: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 24px;
                background-color: white;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }

            .company-details {
                flex: 1;
            }

            .company-name {
                font-size: 18px;
                font-weight: bold;
                color: #333;
                margin-bottom: 4px;
            }

            .position-name {
                font-size: 14px;
                color: #666;
            }

            .application-date {
                font-size: 14px;
                color: #999;
            }

            .card-body {
                display: flex;
                align-items: center;
                gap: 12px;
                margin-bottom: 20px;
            }

            .status-badge {
                padding: 6px 12px;
                border-radius: 20px;
                font-size: 12px;
                font-weight: 600;
                text-align: center;
                min-width: 80px;
            }

            .status-pending {
                background-color: #fff3cd;
                color: #856404;
                border: 1px solid #ffeaa7;
            }

            .status-accepted {
                background-color: #d4edda;
                color: #155724;
                border: 1px solid #c3e6cb;
            }

            .status-rejected {
                background-color: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
            }

            .result-text {
                flex: 1;
                font-size: 14px;
                color: #333;
            }

            .card-actions {
                display: flex;
                gap: 10px;
                justify-content: flex-end;
            }

            .btn-detail, .btn-review {
                padding: 8px 16px;
                border: none;
                border-radius: 6px;
                font-size: 14px;
                cursor: pointer;
                transition: background-color 0.2s ease;
            }

            .btn-detail {
                background-color: #6c757d;
                color: white;
            }

            .btn-detail:hover {
                background-color: #5a6268;
            }

            .btn-review {
                background-color: #007bff;
                color: white;
            }

            .btn-review:hover {
                background-color: #0056b3;
            }

            /* Î∞òÏùëÌòï ÎîîÏûêÏù∏ */
            @media (max-width: 1024px) {
                .main-container {
                    flex-direction: column;
                }

                .sidebar {
                    width: 100%;
                    padding: 20px;
                    border-right: none;
                    border-bottom: 1px solid #e0e0e0;
                }

                .sidebar-menu {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 20px;
                }

                .stats-grid {
                    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                }
            }

            @media (max-width: 768px) {
                .header {
                    height: 60px;
                    padding: 0 15px;
                }
                
                .header-left, .header-right {
                    padding-top: 13px;
                }

                .nav-link {
                    display: none;
                }

                .sidebar, .main-content {
                    padding: 15px;
                }

                .page-header {
                    flex-direction: column;
                    text-align: center;
                    gap: 15px;
                }

                .page-info {
                    flex-direction: column;
                    text-align: center;
                }

                .stats-grid {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 15px;
                }

                .stat-number {
                    font-size: 28px;
                }

                .application-card {
                    padding: 16px;
                }

                .card-header {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: 8px;
                }

                .card-actions {
                    flex-direction: column;
                }

                .filter-tabs {
                    flex-wrap: wrap;
                }

                .sidebar-menu {
                    grid-template-columns: 1fr;
                    gap: 0;
                }

                .menu-category {
                    margin-bottom: 20px;
                }
            }

            /* Î°úÎî© Ìö®Í≥º */
            .loading {
                text-align: center;
                padding: 40px;
                color: #666;
                font-size: 16px;
            }

            /* Îπà ÏÉÅÌÉú */
            .empty-state {
                text-align: center;
                padding: 60px 20px;
                color: #999;
            }

            .empty-state .empty-icon {
                font-size: 48px;
                margin-bottom: 16px;
                display: block;
            }

            .empty-state .empty-text {
                font-size: 16px;
                margin-bottom: 8px;
            }

            .empty-state .empty-subtext {
                font-size: 14px;
                color: #ccc;
            }
        ]]></style>
        
        <script lazy="false" type="text/javascript"><![CDATA[
scwin.onpageload = function() {
    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÌÜµÍ≥Ñ Í≥ÑÏÇ∞ Î∞è Ïπ¥Îìú Î†åÎçîÎßÅ
    scwin.calculateStats();
    scwin.applyStatusClasses();
    scwin.setupFilterTabs();
};

// Ìó§Îçî Ïù¥Î≤§Ìä∏Îì§
scwin.weaveTypeLogo_onclick = function() {
    $p.url("../common/weaveTypeMain.xml");
};

scwin.menu1_onclick = function() {
    alert("Îß§Ïπ≠ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
};

scwin.menu2_onclick = function() {
    alert("MBTI Í≤ÄÏÇ¨ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
};

scwin.menu3_onclick = function() {
    $p.url("../posting/PostList.xml");
};

scwin.btnLogin_onclick = function() {
    alert("Î°úÍ∑∏Ïù∏/ÌöåÏõêÍ∞ÄÏûÖ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
};

scwin.btnEnterprise_onclick = function() {
    alert("Í∏∞ÏóÖ ÏÑúÎπÑÏä§ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
};

scwin.searchInput_onkeypress = function(e) {
    if (e.keyCode === 13) {
        var searchText = searchInput.getValue();
        if (searchText && searchText.trim() !== "") {
            alert("'" + searchText + "'Î•º Í≤ÄÏÉâÌï©ÎãàÎã§.");
        }
    }
};

scwin.btnSearch_onclick = function() {
    var searchText = searchInput.getValue();
    if (searchText && searchText.trim() !== "") {
        alert("'" + searchText + "'Î•º Í≤ÄÏÉâÌï©ÎãàÎã§.");
    }
};

// ÏÇ¨Ïù¥ÎìúÎ∞î Î©îÎâ¥ ÌÅ¥Î¶≠
scwin.sidebarMenu_onclick = function(menuId) {
    switch(menuId) {
        case 'matching_home':
            alert("Îß§Ïπ≠ ÌôàÏúºÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
            break;
        case 'matching_inquiry':
            alert("Îß§Ïπ≠ ÌòÑÌô© ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
            break;
        case 'matching_profile':
            // UserDetail.xmlÎ°ú Ïù¥Îèô
            $p.url("UserDetail.xml");
            break;
        case 'matching_settings':
            alert("Îß§Ïπ≠ ÏÑ§Ï†ï ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
            break;
        case 'profile':
            $p.url("ProfileEditStep1.xml");
            break;
        case 'login_connection':
            alert("Î°úÍ∑∏Ïù∏ Ïó∞Í≤∞ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
            break;
        case 'application_history':
            // ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏù¥ÎØÄÎ°ú ÏïÑÎ¨¥Í≤ÉÎèÑ ÌïòÏßÄ ÏïäÏùå
            break;
        case 'interest_company':
            alert("Í¥ÄÏã¨Í∏∞ÏóÖ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
            break;
        case 'bookmark':
            alert("Î∂ÅÎßàÌÅ¨ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
            break;
        case 'notification_management':
            alert("ÏïåÎ¶º Í¥ÄÎ¶¨ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
            break;
    }
};

// ÌÜµÍ≥Ñ Í≥ÑÏÇ∞
scwin.calculateStats = function() {
    var totalCount = dlt_applications.getRowCount();
    var waitingCount = 0;
    var acceptedCount = 0;
    var rejectedCount = 0;
    
    for (var i = 0; i < totalCount; i++) {
        var status = dlt_applications.getCellData(i, "status");
        if (status === "ÏÑúÎ•òÌÜµÍ≥º" || status === "Î©¥Ï†ëÏßÑÌñâ") {
            waitingCount++;
        } else if (status === "ÏµúÏ¢ÖÌï©Í≤©") {
            acceptedCount++;
        } else if (status === "Î∂àÌï©Í≤©") {
            rejectedCount++;
        }
    }
    
    // ÌÜµÍ≥Ñ ÌëúÏãú
    setTimeout(function() {
        var totalElement = document.getElementById('totalApplications');
        var waitingElement = document.getElementById('waitingApplications');
        var acceptedElement = document.getElementById('acceptedApplications');
        var rejectedElement = document.getElementById('rejectedApplications');
        
        if (totalElement) totalElement.textContent = totalCount;
        if (waitingElement) waitingElement.textContent = waitingCount;
        if (acceptedElement) acceptedElement.textContent = acceptedCount;
        if (rejectedElement) rejectedElement.textContent = rejectedCount;
    }, 100);
};

// ÏÉÅÌÉúÎ≥Ñ ÌÅ¥ÎûòÏä§ Ï†ÅÏö©
scwin.applyStatusClasses = function() {
    var totalCount = dlt_applications.getRowCount();
    
    // Î™®Îì† Ïπ¥ÎìúÏóê ÏÉÅÌÉúÎ≥Ñ ÌÅ¥ÎûòÏä§ Ï†ÅÏö©
    setTimeout(function() {
        var cards = document.querySelectorAll('.application-card');
        var statusBadges = document.querySelectorAll('.status-badge');
        
        for (var i = 0; i < cards.length && i < totalCount; i++) {
            var status = dlt_applications.getCellData(i, "status");
            var card = cards[i];
            var badge = statusBadges[i];
            
            // Ïπ¥Îìú ÌÅ¥ÎûòÏä§ Ï†ÅÏö©
            if (status === "ÏÑúÎ•òÌÜµÍ≥º" || status === "Î©¥Ï†ëÏßÑÌñâ") {
                card.classList.add('pending');
                if (badge) badge.className = 'status-badge status-pending';
            } else if (status === "ÏµúÏ¢ÖÌï©Í≤©") {
                card.classList.add('accepted');
                if (badge) badge.className = 'status-badge status-accepted';
            } else if (status === "Î∂àÌï©Í≤©") {
                card.classList.add('rejected');
                if (badge) badge.className = 'status-badge status-rejected';
            }
        }
    }, 100);
};

// ÌïÑÌÑ∞ ÌÉ≠ ÏÑ§Ï†ï
scwin.setupFilterTabs = function() {
    setTimeout(function() {
        var tabs = document.querySelectorAll('.filter-tab');
        if (tabs.length > 0) {
            tabs[0].classList.add('active');
        }
    }, 100);
};

// ÌïÑÌÑ∞ÎßÅ
scwin.filterApplications = function(type) {
    // Î™®Îì† ÌÉ≠ÏóêÏÑú active ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
    var tabs = document.querySelectorAll('.filter-tab');
    tabs.forEach(function(tab) {
        tab.classList.remove('active');
    });
    
    // ÌÅ¥Î¶≠Îêú ÌÉ≠Ïóê active ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
    event.target.classList.add('active');
    
    // Ïπ¥Îìú ÌïÑÌÑ∞ÎßÅ
    var cards = document.querySelectorAll('.application-card');
    var totalCount = dlt_applications.getRowCount();
    
    for (var i = 0; i < cards.length && i < totalCount; i++) {
        var card = cards[i];
        var status = dlt_applications.getCellData(i, "status");
        var shouldShow = false;
        
        switch(type) {
            case 'all':
                shouldShow = true;
                break;
            case 'pending':
                shouldShow = (status === "ÏÑúÎ•òÌÜµÍ≥º" || status === "Î©¥Ï†ëÏßÑÌñâ");
                break;
            case 'accepted':
                shouldShow = (status === "ÏµúÏ¢ÖÌï©Í≤©");
                break;
            case 'rejected':
                shouldShow = (status === "Î∂àÌï©Í≤©");
                break;
        }
        
        card.style.display = shouldShow ? 'block' : 'none';
    }
};

// ÏßÄÏõêÌòÑÌô© ÏÉÅÏÑ∏Î≥¥Í∏∞
scwin.showApplicationDetail = function(rowIndex) {
    var company = dlt_applications.getCellData(rowIndex, "company");
    var position = dlt_applications.getCellData(rowIndex, "position");
    var status = dlt_applications.getCellData(rowIndex, "status");
    var result = dlt_applications.getCellData(rowIndex, "result");
    var applicationDate = dlt_applications.getCellData(rowIndex, "applicationDate");
    
    var detailMessage = "=== ÏßÄÏõê ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ===\n\n";
    detailMessage += "ÌöåÏÇ¨Î™Ö: " + company + "\n";
    detailMessage += "Ìè¨ÏßÄÏÖò: " + position + "\n";
    detailMessage += "ÏßÄÏõêÏùºÏûê: " + applicationDate + "\n";
    detailMessage += "ÏÉÅÌÉú: " + status + "\n";
    detailMessage += "Í≤∞Í≥º: " + result + "\n";
    
    alert(detailMessage);
};

// ÌõÑÍ∏∞ ÏûëÏÑ±
scwin.writeReview = function(rowIndex) {
    var company = dlt_applications.getCellData(rowIndex, "company");
    var position = dlt_applications.getCellData(rowIndex, "position");
    
    var reviewMessage = company + " " + position + " Ìè¨ÏßÄÏÖòÏóê ÎåÄÌïú ÌõÑÍ∏∞Î•º ÏûëÏÑ±ÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n\n";
    reviewMessage += "ÌõÑÍ∏∞ ÏûëÏÑ± ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.";
    
    if (confirm(reviewMessage)) {
        alert("ÌõÑÍ∏∞ ÏûëÏÑ± ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.");
        // Ïã§Ï†úÎ°úÎäî ÌõÑÍ∏∞ ÏûëÏÑ± ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌïòÎäî ÏΩîÎìú Íµ¨ÌòÑ
    }
};

// ÏÉÅÌÉúÎ≥Ñ Î±ÉÏßÄ ÌÅ¥ÎûòÏä§ Î∞òÌôò
scwin.getStatusBadgeClass = function(status) {
    if (status === "ÏÑúÎ•òÌÜµÍ≥º" || status === "Î©¥Ï†ëÏßÑÌñâ") {
        return "status-pending";
    } else if (status === "ÏµúÏ¢ÖÌï©Í≤©") {
        return "status-accepted";
    } else if (status === "Î∂àÌï©Í≤©") {
        return "status-rejected";
    }
    return "status-pending";
};

// Í≤ÄÏÉâ Í∏∞Îä•
scwin.searchApplications = function(searchText) {
    if (!searchText || searchText.trim() === "") {
        scwin.filterApplications('all');
        return;
    }
    
    var cards = document.querySelectorAll('.application-card');
    var totalCount = dlt_applications.getRowCount();
    
    for (var i = 0; i < cards.length && i < totalCount; i++) {
        var card = cards[i];
        var company = dlt_applications.getCellData(i, "company");
        var position = dlt_applications.getCellData(i, "position");
        
        var shouldShow = company.toLowerCase().includes(searchText.toLowerCase()) || 
                        position.toLowerCase().includes(searchText.toLowerCase());
        
        card.style.display = shouldShow ? 'block' : 'none';
    }
};

// Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®
scwin.refreshData = function() {
    // Ïã§Ï†ú ÌôòÍ≤ΩÏóêÏÑúÎäî ÏÑúÎ≤ÑÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î•º Îã§Ïãú Í∞ÄÏ†∏Ïò§Îäî Î°úÏßÅ
    scwin.calculateStats();
    scwin.applyStatusClasses();
    alert("Îç∞Ïù¥ÌÑ∞Î•º ÏÉàÎ°úÍ≥†Ïπ®ÌñàÏäµÎãàÎã§.");
};
]]></script>
    </head>
    
    <body ev:onpageload="scwin.onpageload">
        <xf:group class="main-wrap">

            <!-- Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà -->
            <xf:group class="main-container">
                <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->

                <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
                <main class="main-content">
                    <!-- ÏßÄÏõêÌòÑÌô© ÌéòÏù¥ÏßÄ Ìó§Îçî -->
                    <section class="page-header">
                        <div class="page-info">
                            <div class="page-icon">üìÑ</div>
                            <div class="page-details">
                                <h1>ÏßÄÏõê ÌòÑÌô©</h1>
                                <div class="page-description">ÏßÄÏõêÌïú Í∏∞ÏóÖÎì§Ïùò ÌòÑÌô©ÏùÑ ÌôïÏù∏ÌïòÍ≥† Í¥ÄÎ¶¨ÌïòÏÑ∏Ïöî.</div>
                            </div>
                        </div>
                    </section>

                    <!-- ÏßÄÏõêÌòÑÌô© ÌÜµÍ≥Ñ -->
                    <section class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-number" id="totalApplications">0</span>
                            <span class="stat-label">Ï¥ù ÏßÄÏõê</span>
                        </div>
                        <div class="stat-card waiting">
                            <span class="stat-number" id="waitingApplications">0</span>
                            <span class="stat-label">ÏßÑÌñâ Ï§ë</span>
                        </div>
                        <div class="stat-card accepted">
                            <span class="stat-number" id="acceptedApplications">0</span>
                            <span class="stat-label">Ìï©Í≤©</span>
                        </div>
                        <div class="stat-card rejected">
                            <span class="stat-number" id="rejectedApplications">0</span>
                            <span class="stat-label">Î∂àÌï©Í≤©</span>
                        </div>
                    </section>

                    <!-- ÌïÑÌÑ∞ ÌÉ≠ -->
                    <section class="filter-section">
                        <div class="filter-tabs">
                            <button class="filter-tab" onclick="scwin.filterApplications('all')">Ï†ÑÏ≤¥</button>
                            <button class="filter-tab" onclick="scwin.filterApplications('pending')">ÏßÑÌñâÏ§ë</button>
                            <button class="filter-tab" onclick="scwin.filterApplications('accepted')">Ìï©Í≤©</button>
                            <button class="filter-tab" onclick="scwin.filterApplications('rejected')">Î∂àÌï©Í≤©</button>
                        </div>
                    </section>

                    <!-- ÏßÄÏõêÌòÑÌô© Ïπ¥ÎìúÎì§ -->
                    <section class="applications-section">
                        <div class="applications-grid">
                            <w2:generator id="gen_applications" dataList="data:dlt_applications" style="">
                                <div class="application-card">
                                    <div class="card-header">
                                        <div class="company-info">
                                            <div class="company-logo">
                                                <w2:textbox ref="data:dlt_applications.logo"></w2:textbox>
                                            </div>
                                            <div class="company-details">
                                                <div class="company-name">
                                                    <w2:textbox ref="data:dlt_applications.company"></w2:textbox>
                                                </div>
                                                <div class="position-name">
                                                    <w2:textbox ref="data:dlt_applications.position"></w2:textbox>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="application-date">
                                            <w2:textbox ref="data:dlt_applications.applicationDate"></w2:textbox>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <w2:textbox class="status-badge" ref="data:dlt_applications.status"></w2:textbox>
                                        <div class="result-text">
                                            <w2:textbox ref="data:dlt_applications.result"></w2:textbox>
                                        </div>
                                    </div>
                                    <div class="card-actions">
                                        <button class="btn-detail" onclick="scwin.showApplicationDetail(%%_rowIndex%%)">ÏÉÅÏÑ∏Î≥¥Í∏∞</button>
                                        <w2:generator id="gen_review_btn" dataList="data:dlt_applications" condition="data:dlt_applications.status=='ÏµúÏ¢ÖÌï©Í≤©'">
                                            <button class="btn-review" onclick="scwin.writeReview(%%_rowIndex%%)">ÌõÑÍ∏∞ÏûëÏÑ±</button>
                                        </w2:generator>
                                    </div>
                                </div>
                            </w2:generator>
                        </div>
                    </section>
                </main>
            </xf:group>
        </xf:group>
    </body>
</html>