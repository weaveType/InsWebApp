{
  "문서정보": {
    "제목": "ProWorks 프레임워크 구성",
    "설명": "어플리케이션 개발에 효율적인 개발도구 및 공통 기능을 제공하는 유연한 구조의 프레임워크",
    "특징": [
      "다양한 프로젝트 적용 용이성",
      "개발/운영 효과적 관리 기능",
      "고성능/안정성 보장"
    ]
  },

  "아키텍처": {
    "실행아키텍처": {
      "구조": "3-Tier / 3-Layer 구조",
      "특징": [
        "유연한 아키텍처",
        "효율적 자원 사용",
        "고성능/안정성 보장"
      ],
      "계층구조": {
        "Presentation": "사용자 인터페이스 계층",
        "Business": "비즈니스 로직 계층", 
        "Data": "데이터 액세스 계층"
      }
    },
    
    "개발아키텍처": {
      "개발환경": "IDE를 통한 로컬 환경 개발",
      "주요기능": [
        "서버 템플릿 자동 생성",
        "프로젝트 활용 지원",
        "실시간 권한 및 설정 정보 반영"
      ]
    }
  },

  "개발도구지원": {
    "Eclipse_Plugin": {
      "제공형태": "Eclipse Add-On Plugin",
      "지원도구": [
        "Controller Editor",
        "Validator Editor", 
        "전문 기반 테스트",
        "테스트 케이스 저장 및 활용"
      ],
      "주요기능": [
        "Resource Pool",
        "Resource Search",
        "Drag & Drop 소스 생성"
      ],
      "효과": "생산성 향상"
    },
    
    "템플릿자동생성": {
      "제공위치": "Admin",
      "기능": [
        "프로젝트 맞춤 템플릿 생성",
        "DB 테이블별 CRUD 템플릿 생성"
      ],
      "목적": "표준화된 소스 개발 지향",
      "예시템플릿": [
        "기본 Controller 템플릿",
        "Service/ServiceImpl 템플릿",
        "DAO 템플릿",
        "VO 템플릿"
      ]
    }
  },

  "구성및역할": {
    "기본구조": "Spring MVC + AOP 기반 서비스 제어 관리 및 확장 구조",
    
    "HandlerMapping": {
      "설명": "사용자 요청 처리를 위한 Controller 찾기",
      "기본사용": "DefaultAnnotationHandlerMapping",
      "매핑방식": "Controller 메소드 Annotation 기반 URL 패턴",
      "예시": [
        "@RequestMapping(\"/user/list\")",
        "@RequestMapping(\"/order/create\", method = RequestMethod.POST)",
        "@RequestMapping(\"/product/{id}\", method = RequestMethod.GET)"
      ]
    },
    
    "ElInterceptor": {
      "설명": "Service Key 기반 다양한 처리를 설정으로 적용",
      "처리기능": [
        "권한처리",
        "세션 관리",
        "Validation",
        "거래제어",
        "선/후처리"
      ],
      "특징": "설정을 통한 손쉬운 적용"
    },
    
    "Controller": {
      "역할": [
        "사용자 요청 수신",
        "Service 수행",
        "결과를 Model 데이터로 변환",
        "View를 통한 사용자 응답"
      ],
      "개발방식": "Annotation 기반",
      "주요Annotation": [
        "@RequestMapping",
        "@RequestParam", 
        "@ModelAttribute"
      ],
      "예시코드": [
        "@Controller",
        "@RequestMapping(\"/api/users\")",
        "public class UserController {",
        "  @RequestMapping(value=\"/list\", method=RequestMethod.GET)",
        "  public String getUserList(@RequestParam String dept, Model model) {",
        "    // Service 호출 및 처리",
        "    return \"userList\";",
        "  }",
        "}"
      ]
    },
    
    "Service": {
      "역할": [
        "업무처리 요청 수신",
        "업무 흐름에 따른 처리",
        "Value Object와 DAO 활용"
      ],
      "호출방식": "Interface를 통한 호출",
      "객체생성": "DI(Dependency Injection) 방식",
      "트랜잭션": "메소드 단위",
      "예시": [
        "@Service(\"userService\")",
        "public class UserServiceImpl implements UserService {",
        "  @Autowired",
        "  private UserDAO userDAO;",
        "  ",
        "  @Transactional",
        "  public List<UserVo> getUserList(UserVo userVo) {",
        "    return userDAO.selectUserList(userVo);",
        "  }",
        "}"
      ]
    },
    
    "DAO": {
      "설명": "Database 또는 Legacy Resource 연동 Layer",
      "기능": "데이터 직접 조작",
      "SQL관리": "MyBatis SqlMap, XML 파일 분리 저장",
      "예시": [
        "@Repository(\"userDAO\")",
        "public class UserDAO {",
        "  @Autowired",
        "  private SqlSession sqlSession;",
        "  ",
        "  public List<UserVo> selectUserList(UserVo userVo) {",
        "    return sqlSession.selectList(\"user.selectUserList\", userVo);",
        "  }",
        "}"
      ]
    },
    
    "SqlMap": {
      "설명": "자바빈즈를 PreparedStatement 파라미터와 ResultSet 매핑",
      "특징": "JDBC 핸들링 로직 개발 불필요, MyBatis 자동 수행",
      "예시": [
        "<mapper namespace=\"user\">",
        "  <select id=\"selectUserList\" parameterType=\"UserVo\" resultType=\"UserVo\">",
        "    SELECT user_id, user_name, dept_name",
        "    FROM users",
        "    WHERE dept_name = #{deptName}",
        "  </select>",
        "</mapper>"
      ]
    },
    
    "ViewResolver": {
      "설명": "Controller 실행 결과를 보여줄 View 찾기",
      "역할": "View 매핑 및 해석"
    },
    
    "View": {
      "설명": "Controller 처리 결과값 보여줄 View 생성",
      "제공View": [
        "JSP/JSTL View",
        "ElMappingJacksonJsonView (JSON)",
        "ElMarshallingView (XML)"
      ],
      "예시": [
        "JSP: /WEB-INF/views/user/userList.jsp",
        "JSON: {\"users\": [{\"userId\": \"user01\", \"userName\": \"홍길동\"}]}",
        "XML: <users><user><userId>user01</userId><userName>홍길동</userName></user></users>"
      ]
    }
  },

  "아키텍처설계메커니즘": {
    "Transaction정책": {
      "기본방식": "Spring 선언적 방식",
      "정의방법": "XML 및 Annotation 기반",
      "기본단위": "ServiceImpl 메소드",
      "설정파일": "context-transaction.xml",
      
      "트랜잭션타입": {
        "REQUIRED": {
          "설명": "트랜잭션 필요, 진행 중인 트랜잭션 있으면 사용, 없으면 생성",
          "기본값": true
        },
        "MANDATORY": {
          "설명": "트랜잭션 필요, 진행 중인 트랜잭션 없으면 Exception 발생"
        },
        "REQUIRED_NEW": {
          "설명": "항상 새로운 트랜잭션 생성, 기존 트랜잭션 일시 중지"
        },
        "SUPPORTS": {
          "설명": "트랜잭션 불필요, 진행 중인 트랜잭션 있으면 사용"
        },
        "NOT_SUPPORTED": {
          "설명": "트랜잭션 불필요, 기존 트랜잭션 일시 중지"
        },
        "NEVER": {
          "설명": "트랜잭션 불필요, 진행 중인 트랜잭션 있으면 Exception 발생"
        },
        "NESTED": {
          "설명": "중첩 트랜잭션, 기존 트랜잭션에 중첩하여 실행"
        }
      },
      
      "예시코드": [
        "@Transactional(propagation = Propagation.REQUIRED)",
        "@Transactional(propagation = Propagation.REQUIRED_NEW)",
        "@Transactional(readOnly = true)"
      ]
    },
    
    "Logging정책": {
      "추적ID": {
        "설명": "최초 요청부터 최종 응답까지 동일한 추적ID 자동 부여",
        "효과": "로그 추적 용이, 개발/운영 시 문제해결 지원"
      },
      "실시간변경": {
        "설명": "프레임워크 관리 기능을 통한 로깅 기능 실시간 변경",
        "관리기능": [
          "로그 레벨 조정",
          "로그 출력 형식 변경",
          "특정 패키지 로그 제어"
        ]
      },
      "MyBatis로그": {
        "특징": "바인딩된 형태의 로그 출력",
        "장점": "개발 및 운영에 용이한 쿼리 확인"
      },
      "예시로그": [
        "[2025-06-30 10:30:15] [TRACE-ID: TXN-20250630-001] UserService.getUserList() 시작",
        "[2025-06-30 10:30:15] [TRACE-ID: TXN-20250630-001] SQL: SELECT * FROM users WHERE dept_name = '개발팀'",
        "[2025-06-30 10:30:16] [TRACE-ID: TXN-20250630-001] UserService.getUserList() 완료"
      ]
    },
    
    "Exception정책": {
      "제공Exception": {
        "ElException": "ProWorks 프레임워크 Exception 최상위 클래스",
        "UserException": "업무 로직 처리 과정 예외",
        "LoginException": "로그인 처리 과정 예외",
        "AdapterException": "어댑터 처리 과정 예외",
        "ValidatorException": "Validation 처리 과정 예외",
        "ArgumentResolverException": "입력 파라미터 변환 처리 과정 예외",
        "SessionException": "Session 처리 과정 예외"
      },
      
      "예외처리": [
        "응답 결과에 메시지 처리 포함",
        "에러 코드 및 메시지는 프레임워크 헤더 설정",
        "서비스 호출 방향의 역방향으로 예외 전파"
      ],
      
      "예시코드": [
        "// 특정 블록 예외 처리",
        "try {",
        "  // 업무 로직",
        "} catch (Exception e) {",
        "  throw new UserException(\"USER001\", \"사용자 정보 처리 중 오류 발생\", e);",
        "}",
        "",
        "// 강제 예외 발생",
        "if (user == null) {",
        "  throw new UserException(\"USER002\", \"사용자를 찾을 수 없습니다.\");",
        "}"
      ]
    },
    
    "Message": {
      "기본방식": "파일 기반 메시지 처리",
      "다국어지원": true,
      "Reloading": "ReloadableResourceBundleMessageSource 사용",
      
      "파일명규칙": [
        "message-common_ko_KR.properties (한국어)",
        "message-common_en_US.properties (영어)",
        "message-common_ja_JP.properties (일본어)"
      ],
      
      "LocaleResolver": {
        "기본값": "AcceptHeaderLocaleResolver",
        "동작방식": "request 헤더의 accept-language 부분 Locale 사용"
      },
      
      "예시파일내용": [
        "# message-common_ko_KR.properties",
        "user.login.success=로그인이 성공하였습니다.",
        "user.login.fail=로그인에 실패하였습니다.",
        "user.not.found=사용자를 찾을 수 없습니다.",
        "",
        "# message-common_en_US.properties", 
        "user.login.success=Login successful.",
        "user.login.fail=Login failed.",
        "user.not.found=User not found."
      ]
    }
  },

  "확장아키텍처": {
    "설명": "다양한 프로젝트 상황에 유연한 적용을 위한 Adapter 구조",
    "커스터마이징": "추상 객체 상속을 통한 확장 기능 제공",
    "확장포인트": [
      "인증 어댑터",
      "권한 어댑터", 
      "로깅 어댑터",
      "메시지 어댑터"
    ],
    "예시": [
      "public class CustomLoginAdapter extends AbstractLoginAdapter {",
      "  @Override",
      "  public boolean authenticate(String userId, String password) {",
      "    // 커스텀 인증 로직",
      "    return true;",
      "  }",
      "}"
    ]
  },

  "어플리케이션보안": {
    "기본인증및권한제어": {
      "사용자인증": "설정된 로그인 어댑터를 통한 인증",
      "권한제어": "El Interceptor를 통한 사용자 그룹별 권한 제어",
      "특징": [
        "그룹별 서비스 권한제어 기능",
        "별도 권한 제어 개발 불필요",
        "설정만으로 서비스 개별 권한제어",
        "실시간 Cache 반영"
      ],
      "예시설정": [
        "# 권한 설정 예시",
        "service.user.list=ROLE_USER,ROLE_ADMIN",
        "service.user.create=ROLE_ADMIN",
        "service.user.delete=ROLE_ADMIN"
      ]
    },
    
    "XSS보안": {
      "공격방식": "악성 스크립트 코드 입력을 통한 해킹",
      "대응방안": "HTMLTagFilter 적용",
      "치환내용": {
        ">": "&lt;",
        "<": "&gt;", 
        "&": "&amp;",
        "\"": "&quot;",
        "'": "&apos;"
      },
      "예시": [
        "// 입력값",
        "<script>alert('XSS');</script>",
        "",
        "// 치환 후",
        "&lt;script&gt;alert('XSS');&lt;/script&gt;"
      ]
    },
    
    "SQL인젝션방지": {
      "원인": "SQL 쿼리 컨텍스트 변경을 통한 명령 실행",
      "대응방안": "PreparedStatement 방식 적용",
      "MyBatis처리절차": [
        "기 정의된 SQL MAP을 이용한 정적 파싱",
        "#{문자열} 형태로 파라미터 정의",
        "PreparedStatement에 입력 파라미터 전달",
        "파싱된 SQL에 값으로만 데이터 전달",
        "Query 실행 및 ResultSet 리턴"
      ],
      "예시": [
        "// 안전한 방식",
        "<select id=\"selectUser\">",
        "  SELECT * FROM users WHERE user_id = #{userId}",
        "</select>",
        "",
        "// 위험한 방식 (사용 금지)",
        "<select id=\"selectUser\">",
        "  SELECT * FROM users WHERE user_id = '${userId}'",
        "</select>"
      ]
    },
    
    "입력값검증": {
      "처리위치": "Server Side",
      "기반기술": "Jakarta Commons Validator",
      "처리구간": "El Interceptor",
      "응답방식": {
        "JSP": "Http Request Attribute 헤더 결과정보",
        "XML": "결과 XML 전문 헤더정보",
        "JSON": "결과 JSON 전문 헤더정보"
      },
      
      "Validation종류": {
        "필수여부체크": "Required",
        "길이체크": "MinLength, MaxLength",
        "데이터타입체크": [
          "short", "int", "long", "float", "double",
          "이메일", "한글", "영문", "패스워드", "주민번호"
        ],
        "범위체크": "Range, intRange, floatRange",
        "날짜형식체크": "날짜 포맷 지정",
        "특정형식체크": "Mask"
      },
      
      "IDE지원": "ProWorks IDE Editor를 통한 손쉬운 Validation 작성",
      
      "예시설정": [
        "// Validation 설정 예시",
        "@Valid",
        "public class UserVo {",
        "  @Required(message=\"사용자 ID는 필수입니다\")",
        "  @MinLength(value=4, message=\"사용자 ID는 최소 4자 이상입니다\")",
        "  private String userId;",
        "  ",
        "  @Required",
        "  @Email(message=\"올바른 이메일 형식이 아닙니다\")",
        "  private String email;",
        "}"
      ]
    }
  },

  "주요특징": [
    "3-Tier/3-Layer 아키텍처로 유연성 확보",
    "Spring MVC + AOP 기반 확장 구조",
    "Eclipse Plugin을 통한 생산성 향상",
    "자동 템플릿 생성으로 표준화 지원",
    "포괄적인 보안 기능 제공",
    "실시간 설정 변경 지원",
    "다국어 메시지 처리",
    "추적ID를 통한 로그 관리"
  ]
}